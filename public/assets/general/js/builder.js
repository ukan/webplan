function trim(e) {
    return e.replace(/^\s+|\s+$/g, "")
}

function ltrim(e) {
    return e.replace(/^\s+/g, "")
}

function style_html(e, t, n, i) {
    function r() {
        return this.pos = 0, this.token = "", this.current_mode = "CONTENT", this.tags = {
            parent: "parent1",
            parentcount: 1,
            parent1: ""
        }, this.tag_type = "", this.token_text = this.last_token = this.last_text = this.token_type = "", this.newlines = 0, this.indent_content = s, this.Utils = {
            whitespace: "\n\r	 ".split(""),
            single_token: "br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),
            extra_liners: "head,body,/html".split(","),
            in_array: function(e, t) {
                for (var n = 0; n < t.length; n++)
                    if (e === t[n]) return !0;
                return !1
            }
        }, this.traverse_whitespace = function() {
            var e = "";
            if (e = this.input.charAt(this.pos), this.Utils.in_array(e, this.Utils.whitespace)) {
                for (this.newlines = 0; this.Utils.in_array(e, this.Utils.whitespace);) d && "\n" === e && this.newlines <= f && (this.newlines += 1), this.pos++, e = this.input.charAt(this.pos);
                return !0
            }
            return !1
        }, this.get_content = function() {
            for (var e = "", t = [], n = !1;
                "<" !== this.input.charAt(this.pos);) {
                if (this.pos >= this.input.length) return t.length ? t.join("") : ["", "TK_EOF"];
                if (this.traverse_whitespace()) t.length && (n = !0);
                else {
                    if (p) {
                        var i = this.input.substr(this.pos, 3);
                        if ("{{#" === i || "{{/" === i) break;
                        if ("{{" === this.input.substr(this.pos, 2) && "{{else}}" === this.get_tag(!0)) break
                    }
                    e = this.input.charAt(this.pos), this.pos++, n && (this.line_char_count >= this.wrap_line_length ? (this.print_newline(!1, t), this.print_indentation(t)) : (this.line_char_count++, t.push(" ")), n = !1), this.line_char_count++, t.push(e)
                }
            }
            return t.length ? t.join("") : ""
        }, this.get_contents_to = function(e) {
            if (this.pos === this.input.length) return ["", "TK_EOF"];
            var t = "",
                n = new RegExp("</" + e + "\\s*>", "igm");
            n.lastIndex = this.pos;
            var i = n.exec(this.input),
                r = i ? i.index : this.input.length;
            return this.pos < r && (t = this.input.substring(this.pos, r), this.pos = r), t
        }, this.record_tag = function(e) {
            this.tags[e + "count"] ? (this.tags[e + "count"] ++, this.tags[e + this.tags[e + "count"]] = this.indent_level) : (this.tags[e + "count"] = 1, this.tags[e + this.tags[e + "count"]] = this.indent_level), this.tags[e + this.tags[e + "count"] + "parent"] = this.tags.parent, this.tags.parent = e + this.tags[e + "count"]
        }, this.retrieve_tag = function(e) {
            if (this.tags[e + "count"]) {
                for (var t = this.tags.parent; t && e + this.tags[e + "count"] !== t;) t = this.tags[t + "parent"];
                t && (this.indent_level = this.tags[e + this.tags[e + "count"]], this.tags.parent = this.tags[t + "parent"]), delete this.tags[e + this.tags[e + "count"] + "parent"], delete this.tags[e + this.tags[e + "count"]], 1 === this.tags[e + "count"] ? delete this.tags[e + "count"] : this.tags[e + "count"] --
            }
        }, this.indent_to_tag = function(e) {
            if (this.tags[e + "count"]) {
                for (var t = this.tags.parent; t && e + this.tags[e + "count"] !== t;) t = this.tags[t + "parent"];
                t && (this.indent_level = this.tags[e + this.tags[e + "count"]])
            }
        }, this.get_tag = function(e) {
            var t, n, i, r = "",
                o = [],
                s = "",
                a = !1,
                l = this.pos,
                c = this.line_char_count;
            e = void 0 !== e ? e : !1;
            do {
                if (this.pos >= this.input.length) return e && (this.pos = l, this.line_char_count = c), o.length ? o.join("") : ["", "TK_EOF"];
                if (r = this.input.charAt(this.pos), this.pos++, this.Utils.in_array(r, this.Utils.whitespace)) a = !0;
                else {
                    if (("'" === r || '"' === r) && (r += this.get_unformatted(r), a = !0), "=" === r && (a = !1), o.length && "=" !== o[o.length - 1] && ">" !== r && a && (this.line_char_count >= this.wrap_line_length ? (this.print_newline(!1, o), this.print_indentation(o)) : (o.push(" "), this.line_char_count++), a = !1), p && "<" === i && r + this.input.charAt(this.pos) === "{{" && (r += this.get_unformatted("}}"), o.length && " " !== o[o.length - 1] && "<" !== o[o.length - 1] && (r = " " + r), a = !0), "<" !== r || i || (t = this.pos - 1, i = "<"), p && !i && o.length >= 2 && "{" === o[o.length - 1] && "{" == o[o.length - 2] && (t = "#" === r || "/" === r ? this.pos - 3 : this.pos - 2, i = "{"), this.line_char_count++, o.push(r), o[1] && "!" === o[1]) {
                        o = [this.get_comment(t)];
                        break
                    }
                    if (p && "{" === i && o.length > 2 && "}" === o[o.length - 2] && "}" === o[o.length - 1]) break
                }
            } while (">" !== r);
            var u, d, f = o.join("");
            u = f.indexOf(-1 !== f.indexOf(" ") ? " " : "{" === f[0] ? "}" : ">"), d = "<" !== f[0] && p ? "#" === f[2] ? 3 : 2 : 1;
            var m = f.substring(d, u).toLowerCase();
            return "/" === f.charAt(f.length - 2) || this.Utils.in_array(m, this.Utils.single_token) ? e || (this.tag_type = "SINGLE") : p && "{" === f[0] && "else" === m ? e || (this.indent_to_tag("if"), this.tag_type = "HANDLEBARS_ELSE", this.indent_content = !0, this.traverse_whitespace()) : "script" === m && (-1 === f.search("type") || f.search("type") > -1 && f.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/) > -1) ? e || (this.record_tag(m), this.tag_type = "SCRIPT") : "style" === m && (-1 === f.search("type") || f.search("type") > -1 && f.search("text/css") > -1) ? e || (this.record_tag(m), this.tag_type = "STYLE") : this.is_unformatted(m, h) ? (s = this.get_unformatted("</" + m + ">", f), o.push(s), t > 0 && this.Utils.in_array(this.input.charAt(t - 1), this.Utils.whitespace) && o.splice(0, 0, this.input.charAt(t - 1)), n = this.pos - 1, this.Utils.in_array(this.input.charAt(n + 1), this.Utils.whitespace) && o.push(this.input.charAt(n + 1)), this.tag_type = "SINGLE") : "!" === m.charAt(0) ? e || (this.tag_type = "SINGLE", this.traverse_whitespace()) : e || ("/" === m.charAt(0) ? (this.retrieve_tag(m.substring(1)), this.tag_type = "END", this.traverse_whitespace()) : (this.record_tag(m), "html" !== m.toLowerCase() && (this.indent_content = !0), this.tag_type = "START", this.traverse_whitespace()), this.Utils.in_array(m, this.Utils.extra_liners) && (this.print_newline(!1, this.output), this.output.length && "\n" !== this.output[this.output.length - 2] && this.print_newline(!0, this.output))), e && (this.pos = l, this.line_char_count = c), o.join("")
        }, this.get_comment = function(e) {
            var t = "",
                n = ">",
                i = !1;
            for (this.pos = e, input_char = this.input.charAt(this.pos), this.pos++; this.pos <= this.input.length && (t += input_char, t[t.length - 1] !== n[n.length - 1] || -1 === t.indexOf(n));) !i && t.length < 10 && (0 === t.indexOf("<![if") ? (n = "<![endif]>", i = !0) : 0 === t.indexOf("<![cdata[") ? (n = "]]>", i = !0) : 0 === t.indexOf("<![") ? (n = "]>", i = !0) : 0 === t.indexOf("<!--") && (n = "-->", i = !0)), input_char = this.input.charAt(this.pos), this.pos++;
            return t
        }, this.get_unformatted = function(e, t) {
            if (t && -1 !== t.toLowerCase().indexOf(e)) return "";
            var n = "",
                i = "",
                r = 0,
                o = !0;
            do {
                if (this.pos >= this.input.length) return i;
                if (n = this.input.charAt(this.pos), this.pos++, this.Utils.in_array(n, this.Utils.whitespace)) {
                    if (!o) {
                        this.line_char_count--;
                        continue
                    }
                    if ("\n" === n || "\r" === n) {
                        i += "\n", this.line_char_count = 0;
                        continue
                    }
                }
                i += n, this.line_char_count++, o = !0, p && "{" === n && i.length && "{" === i[i.length - 2] && (i += this.get_unformatted("}}"), r = i.length)
            } while (-1 === i.toLowerCase().indexOf(e, r));
            return i
        }, this.get_token = function() {
            var e;
            if ("TK_TAG_SCRIPT" === this.last_token || "TK_TAG_STYLE" === this.last_token) {
                var t = this.last_token.substr(7);
                return e = this.get_contents_to(t), "string" != typeof e ? e : [e, "TK_" + t]
            }
            if ("CONTENT" === this.current_mode) return e = this.get_content(), "string" != typeof e ? e : [e, "TK_CONTENT"];
            if ("TAG" === this.current_mode) {
                if (e = this.get_tag(), "string" != typeof e) return e;
                var n = "TK_TAG_" + this.tag_type;
                return [e, n]
            }
        }, this.get_full_indent = function(e) {
            return e = this.indent_level + e || 0, 1 > e ? "" : Array(e + 1).join(this.indent_string)
        }, this.is_unformatted = function(e, t) {
            if (!this.Utils.in_array(e, t)) return !1;
            if ("a" !== e.toLowerCase() || !this.Utils.in_array("a", t)) return !0;
            var n = this.get_tag(!0),
                i = (n || "").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);
            return !i || this.Utils.in_array(i, t) ? !0 : !1
        }, this.printer = function(e, t, n, i, r) {
            this.input = e || "", this.output = [], this.indent_character = t, this.indent_string = "", this.indent_size = n, this.brace_style = r, this.indent_level = 0, this.wrap_line_length = i, this.line_char_count = 0;
            for (var o = 0; o < this.indent_size; o++) this.indent_string += this.indent_character;
            this.print_newline = function(e, t) {
                this.line_char_count = 0, t && t.length && (e || "\n" !== t[t.length - 1]) && t.push("\n")
            }, this.print_indentation = function(e) {
                for (var t = 0; t < this.indent_level; t++) e.push(this.indent_string), this.line_char_count += this.indent_string.length
            }, this.print_token = function(e) {
                (e || "" !== e) && this.output.length && "\n" === this.output[this.output.length - 1] && (this.print_indentation(this.output), e = ltrim(e)), this.print_token_raw(e)
            }, this.print_token_raw = function(e) {
                e && "" !== e && (e.length > 1 && "\n" === e[e.length - 1] ? (this.output.push(e.slice(0, -1)), this.print_newline(!1, this.output)) : this.output.push(e));
                for (var t = 0; t < this.newlines; t++) this.print_newline(t > 0, this.output);
                this.newlines = 0
            }, this.indent = function() {
                this.indent_level++
            }, this.unindent = function() {
                this.indent_level > 0 && this.indent_level--
            }
        }, this
    }
    var o, s, a, l, c, u, h, d, f, p;
    for (t = t || {}, void 0 !== t.wrap_line_length && 0 !== parseInt(t.wrap_line_length, 10) || void 0 === t.max_char || 0 === parseInt(t.max_char, 10) || (t.wrap_line_length = t.max_char), s = void 0 === t.indent_inner_html ? !1 : t.indent_inner_html, a = void 0 === t.indent_size ? 4 : parseInt(t.indent_size, 10), l = void 0 === t.indent_char ? " " : t.indent_char, u = void 0 === t.brace_style ? "collapse" : t.brace_style, c = 0 === parseInt(t.wrap_line_length, 10) ? 32786 : parseInt(t.wrap_line_length || 250, 10), h = t.unformatted || ["a", "span", "bdo", "em", "strong", "dfn", "code", "samp", "kbd", "var", "cite", "abbr", "acronym", "q", "sub", "sup", "tt", "i", "b", "big", "small", "u", "s", "strike", "font", "ins", "del", "pre", "address", "dt", "h1", "h2", "h3", "h4", "h5", "h6"], d = void 0 === t.preserve_newlines ? !0 : t.preserve_newlines, f = d ? isNaN(parseInt(t.max_preserve_newlines, 10)) ? 32786 : parseInt(t.max_preserve_newlines, 10) : 0, p = void 0 === t.indent_handlebars ? !1 : t.indent_handlebars, o = new r, o.printer(e, l, a, c, u);;) {
        var m = o.get_token();
        if (o.token_text = m[0], o.token_type = m[1], "TK_EOF" === o.token_type) break;
        switch (o.token_type) {
            case "TK_TAG_START":
                o.print_newline(!1, o.output), o.print_token(o.token_text), o.indent_content && (o.indent(), o.indent_content = !1), o.current_mode = "CONTENT";
                break;
            case "TK_TAG_STYLE":
            case "TK_TAG_SCRIPT":
                o.print_newline(!1, o.output), o.print_token(o.token_text), o.current_mode = "CONTENT";
                break;
            case "TK_TAG_END":
                if ("TK_CONTENT" === o.last_token && "" === o.last_text) {
                    var g = o.token_text.match(/\w+/)[0],
                        v = null;
                    o.output.length && (v = o.output[o.output.length - 1].match(/(?:<|{{#)\s*(\w+)/)), (null === v || v[1] !== g) && o.print_newline(!1, o.output)
                }
                o.print_token(o.token_text), o.current_mode = "CONTENT";
                break;
            case "TK_TAG_SINGLE":
                var y = o.token_text.match(/^\s*<([a-z]+)/i);
                y && o.Utils.in_array(y[1], h) || o.print_newline(!1, o.output), o.print_token(o.token_text), o.current_mode = "CONTENT";
                break;
            case "TK_TAG_HANDLEBARS_ELSE":
                o.print_token(o.token_text), o.indent_content && (o.indent(), o.indent_content = !1), o.current_mode = "CONTENT";
                break;
            case "TK_CONTENT":
                o.print_token(o.token_text), o.current_mode = "TAG";
                break;
            case "TK_STYLE":
            case "TK_SCRIPT":
                if ("" !== o.token_text) {
                    o.print_newline(!1, o.output);
                    var b, w = o.token_text,
                        _ = 1;
                    "TK_SCRIPT" === o.token_type ? b = "function" == typeof n && n : "TK_STYLE" === o.token_type && (b = "function" == typeof i && i), "keep" === t.indent_scripts ? _ = 0 : "separate" === t.indent_scripts && (_ = -o.indent_level);
                    var x = o.get_full_indent(_);
                    if (b) w = b(w.replace(/^\s*/, x), t);
                    else {
                        var $ = w.match(/^\s*/)[0],
                            C = $.match(/[^\n\r]*$/)[0].split(o.indent_string).length - 1,
                            k = o.get_full_indent(_ - C);
                        w = w.replace(/^\s*/, x).replace(/\r\n|\r|\n/g, "\n" + k).replace(/\s+$/, "")
                    }
                    w && (o.print_token_raw(x + trim(w)), o.print_newline(!1, o.output))
                }
                o.current_mode = "TAG"
        }
        o.last_token = o.token_type, o.last_text = o.token_text
    }
    return o.output.join("")
}
if ("function" == typeof define && define.amd) define(["require", "./beautify", "./beautify-css"], function(e) {
    var t = e("./beautify"),
        n = e("./beautify-css");
    return {
        html_beautify: function(e, i) {
            return style_html(e, i, t.js_beautify, n.css_beautify)
        }
    }
});
else if ("undefined" != typeof exports) {
    var js_beautify = require("./beautify.js"),
        css_beautify = require("./beautify-css.js");
    exports.html_beautify = function(e, t) {
        return style_html(e, t, js_beautify.js_beautify, css_beautify.css_beautify)
    }
} else "undefined" != typeof window ? window.html_beautify = function(e, t) {
    return style_html(e, t, window.js_beautify, window.css_beautify)
} : "undefined" != typeof global && (global.html_beautify = function(e, t) {
    return style_html(e, t, global.js_beautify, global.css_beautify)
});
! function(e, t) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = e.document ? t(e, !0) : function(e) {
        if (!e.document) throw new Error("jQuery requires a window with a document");
        return t(e)
    } : t(e)
}("undefined" != typeof window ? window : this, function(e, t) {
    function n(e) {
        var t = e.length,
            n = J.type(e);
        return "function" === n || J.isWindow(e) ? !1 : 1 === e.nodeType && t ? !0 : "array" === n || 0 === t || "number" == typeof t && t > 0 && t - 1 in e
    }

    function i(e, t, n) {
        if (J.isFunction(t)) return J.grep(e, function(e, i) {
            return !!t.call(e, i, e) !== n
        });
        if (t.nodeType) return J.grep(e, function(e) {
            return e === t !== n
        });
        if ("string" == typeof t) {
            if (at.test(t)) return J.filter(t, e, n);
            t = J.filter(t, e)
        }
        return J.grep(e, function(e) {
            return V.call(t, e) >= 0 !== n
        })
    }

    function r(e, t) {
        for (;
            (e = e[t]) && 1 !== e.nodeType;);
        return e
    }

    function o(e) {
        var t = pt[e] = {};
        return J.each(e.match(ft) || [], function(e, n) {
            t[n] = !0
        }), t
    }

    function s() {
        Z.removeEventListener("DOMContentLoaded", s, !1), e.removeEventListener("load", s, !1), J.ready()
    }

    function a() {
        Object.defineProperty(this.cache = {}, 0, {
            get: function() {
                return {}
            }
        }), this.expando = J.expando + Math.random()
    }

    function l(e, t, n) {
        var i;
        if (void 0 === n && 1 === e.nodeType)
            if (i = "data-" + t.replace(wt, "-$1").toLowerCase(), n = e.getAttribute(i), "string" == typeof n) {
                try {
                    n = "true" === n ? !0 : "false" === n ? !1 : "null" === n ? null : +n + "" === n ? +n : bt.test(n) ? J.parseJSON(n) : n
                } catch (r) {}
                yt.set(e, t, n)
            } else n = void 0;
        return n
    }

    function c() {
        return !0
    }

    function u() {
        return !1
    }

    function h() {
        try {
            return Z.activeElement
        } catch (e) {}
    }

    function d(e, t) {
        return J.nodeName(e, "table") && J.nodeName(11 !== t.nodeType ? t : t.firstChild, "tr") ? e.getElementsByTagName("tbody")[0] || e.appendChild(e.ownerDocument.createElement("tbody")) : e
    }

    function f(e) {
        return e.type = (null !== e.getAttribute("type")) + "/" + e.type, e
    }

    function p(e) {
        var t = Rt.exec(e.type);
        return t ? e.type = t[1] : e.removeAttribute("type"), e
    }

    function m(e, t) {
        for (var n = 0, i = e.length; i > n; n++) vt.set(e[n], "globalEval", !t || vt.get(t[n], "globalEval"))
    }

    function g(e, t) {
        var n, i, r, o, s, a, l, c;
        if (1 === t.nodeType) {
            if (vt.hasData(e) && (o = vt.access(e), s = vt.set(t, o), c = o.events)) {
                delete s.handle, s.events = {};
                for (r in c)
                    for (n = 0, i = c[r].length; i > n; n++) J.event.add(t, r, c[r][n])
            }
            yt.hasData(e) && (a = yt.access(e), l = J.extend({}, a), yt.set(t, l))
        }
    }

    function v(e, t) {
        var n = e.getElementsByTagName ? e.getElementsByTagName(t || "*") : e.querySelectorAll ? e.querySelectorAll(t || "*") : [];
        return void 0 === t || t && J.nodeName(e, t) ? J.merge([e], n) : n
    }

    function y(e, t) {
        var n = t.nodeName.toLowerCase();
        "input" === n && Ct.test(e.type) ? t.checked = e.checked : ("input" === n || "textarea" === n) && (t.defaultValue = e.defaultValue)
    }

    function b(t, n) {
        var i, r = J(n.createElement(t)).appendTo(n.body),
            o = e.getDefaultComputedStyle && (i = e.getDefaultComputedStyle(r[0])) ? i.display : J.css(r[0], "display");
        return r.detach(), o
    }

    function w(e) {
        var t = Z,
            n = jt[e];
        return n || (n = b(e, t), "none" !== n && n || (Ht = (Ht || J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement), t = Ht[0].contentDocument, t.write(), t.close(), n = b(e, t), Ht.detach()), jt[e] = n), n
    }

    function _(e, t, n) {
        var i, r, o, s, a = e.style;
        return n = n || zt(e), n && (s = n.getPropertyValue(t) || n[t]), n && ("" !== s || J.contains(e.ownerDocument, e) || (s = J.style(e, t)), Wt.test(s) && Lt.test(t) && (i = a.width, r = a.minWidth, o = a.maxWidth, a.minWidth = a.maxWidth = a.width = s, s = n.width, a.width = i, a.minWidth = r, a.maxWidth = o)), void 0 !== s ? s + "" : s
    }

    function x(e, t) {
        return {
            get: function() {
                return e() ? void delete this.get : (this.get = t).apply(this, arguments)
            }
        }
    }

    function $(e, t) {
        if (t in e) return t;
        for (var n = t[0].toUpperCase() + t.slice(1), i = t, r = Xt.length; r--;)
            if (t = Xt[r] + n, t in e) return t;
        return i
    }

    function C(e, t, n) {
        var i = Ut.exec(t);
        return i ? Math.max(0, i[1] - (n || 0)) + (i[2] || "px") : t
    }

    function k(e, t, n, i, r) {
        for (var o = n === (i ? "border" : "content") ? 4 : "width" === t ? 1 : 0, s = 0; 4 > o; o += 2) "margin" === n && (s += J.css(e, n + xt[o], !0, r)), i ? ("content" === n && (s -= J.css(e, "padding" + xt[o], !0, r)), "margin" !== n && (s -= J.css(e, "border" + xt[o] + "Width", !0, r))) : (s += J.css(e, "padding" + xt[o], !0, r), "padding" !== n && (s += J.css(e, "border" + xt[o] + "Width", !0, r)));
        return s
    }

    function S(e, t, n) {
        var i = !0,
            r = "width" === t ? e.offsetWidth : e.offsetHeight,
            o = zt(e),
            s = "border-box" === J.css(e, "boxSizing", !1, o);
        if (0 >= r || null == r) {
            if (r = _(e, t, o), (0 > r || null == r) && (r = e.style[t]), Wt.test(r)) return r;
            i = s && (K.boxSizingReliable() || r === e.style[t]), r = parseFloat(r) || 0
        }
        return r + k(e, t, n || (s ? "border" : "content"), i, o) + "px"
    }

    function T(e, t) {
        for (var n, i, r, o = [], s = 0, a = e.length; a > s; s++) i = e[s], i.style && (o[s] = vt.get(i, "olddisplay"), n = i.style.display, t ? (o[s] || "none" !== n || (i.style.display = ""), "" === i.style.display && $t(i) && (o[s] = vt.access(i, "olddisplay", w(i.nodeName)))) : (r = $t(i), "none" === n && r || vt.set(i, "olddisplay", r ? n : J.css(i, "display"))));
        for (s = 0; a > s; s++) i = e[s], i.style && (t && "none" !== i.style.display && "" !== i.style.display || (i.style.display = t ? o[s] || "" : "none"));
        return e
    }

    function E(e, t, n, i, r) {
        return new E.prototype.init(e, t, n, i, r)
    }

    function D() {
        return setTimeout(function() {
            Kt = void 0
        }), Kt = J.now()
    }

    function A(e, t) {
        var n, i = 0,
            r = {
                height: e
            };
        for (t = t ? 1 : 0; 4 > i; i += 2 - t) n = xt[i], r["margin" + n] = r["padding" + n] = e;
        return t && (r.opacity = r.width = e), r
    }

    function P(e, t, n) {
        for (var i, r = (nn[t] || []).concat(nn["*"]), o = 0, s = r.length; s > o; o++)
            if (i = r[o].call(n, t, e)) return i
    }

    function N(e, t, n) {
        var i, r, o, s, a, l, c, u, h = this,
            d = {},
            f = e.style,
            p = e.nodeType && $t(e),
            m = vt.get(e, "fxshow");
        n.queue || (a = J._queueHooks(e, "fx"), null == a.unqueued && (a.unqueued = 0, l = a.empty.fire, a.empty.fire = function() {
            a.unqueued || l()
        }), a.unqueued++, h.always(function() {
            h.always(function() {
                a.unqueued--, J.queue(e, "fx").length || a.empty.fire()
            })
        })), 1 === e.nodeType && ("height" in t || "width" in t) && (n.overflow = [f.overflow, f.overflowX, f.overflowY], c = J.css(e, "display"), u = "none" === c ? vt.get(e, "olddisplay") || w(e.nodeName) : c, "inline" === u && "none" === J.css(e, "float") && (f.display = "inline-block")), n.overflow && (f.overflow = "hidden", h.always(function() {
            f.overflow = n.overflow[0], f.overflowX = n.overflow[1], f.overflowY = n.overflow[2]
        }));
        for (i in t)
            if (r = t[i], Qt.exec(r)) {
                if (delete t[i], o = o || "toggle" === r, r === (p ? "hide" : "show")) {
                    if ("show" !== r || !m || void 0 === m[i]) continue;
                    p = !0
                }
                d[i] = m && m[i] || J.style(e, i)
            } else c = void 0;
        if (J.isEmptyObject(d)) "inline" === ("none" === c ? w(e.nodeName) : c) && (f.display = c);
        else {
            m ? "hidden" in m && (p = m.hidden) : m = vt.access(e, "fxshow", {}), o && (m.hidden = !p), p ? J(e).show() : h.done(function() {
                J(e).hide()
            }), h.done(function() {
                var t;
                vt.remove(e, "fxshow");
                for (t in d) J.style(e, t, d[t])
            });
            for (i in d) s = P(p ? m[i] : 0, i, h), i in m || (m[i] = s.start, p && (s.end = s.start, s.start = "width" === i || "height" === i ? 1 : 0))
        }
    }

    function O(e, t) {
        var n, i, r, o, s;
        for (n in e)
            if (i = J.camelCase(n), r = t[i], o = e[n], J.isArray(o) && (r = o[1], o = e[n] = o[0]), n !== i && (e[i] = o, delete e[n]), s = J.cssHooks[i], s && "expand" in s) {
                o = s.expand(o), delete e[i];
                for (n in o) n in e || (e[n] = o[n], t[n] = r)
            } else t[i] = r
    }

    function I(e, t, n) {
        var i, r, o = 0,
            s = tn.length,
            a = J.Deferred().always(function() {
                delete l.elem
            }),
            l = function() {
                if (r) return !1;
                for (var t = Kt || D(), n = Math.max(0, c.startTime + c.duration - t), i = n / c.duration || 0, o = 1 - i, s = 0, l = c.tweens.length; l > s; s++) c.tweens[s].run(o);
                return a.notifyWith(e, [c, o, n]), 1 > o && l ? n : (a.resolveWith(e, [c]), !1)
            },
            c = a.promise({
                elem: e,
                props: J.extend({}, t),
                opts: J.extend(!0, {
                    specialEasing: {}
                }, n),
                originalProperties: t,
                originalOptions: n,
                startTime: Kt || D(),
                duration: n.duration,
                tweens: [],
                createTween: function(t, n) {
                    var i = J.Tween(e, c.opts, t, n, c.opts.specialEasing[t] || c.opts.easing);
                    return c.tweens.push(i), i
                },
                stop: function(t) {
                    var n = 0,
                        i = t ? c.tweens.length : 0;
                    if (r) return this;
                    for (r = !0; i > n; n++) c.tweens[n].run(1);
                    return t ? a.resolveWith(e, [c, t]) : a.rejectWith(e, [c, t]), this
                }
            }),
            u = c.props;
        for (O(u, c.opts.specialEasing); s > o; o++)
            if (i = tn[o].call(c, e, u, c.opts)) return i;
        return J.map(u, P, c), J.isFunction(c.opts.start) && c.opts.start.call(e, c), J.fx.timer(J.extend(l, {
            elem: e,
            anim: c,
            queue: c.opts.queue
        })), c.progress(c.opts.progress).done(c.opts.done, c.opts.complete).fail(c.opts.fail).always(c.opts.always)
    }

    function M(e) {
        return function(t, n) {
            "string" != typeof t && (n = t, t = "*");
            var i, r = 0,
                o = t.toLowerCase().match(ft) || [];
            if (J.isFunction(n))
                for (; i = o[r++];) "+" === i[0] ? (i = i.slice(1) || "*", (e[i] = e[i] || []).unshift(n)) : (e[i] = e[i] || []).push(n)
        }
    }

    function R(e, t, n, i) {
        function r(a) {
            var l;
            return o[a] = !0, J.each(e[a] || [], function(e, a) {
                var c = a(t, n, i);
                return "string" != typeof c || s || o[c] ? s ? !(l = c) : void 0 : (t.dataTypes.unshift(c), r(c), !1)
            }), l
        }
        var o = {},
            s = e === xn;
        return r(t.dataTypes[0]) || !o["*"] && r("*")
    }

    function B(e, t) {
        var n, i, r = J.ajaxSettings.flatOptions || {};
        for (n in t) void 0 !== t[n] && ((r[n] ? e : i || (i = {}))[n] = t[n]);
        return i && J.extend(!0, e, i), e
    }

    function F(e, t, n) {
        for (var i, r, o, s, a = e.contents, l = e.dataTypes;
            "*" === l[0];) l.shift(), void 0 === i && (i = e.mimeType || t.getResponseHeader("Content-Type"));
        if (i)
            for (r in a)
                if (a[r] && a[r].test(i)) {
                    l.unshift(r);
                    break
                }
        if (l[0] in n) o = l[0];
        else {
            for (r in n) {
                if (!l[0] || e.converters[r + " " + l[0]]) {
                    o = r;
                    break
                }
                s || (s = r)
            }
            o = o || s
        }
        return o ? (o !== l[0] && l.unshift(o), n[o]) : void 0
    }

    function H(e, t, n, i) {
        var r, o, s, a, l, c = {},
            u = e.dataTypes.slice();
        if (u[1])
            for (s in e.converters) c[s.toLowerCase()] = e.converters[s];
        for (o = u.shift(); o;)
            if (e.responseFields[o] && (n[e.responseFields[o]] = t), !l && i && e.dataFilter && (t = e.dataFilter(t, e.dataType)), l = o, o = u.shift())
                if ("*" === o) o = l;
                else if ("*" !== l && l !== o) {
            if (s = c[l + " " + o] || c["* " + o], !s)
                for (r in c)
                    if (a = r.split(" "), a[1] === o && (s = c[l + " " + a[0]] || c["* " + a[0]])) {
                        s === !0 ? s = c[r] : c[r] !== !0 && (o = a[0], u.unshift(a[1]));
                        break
                    }
            if (s !== !0)
                if (s && e["throws"]) t = s(t);
                else try {
                    t = s(t)
                } catch (h) {
                    return {
                        state: "parsererror",
                        error: s ? h : "No conversion from " + l + " to " + o
                    }
                }
        }
        return {
            state: "success",
            data: t
        }
    }

    function j(e, t, n, i) {
        var r;
        if (J.isArray(t)) J.each(t, function(t, r) {
            n || Sn.test(e) ? i(e, r) : j(e + "[" + ("object" == typeof r ? t : "") + "]", r, n, i)
        });
        else if (n || "object" !== J.type(t)) i(e, t);
        else
            for (r in t) j(e + "[" + r + "]", t[r], n, i)
    }

    function L(e) {
        return J.isWindow(e) ? e : 9 === e.nodeType && e.defaultView
    }
    var W = [],
        z = W.slice,
        q = W.concat,
        U = W.push,
        V = W.indexOf,
        Y = {},
        G = Y.toString,
        X = Y.hasOwnProperty,
        K = {},
        Z = e.document,
        Q = "2.1.1",
        J = function(e, t) {
            return new J.fn.init(e, t)
        },
        et = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        tt = /^-ms-/,
        nt = /-([\da-z])/gi,
        it = function(e, t) {
            return t.toUpperCase()
        };
    J.fn = J.prototype = {
        jquery: Q,
        constructor: J,
        selector: "",
        length: 0,
        toArray: function() {
            return z.call(this)
        },
        get: function(e) {
            return null != e ? 0 > e ? this[e + this.length] : this[e] : z.call(this)
        },
        pushStack: function(e) {
            var t = J.merge(this.constructor(), e);
            return t.prevObject = this, t.context = this.context, t
        },
        each: function(e, t) {
            return J.each(this, e, t)
        },
        map: function(e) {
            return this.pushStack(J.map(this, function(t, n) {
                return e.call(t, n, t)
            }))
        },
        slice: function() {
            return this.pushStack(z.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(e) {
            var t = this.length,
                n = +e + (0 > e ? t : 0);
            return this.pushStack(n >= 0 && t > n ? [this[n]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: U,
        sort: W.sort,
        splice: W.splice
    }, J.extend = J.fn.extend = function() {
        var e, t, n, i, r, o, s = arguments[0] || {},
            a = 1,
            l = arguments.length,
            c = !1;
        for ("boolean" == typeof s && (c = s, s = arguments[a] || {}, a++), "object" == typeof s || J.isFunction(s) || (s = {}), a === l && (s = this, a--); l > a; a++)
            if (null != (e = arguments[a]))
                for (t in e) n = s[t], i = e[t], s !== i && (c && i && (J.isPlainObject(i) || (r = J.isArray(i))) ? (r ? (r = !1, o = n && J.isArray(n) ? n : []) : o = n && J.isPlainObject(n) ? n : {}, s[t] = J.extend(c, o, i)) : void 0 !== i && (s[t] = i));
        return s
    }, J.extend({
        expando: "jQuery" + (Q + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(e) {
            throw new Error(e)
        },
        noop: function() {},
        isFunction: function(e) {
            return "function" === J.type(e)
        },
        isArray: Array.isArray,
        isWindow: function(e) {
            return null != e && e === e.window
        },
        isNumeric: function(e) {
            return !J.isArray(e) && e - parseFloat(e) >= 0
        },
        isPlainObject: function(e) {
            return "object" !== J.type(e) || e.nodeType || J.isWindow(e) ? !1 : e.constructor && !X.call(e.constructor.prototype, "isPrototypeOf") ? !1 : !0
        },
        isEmptyObject: function(e) {
            var t;
            for (t in e) return !1;
            return !0
        },
        type: function(e) {
            return null == e ? e + "" : "object" == typeof e || "function" == typeof e ? Y[G.call(e)] || "object" : typeof e
        },
        globalEval: function(e) {
            var t, n = eval;
            e = J.trim(e), e && (1 === e.indexOf("use strict") ? (t = Z.createElement("script"), t.text = e, Z.head.appendChild(t).parentNode.removeChild(t)) : n(e))
        },
        camelCase: function(e) {
            return e.replace(tt, "ms-").replace(nt, it)
        },
        nodeName: function(e, t) {
            return e.nodeName && e.nodeName.toLowerCase() === t.toLowerCase()
        },
        each: function(e, t, i) {
            var r, o = 0,
                s = e.length,
                a = n(e);
            if (i) {
                if (a)
                    for (; s > o && (r = t.apply(e[o], i), r !== !1); o++);
                else
                    for (o in e)
                        if (r = t.apply(e[o], i), r === !1) break
            } else if (a)
                for (; s > o && (r = t.call(e[o], o, e[o]), r !== !1); o++);
            else
                for (o in e)
                    if (r = t.call(e[o], o, e[o]), r === !1) break; return e
        },
        trim: function(e) {
            return null == e ? "" : (e + "").replace(et, "")
        },
        makeArray: function(e, t) {
            var i = t || [];
            return null != e && (n(Object(e)) ? J.merge(i, "string" == typeof e ? [e] : e) : U.call(i, e)), i
        },
        inArray: function(e, t, n) {
            return null == t ? -1 : V.call(t, e, n)
        },
        merge: function(e, t) {
            for (var n = +t.length, i = 0, r = e.length; n > i; i++) e[r++] = t[i];
            return e.length = r, e
        },
        grep: function(e, t, n) {
            for (var i, r = [], o = 0, s = e.length, a = !n; s > o; o++) i = !t(e[o], o), i !== a && r.push(e[o]);
            return r
        },
        map: function(e, t, i) {
            var r, o = 0,
                s = e.length,
                a = n(e),
                l = [];
            if (a)
                for (; s > o; o++) r = t(e[o], o, i), null != r && l.push(r);
            else
                for (o in e) r = t(e[o], o, i), null != r && l.push(r);
            return q.apply([], l)
        },
        guid: 1,
        proxy: function(e, t) {
            var n, i, r;
            return "string" == typeof t && (n = e[t], t = e, e = n), J.isFunction(e) ? (i = z.call(arguments, 2), r = function() {
                return e.apply(t || this, i.concat(z.call(arguments)))
            }, r.guid = e.guid = e.guid || J.guid++, r) : void 0
        },
        now: Date.now,
        support: K
    }), J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(e, t) {
        Y["[object " + t + "]"] = t.toLowerCase()
    });
    var rt = function(e) {
        function t(e, t, n, i) {
            var r, o, s, a, l, c, h, f, p, m;
            if ((t ? t.ownerDocument || t : j) !== N && P(t), t = t || N, n = n || [], !e || "string" != typeof e) return n;
            if (1 !== (a = t.nodeType) && 9 !== a) return [];
            if (I && !i) {
                if (r = yt.exec(e))
                    if (s = r[1]) {
                        if (9 === a) {
                            if (o = t.getElementById(s), !o || !o.parentNode) return n;
                            if (o.id === s) return n.push(o), n
                        } else if (t.ownerDocument && (o = t.ownerDocument.getElementById(s)) && F(t, o) && o.id === s) return n.push(o), n
                    } else {
                        if (r[2]) return J.apply(n, t.getElementsByTagName(e)), n;
                        if ((s = r[3]) && _.getElementsByClassName && t.getElementsByClassName) return J.apply(n, t.getElementsByClassName(s)), n
                    }
                if (_.qsa && (!M || !M.test(e))) {
                    if (f = h = H, p = t, m = 9 === a && e, 1 === a && "object" !== t.nodeName.toLowerCase()) {
                        for (c = k(e), (h = t.getAttribute("id")) ? f = h.replace(wt, "\\$&") : t.setAttribute("id", f), f = "[id='" + f + "'] ", l = c.length; l--;) c[l] = f + d(c[l]);
                        p = bt.test(e) && u(t.parentNode) || t, m = c.join(",")
                    }
                    if (m) try {
                        return J.apply(n, p.querySelectorAll(m)), n
                    } catch (g) {} finally {
                        h || t.removeAttribute("id")
                    }
                }
            }
            return T(e.replace(lt, "$1"), t, n, i)
        }

        function n() {
            function e(n, i) {
                return t.push(n + " ") > x.cacheLength && delete e[t.shift()], e[n + " "] = i
            }
            var t = [];
            return e
        }

        function i(e) {
            return e[H] = !0, e
        }

        function r(e) {
            var t = N.createElement("div");
            try {
                return !!e(t)
            } catch (n) {
                return !1
            } finally {
                t.parentNode && t.parentNode.removeChild(t), t = null
            }
        }

        function o(e, t) {
            for (var n = e.split("|"), i = e.length; i--;) x.attrHandle[n[i]] = t
        }

        function s(e, t) {
            var n = t && e,
                i = n && 1 === e.nodeType && 1 === t.nodeType && (~t.sourceIndex || G) - (~e.sourceIndex || G);
            if (i) return i;
            if (n)
                for (; n = n.nextSibling;)
                    if (n === t) return -1;
            return e ? 1 : -1
        }

        function a(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return "input" === n && t.type === e
            }
        }

        function l(e) {
            return function(t) {
                var n = t.nodeName.toLowerCase();
                return ("input" === n || "button" === n) && t.type === e
            }
        }

        function c(e) {
            return i(function(t) {
                return t = +t, i(function(n, i) {
                    for (var r, o = e([], n.length, t), s = o.length; s--;) n[r = o[s]] && (n[r] = !(i[r] = n[r]))
                })
            })
        }

        function u(e) {
            return e && typeof e.getElementsByTagName !== Y && e
        }

        function h() {}

        function d(e) {
            for (var t = 0, n = e.length, i = ""; n > t; t++) i += e[t].value;
            return i
        }

        function f(e, t, n) {
            var i = t.dir,
                r = n && "parentNode" === i,
                o = W++;
            return t.first ? function(t, n, o) {
                for (; t = t[i];)
                    if (1 === t.nodeType || r) return e(t, n, o)
            } : function(t, n, s) {
                var a, l, c = [L, o];
                if (s) {
                    for (; t = t[i];)
                        if ((1 === t.nodeType || r) && e(t, n, s)) return !0
                } else
                    for (; t = t[i];)
                        if (1 === t.nodeType || r) {
                            if (l = t[H] || (t[H] = {}), (a = l[i]) && a[0] === L && a[1] === o) return c[2] = a[2];
                            if (l[i] = c, c[2] = e(t, n, s)) return !0
                        }
            }
        }

        function p(e) {
            return e.length > 1 ? function(t, n, i) {
                for (var r = e.length; r--;)
                    if (!e[r](t, n, i)) return !1;
                return !0
            } : e[0]
        }

        function m(e, n, i) {
            for (var r = 0, o = n.length; o > r; r++) t(e, n[r], i);
            return i
        }

        function g(e, t, n, i, r) {
            for (var o, s = [], a = 0, l = e.length, c = null != t; l > a; a++)(o = e[a]) && (!n || n(o, i, r)) && (s.push(o), c && t.push(a));
            return s
        }

        function v(e, t, n, r, o, s) {
            return r && !r[H] && (r = v(r)), o && !o[H] && (o = v(o, s)), i(function(i, s, a, l) {
                var c, u, h, d = [],
                    f = [],
                    p = s.length,
                    v = i || m(t || "*", a.nodeType ? [a] : a, []),
                    y = !e || !i && t ? v : g(v, d, e, a, l),
                    b = n ? o || (i ? e : p || r) ? [] : s : y;
                if (n && n(y, b, a, l), r)
                    for (c = g(b, f), r(c, [], a, l), u = c.length; u--;)(h = c[u]) && (b[f[u]] = !(y[f[u]] = h));
                if (i) {
                    if (o || e) {
                        if (o) {
                            for (c = [], u = b.length; u--;)(h = b[u]) && c.push(y[u] = h);
                            o(null, b = [], c, l)
                        }
                        for (u = b.length; u--;)(h = b[u]) && (c = o ? tt.call(i, h) : d[u]) > -1 && (i[c] = !(s[c] = h))
                    }
                } else b = g(b === s ? b.splice(p, b.length) : b), o ? o(null, s, b, l) : J.apply(s, b)
            })
        }

        function y(e) {
            for (var t, n, i, r = e.length, o = x.relative[e[0].type], s = o || x.relative[" "], a = o ? 1 : 0, l = f(function(e) {
                    return e === t
                }, s, !0), c = f(function(e) {
                    return tt.call(t, e) > -1
                }, s, !0), u = [function(e, n, i) {
                    return !o && (i || n !== E) || ((t = n).nodeType ? l(e, n, i) : c(e, n, i))
                }]; r > a; a++)
                if (n = x.relative[e[a].type]) u = [f(p(u), n)];
                else {
                    if (n = x.filter[e[a].type].apply(null, e[a].matches), n[H]) {
                        for (i = ++a; r > i && !x.relative[e[i].type]; i++);
                        return v(a > 1 && p(u), a > 1 && d(e.slice(0, a - 1).concat({
                            value: " " === e[a - 2].type ? "*" : ""
                        })).replace(lt, "$1"), n, i > a && y(e.slice(a, i)), r > i && y(e = e.slice(i)), r > i && d(e))
                    }
                    u.push(n)
                }
            return p(u)
        }

        function b(e, n) {
            var r = n.length > 0,
                o = e.length > 0,
                s = function(i, s, a, l, c) {
                    var u, h, d, f = 0,
                        p = "0",
                        m = i && [],
                        v = [],
                        y = E,
                        b = i || o && x.find.TAG("*", c),
                        w = L += null == y ? 1 : Math.random() || .1,
                        _ = b.length;
                    for (c && (E = s !== N && s); p !== _ && null != (u = b[p]); p++) {
                        if (o && u) {
                            for (h = 0; d = e[h++];)
                                if (d(u, s, a)) {
                                    l.push(u);
                                    break
                                }
                            c && (L = w)
                        }
                        r && ((u = !d && u) && f--, i && m.push(u))
                    }
                    if (f += p, r && p !== f) {
                        for (h = 0; d = n[h++];) d(m, v, s, a);
                        if (i) {
                            if (f > 0)
                                for (; p--;) m[p] || v[p] || (v[p] = Z.call(l));
                            v = g(v)
                        }
                        J.apply(l, v), c && !i && v.length > 0 && f + n.length > 1 && t.uniqueSort(l)
                    }
                    return c && (L = w, E = y), m
                };
            return r ? i(s) : s
        }
        var w, _, x, $, C, k, S, T, E, D, A, P, N, O, I, M, R, B, F, H = "sizzle" + -new Date,
            j = e.document,
            L = 0,
            W = 0,
            z = n(),
            q = n(),
            U = n(),
            V = function(e, t) {
                return e === t && (A = !0), 0
            },
            Y = "undefined",
            G = 1 << 31,
            X = {}.hasOwnProperty,
            K = [],
            Z = K.pop,
            Q = K.push,
            J = K.push,
            et = K.slice,
            tt = K.indexOf || function(e) {
                for (var t = 0, n = this.length; n > t; t++)
                    if (this[t] === e) return t;
                return -1
            },
            nt = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            it = "[\\x20\\t\\r\\n\\f]",
            rt = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
            ot = rt.replace("w", "w#"),
            st = "\\[" + it + "*(" + rt + ")(?:" + it + "*([*^$|!~]?=)" + it + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + ot + "))|)" + it + "*\\]",
            at = ":(" + rt + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + st + ")*)|.*)\\)|)",
            lt = new RegExp("^" + it + "+|((?:^|[^\\\\])(?:\\\\.)*)" + it + "+$", "g"),
            ct = new RegExp("^" + it + "*," + it + "*"),
            ut = new RegExp("^" + it + "*([>+~]|" + it + ")" + it + "*"),
            ht = new RegExp("=" + it + "*([^\\]'\"]*?)" + it + "*\\]", "g"),
            dt = new RegExp(at),
            ft = new RegExp("^" + ot + "$"),
            pt = {
                ID: new RegExp("^#(" + rt + ")"),
                CLASS: new RegExp("^\\.(" + rt + ")"),
                TAG: new RegExp("^(" + rt.replace("w", "w*") + ")"),
                ATTR: new RegExp("^" + st),
                PSEUDO: new RegExp("^" + at),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + it + "*(even|odd|(([+-]|)(\\d*)n|)" + it + "*(?:([+-]|)" + it + "*(\\d+)|))" + it + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + nt + ")$", "i"),
                needsContext: new RegExp("^" + it + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + it + "*((?:-\\d)?\\d*)" + it + "*\\)|)(?=[^-]|$)", "i")
            },
            mt = /^(?:input|select|textarea|button)$/i,
            gt = /^h\d$/i,
            vt = /^[^{]+\{\s*\[native \w/,
            yt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            bt = /[+~]/,
            wt = /'|\\/g,
            _t = new RegExp("\\\\([\\da-f]{1,6}" + it + "?|(" + it + ")|.)", "ig"),
            xt = function(e, t, n) {
                var i = "0x" + t - 65536;
                return i !== i || n ? t : 0 > i ? String.fromCharCode(i + 65536) : String.fromCharCode(i >> 10 | 55296, 1023 & i | 56320)
            };
        try {
            J.apply(K = et.call(j.childNodes), j.childNodes), K[j.childNodes.length].nodeType
        } catch ($t) {
            J = {
                apply: K.length ? function(e, t) {
                    Q.apply(e, et.call(t))
                } : function(e, t) {
                    for (var n = e.length, i = 0; e[n++] = t[i++];);
                    e.length = n - 1
                }
            }
        }
        _ = t.support = {}, C = t.isXML = function(e) {
            var t = e && (e.ownerDocument || e).documentElement;
            return t ? "HTML" !== t.nodeName : !1
        }, P = t.setDocument = function(e) {
            var t, n = e ? e.ownerDocument || e : j,
                i = n.defaultView;
            return n !== N && 9 === n.nodeType && n.documentElement ? (N = n, O = n.documentElement, I = !C(n), i && i !== i.top && (i.addEventListener ? i.addEventListener("unload", function() {
                P()
            }, !1) : i.attachEvent && i.attachEvent("onunload", function() {
                P()
            })), _.attributes = r(function(e) {
                return e.className = "i", !e.getAttribute("className")
            }), _.getElementsByTagName = r(function(e) {
                return e.appendChild(n.createComment("")), !e.getElementsByTagName("*").length
            }), _.getElementsByClassName = vt.test(n.getElementsByClassName) && r(function(e) {
                return e.innerHTML = "<div class='a'></div><div class='a i'></div>", e.firstChild.className = "i", 2 === e.getElementsByClassName("i").length
            }), _.getById = r(function(e) {
                return O.appendChild(e).id = H, !n.getElementsByName || !n.getElementsByName(H).length
            }), _.getById ? (x.find.ID = function(e, t) {
                if (typeof t.getElementById !== Y && I) {
                    var n = t.getElementById(e);
                    return n && n.parentNode ? [n] : []
                }
            }, x.filter.ID = function(e) {
                var t = e.replace(_t, xt);
                return function(e) {
                    return e.getAttribute("id") === t
                }
            }) : (delete x.find.ID, x.filter.ID = function(e) {
                var t = e.replace(_t, xt);
                return function(e) {
                    var n = typeof e.getAttributeNode !== Y && e.getAttributeNode("id");
                    return n && n.value === t
                }
            }), x.find.TAG = _.getElementsByTagName ? function(e, t) {
                return typeof t.getElementsByTagName !== Y ? t.getElementsByTagName(e) : void 0
            } : function(e, t) {
                var n, i = [],
                    r = 0,
                    o = t.getElementsByTagName(e);
                if ("*" === e) {
                    for (; n = o[r++];) 1 === n.nodeType && i.push(n);
                    return i
                }
                return o
            }, x.find.CLASS = _.getElementsByClassName && function(e, t) {
                return typeof t.getElementsByClassName !== Y && I ? t.getElementsByClassName(e) : void 0
            }, R = [], M = [], (_.qsa = vt.test(n.querySelectorAll)) && (r(function(e) {
                e.innerHTML = "<select msallowclip=''><option selected=''></option></select>", e.querySelectorAll("[msallowclip^='']").length && M.push("[*^$]=" + it + "*(?:''|\"\")"), e.querySelectorAll("[selected]").length || M.push("\\[" + it + "*(?:value|" + nt + ")"), e.querySelectorAll(":checked").length || M.push(":checked")
            }), r(function(e) {
                var t = n.createElement("input");
                t.setAttribute("type", "hidden"), e.appendChild(t).setAttribute("name", "D"), e.querySelectorAll("[name=d]").length && M.push("name" + it + "*[*^$|!~]?="), e.querySelectorAll(":enabled").length || M.push(":enabled", ":disabled"), e.querySelectorAll("*,:x"), M.push(",.*:")
            })), (_.matchesSelector = vt.test(B = O.matches || O.webkitMatchesSelector || O.mozMatchesSelector || O.oMatchesSelector || O.msMatchesSelector)) && r(function(e) {
                _.disconnectedMatch = B.call(e, "div"), B.call(e, "[s!='']:x"), R.push("!=", at)
            }), M = M.length && new RegExp(M.join("|")), R = R.length && new RegExp(R.join("|")), t = vt.test(O.compareDocumentPosition), F = t || vt.test(O.contains) ? function(e, t) {
                var n = 9 === e.nodeType ? e.documentElement : e,
                    i = t && t.parentNode;
                return e === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : e.compareDocumentPosition && 16 & e.compareDocumentPosition(i)))
            } : function(e, t) {
                if (t)
                    for (; t = t.parentNode;)
                        if (t === e) return !0;
                return !1
            }, V = t ? function(e, t) {
                if (e === t) return A = !0, 0;
                var i = !e.compareDocumentPosition - !t.compareDocumentPosition;
                return i ? i : (i = (e.ownerDocument || e) === (t.ownerDocument || t) ? e.compareDocumentPosition(t) : 1, 1 & i || !_.sortDetached && t.compareDocumentPosition(e) === i ? e === n || e.ownerDocument === j && F(j, e) ? -1 : t === n || t.ownerDocument === j && F(j, t) ? 1 : D ? tt.call(D, e) - tt.call(D, t) : 0 : 4 & i ? -1 : 1)
            } : function(e, t) {
                if (e === t) return A = !0, 0;
                var i, r = 0,
                    o = e.parentNode,
                    a = t.parentNode,
                    l = [e],
                    c = [t];
                if (!o || !a) return e === n ? -1 : t === n ? 1 : o ? -1 : a ? 1 : D ? tt.call(D, e) - tt.call(D, t) : 0;
                if (o === a) return s(e, t);
                for (i = e; i = i.parentNode;) l.unshift(i);
                for (i = t; i = i.parentNode;) c.unshift(i);
                for (; l[r] === c[r];) r++;
                return r ? s(l[r], c[r]) : l[r] === j ? -1 : c[r] === j ? 1 : 0
            }, n) : N
        }, t.matches = function(e, n) {
            return t(e, null, null, n)
        }, t.matchesSelector = function(e, n) {
            if ((e.ownerDocument || e) !== N && P(e), n = n.replace(ht, "='$1']"), !(!_.matchesSelector || !I || R && R.test(n) || M && M.test(n))) try {
                var i = B.call(e, n);
                if (i || _.disconnectedMatch || e.document && 11 !== e.document.nodeType) return i
            } catch (r) {}
            return t(n, N, null, [e]).length > 0
        }, t.contains = function(e, t) {
            return (e.ownerDocument || e) !== N && P(e), F(e, t)
        }, t.attr = function(e, t) {
            (e.ownerDocument || e) !== N && P(e);
            var n = x.attrHandle[t.toLowerCase()],
                i = n && X.call(x.attrHandle, t.toLowerCase()) ? n(e, t, !I) : void 0;
            return void 0 !== i ? i : _.attributes || !I ? e.getAttribute(t) : (i = e.getAttributeNode(t)) && i.specified ? i.value : null
        }, t.error = function(e) {
            throw new Error("Syntax error, unrecognized expression: " + e)
        }, t.uniqueSort = function(e) {
            var t, n = [],
                i = 0,
                r = 0;
            if (A = !_.detectDuplicates, D = !_.sortStable && e.slice(0), e.sort(V), A) {
                for (; t = e[r++];) t === e[r] && (i = n.push(r));
                for (; i--;) e.splice(n[i], 1)
            }
            return D = null, e
        }, $ = t.getText = function(e) {
            var t, n = "",
                i = 0,
                r = e.nodeType;
            if (r) {
                if (1 === r || 9 === r || 11 === r) {
                    if ("string" == typeof e.textContent) return e.textContent;
                    for (e = e.firstChild; e; e = e.nextSibling) n += $(e)
                } else if (3 === r || 4 === r) return e.nodeValue
            } else
                for (; t = e[i++];) n += $(t);
            return n
        }, x = t.selectors = {
            cacheLength: 50,
            createPseudo: i,
            match: pt,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(e) {
                    return e[1] = e[1].replace(_t, xt), e[3] = (e[3] || e[4] || e[5] || "").replace(_t, xt), "~=" === e[2] && (e[3] = " " + e[3] + " "), e.slice(0, 4)
                },
                CHILD: function(e) {
                    return e[1] = e[1].toLowerCase(), "nth" === e[1].slice(0, 3) ? (e[3] || t.error(e[0]), e[4] = +(e[4] ? e[5] + (e[6] || 1) : 2 * ("even" === e[3] || "odd" === e[3])), e[5] = +(e[7] + e[8] || "odd" === e[3])) : e[3] && t.error(e[0]), e
                },
                PSEUDO: function(e) {
                    var t, n = !e[6] && e[2];
                    return pt.CHILD.test(e[0]) ? null : (e[3] ? e[2] = e[4] || e[5] || "" : n && dt.test(n) && (t = k(n, !0)) && (t = n.indexOf(")", n.length - t) - n.length) && (e[0] = e[0].slice(0, t), e[2] = n.slice(0, t)), e.slice(0, 3))
                }
            },
            filter: {
                TAG: function(e) {
                    var t = e.replace(_t, xt).toLowerCase();
                    return "*" === e ? function() {
                        return !0
                    } : function(e) {
                        return e.nodeName && e.nodeName.toLowerCase() === t
                    }
                },
                CLASS: function(e) {
                    var t = z[e + " "];
                    return t || (t = new RegExp("(^|" + it + ")" + e + "(" + it + "|$)")) && z(e, function(e) {
                        return t.test("string" == typeof e.className && e.className || typeof e.getAttribute !== Y && e.getAttribute("class") || "")
                    })
                },
                ATTR: function(e, n, i) {
                    return function(r) {
                        var o = t.attr(r, e);
                        return null == o ? "!=" === n : n ? (o += "", "=" === n ? o === i : "!=" === n ? o !== i : "^=" === n ? i && 0 === o.indexOf(i) : "*=" === n ? i && o.indexOf(i) > -1 : "$=" === n ? i && o.slice(-i.length) === i : "~=" === n ? (" " + o + " ").indexOf(i) > -1 : "|=" === n ? o === i || o.slice(0, i.length + 1) === i + "-" : !1) : !0
                    }
                },
                CHILD: function(e, t, n, i, r) {
                    var o = "nth" !== e.slice(0, 3),
                        s = "last" !== e.slice(-4),
                        a = "of-type" === t;
                    return 1 === i && 0 === r ? function(e) {
                        return !!e.parentNode
                    } : function(t, n, l) {
                        var c, u, h, d, f, p, m = o !== s ? "nextSibling" : "previousSibling",
                            g = t.parentNode,
                            v = a && t.nodeName.toLowerCase(),
                            y = !l && !a;
                        if (g) {
                            if (o) {
                                for (; m;) {
                                    for (h = t; h = h[m];)
                                        if (a ? h.nodeName.toLowerCase() === v : 1 === h.nodeType) return !1;
                                    p = m = "only" === e && !p && "nextSibling"
                                }
                                return !0
                            }
                            if (p = [s ? g.firstChild : g.lastChild], s && y) {
                                for (u = g[H] || (g[H] = {}), c = u[e] || [], f = c[0] === L && c[1], d = c[0] === L && c[2], h = f && g.childNodes[f]; h = ++f && h && h[m] || (d = f = 0) || p.pop();)
                                    if (1 === h.nodeType && ++d && h === t) {
                                        u[e] = [L, f, d];
                                        break
                                    }
                            } else if (y && (c = (t[H] || (t[H] = {}))[e]) && c[0] === L) d = c[1];
                            else
                                for (;
                                    (h = ++f && h && h[m] || (d = f = 0) || p.pop()) && ((a ? h.nodeName.toLowerCase() !== v : 1 !== h.nodeType) || !++d || (y && ((h[H] || (h[H] = {}))[e] = [L, d]), h !== t)););
                            return d -= r, d === i || d % i === 0 && d / i >= 0
                        }
                    }
                },
                PSEUDO: function(e, n) {
                    var r, o = x.pseudos[e] || x.setFilters[e.toLowerCase()] || t.error("unsupported pseudo: " + e);
                    return o[H] ? o(n) : o.length > 1 ? (r = [e, e, "", n], x.setFilters.hasOwnProperty(e.toLowerCase()) ? i(function(e, t) {
                        for (var i, r = o(e, n), s = r.length; s--;) i = tt.call(e, r[s]), e[i] = !(t[i] = r[s])
                    }) : function(e) {
                        return o(e, 0, r)
                    }) : o
                }
            },
            pseudos: {
                not: i(function(e) {
                    var t = [],
                        n = [],
                        r = S(e.replace(lt, "$1"));
                    return r[H] ? i(function(e, t, n, i) {
                        for (var o, s = r(e, null, i, []), a = e.length; a--;)(o = s[a]) && (e[a] = !(t[a] = o))
                    }) : function(e, i, o) {
                        return t[0] = e, r(t, null, o, n), !n.pop()
                    }
                }),
                has: i(function(e) {
                    return function(n) {
                        return t(e, n).length > 0
                    }
                }),
                contains: i(function(e) {
                    return function(t) {
                        return (t.textContent || t.innerText || $(t)).indexOf(e) > -1
                    }
                }),
                lang: i(function(e) {
                    return ft.test(e || "") || t.error("unsupported lang: " + e), e = e.replace(_t, xt).toLowerCase(),
                        function(t) {
                            var n;
                            do
                                if (n = I ? t.lang : t.getAttribute("xml:lang") || t.getAttribute("lang")) return n = n.toLowerCase(), n === e || 0 === n.indexOf(e + "-");
                            while ((t = t.parentNode) && 1 === t.nodeType);
                            return !1
                        }
                }),
                target: function(t) {
                    var n = e.location && e.location.hash;
                    return n && n.slice(1) === t.id
                },
                root: function(e) {
                    return e === O
                },
                focus: function(e) {
                    return e === N.activeElement && (!N.hasFocus || N.hasFocus()) && !!(e.type || e.href || ~e.tabIndex)
                },
                enabled: function(e) {
                    return e.disabled === !1
                },
                disabled: function(e) {
                    return e.disabled === !0
                },
                checked: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && !!e.checked || "option" === t && !!e.selected
                },
                selected: function(e) {
                    return e.parentNode && e.parentNode.selectedIndex, e.selected === !0
                },
                empty: function(e) {
                    for (e = e.firstChild; e; e = e.nextSibling)
                        if (e.nodeType < 6) return !1;
                    return !0
                },
                parent: function(e) {
                    return !x.pseudos.empty(e)
                },
                header: function(e) {
                    return gt.test(e.nodeName)
                },
                input: function(e) {
                    return mt.test(e.nodeName)
                },
                button: function(e) {
                    var t = e.nodeName.toLowerCase();
                    return "input" === t && "button" === e.type || "button" === t
                },
                text: function(e) {
                    var t;
                    return "input" === e.nodeName.toLowerCase() && "text" === e.type && (null == (t = e.getAttribute("type")) || "text" === t.toLowerCase())
                },
                first: c(function() {
                    return [0]
                }),
                last: c(function(e, t) {
                    return [t - 1]
                }),
                eq: c(function(e, t, n) {
                    return [0 > n ? n + t : n]
                }),
                even: c(function(e, t) {
                    for (var n = 0; t > n; n += 2) e.push(n);
                    return e
                }),
                odd: c(function(e, t) {
                    for (var n = 1; t > n; n += 2) e.push(n);
                    return e
                }),
                lt: c(function(e, t, n) {
                    for (var i = 0 > n ? n + t : n; --i >= 0;) e.push(i);
                    return e
                }),
                gt: c(function(e, t, n) {
                    for (var i = 0 > n ? n + t : n; ++i < t;) e.push(i);
                    return e
                })
            }
        }, x.pseudos.nth = x.pseudos.eq;
        for (w in {
                radio: !0,
                checkbox: !0,
                file: !0,
                password: !0,
                image: !0
            }) x.pseudos[w] = a(w);
        for (w in {
                submit: !0,
                reset: !0
            }) x.pseudos[w] = l(w);
        return h.prototype = x.filters = x.pseudos, x.setFilters = new h, k = t.tokenize = function(e, n) {
            var i, r, o, s, a, l, c, u = q[e + " "];
            if (u) return n ? 0 : u.slice(0);
            for (a = e, l = [], c = x.preFilter; a;) {
                (!i || (r = ct.exec(a))) && (r && (a = a.slice(r[0].length) || a), l.push(o = [])), i = !1, (r = ut.exec(a)) && (i = r.shift(), o.push({
                    value: i,
                    type: r[0].replace(lt, " ")
                }), a = a.slice(i.length));
                for (s in x.filter) !(r = pt[s].exec(a)) || c[s] && !(r = c[s](r)) || (i = r.shift(), o.push({
                    value: i,
                    type: s,
                    matches: r
                }), a = a.slice(i.length));
                if (!i) break
            }
            return n ? a.length : a ? t.error(e) : q(e, l).slice(0)
        }, S = t.compile = function(e, t) {
            var n, i = [],
                r = [],
                o = U[e + " "];
            if (!o) {
                for (t || (t = k(e)), n = t.length; n--;) o = y(t[n]), o[H] ? i.push(o) : r.push(o);
                o = U(e, b(r, i)), o.selector = e
            }
            return o
        }, T = t.select = function(e, t, n, i) {
            var r, o, s, a, l, c = "function" == typeof e && e,
                h = !i && k(e = c.selector || e);
            if (n = n || [], 1 === h.length) {
                if (o = h[0] = h[0].slice(0), o.length > 2 && "ID" === (s = o[0]).type && _.getById && 9 === t.nodeType && I && x.relative[o[1].type]) {
                    if (t = (x.find.ID(s.matches[0].replace(_t, xt), t) || [])[0], !t) return n;
                    c && (t = t.parentNode), e = e.slice(o.shift().value.length)
                }
                for (r = pt.needsContext.test(e) ? 0 : o.length; r-- && (s = o[r], !x.relative[a = s.type]);)
                    if ((l = x.find[a]) && (i = l(s.matches[0].replace(_t, xt), bt.test(o[0].type) && u(t.parentNode) || t))) {
                        if (o.splice(r, 1), e = i.length && d(o), !e) return J.apply(n, i), n;
                        break
                    }
            }
            return (c || S(e, h))(i, t, !I, n, bt.test(e) && u(t.parentNode) || t), n
        }, _.sortStable = H.split("").sort(V).join("") === H, _.detectDuplicates = !!A, P(), _.sortDetached = r(function(e) {
            return 1 & e.compareDocumentPosition(N.createElement("div"))
        }), r(function(e) {
            return e.innerHTML = "<a href='#'></a>", "#" === e.firstChild.getAttribute("href")
        }) || o("type|href|height|width", function(e, t, n) {
            return n ? void 0 : e.getAttribute(t, "type" === t.toLowerCase() ? 1 : 2)
        }), _.attributes && r(function(e) {
            return e.innerHTML = "<input/>", e.firstChild.setAttribute("value", ""), "" === e.firstChild.getAttribute("value")
        }) || o("value", function(e, t, n) {
            return n || "input" !== e.nodeName.toLowerCase() ? void 0 : e.defaultValue
        }), r(function(e) {
            return null == e.getAttribute("disabled")
        }) || o(nt, function(e, t, n) {
            var i;
            return n ? void 0 : e[t] === !0 ? t.toLowerCase() : (i = e.getAttributeNode(t)) && i.specified ? i.value : null
        }), t
    }(e);
    J.find = rt, J.expr = rt.selectors, J.expr[":"] = J.expr.pseudos, J.unique = rt.uniqueSort, J.text = rt.getText, J.isXMLDoc = rt.isXML, J.contains = rt.contains;
    var ot = J.expr.match.needsContext,
        st = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
        at = /^.[^:#\[\.,]*$/;
    J.filter = function(e, t, n) {
        var i = t[0];
        return n && (e = ":not(" + e + ")"), 1 === t.length && 1 === i.nodeType ? J.find.matchesSelector(i, e) ? [i] : [] : J.find.matches(e, J.grep(t, function(e) {
            return 1 === e.nodeType
        }))
    }, J.fn.extend({
        find: function(e) {
            var t, n = this.length,
                i = [],
                r = this;
            if ("string" != typeof e) return this.pushStack(J(e).filter(function() {
                for (t = 0; n > t; t++)
                    if (J.contains(r[t], this)) return !0
            }));
            for (t = 0; n > t; t++) J.find(e, r[t], i);
            return i = this.pushStack(n > 1 ? J.unique(i) : i), i.selector = this.selector ? this.selector + " " + e : e, i
        },
        filter: function(e) {
            return this.pushStack(i(this, e || [], !1))
        },
        not: function(e) {
            return this.pushStack(i(this, e || [], !0))
        },
        is: function(e) {
            return !!i(this, "string" == typeof e && ot.test(e) ? J(e) : e || [], !1).length
        }
    });
    var lt, ct = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
        ut = J.fn.init = function(e, t) {
            var n, i;
            if (!e) return this;
            if ("string" == typeof e) {
                if (n = "<" === e[0] && ">" === e[e.length - 1] && e.length >= 3 ? [null, e, null] : ct.exec(e), !n || !n[1] && t) return !t || t.jquery ? (t || lt).find(e) : this.constructor(t).find(e);
                if (n[1]) {
                    if (t = t instanceof J ? t[0] : t, J.merge(this, J.parseHTML(n[1], t && t.nodeType ? t.ownerDocument || t : Z, !0)), st.test(n[1]) && J.isPlainObject(t))
                        for (n in t) J.isFunction(this[n]) ? this[n](t[n]) : this.attr(n, t[n]);
                    return this
                }
                return i = Z.getElementById(n[2]), i && i.parentNode && (this.length = 1, this[0] = i), this.context = Z, this.selector = e, this
            }
            return e.nodeType ? (this.context = this[0] = e, this.length = 1, this) : J.isFunction(e) ? "undefined" != typeof lt.ready ? lt.ready(e) : e(J) : (void 0 !== e.selector && (this.selector = e.selector, this.context = e.context), J.makeArray(e, this))
        };
    ut.prototype = J.fn, lt = J(Z);
    var ht = /^(?:parents|prev(?:Until|All))/,
        dt = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    J.extend({
        dir: function(e, t, n) {
            for (var i = [], r = void 0 !== n;
                (e = e[t]) && 9 !== e.nodeType;)
                if (1 === e.nodeType) {
                    if (r && J(e).is(n)) break;
                    i.push(e)
                }
            return i
        },
        sibling: function(e, t) {
            for (var n = []; e; e = e.nextSibling) 1 === e.nodeType && e !== t && n.push(e);
            return n
        }
    }), J.fn.extend({
        has: function(e) {
            var t = J(e, this),
                n = t.length;
            return this.filter(function() {
                for (var e = 0; n > e; e++)
                    if (J.contains(this, t[e])) return !0
            })
        },
        closest: function(e, t) {
            for (var n, i = 0, r = this.length, o = [], s = ot.test(e) || "string" != typeof e ? J(e, t || this.context) : 0; r > i; i++)
                for (n = this[i]; n && n !== t; n = n.parentNode)
                    if (n.nodeType < 11 && (s ? s.index(n) > -1 : 1 === n.nodeType && J.find.matchesSelector(n, e))) {
                        o.push(n);
                        break
                    }
            return this.pushStack(o.length > 1 ? J.unique(o) : o)
        },
        index: function(e) {
            return e ? "string" == typeof e ? V.call(J(e), this[0]) : V.call(this, e.jquery ? e[0] : e) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(e, t) {
            return this.pushStack(J.unique(J.merge(this.get(), J(e, t))))
        },
        addBack: function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
    }), J.each({
        parent: function(e) {
            var t = e.parentNode;
            return t && 11 !== t.nodeType ? t : null
        },
        parents: function(e) {
            return J.dir(e, "parentNode")
        },
        parentsUntil: function(e, t, n) {
            return J.dir(e, "parentNode", n)
        },
        next: function(e) {
            return r(e, "nextSibling")
        },
        prev: function(e) {
            return r(e, "previousSibling")
        },
        nextAll: function(e) {
            return J.dir(e, "nextSibling")
        },
        prevAll: function(e) {
            return J.dir(e, "previousSibling")
        },
        nextUntil: function(e, t, n) {
            return J.dir(e, "nextSibling", n)
        },
        prevUntil: function(e, t, n) {
            return J.dir(e, "previousSibling", n)
        },
        siblings: function(e) {
            return J.sibling((e.parentNode || {}).firstChild, e)
        },
        children: function(e) {
            return J.sibling(e.firstChild)
        },
        contents: function(e) {
            return e.contentDocument || J.merge([], e.childNodes)
        }
    }, function(e, t) {
        J.fn[e] = function(n, i) {
            var r = J.map(this, t, n);
            return "Until" !== e.slice(-5) && (i = n), i && "string" == typeof i && (r = J.filter(i, r)), this.length > 1 && (dt[e] || J.unique(r), ht.test(e) && r.reverse()), this.pushStack(r)
        }
    });
    var ft = /\S+/g,
        pt = {};
    J.Callbacks = function(e) {
        e = "string" == typeof e ? pt[e] || o(e) : J.extend({}, e);
        var t, n, i, r, s, a, l = [],
            c = !e.once && [],
            u = function(o) {
                for (t = e.memory && o, n = !0, a = r || 0, r = 0, s = l.length, i = !0; l && s > a; a++)
                    if (l[a].apply(o[0], o[1]) === !1 && e.stopOnFalse) {
                        t = !1;
                        break
                    }
                i = !1, l && (c ? c.length && u(c.shift()) : t ? l = [] : h.disable())
            },
            h = {
                add: function() {
                    if (l) {
                        var n = l.length;
                        ! function o(t) {
                            J.each(t, function(t, n) {
                                var i = J.type(n);
                                "function" === i ? e.unique && h.has(n) || l.push(n) : n && n.length && "string" !== i && o(n)
                            })
                        }(arguments), i ? s = l.length : t && (r = n, u(t))
                    }
                    return this
                },
                remove: function() {
                    return l && J.each(arguments, function(e, t) {
                        for (var n;
                            (n = J.inArray(t, l, n)) > -1;) l.splice(n, 1), i && (s >= n && s--, a >= n && a--)
                    }), this
                },
                has: function(e) {
                    return e ? J.inArray(e, l) > -1 : !(!l || !l.length)
                },
                empty: function() {
                    return l = [], s = 0, this
                },
                disable: function() {
                    return l = c = t = void 0, this
                },
                disabled: function() {
                    return !l
                },
                lock: function() {
                    return c = void 0, t || h.disable(), this
                },
                locked: function() {
                    return !c
                },
                fireWith: function(e, t) {
                    return !l || n && !c || (t = t || [], t = [e, t.slice ? t.slice() : t], i ? c.push(t) : u(t)), this
                },
                fire: function() {
                    return h.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!n
                }
            };
        return h
    }, J.extend({
        Deferred: function(e) {
            var t = [
                    ["resolve", "done", J.Callbacks("once memory"), "resolved"],
                    ["reject", "fail", J.Callbacks("once memory"), "rejected"],
                    ["notify", "progress", J.Callbacks("memory")]
                ],
                n = "pending",
                i = {
                    state: function() {
                        return n
                    },
                    always: function() {
                        return r.done(arguments).fail(arguments), this
                    },
                    then: function() {
                        var e = arguments;
                        return J.Deferred(function(n) {
                            J.each(t, function(t, o) {
                                var s = J.isFunction(e[t]) && e[t];
                                r[o[1]](function() {
                                    var e = s && s.apply(this, arguments);
                                    e && J.isFunction(e.promise) ? e.promise().done(n.resolve).fail(n.reject).progress(n.notify) : n[o[0] + "With"](this === i ? n.promise() : this, s ? [e] : arguments)
                                })
                            }), e = null
                        }).promise()
                    },
                    promise: function(e) {
                        return null != e ? J.extend(e, i) : i
                    }
                },
                r = {};
            return i.pipe = i.then, J.each(t, function(e, o) {
                var s = o[2],
                    a = o[3];
                i[o[1]] = s.add, a && s.add(function() {
                    n = a
                }, t[1 ^ e][2].disable, t[2][2].lock), r[o[0]] = function() {
                    return r[o[0] + "With"](this === r ? i : this, arguments), this
                }, r[o[0] + "With"] = s.fireWith
            }), i.promise(r), e && e.call(r, r), r
        },
        when: function(e) {
            var t, n, i, r = 0,
                o = z.call(arguments),
                s = o.length,
                a = 1 !== s || e && J.isFunction(e.promise) ? s : 0,
                l = 1 === a ? e : J.Deferred(),
                c = function(e, n, i) {
                    return function(r) {
                        n[e] = this, i[e] = arguments.length > 1 ? z.call(arguments) : r, i === t ? l.notifyWith(n, i) : --a || l.resolveWith(n, i)
                    }
                };
            if (s > 1)
                for (t = new Array(s), n = new Array(s), i = new Array(s); s > r; r++) o[r] && J.isFunction(o[r].promise) ? o[r].promise().done(c(r, i, o)).fail(l.reject).progress(c(r, n, t)) : --a;
            return a || l.resolveWith(i, o), l.promise()
        }
    });
    var mt;
    J.fn.ready = function(e) {
        return J.ready.promise().done(e), this
    }, J.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(e) {
            e ? J.readyWait++ : J.ready(!0)
        },
        ready: function(e) {
            (e === !0 ? --J.readyWait : J.isReady) || (J.isReady = !0, e !== !0 && --J.readyWait > 0 || (mt.resolveWith(Z, [J]), J.fn.triggerHandler && (J(Z).triggerHandler("ready"), J(Z).off("ready"))))
        }
    }), J.ready.promise = function(t) {
        return mt || (mt = J.Deferred(), "complete" === Z.readyState ? setTimeout(J.ready) : (Z.addEventListener("DOMContentLoaded", s, !1), e.addEventListener("load", s, !1))), mt.promise(t)
    }, J.ready.promise();
    var gt = J.access = function(e, t, n, i, r, o, s) {
        var a = 0,
            l = e.length,
            c = null == n;
        if ("object" === J.type(n)) {
            r = !0;
            for (a in n) J.access(e, t, a, n[a], !0, o, s)
        } else if (void 0 !== i && (r = !0, J.isFunction(i) || (s = !0), c && (s ? (t.call(e, i), t = null) : (c = t, t = function(e, t, n) {
                return c.call(J(e), n)
            })), t))
            for (; l > a; a++) t(e[a], n, s ? i : i.call(e[a], a, t(e[a], n)));
        return r ? e : c ? t.call(e) : l ? t(e[0], n) : o
    };
    J.acceptData = function(e) {
        return 1 === e.nodeType || 9 === e.nodeType || !+e.nodeType
    }, a.uid = 1, a.accepts = J.acceptData, a.prototype = {
        key: function(e) {
            if (!a.accepts(e)) return 0;
            var t = {},
                n = e[this.expando];
            if (!n) {
                n = a.uid++;
                try {
                    t[this.expando] = {
                        value: n
                    }, Object.defineProperties(e, t)
                } catch (i) {
                    t[this.expando] = n, J.extend(e, t)
                }
            }
            return this.cache[n] || (this.cache[n] = {}), n
        },
        set: function(e, t, n) {
            var i, r = this.key(e),
                o = this.cache[r];
            if ("string" == typeof t) o[t] = n;
            else if (J.isEmptyObject(o)) J.extend(this.cache[r], t);
            else
                for (i in t) o[i] = t[i];
            return o
        },
        get: function(e, t) {
            var n = this.cache[this.key(e)];
            return void 0 === t ? n : n[t]
        },
        access: function(e, t, n) {
            var i;
            return void 0 === t || t && "string" == typeof t && void 0 === n ? (i = this.get(e, t), void 0 !== i ? i : this.get(e, J.camelCase(t))) : (this.set(e, t, n), void 0 !== n ? n : t)
        },
        remove: function(e, t) {
            var n, i, r, o = this.key(e),
                s = this.cache[o];
            if (void 0 === t) this.cache[o] = {};
            else {
                J.isArray(t) ? i = t.concat(t.map(J.camelCase)) : (r = J.camelCase(t), t in s ? i = [t, r] : (i = r, i = i in s ? [i] : i.match(ft) || [])), n = i.length;
                for (; n--;) delete s[i[n]]
            }
        },
        hasData: function(e) {
            return !J.isEmptyObject(this.cache[e[this.expando]] || {})
        },
        discard: function(e) {
            e[this.expando] && delete this.cache[e[this.expando]]
        }
    };
    var vt = new a,
        yt = new a,
        bt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        wt = /([A-Z])/g;
    J.extend({
        hasData: function(e) {
            return yt.hasData(e) || vt.hasData(e)
        },
        data: function(e, t, n) {
            return yt.access(e, t, n)
        },
        removeData: function(e, t) {
            yt.remove(e, t)
        },
        _data: function(e, t, n) {
            return vt.access(e, t, n)
        },
        _removeData: function(e, t) {
            vt.remove(e, t)
        }
    }), J.fn.extend({
        data: function(e, t) {
            var n, i, r, o = this[0],
                s = o && o.attributes;
            if (void 0 === e) {
                if (this.length && (r = yt.get(o), 1 === o.nodeType && !vt.get(o, "hasDataAttrs"))) {
                    for (n = s.length; n--;) s[n] && (i = s[n].name, 0 === i.indexOf("data-") && (i = J.camelCase(i.slice(5)), l(o, i, r[i])));
                    vt.set(o, "hasDataAttrs", !0)
                }
                return r
            }
            return "object" == typeof e ? this.each(function() {
                yt.set(this, e)
            }) : gt(this, function(t) {
                var n, i = J.camelCase(e);
                if (o && void 0 === t) {
                    if (n = yt.get(o, e), void 0 !== n) return n;
                    if (n = yt.get(o, i), void 0 !== n) return n;
                    if (n = l(o, i, void 0), void 0 !== n) return n
                } else this.each(function() {
                    var n = yt.get(this, i);
                    yt.set(this, i, t), -1 !== e.indexOf("-") && void 0 !== n && yt.set(this, e, t)
                })
            }, null, t, arguments.length > 1, null, !0)
        },
        removeData: function(e) {
            return this.each(function() {
                yt.remove(this, e)
            })
        }
    }), J.extend({
        queue: function(e, t, n) {
            var i;
            return e ? (t = (t || "fx") + "queue", i = vt.get(e, t), n && (!i || J.isArray(n) ? i = vt.access(e, t, J.makeArray(n)) : i.push(n)), i || []) : void 0
        },
        dequeue: function(e, t) {
            t = t || "fx";
            var n = J.queue(e, t),
                i = n.length,
                r = n.shift(),
                o = J._queueHooks(e, t),
                s = function() {
                    J.dequeue(e, t)
                };
            "inprogress" === r && (r = n.shift(), i--), r && ("fx" === t && n.unshift("inprogress"), delete o.stop, r.call(e, s, o)), !i && o && o.empty.fire()
        },
        _queueHooks: function(e, t) {
            var n = t + "queueHooks";
            return vt.get(e, n) || vt.access(e, n, {
                empty: J.Callbacks("once memory").add(function() {
                    vt.remove(e, [t + "queue", n])
                })
            })
        }
    }), J.fn.extend({
        queue: function(e, t) {
            var n = 2;
            return "string" != typeof e && (t = e, e = "fx", n--), arguments.length < n ? J.queue(this[0], e) : void 0 === t ? this : this.each(function() {
                var n = J.queue(this, e, t);
                J._queueHooks(this, e), "fx" === e && "inprogress" !== n[0] && J.dequeue(this, e)
            })
        },
        dequeue: function(e) {
            return this.each(function() {
                J.dequeue(this, e)
            })
        },
        clearQueue: function(e) {
            return this.queue(e || "fx", [])
        },
        promise: function(e, t) {
            var n, i = 1,
                r = J.Deferred(),
                o = this,
                s = this.length,
                a = function() {
                    --i || r.resolveWith(o, [o])
                };
            for ("string" != typeof e && (t = e, e = void 0), e = e || "fx"; s--;) n = vt.get(o[s], e + "queueHooks"), n && n.empty && (i++, n.empty.add(a));
            return a(), r.promise(t)
        }
    });
    var _t = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        xt = ["Top", "Right", "Bottom", "Left"],
        $t = function(e, t) {
            return e = t || e, "none" === J.css(e, "display") || !J.contains(e.ownerDocument, e)
        },
        Ct = /^(?:checkbox|radio)$/i;
    ! function() {
        var e = Z.createDocumentFragment(),
            t = e.appendChild(Z.createElement("div")),
            n = Z.createElement("input");
        n.setAttribute("type", "radio"), n.setAttribute("checked", "checked"), n.setAttribute("name", "t"), t.appendChild(n), K.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked, t.innerHTML = "<textarea>x</textarea>", K.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue
    }();
    var kt = "undefined";
    K.focusinBubbles = "onfocusin" in e;
    var St = /^key/,
        Tt = /^(?:mouse|pointer|contextmenu)|click/,
        Et = /^(?:focusinfocus|focusoutblur)$/,
        Dt = /^([^.]*)(?:\.(.+)|)$/;
    J.event = {
        global: {},
        add: function(e, t, n, i, r) {
            var o, s, a, l, c, u, h, d, f, p, m, g = vt.get(e);
            if (g)
                for (n.handler && (o = n, n = o.handler, r = o.selector), n.guid || (n.guid = J.guid++), (l = g.events) || (l = g.events = {}), (s = g.handle) || (s = g.handle = function(t) {
                        return typeof J !== kt && J.event.triggered !== t.type ? J.event.dispatch.apply(e, arguments) : void 0
                    }), t = (t || "").match(ft) || [""], c = t.length; c--;) a = Dt.exec(t[c]) || [], f = m = a[1], p = (a[2] || "").split(".").sort(), f && (h = J.event.special[f] || {}, f = (r ? h.delegateType : h.bindType) || f, h = J.event.special[f] || {}, u = J.extend({
                    type: f,
                    origType: m,
                    data: i,
                    handler: n,
                    guid: n.guid,
                    selector: r,
                    needsContext: r && J.expr.match.needsContext.test(r),
                    namespace: p.join(".")
                }, o), (d = l[f]) || (d = l[f] = [], d.delegateCount = 0, h.setup && h.setup.call(e, i, p, s) !== !1 || e.addEventListener && e.addEventListener(f, s, !1)), h.add && (h.add.call(e, u), u.handler.guid || (u.handler.guid = n.guid)), r ? d.splice(d.delegateCount++, 0, u) : d.push(u), J.event.global[f] = !0)
        },
        remove: function(e, t, n, i, r) {
            var o, s, a, l, c, u, h, d, f, p, m, g = vt.hasData(e) && vt.get(e);
            if (g && (l = g.events)) {
                for (t = (t || "").match(ft) || [""], c = t.length; c--;)
                    if (a = Dt.exec(t[c]) || [], f = m = a[1], p = (a[2] || "").split(".").sort(), f) {
                        for (h = J.event.special[f] || {}, f = (i ? h.delegateType : h.bindType) || f, d = l[f] || [], a = a[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), s = o = d.length; o--;) u = d[o], !r && m !== u.origType || n && n.guid !== u.guid || a && !a.test(u.namespace) || i && i !== u.selector && ("**" !== i || !u.selector) || (d.splice(o, 1), u.selector && d.delegateCount--, h.remove && h.remove.call(e, u));
                        s && !d.length && (h.teardown && h.teardown.call(e, p, g.handle) !== !1 || J.removeEvent(e, f, g.handle), delete l[f])
                    } else
                        for (f in l) J.event.remove(e, f + t[c], n, i, !0);
                J.isEmptyObject(l) && (delete g.handle, vt.remove(e, "events"))
            }
        },
        trigger: function(t, n, i, r) {
            var o, s, a, l, c, u, h, d = [i || Z],
                f = X.call(t, "type") ? t.type : t,
                p = X.call(t, "namespace") ? t.namespace.split(".") : [];
            if (s = a = i = i || Z, 3 !== i.nodeType && 8 !== i.nodeType && !Et.test(f + J.event.triggered) && (f.indexOf(".") >= 0 && (p = f.split("."), f = p.shift(), p.sort()), c = f.indexOf(":") < 0 && "on" + f, t = t[J.expando] ? t : new J.Event(f, "object" == typeof t && t), t.isTrigger = r ? 2 : 3, t.namespace = p.join("."), t.namespace_re = t.namespace ? new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, t.result = void 0, t.target || (t.target = i), n = null == n ? [t] : J.makeArray(n, [t]), h = J.event.special[f] || {}, r || !h.trigger || h.trigger.apply(i, n) !== !1)) {
                if (!r && !h.noBubble && !J.isWindow(i)) {
                    for (l = h.delegateType || f, Et.test(l + f) || (s = s.parentNode); s; s = s.parentNode) d.push(s), a = s;
                    a === (i.ownerDocument || Z) && d.push(a.defaultView || a.parentWindow || e)
                }
                for (o = 0;
                    (s = d[o++]) && !t.isPropagationStopped();) t.type = o > 1 ? l : h.bindType || f, u = (vt.get(s, "events") || {})[t.type] && vt.get(s, "handle"), u && u.apply(s, n), u = c && s[c], u && u.apply && J.acceptData(s) && (t.result = u.apply(s, n), t.result === !1 && t.preventDefault());
                return t.type = f, r || t.isDefaultPrevented() || h._default && h._default.apply(d.pop(), n) !== !1 || !J.acceptData(i) || c && J.isFunction(i[f]) && !J.isWindow(i) && (a = i[c], a && (i[c] = null), J.event.triggered = f, i[f](), J.event.triggered = void 0, a && (i[c] = a)), t.result
            }
        },
        dispatch: function(e) {
            e = J.event.fix(e);
            var t, n, i, r, o, s = [],
                a = z.call(arguments),
                l = (vt.get(this, "events") || {})[e.type] || [],
                c = J.event.special[e.type] || {};
            if (a[0] = e, e.delegateTarget = this, !c.preDispatch || c.preDispatch.call(this, e) !== !1) {
                for (s = J.event.handlers.call(this, e, l), t = 0;
                    (r = s[t++]) && !e.isPropagationStopped();)
                    for (e.currentTarget = r.elem, n = 0;
                        (o = r.handlers[n++]) && !e.isImmediatePropagationStopped();)(!e.namespace_re || e.namespace_re.test(o.namespace)) && (e.handleObj = o, e.data = o.data, i = ((J.event.special[o.origType] || {}).handle || o.handler).apply(r.elem, a), void 0 !== i && (e.result = i) === !1 && (e.preventDefault(), e.stopPropagation()));
                return c.postDispatch && c.postDispatch.call(this, e), e.result
            }
        },
        handlers: function(e, t) {
            var n, i, r, o, s = [],
                a = t.delegateCount,
                l = e.target;
            if (a && l.nodeType && (!e.button || "click" !== e.type))
                for (; l !== this; l = l.parentNode || this)
                    if (l.disabled !== !0 || "click" !== e.type) {
                        for (i = [], n = 0; a > n; n++) o = t[n], r = o.selector + " ", void 0 === i[r] && (i[r] = o.needsContext ? J(r, this).index(l) >= 0 : J.find(r, this, null, [l]).length), i[r] && i.push(o);
                        i.length && s.push({
                            elem: l,
                            handlers: i
                        })
                    }
            return a < t.length && s.push({
                elem: this,
                handlers: t.slice(a)
            }), s
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(e, t) {
                return null == e.which && (e.which = null != t.charCode ? t.charCode : t.keyCode), e
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(e, t) {
                var n, i, r, o = t.button;
                return null == e.pageX && null != t.clientX && (n = e.target.ownerDocument || Z, i = n.documentElement, r = n.body, e.pageX = t.clientX + (i && i.scrollLeft || r && r.scrollLeft || 0) - (i && i.clientLeft || r && r.clientLeft || 0), e.pageY = t.clientY + (i && i.scrollTop || r && r.scrollTop || 0) - (i && i.clientTop || r && r.clientTop || 0)), e.which || void 0 === o || (e.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0), e
            }
        },
        fix: function(e) {
            if (e[J.expando]) return e;
            var t, n, i, r = e.type,
                o = e,
                s = this.fixHooks[r];
            for (s || (this.fixHooks[r] = s = Tt.test(r) ? this.mouseHooks : St.test(r) ? this.keyHooks : {}), i = s.props ? this.props.concat(s.props) : this.props, e = new J.Event(o), t = i.length; t--;) n = i[t], e[n] = o[n];
            return e.target || (e.target = Z), 3 === e.target.nodeType && (e.target = e.target.parentNode), s.filter ? s.filter(e, o) : e
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    return this !== h() && this.focus ? (this.focus(), !1) : void 0
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === h() && this.blur ? (this.blur(), !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return "checkbox" === this.type && this.click && J.nodeName(this, "input") ? (this.click(), !1) : void 0
                },
                _default: function(e) {
                    return J.nodeName(e.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(e) {
                    void 0 !== e.result && e.originalEvent && (e.originalEvent.returnValue = e.result)
                }
            }
        },
        simulate: function(e, t, n, i) {
            var r = J.extend(new J.Event, n, {
                type: e,
                isSimulated: !0,
                originalEvent: {}
            });
            i ? J.event.trigger(r, null, t) : J.event.dispatch.call(t, r), r.isDefaultPrevented() && n.preventDefault()
        }
    }, J.removeEvent = function(e, t, n) {
        e.removeEventListener && e.removeEventListener(t, n, !1)
    }, J.Event = function(e, t) {
        return this instanceof J.Event ? (e && e.type ? (this.originalEvent = e, this.type = e.type, this.isDefaultPrevented = e.defaultPrevented || void 0 === e.defaultPrevented && e.returnValue === !1 ? c : u) : this.type = e, t && J.extend(this, t), this.timeStamp = e && e.timeStamp || J.now(), void(this[J.expando] = !0)) : new J.Event(e, t)
    }, J.Event.prototype = {
        isDefaultPrevented: u,
        isPropagationStopped: u,
        isImmediatePropagationStopped: u,
        preventDefault: function() {
            var e = this.originalEvent;
            this.isDefaultPrevented = c, e && e.preventDefault && e.preventDefault()
        },
        stopPropagation: function() {
            var e = this.originalEvent;
            this.isPropagationStopped = c, e && e.stopPropagation && e.stopPropagation()
        },
        stopImmediatePropagation: function() {
            var e = this.originalEvent;
            this.isImmediatePropagationStopped = c, e && e.stopImmediatePropagation && e.stopImmediatePropagation(), this.stopPropagation()
        }
    }, J.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(e, t) {
        J.event.special[e] = {
            delegateType: t,
            bindType: t,
            handle: function(e) {
                var n, i = this,
                    r = e.relatedTarget,
                    o = e.handleObj;
                return (!r || r !== i && !J.contains(i, r)) && (e.type = o.origType, n = o.handler.apply(this, arguments), e.type = t), n
            }
        }
    }), K.focusinBubbles || J.each({
        focus: "focusin",
        blur: "focusout"
    }, function(e, t) {
        var n = function(e) {
            J.event.simulate(t, e.target, J.event.fix(e), !0)
        };
        J.event.special[t] = {
            setup: function() {
                var i = this.ownerDocument || this,
                    r = vt.access(i, t);
                r || i.addEventListener(e, n, !0), vt.access(i, t, (r || 0) + 1)
            },
            teardown: function() {
                var i = this.ownerDocument || this,
                    r = vt.access(i, t) - 1;
                r ? vt.access(i, t, r) : (i.removeEventListener(e, n, !0), vt.remove(i, t))
            }
        }
    }), J.fn.extend({
        on: function(e, t, n, i, r) {
            var o, s;
            if ("object" == typeof e) {
                "string" != typeof t && (n = n || t, t = void 0);
                for (s in e) this.on(s, t, n, e[s], r);
                return this
            }
            if (null == n && null == i ? (i = t, n = t = void 0) : null == i && ("string" == typeof t ? (i = n, n = void 0) : (i = n, n = t, t = void 0)), i === !1) i = u;
            else if (!i) return this;
            return 1 === r && (o = i, i = function(e) {
                return J().off(e), o.apply(this, arguments)
            }, i.guid = o.guid || (o.guid = J.guid++)), this.each(function() {
                J.event.add(this, e, i, n, t)
            })
        },
        one: function(e, t, n, i) {
            return this.on(e, t, n, i, 1)
        },
        off: function(e, t, n) {
            var i, r;
            if (e && e.preventDefault && e.handleObj) return i = e.handleObj, J(e.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
            if ("object" == typeof e) {
                for (r in e) this.off(r, t, e[r]);
                return this
            }
            return (t === !1 || "function" == typeof t) && (n = t, t = void 0), n === !1 && (n = u), this.each(function() {
                J.event.remove(this, e, n, t)
            })
        },
        trigger: function(e, t) {
            return this.each(function() {
                J.event.trigger(e, t, this)
            })
        },
        triggerHandler: function(e, t) {
            var n = this[0];
            return n ? J.event.trigger(e, t, n, !0) : void 0
        }
    });
    var At = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
        Pt = /<([\w:]+)/,
        Nt = /<|&#?\w+;/,
        Ot = /<(?:script|style|link)/i,
        It = /checked\s*(?:[^=]|=\s*.checked.)/i,
        Mt = /^$|\/(?:java|ecma)script/i,
        Rt = /^true\/(.*)/,
        Bt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        Ft = {
            option: [1, "<select multiple='multiple'>", "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
    Ft.optgroup = Ft.option, Ft.tbody = Ft.tfoot = Ft.colgroup = Ft.caption = Ft.thead, Ft.th = Ft.td, J.extend({
        clone: function(e, t, n) {
            var i, r, o, s, a = e.cloneNode(!0),
                l = J.contains(e.ownerDocument, e);
            if (!(K.noCloneChecked || 1 !== e.nodeType && 11 !== e.nodeType || J.isXMLDoc(e)))
                for (s = v(a), o = v(e), i = 0, r = o.length; r > i; i++) y(o[i], s[i]);
            if (t)
                if (n)
                    for (o = o || v(e), s = s || v(a), i = 0, r = o.length; r > i; i++) g(o[i], s[i]);
                else g(e, a);
            return s = v(a, "script"), s.length > 0 && m(s, !l && v(e, "script")), a
        },
        buildFragment: function(e, t, n, i) {
            for (var r, o, s, a, l, c, u = t.createDocumentFragment(), h = [], d = 0, f = e.length; f > d; d++)
                if (r = e[d], r || 0 === r)
                    if ("object" === J.type(r)) J.merge(h, r.nodeType ? [r] : r);
                    else if (Nt.test(r)) {
                for (o = o || u.appendChild(t.createElement("div")), s = (Pt.exec(r) || ["", ""])[1].toLowerCase(), a = Ft[s] || Ft._default, o.innerHTML = a[1] + r.replace(At, "<$1></$2>") + a[2], c = a[0]; c--;) o = o.lastChild;
                J.merge(h, o.childNodes), o = u.firstChild, o.textContent = ""
            } else h.push(t.createTextNode(r));
            for (u.textContent = "", d = 0; r = h[d++];)
                if ((!i || -1 === J.inArray(r, i)) && (l = J.contains(r.ownerDocument, r), o = v(u.appendChild(r), "script"), l && m(o), n))
                    for (c = 0; r = o[c++];) Mt.test(r.type || "") && n.push(r);
            return u
        },
        cleanData: function(e) {
            for (var t, n, i, r, o = J.event.special, s = 0; void 0 !== (n = e[s]); s++) {
                if (J.acceptData(n) && (r = n[vt.expando], r && (t = vt.cache[r]))) {
                    if (t.events)
                        for (i in t.events) o[i] ? J.event.remove(n, i) : J.removeEvent(n, i, t.handle);
                    vt.cache[r] && delete vt.cache[r]
                }
                delete yt.cache[n[yt.expando]]
            }
        }
    }), J.fn.extend({
        text: function(e) {
            return gt(this, function(e) {
                return void 0 === e ? J.text(this) : this.empty().each(function() {
                    (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) && (this.textContent = e)
                })
            }, null, e, arguments.length)
        },
        append: function() {
            return this.domManip(arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = d(this, e);
                    t.appendChild(e)
                }
            })
        },
        prepend: function() {
            return this.domManip(arguments, function(e) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var t = d(this, e);
                    t.insertBefore(e, t.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this)
            })
        },
        after: function() {
            return this.domManip(arguments, function(e) {
                this.parentNode && this.parentNode.insertBefore(e, this.nextSibling)
            })
        },
        remove: function(e, t) {
            for (var n, i = e ? J.filter(e, this) : this, r = 0; null != (n = i[r]); r++) t || 1 !== n.nodeType || J.cleanData(v(n)), n.parentNode && (t && J.contains(n.ownerDocument, n) && m(v(n, "script")), n.parentNode.removeChild(n));
            return this
        },
        empty: function() {
            for (var e, t = 0; null != (e = this[t]); t++) 1 === e.nodeType && (J.cleanData(v(e, !1)), e.textContent = "");
            return this
        },
        clone: function(e, t) {
            return e = null == e ? !1 : e, t = null == t ? e : t, this.map(function() {
                return J.clone(this, e, t)
            })
        },
        html: function(e) {
            return gt(this, function(e) {
                var t = this[0] || {},
                    n = 0,
                    i = this.length;
                if (void 0 === e && 1 === t.nodeType) return t.innerHTML;
                if ("string" == typeof e && !Ot.test(e) && !Ft[(Pt.exec(e) || ["", ""])[1].toLowerCase()]) {
                    e = e.replace(At, "<$1></$2>");
                    try {
                        for (; i > n; n++) t = this[n] || {}, 1 === t.nodeType && (J.cleanData(v(t, !1)), t.innerHTML = e);
                        t = 0
                    } catch (r) {}
                }
                t && this.empty().append(e)
            }, null, e, arguments.length)
        },
        replaceWith: function() {
            var e = arguments[0];
            return this.domManip(arguments, function(t) {
                e = this.parentNode, J.cleanData(v(this)), e && e.replaceChild(t, this)
            }), e && (e.length || e.nodeType) ? this : this.remove()
        },
        detach: function(e) {
            return this.remove(e, !0)
        },
        domManip: function(e, t) {
            e = q.apply([], e);
            var n, i, r, o, s, a, l = 0,
                c = this.length,
                u = this,
                h = c - 1,
                d = e[0],
                m = J.isFunction(d);
            if (m || c > 1 && "string" == typeof d && !K.checkClone && It.test(d)) return this.each(function(n) {
                var i = u.eq(n);
                m && (e[0] = d.call(this, n, i.html())), i.domManip(e, t)
            });
            if (c && (n = J.buildFragment(e, this[0].ownerDocument, !1, this), i = n.firstChild, 1 === n.childNodes.length && (n = i), i)) {
                for (r = J.map(v(n, "script"), f), o = r.length; c > l; l++) s = n, l !== h && (s = J.clone(s, !0, !0), o && J.merge(r, v(s, "script"))), t.call(this[l], s, l);
                if (o)
                    for (a = r[r.length - 1].ownerDocument, J.map(r, p), l = 0; o > l; l++) s = r[l], Mt.test(s.type || "") && !vt.access(s, "globalEval") && J.contains(a, s) && (s.src ? J._evalUrl && J._evalUrl(s.src) : J.globalEval(s.textContent.replace(Bt, "")))
            }
            return this
        }
    }), J.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(e, t) {
        J.fn[e] = function(e) {
            for (var n, i = [], r = J(e), o = r.length - 1, s = 0; o >= s; s++) n = s === o ? this : this.clone(!0), J(r[s])[t](n), U.apply(i, n.get());
            return this.pushStack(i)
        }
    });
    var Ht, jt = {},
        Lt = /^margin/,
        Wt = new RegExp("^(" + _t + ")(?!px)[a-z%]+$", "i"),
        zt = function(e) {
            return e.ownerDocument.defaultView.getComputedStyle(e, null)
        };
    ! function() {
        function t() {
            s.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute", s.innerHTML = "", r.appendChild(o);
            var t = e.getComputedStyle(s, null);
            n = "1%" !== t.top, i = "4px" === t.width, r.removeChild(o)
        }
        var n, i, r = Z.documentElement,
            o = Z.createElement("div"),
            s = Z.createElement("div");
        s.style && (s.style.backgroundClip = "content-box", s.cloneNode(!0).style.backgroundClip = "", K.clearCloneStyle = "content-box" === s.style.backgroundClip, o.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute", o.appendChild(s), e.getComputedStyle && J.extend(K, {
            pixelPosition: function() {
                return t(), n
            },
            boxSizingReliable: function() {
                return null == i && t(), i
            },
            reliableMarginRight: function() {
                var t, n = s.appendChild(Z.createElement("div"));
                return n.style.cssText = s.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", n.style.marginRight = n.style.width = "0", s.style.width = "1px", r.appendChild(o), t = !parseFloat(e.getComputedStyle(n, null).marginRight), r.removeChild(o), t
            }
        }))
    }(), J.swap = function(e, t, n, i) {
        var r, o, s = {};
        for (o in t) s[o] = e.style[o], e.style[o] = t[o];
        r = n.apply(e, i || []);
        for (o in t) e.style[o] = s[o];
        return r
    };
    var qt = /^(none|table(?!-c[ea]).+)/,
        Ut = new RegExp("^(" + _t + ")(.*)$", "i"),
        Vt = new RegExp("^([+-])=(" + _t + ")", "i"),
        Yt = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Gt = {
            letterSpacing: "0",
            fontWeight: "400"
        },
        Xt = ["Webkit", "O", "Moz", "ms"];
    J.extend({
        cssHooks: {
            opacity: {
                get: function(e, t) {
                    if (t) {
                        var n = _(e, "opacity");
                        return "" === n ? "1" : n
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": "cssFloat"
        },
        style: function(e, t, n, i) {
            if (e && 3 !== e.nodeType && 8 !== e.nodeType && e.style) {
                var r, o, s, a = J.camelCase(t),
                    l = e.style;
                return t = J.cssProps[a] || (J.cssProps[a] = $(l, a)), s = J.cssHooks[t] || J.cssHooks[a], void 0 === n ? s && "get" in s && void 0 !== (r = s.get(e, !1, i)) ? r : l[t] : (o = typeof n, "string" === o && (r = Vt.exec(n)) && (n = (r[1] + 1) * r[2] + parseFloat(J.css(e, t)), o = "number"), void(null != n && n === n && ("number" !== o || J.cssNumber[a] || (n += "px"), K.clearCloneStyle || "" !== n || 0 !== t.indexOf("background") || (l[t] = "inherit"), s && "set" in s && void 0 === (n = s.set(e, n, i)) || (l[t] = n))))
            }
        },
        css: function(e, t, n, i) {
            var r, o, s, a = J.camelCase(t);
            return t = J.cssProps[a] || (J.cssProps[a] = $(e.style, a)), s = J.cssHooks[t] || J.cssHooks[a], s && "get" in s && (r = s.get(e, !0, n)), void 0 === r && (r = _(e, t, i)), "normal" === r && t in Gt && (r = Gt[t]), "" === n || n ? (o = parseFloat(r), n === !0 || J.isNumeric(o) ? o || 0 : r) : r
        }
    }), J.each(["height", "width"], function(e, t) {
        J.cssHooks[t] = {
            get: function(e, n, i) {
                return n ? qt.test(J.css(e, "display")) && 0 === e.offsetWidth ? J.swap(e, Yt, function() {
                    return S(e, t, i)
                }) : S(e, t, i) : void 0
            },
            set: function(e, n, i) {
                var r = i && zt(e);
                return C(e, n, i ? k(e, t, i, "border-box" === J.css(e, "boxSizing", !1, r), r) : 0)
            }
        }
    }), J.cssHooks.marginRight = x(K.reliableMarginRight, function(e, t) {
        return t ? J.swap(e, {
            display: "inline-block"
        }, _, [e, "marginRight"]) : void 0
    }), J.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(e, t) {
        J.cssHooks[e + t] = {
            expand: function(n) {
                for (var i = 0, r = {}, o = "string" == typeof n ? n.split(" ") : [n]; 4 > i; i++) r[e + xt[i] + t] = o[i] || o[i - 2] || o[0];
                return r
            }
        }, Lt.test(e) || (J.cssHooks[e + t].set = C)
    }), J.fn.extend({
        css: function(e, t) {
            return gt(this, function(e, t, n) {
                var i, r, o = {},
                    s = 0;
                if (J.isArray(t)) {
                    for (i = zt(e), r = t.length; r > s; s++) o[t[s]] = J.css(e, t[s], !1, i);
                    return o
                }
                return void 0 !== n ? J.style(e, t, n) : J.css(e, t)
            }, e, t, arguments.length > 1)
        },
        show: function() {
            return T(this, !0)
        },
        hide: function() {
            return T(this)
        },
        toggle: function(e) {
            return "boolean" == typeof e ? e ? this.show() : this.hide() : this.each(function() {
                $t(this) ? J(this).show() : J(this).hide()
            })
        }
    }), J.Tween = E, E.prototype = {
        constructor: E,
        init: function(e, t, n, i, r, o) {
            this.elem = e, this.prop = n, this.easing = r || "swing", this.options = t, this.start = this.now = this.cur(), this.end = i, this.unit = o || (J.cssNumber[n] ? "" : "px")
        },
        cur: function() {
            var e = E.propHooks[this.prop];
            return e && e.get ? e.get(this) : E.propHooks._default.get(this)
        },
        run: function(e) {
            var t, n = E.propHooks[this.prop];
            return this.pos = t = this.options.duration ? J.easing[this.easing](e, this.options.duration * e, 0, 1, this.options.duration) : e, this.now = (this.end - this.start) * t + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : E.propHooks._default.set(this), this
        }
    }, E.prototype.init.prototype = E.prototype, E.propHooks = {
        _default: {
            get: function(e) {
                var t;
                return null == e.elem[e.prop] || e.elem.style && null != e.elem.style[e.prop] ? (t = J.css(e.elem, e.prop, ""), t && "auto" !== t ? t : 0) : e.elem[e.prop]
            },
            set: function(e) {
                J.fx.step[e.prop] ? J.fx.step[e.prop](e) : e.elem.style && (null != e.elem.style[J.cssProps[e.prop]] || J.cssHooks[e.prop]) ? J.style(e.elem, e.prop, e.now + e.unit) : e.elem[e.prop] = e.now
            }
        }
    }, E.propHooks.scrollTop = E.propHooks.scrollLeft = {
        set: function(e) {
            e.elem.nodeType && e.elem.parentNode && (e.elem[e.prop] = e.now)
        }
    }, J.easing = {
        linear: function(e) {
            return e
        },
        swing: function(e) {
            return .5 - Math.cos(e * Math.PI) / 2
        }
    }, J.fx = E.prototype.init, J.fx.step = {};
    var Kt, Zt, Qt = /^(?:toggle|show|hide)$/,
        Jt = new RegExp("^(?:([+-])=|)(" + _t + ")([a-z%]*)$", "i"),
        en = /queueHooks$/,
        tn = [N],
        nn = {
            "*": [function(e, t) {
                var n = this.createTween(e, t),
                    i = n.cur(),
                    r = Jt.exec(t),
                    o = r && r[3] || (J.cssNumber[e] ? "" : "px"),
                    s = (J.cssNumber[e] || "px" !== o && +i) && Jt.exec(J.css(n.elem, e)),
                    a = 1,
                    l = 20;
                if (s && s[3] !== o) {
                    o = o || s[3], r = r || [], s = +i || 1;
                    do a = a || ".5", s /= a, J.style(n.elem, e, s + o); while (a !== (a = n.cur() / i) && 1 !== a && --l)
                }
                return r && (s = n.start = +s || +i || 0, n.unit = o, n.end = r[1] ? s + (r[1] + 1) * r[2] : +r[2]), n
            }]
        };
    J.Animation = J.extend(I, {
            tweener: function(e, t) {
                J.isFunction(e) ? (t = e, e = ["*"]) : e = e.split(" ");
                for (var n, i = 0, r = e.length; r > i; i++) n = e[i], nn[n] = nn[n] || [], nn[n].unshift(t)
            },
            prefilter: function(e, t) {
                t ? tn.unshift(e) : tn.push(e)
            }
        }), J.speed = function(e, t, n) {
            var i = e && "object" == typeof e ? J.extend({}, e) : {
                complete: n || !n && t || J.isFunction(e) && e,
                duration: e,
                easing: n && t || t && !J.isFunction(t) && t
            };
            return i.duration = J.fx.off ? 0 : "number" == typeof i.duration ? i.duration : i.duration in J.fx.speeds ? J.fx.speeds[i.duration] : J.fx.speeds._default, (null == i.queue || i.queue === !0) && (i.queue = "fx"), i.old = i.complete, i.complete = function() {
                J.isFunction(i.old) && i.old.call(this), i.queue && J.dequeue(this, i.queue)
            }, i
        }, J.fn.extend({
            fadeTo: function(e, t, n, i) {
                return this.filter($t).css("opacity", 0).show().end().animate({
                    opacity: t
                }, e, n, i)
            },
            animate: function(e, t, n, i) {
                var r = J.isEmptyObject(e),
                    o = J.speed(t, n, i),
                    s = function() {
                        var t = I(this, J.extend({}, e), o);
                        (r || vt.get(this, "finish")) && t.stop(!0)
                    };
                return s.finish = s, r || o.queue === !1 ? this.each(s) : this.queue(o.queue, s)
            },
            stop: function(e, t, n) {
                var i = function(e) {
                    var t = e.stop;
                    delete e.stop, t(n)
                };
                return "string" != typeof e && (n = t, t = e, e = void 0), t && e !== !1 && this.queue(e || "fx", []), this.each(function() {
                    var t = !0,
                        r = null != e && e + "queueHooks",
                        o = J.timers,
                        s = vt.get(this);
                    if (r) s[r] && s[r].stop && i(s[r]);
                    else
                        for (r in s) s[r] && s[r].stop && en.test(r) && i(s[r]);
                    for (r = o.length; r--;) o[r].elem !== this || null != e && o[r].queue !== e || (o[r].anim.stop(n), t = !1, o.splice(r, 1));
                    (t || !n) && J.dequeue(this, e)
                })
            },
            finish: function(e) {
                return e !== !1 && (e = e || "fx"), this.each(function() {
                    var t, n = vt.get(this),
                        i = n[e + "queue"],
                        r = n[e + "queueHooks"],
                        o = J.timers,
                        s = i ? i.length : 0;
                    for (n.finish = !0, J.queue(this, e, []), r && r.stop && r.stop.call(this, !0), t = o.length; t--;) o[t].elem === this && o[t].queue === e && (o[t].anim.stop(!0), o.splice(t, 1));
                    for (t = 0; s > t; t++) i[t] && i[t].finish && i[t].finish.call(this);
                    delete n.finish
                })
            }
        }), J.each(["toggle", "show", "hide"], function(e, t) {
            var n = J.fn[t];
            J.fn[t] = function(e, i, r) {
                return null == e || "boolean" == typeof e ? n.apply(this, arguments) : this.animate(A(t, !0), e, i, r)
            }
        }), J.each({
            slideDown: A("show"),
            slideUp: A("hide"),
            slideToggle: A("toggle"),
            fadeIn: {
                opacity: "show"
            },
            fadeOut: {
                opacity: "hide"
            },
            fadeToggle: {
                opacity: "toggle"
            }
        }, function(e, t) {
            J.fn[e] = function(e, n, i) {
                return this.animate(t, e, n, i)
            }
        }), J.timers = [], J.fx.tick = function() {
            var e, t = 0,
                n = J.timers;
            for (Kt = J.now(); t < n.length; t++) e = n[t], e() || n[t] !== e || n.splice(t--, 1);
            n.length || J.fx.stop(), Kt = void 0
        }, J.fx.timer = function(e) {
            J.timers.push(e), e() ? J.fx.start() : J.timers.pop()
        }, J.fx.interval = 13, J.fx.start = function() {
            Zt || (Zt = setInterval(J.fx.tick, J.fx.interval))
        }, J.fx.stop = function() {
            clearInterval(Zt), Zt = null
        }, J.fx.speeds = {
            slow: 600,
            fast: 200,
            _default: 400
        }, J.fn.delay = function(e, t) {
            return e = J.fx ? J.fx.speeds[e] || e : e, t = t || "fx", this.queue(t, function(t, n) {
                var i = setTimeout(t, e);
                n.stop = function() {
                    clearTimeout(i)
                }
            })
        },
        function() {
            var e = Z.createElement("input"),
                t = Z.createElement("select"),
                n = t.appendChild(Z.createElement("option"));
            e.type = "checkbox", K.checkOn = "" !== e.value, K.optSelected = n.selected, t.disabled = !0, K.optDisabled = !n.disabled, e = Z.createElement("input"), e.value = "t", e.type = "radio", K.radioValue = "t" === e.value
        }();
    var rn, on, sn = J.expr.attrHandle;
    J.fn.extend({
        attr: function(e, t) {
            return gt(this, J.attr, e, t, arguments.length > 1)
        },
        removeAttr: function(e) {
            return this.each(function() {
                J.removeAttr(this, e)
            })
        }
    }), J.extend({
        attr: function(e, t, n) {
            var i, r, o = e.nodeType;
            return e && 3 !== o && 8 !== o && 2 !== o ? typeof e.getAttribute === kt ? J.prop(e, t, n) : (1 === o && J.isXMLDoc(e) || (t = t.toLowerCase(), i = J.attrHooks[t] || (J.expr.match.bool.test(t) ? on : rn)), void 0 === n ? i && "get" in i && null !== (r = i.get(e, t)) ? r : (r = J.find.attr(e, t), null == r ? void 0 : r) : null !== n ? i && "set" in i && void 0 !== (r = i.set(e, n, t)) ? r : (e.setAttribute(t, n + ""), n) : void J.removeAttr(e, t)) : void 0
        },
        removeAttr: function(e, t) {
            var n, i, r = 0,
                o = t && t.match(ft);
            if (o && 1 === e.nodeType)
                for (; n = o[r++];) i = J.propFix[n] || n, J.expr.match.bool.test(n) && (e[i] = !1), e.removeAttribute(n)
        },
        attrHooks: {
            type: {
                set: function(e, t) {
                    if (!K.radioValue && "radio" === t && J.nodeName(e, "input")) {
                        var n = e.value;
                        return e.setAttribute("type", t), n && (e.value = n), t
                    }
                }
            }
        }
    }), on = {
        set: function(e, t, n) {
            return t === !1 ? J.removeAttr(e, n) : e.setAttribute(n, n), n
        }
    }, J.each(J.expr.match.bool.source.match(/\w+/g), function(e, t) {
        var n = sn[t] || J.find.attr;
        sn[t] = function(e, t, i) {
            var r, o;
            return i || (o = sn[t], sn[t] = r, r = null != n(e, t, i) ? t.toLowerCase() : null, sn[t] = o), r
        }
    });
    var an = /^(?:input|select|textarea|button)$/i;
    J.fn.extend({
        prop: function(e, t) {
            return gt(this, J.prop, e, t, arguments.length > 1)
        },
        removeProp: function(e) {
            return this.each(function() {
                delete this[J.propFix[e] || e]
            })
        }
    }), J.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(e, t, n) {
            var i, r, o, s = e.nodeType;
            return e && 3 !== s && 8 !== s && 2 !== s ? (o = 1 !== s || !J.isXMLDoc(e), o && (t = J.propFix[t] || t, r = J.propHooks[t]), void 0 !== n ? r && "set" in r && void 0 !== (i = r.set(e, n, t)) ? i : e[t] = n : r && "get" in r && null !== (i = r.get(e, t)) ? i : e[t]) : void 0
        },
        propHooks: {
            tabIndex: {
                get: function(e) {
                    return e.hasAttribute("tabindex") || an.test(e.nodeName) || e.href ? e.tabIndex : -1
                }
            }
        }
    }), K.optSelected || (J.propHooks.selected = {
        get: function(e) {
            var t = e.parentNode;
            return t && t.parentNode && t.parentNode.selectedIndex, null
        }
    }), J.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        J.propFix[this.toLowerCase()] = this
    });
    var ln = /[\t\r\n\f]/g;
    J.fn.extend({
        addClass: function(e) {
            var t, n, i, r, o, s, a = "string" == typeof e && e,
                l = 0,
                c = this.length;
            if (J.isFunction(e)) return this.each(function(t) {
                J(this).addClass(e.call(this, t, this.className))
            });
            if (a)
                for (t = (e || "").match(ft) || []; c > l; l++)
                    if (n = this[l], i = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(ln, " ") : " ")) {
                        for (o = 0; r = t[o++];) i.indexOf(" " + r + " ") < 0 && (i += r + " ");
                        s = J.trim(i), n.className !== s && (n.className = s)
                    }
            return this
        },
        removeClass: function(e) {
            var t, n, i, r, o, s, a = 0 === arguments.length || "string" == typeof e && e,
                l = 0,
                c = this.length;
            if (J.isFunction(e)) return this.each(function(t) {
                J(this).removeClass(e.call(this, t, this.className))
            });
            if (a)
                for (t = (e || "").match(ft) || []; c > l; l++)
                    if (n = this[l], i = 1 === n.nodeType && (n.className ? (" " + n.className + " ").replace(ln, " ") : "")) {
                        for (o = 0; r = t[o++];)
                            for (; i.indexOf(" " + r + " ") >= 0;) i = i.replace(" " + r + " ", " ");
                        s = e ? J.trim(i) : "", n.className !== s && (n.className = s)
                    }
            return this
        },
        toggleClass: function(e, t) {
            var n = typeof e;
            return "boolean" == typeof t && "string" === n ? t ? this.addClass(e) : this.removeClass(e) : this.each(J.isFunction(e) ? function(n) {
                J(this).toggleClass(e.call(this, n, this.className, t), t)
            } : function() {
                if ("string" === n)
                    for (var t, i = 0, r = J(this), o = e.match(ft) || []; t = o[i++];) r.hasClass(t) ? r.removeClass(t) : r.addClass(t);
                else(n === kt || "boolean" === n) && (this.className && vt.set(this, "__className__", this.className), this.className = this.className || e === !1 ? "" : vt.get(this, "__className__") || "")
            })
        },
        hasClass: function(e) {
            for (var t = " " + e + " ", n = 0, i = this.length; i > n; n++)
                if (1 === this[n].nodeType && (" " + this[n].className + " ").replace(ln, " ").indexOf(t) >= 0) return !0;
            return !1
        }
    });
    var cn = /\r/g;
    J.fn.extend({
        val: function(e) {
            var t, n, i, r = this[0];
            return arguments.length ? (i = J.isFunction(e), this.each(function(n) {
                var r;
                1 === this.nodeType && (r = i ? e.call(this, n, J(this).val()) : e, null == r ? r = "" : "number" == typeof r ? r += "" : J.isArray(r) && (r = J.map(r, function(e) {
                    return null == e ? "" : e + ""
                })), t = J.valHooks[this.type] || J.valHooks[this.nodeName.toLowerCase()], t && "set" in t && void 0 !== t.set(this, r, "value") || (this.value = r))
            })) : r ? (t = J.valHooks[r.type] || J.valHooks[r.nodeName.toLowerCase()], t && "get" in t && void 0 !== (n = t.get(r, "value")) ? n : (n = r.value, "string" == typeof n ? n.replace(cn, "") : null == n ? "" : n)) : void 0
        }
    }), J.extend({
        valHooks: {
            option: {
                get: function(e) {
                    var t = J.find.attr(e, "value");
                    return null != t ? t : J.trim(J.text(e))
                }
            },
            select: {
                get: function(e) {
                    for (var t, n, i = e.options, r = e.selectedIndex, o = "select-one" === e.type || 0 > r, s = o ? null : [], a = o ? r + 1 : i.length, l = 0 > r ? a : o ? r : 0; a > l; l++)
                        if (n = i[l], !(!n.selected && l !== r || (K.optDisabled ? n.disabled : null !== n.getAttribute("disabled")) || n.parentNode.disabled && J.nodeName(n.parentNode, "optgroup"))) {
                            if (t = J(n).val(), o) return t;
                            s.push(t)
                        }
                    return s
                },
                set: function(e, t) {
                    for (var n, i, r = e.options, o = J.makeArray(t), s = r.length; s--;) i = r[s], (i.selected = J.inArray(i.value, o) >= 0) && (n = !0);
                    return n || (e.selectedIndex = -1), o
                }
            }
        }
    }), J.each(["radio", "checkbox"], function() {
        J.valHooks[this] = {
            set: function(e, t) {
                return J.isArray(t) ? e.checked = J.inArray(J(e).val(), t) >= 0 : void 0
            }
        }, K.checkOn || (J.valHooks[this].get = function(e) {
            return null === e.getAttribute("value") ? "on" : e.value
        })
    }), J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(e, t) {
        J.fn[t] = function(e, n) {
            return arguments.length > 0 ? this.on(t, null, e, n) : this.trigger(t)
        }
    }), J.fn.extend({
        hover: function(e, t) {
            return this.mouseenter(e).mouseleave(t || e)
        },
        bind: function(e, t, n) {
            return this.on(e, null, t, n)
        },
        unbind: function(e, t) {
            return this.off(e, null, t)
        },
        delegate: function(e, t, n, i) {
            return this.on(t, e, n, i)
        },
        undelegate: function(e, t, n) {
            return 1 === arguments.length ? this.off(e, "**") : this.off(t, e || "**", n)
        }
    });
    var un = J.now(),
        hn = /\?/;
    J.parseJSON = function(e) {
        return JSON.parse(e + "")
    }, J.parseXML = function(e) {
        var t, n;
        if (!e || "string" != typeof e) return null;
        try {
            n = new DOMParser, t = n.parseFromString(e, "text/xml")
        } catch (i) {
            t = void 0
        }
        return (!t || t.getElementsByTagName("parsererror").length) && J.error("Invalid XML: " + e), t
    };
    var dn, fn, pn = /#.*$/,
        mn = /([?&])_=[^&]*/,
        gn = /^(.*?):[ \t]*([^\r\n]*)$/gm,
        vn = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        yn = /^(?:GET|HEAD)$/,
        bn = /^\/\//,
        wn = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
        _n = {},
        xn = {},
        $n = "*/".concat("*");
    try {
        fn = location.href
    } catch (Cn) {
        fn = Z.createElement("a"), fn.href = "", fn = fn.href
    }
    dn = wn.exec(fn.toLowerCase()) || [], J.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: fn,
            type: "GET",
            isLocal: vn.test(dn[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": $n,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": J.parseJSON,
                "text xml": J.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(e, t) {
            return t ? B(B(e, J.ajaxSettings), t) : B(J.ajaxSettings, e)
        },
        ajaxPrefilter: M(_n),
        ajaxTransport: M(xn),
        ajax: function(e, t) {
            function n(e, t, n, s) {
                var l, u, v, y, w, x = t;
                2 !== b && (b = 2, a && clearTimeout(a), i = void 0, o = s || "", _.readyState = e > 0 ? 4 : 0, l = e >= 200 && 300 > e || 304 === e, n && (y = F(h, _, n)), y = H(h, y, _, l), l ? (h.ifModified && (w = _.getResponseHeader("Last-Modified"), w && (J.lastModified[r] = w), w = _.getResponseHeader("etag"), w && (J.etag[r] = w)), 204 === e || "HEAD" === h.type ? x = "nocontent" : 304 === e ? x = "notmodified" : (x = y.state, u = y.data, v = y.error, l = !v)) : (v = x, (e || !x) && (x = "error", 0 > e && (e = 0))), _.status = e, _.statusText = (t || x) + "", l ? p.resolveWith(d, [u, x, _]) : p.rejectWith(d, [_, x, v]), _.statusCode(g), g = void 0, c && f.trigger(l ? "ajaxSuccess" : "ajaxError", [_, h, l ? u : v]), m.fireWith(d, [_, x]), c && (f.trigger("ajaxComplete", [_, h]), --J.active || J.event.trigger("ajaxStop")))
            }
            "object" == typeof e && (t = e, e = void 0), t = t || {};
            var i, r, o, s, a, l, c, u, h = J.ajaxSetup({}, t),
                d = h.context || h,
                f = h.context && (d.nodeType || d.jquery) ? J(d) : J.event,
                p = J.Deferred(),
                m = J.Callbacks("once memory"),
                g = h.statusCode || {},
                v = {},
                y = {},
                b = 0,
                w = "canceled",
                _ = {
                    readyState: 0,
                    getResponseHeader: function(e) {
                        var t;
                        if (2 === b) {
                            if (!s)
                                for (s = {}; t = gn.exec(o);) s[t[1].toLowerCase()] = t[2];
                            t = s[e.toLowerCase()]
                        }
                        return null == t ? null : t
                    },
                    getAllResponseHeaders: function() {
                        return 2 === b ? o : null
                    },
                    setRequestHeader: function(e, t) {
                        var n = e.toLowerCase();
                        return b || (e = y[n] = y[n] || e, v[e] = t), this
                    },
                    overrideMimeType: function(e) {
                        return b || (h.mimeType = e), this
                    },
                    statusCode: function(e) {
                        var t;
                        if (e)
                            if (2 > b)
                                for (t in e) g[t] = [g[t], e[t]];
                            else _.always(e[_.status]);
                        return this
                    },
                    abort: function(e) {
                        var t = e || w;
                        return i && i.abort(t), n(0, t), this
                    }
                };
            if (p.promise(_).complete = m.add, _.success = _.done, _.error = _.fail, h.url = ((e || h.url || fn) + "").replace(pn, "").replace(bn, dn[1] + "//"), h.type = t.method || t.type || h.method || h.type, h.dataTypes = J.trim(h.dataType || "*").toLowerCase().match(ft) || [""], null == h.crossDomain && (l = wn.exec(h.url.toLowerCase()), h.crossDomain = !(!l || l[1] === dn[1] && l[2] === dn[2] && (l[3] || ("http:" === l[1] ? "80" : "443")) === (dn[3] || ("http:" === dn[1] ? "80" : "443")))), h.data && h.processData && "string" != typeof h.data && (h.data = J.param(h.data, h.traditional)), R(_n, h, t, _), 2 === b) return _;
            c = h.global, c && 0 === J.active++ && J.event.trigger("ajaxStart"), h.type = h.type.toUpperCase(), h.hasContent = !yn.test(h.type), r = h.url, h.hasContent || (h.data && (r = h.url += (hn.test(r) ? "&" : "?") + h.data, delete h.data), h.cache === !1 && (h.url = mn.test(r) ? r.replace(mn, "$1_=" + un++) : r + (hn.test(r) ? "&" : "?") + "_=" + un++)), h.ifModified && (J.lastModified[r] && _.setRequestHeader("If-Modified-Since", J.lastModified[r]), J.etag[r] && _.setRequestHeader("If-None-Match", J.etag[r])), (h.data && h.hasContent && h.contentType !== !1 || t.contentType) && _.setRequestHeader("Content-Type", h.contentType), _.setRequestHeader("Accept", h.dataTypes[0] && h.accepts[h.dataTypes[0]] ? h.accepts[h.dataTypes[0]] + ("*" !== h.dataTypes[0] ? ", " + $n + "; q=0.01" : "") : h.accepts["*"]);
            for (u in h.headers) _.setRequestHeader(u, h.headers[u]);
            if (h.beforeSend && (h.beforeSend.call(d, _, h) === !1 || 2 === b)) return _.abort();
            w = "abort";
            for (u in {
                    success: 1,
                    error: 1,
                    complete: 1
                }) _[u](h[u]);
            if (i = R(xn, h, t, _)) {
                _.readyState = 1, c && f.trigger("ajaxSend", [_, h]), h.async && h.timeout > 0 && (a = setTimeout(function() {
                    _.abort("timeout")
                }, h.timeout));
                try {
                    b = 1, i.send(v, n)
                } catch (x) {
                    if (!(2 > b)) throw x;
                    n(-1, x)
                }
            } else n(-1, "No Transport");
            return _
        },
        getJSON: function(e, t, n) {
            return J.get(e, t, n, "json")
        },
        getScript: function(e, t) {
            return J.get(e, void 0, t, "script")
        }
    }), J.each(["get", "post"], function(e, t) {
        J[t] = function(e, n, i, r) {
            return J.isFunction(n) && (r = r || i, i = n, n = void 0), J.ajax({
                url: e,
                type: t,
                dataType: r,
                data: n,
                success: i
            })
        }
    }), J.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(e, t) {
        J.fn[t] = function(e) {
            return this.on(t, e)
        }
    }), J._evalUrl = function(e) {
        return J.ajax({
            url: e,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    }, J.fn.extend({
        wrapAll: function(e) {
            var t;
            return J.isFunction(e) ? this.each(function(t) {
                J(this).wrapAll(e.call(this, t))
            }) : (this[0] && (t = J(e, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && t.insertBefore(this[0]), t.map(function() {
                for (var e = this; e.firstElementChild;) e = e.firstElementChild;
                return e
            }).append(this)), this)
        },
        wrapInner: function(e) {
            return this.each(J.isFunction(e) ? function(t) {
                J(this).wrapInner(e.call(this, t))
            } : function() {
                var t = J(this),
                    n = t.contents();
                n.length ? n.wrapAll(e) : t.append(e)
            })
        },
        wrap: function(e) {
            var t = J.isFunction(e);
            return this.each(function(n) {
                J(this).wrapAll(t ? e.call(this, n) : e)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                J.nodeName(this, "body") || J(this).replaceWith(this.childNodes)
            }).end()
        }
    }), J.expr.filters.hidden = function(e) {
        return e.offsetWidth <= 0 && e.offsetHeight <= 0
    }, J.expr.filters.visible = function(e) {
        return !J.expr.filters.hidden(e)
    };
    var kn = /%20/g,
        Sn = /\[\]$/,
        Tn = /\r?\n/g,
        En = /^(?:submit|button|image|reset|file)$/i,
        Dn = /^(?:input|select|textarea|keygen)/i;
    J.param = function(e, t) {
        var n, i = [],
            r = function(e, t) {
                t = J.isFunction(t) ? t() : null == t ? "" : t, i[i.length] = encodeURIComponent(e) + "=" + encodeURIComponent(t)
            };
        if (void 0 === t && (t = J.ajaxSettings && J.ajaxSettings.traditional), J.isArray(e) || e.jquery && !J.isPlainObject(e)) J.each(e, function() {
            r(this.name, this.value)
        });
        else
            for (n in e) j(n, e[n], t, r);
        return i.join("&").replace(kn, "+")
    }, J.fn.extend({
        serialize: function() {
            return J.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var e = J.prop(this, "elements");
                return e ? J.makeArray(e) : this
            }).filter(function() {
                var e = this.type;
                return this.name && !J(this).is(":disabled") && Dn.test(this.nodeName) && !En.test(e) && (this.checked || !Ct.test(e))
            }).map(function(e, t) {
                var n = J(this).val();
                return null == n ? null : J.isArray(n) ? J.map(n, function(e) {
                    return {
                        name: t.name,
                        value: e.replace(Tn, "\r\n")
                    }
                }) : {
                    name: t.name,
                    value: n.replace(Tn, "\r\n")
                }
            }).get()
        }
    }), J.ajaxSettings.xhr = function() {
        try {
            return new XMLHttpRequest
        } catch (e) {}
    };
    var An = 0,
        Pn = {},
        Nn = {
            0: 200,
            1223: 204
        },
        On = J.ajaxSettings.xhr();
    e.ActiveXObject && J(e).on("unload", function() {
        for (var e in Pn) Pn[e]()
    }), K.cors = !!On && "withCredentials" in On, K.ajax = On = !!On, J.ajaxTransport(function(e) {
        var t;
        return K.cors || On && !e.crossDomain ? {
            send: function(n, i) {
                var r, o = e.xhr(),
                    s = ++An;
                if (o.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields)
                    for (r in e.xhrFields) o[r] = e.xhrFields[r];
                e.mimeType && o.overrideMimeType && o.overrideMimeType(e.mimeType), e.crossDomain || n["X-Requested-With"] || (n["X-Requested-With"] = "XMLHttpRequest");
                for (r in n) o.setRequestHeader(r, n[r]);
                t = function(e) {
                    return function() {
                        t && (delete Pn[s], t = o.onload = o.onerror = null, "abort" === e ? o.abort() : "error" === e ? i(o.status, o.statusText) : i(Nn[o.status] || o.status, o.statusText, "string" == typeof o.responseText ? {
                            text: o.responseText
                        } : void 0, o.getAllResponseHeaders()))
                    }
                }, o.onload = t(), o.onerror = t("error"), t = Pn[s] = t("abort");
                try {
                    o.send(e.hasContent && e.data || null)
                } catch (a) {
                    if (t) throw a
                }
            },
            abort: function() {
                t && t()
            }
        } : void 0
    }), J.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(e) {
                return J.globalEval(e), e
            }
        }
    }), J.ajaxPrefilter("script", function(e) {
        void 0 === e.cache && (e.cache = !1), e.crossDomain && (e.type = "GET")
    }), J.ajaxTransport("script", function(e) {
        if (e.crossDomain) {
            var t, n;
            return {
                send: function(i, r) {
                    t = J("<script>").prop({
                        async: !0,
                        charset: e.scriptCharset,
                        src: e.url
                    }).on("load error", n = function(e) {
                        t.remove(), n = null, e && r("error" === e.type ? 404 : 200, e.type)
                    }), Z.head.appendChild(t[0])
                },
                abort: function() {
                    n && n()
                }
            }
        }
    });
    var In = [],
        Mn = /(=)\?(?=&|$)|\?\?/;
    J.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var e = In.pop() || J.expando + "_" + un++;
            return this[e] = !0, e
        }
    }), J.ajaxPrefilter("json jsonp", function(t, n, i) {
        var r, o, s, a = t.jsonp !== !1 && (Mn.test(t.url) ? "url" : "string" == typeof t.data && !(t.contentType || "").indexOf("application/x-www-form-urlencoded") && Mn.test(t.data) && "data");
        return a || "jsonp" === t.dataTypes[0] ? (r = t.jsonpCallback = J.isFunction(t.jsonpCallback) ? t.jsonpCallback() : t.jsonpCallback, a ? t[a] = t[a].replace(Mn, "$1" + r) : t.jsonp !== !1 && (t.url += (hn.test(t.url) ? "&" : "?") + t.jsonp + "=" + r), t.converters["script json"] = function() {
            return s || J.error(r + " was not called"), s[0]
        }, t.dataTypes[0] = "json", o = e[r], e[r] = function() {
            s = arguments
        }, i.always(function() {
            e[r] = o, t[r] && (t.jsonpCallback = n.jsonpCallback, In.push(r)), s && J.isFunction(o) && o(s[0]), s = o = void 0
        }), "script") : void 0
    }), J.parseHTML = function(e, t, n) {
        if (!e || "string" != typeof e) return null;
        "boolean" == typeof t && (n = t, t = !1), t = t || Z;
        var i = st.exec(e),
            r = !n && [];
        return i ? [t.createElement(i[1])] : (i = J.buildFragment([e], t, r), r && r.length && J(r).remove(), J.merge([], i.childNodes))
    };
    var Rn = J.fn.load;
    J.fn.load = function(e, t, n) {
        if ("string" != typeof e && Rn) return Rn.apply(this, arguments);
        var i, r, o, s = this,
            a = e.indexOf(" ");
        return a >= 0 && (i = J.trim(e.slice(a)), e = e.slice(0, a)), J.isFunction(t) ? (n = t, t = void 0) : t && "object" == typeof t && (r = "POST"), s.length > 0 && J.ajax({
            url: e,
            type: r,
            dataType: "html",
            data: t
        }).done(function(e) {
            o = arguments, s.html(i ? J("<div>").append(J.parseHTML(e)).find(i) : e)
        }).complete(n && function(e, t) {
            s.each(n, o || [e.responseText, t, e])
        }), this
    }, J.expr.filters.animated = function(e) {
        return J.grep(J.timers, function(t) {
            return e === t.elem
        }).length
    };
    var Bn = e.document.documentElement;
    J.offset = {
        setOffset: function(e, t, n) {
            var i, r, o, s, a, l, c, u = J.css(e, "position"),
                h = J(e),
                d = {};
            "static" === u && (e.style.position = "relative"), a = h.offset(), o = J.css(e, "top"), l = J.css(e, "left"), c = ("absolute" === u || "fixed" === u) && (o + l).indexOf("auto") > -1, c ? (i = h.position(), s = i.top, r = i.left) : (s = parseFloat(o) || 0, r = parseFloat(l) || 0), J.isFunction(t) && (t = t.call(e, n, a)), null != t.top && (d.top = t.top - a.top + s), null != t.left && (d.left = t.left - a.left + r), "using" in t ? t.using.call(e, d) : h.css(d)
        }
    }, J.fn.extend({
        offset: function(e) {
            if (arguments.length) return void 0 === e ? this : this.each(function(t) {
                J.offset.setOffset(this, e, t)
            });
            var t, n, i = this[0],
                r = {
                    top: 0,
                    left: 0
                },
                o = i && i.ownerDocument;
            return o ? (t = o.documentElement, J.contains(t, i) ? (typeof i.getBoundingClientRect !== kt && (r = i.getBoundingClientRect()), n = L(o), {
                top: r.top + n.pageYOffset - t.clientTop,
                left: r.left + n.pageXOffset - t.clientLeft
            }) : r) : void 0
        },
        position: function() {
            if (this[0]) {
                var e, t, n = this[0],
                    i = {
                        top: 0,
                        left: 0
                    };
                return "fixed" === J.css(n, "position") ? t = n.getBoundingClientRect() : (e = this.offsetParent(), t = this.offset(), J.nodeName(e[0], "html") || (i = e.offset()), i.top += J.css(e[0], "borderTopWidth", !0), i.left += J.css(e[0], "borderLeftWidth", !0)), {
                    top: t.top - i.top - J.css(n, "marginTop", !0),
                    left: t.left - i.left - J.css(n, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var e = this.offsetParent || Bn; e && !J.nodeName(e, "html") && "static" === J.css(e, "position");) e = e.offsetParent;
                return e || Bn
            })
        }
    }), J.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(t, n) {
        var i = "pageYOffset" === n;
        J.fn[t] = function(r) {
            return gt(this, function(t, r, o) {
                var s = L(t);
                return void 0 === o ? s ? s[n] : t[r] : void(s ? s.scrollTo(i ? e.pageXOffset : o, i ? o : e.pageYOffset) : t[r] = o)
            }, t, r, arguments.length, null)
        }
    }), J.each(["top", "left"], function(e, t) {
        J.cssHooks[t] = x(K.pixelPosition, function(e, n) {
            return n ? (n = _(e, t), Wt.test(n) ? J(e).position()[t] + "px" : n) : void 0
        })
    }), J.each({
        Height: "height",
        Width: "width"
    }, function(e, t) {
        J.each({
            padding: "inner" + e,
            content: t,
            "": "outer" + e
        }, function(n, i) {
            J.fn[i] = function(i, r) {
                var o = arguments.length && (n || "boolean" != typeof i),
                    s = n || (i === !0 || r === !0 ? "margin" : "border");
                return gt(this, function(t, n, i) {
                    var r;
                    return J.isWindow(t) ? t.document.documentElement["client" + e] : 9 === t.nodeType ? (r = t.documentElement, Math.max(t.body["scroll" + e], r["scroll" + e], t.body["offset" + e], r["offset" + e], r["client" + e])) : void 0 === i ? J.css(t, n, s) : J.style(t, n, i, s)
                }, t, o ? i : void 0, o, null)
            }
        })
    }), J.fn.size = function() {
        return this.length
    }, J.fn.andSelf = J.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function() {
        return J
    });
    var Fn = e.jQuery,
        Hn = e.$;
    return J.noConflict = function(t) {
        return e.$ === J && (e.$ = Hn), t && e.jQuery === J && (e.jQuery = Fn), J
    }, typeof t === kt && (e.jQuery = e.$ = J), J
}),
function(e) {
    function t(e, t, r) {
        var o = e[0],
            s = /er/.test(r) ? g : /bl/.test(r) ? p : d,
            a = r == v ? {
                checked: o[d],
                disabled: o[p],
                indeterminate: "true" == e.attr(g) || "false" == e.attr(m)
            } : o[s];
        if (/^(ch|di|in)/.test(r) && !a) n(e, s);
        else if (/^(un|en|de)/.test(r) && a) i(e, s);
        else if (r == v)
            for (var l in a) a[l] ? n(e, l, !0) : i(e, l, !0);
        else t && "toggle" != r || (t || e[$]("ifClicked"), a ? o[y] !== h && i(e, s) : n(e, s))
    }

    function n(t, n, r) {
        var u = t[0],
            v = t.parent(),
            b = n == d,
            w = n == g,
            $ = n == p,
            C = w ? m : b ? f : "enabled",
            S = o(t, C + s(u[y])),
            T = o(t, n + s(u[y]));
        if (u[n] !== !0) {
            if (!r && n == d && u[y] == h && u.name) {
                var E = t.closest("form"),
                    D = 'input[name="' + u.name + '"]';
                D = E.length ? E.find(D) : e(D), D.each(function() {
                    this !== u && e(this).data(l) && i(e(this), n)
                })
            }
            w ? (u[n] = !0, u[d] && i(t, d, "force")) : (r || (u[n] = !0), b && u[g] && i(t, g, !1)), a(t, b, n, r)
        }
        u[p] && o(t, k, !0) && v.find("." + c).css(k, "default"), v[_](T || o(t, n) || ""), v.attr("role") && !w && v.attr("aria-" + ($ ? p : d), "true"), v[x](S || o(t, C) || "")
    }

    function i(e, t, n) {
        var i = e[0],
            r = e.parent(),
            l = t == d,
            u = t == g,
            h = t == p,
            v = u ? m : l ? f : "enabled",
            b = o(e, v + s(i[y])),
            w = o(e, t + s(i[y]));
        i[t] !== !1 && ((u || !n || "force" == n) && (i[t] = !1), a(e, l, v, n)), !i[p] && o(e, k, !0) && r.find("." + c).css(k, "pointer"), r[x](w || o(e, t) || ""), r.attr("role") && !u && r.attr("aria-" + (h ? p : d), "false"), r[_](b || o(e, v) || "")
    }

    function r(t, n) {
        t.data(l) && (t.parent().html(t.attr("style", t.data(l).s || "")), n && t[$](n), t.off(".i").unwrap(), e(C + '[for="' + t[0].id + '"]').add(t.closest(C)).off(".i"))
    }

    function o(e, t, n) {
        return e.data(l) ? e.data(l).o[t + (n ? "" : "Class")] : void 0
    }

    function s(e) {
        return e.charAt(0).toUpperCase() + e.slice(1)
    }

    function a(e, t, n, i) {
        i || (t && e[$]("ifToggled"), e[$]("ifChanged")[$]("if" + s(n)))
    }
    var l = "iCheck",
        c = l + "-helper",
        u = "checkbox",
        h = "radio",
        d = "checked",
        f = "un" + d,
        p = "disabled",
        m = "determinate",
        g = "in" + m,
        v = "update",
        y = "type",
        b = "click",
        w = "touchbegin.i touchend.i",
        _ = "addClass",
        x = "removeClass",
        $ = "trigger",
        C = "label",
        k = "cursor",
        S = /ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);
    e.fn[l] = function(o, s) {
        var a = 'input[type="' + u + '"], input[type="' + h + '"]',
            f = e(),
            m = function(t) {
                t.each(function() {
                    var t = e(this);
                    f = f.add(t.is(a) ? t : t.find(a))
                })
            };
        if (/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(o)) return o = o.toLowerCase(), m(this), f.each(function() {
            var n = e(this);
            "destroy" == o ? r(n, "ifDestroyed") : t(n, !0, o), e.isFunction(s) && s()
        });
        if ("object" != typeof o && o) return this;
        var k = e.extend({
                checkedClass: d,
                disabledClass: p,
                indeterminateClass: g,
                labelHover: !0
            }, o),
            T = k.handle,
            E = k.hoverClass || "hover",
            D = k.focusClass || "focus",
            A = k.activeClass || "active",
            P = !!k.labelHover,
            N = k.labelHoverClass || "hover",
            O = 0 | ("" + k.increaseArea).replace("%", "");
        return (T == u || T == h) && (a = 'input[type="' + T + '"]'), -50 > O && (O = -50), m(this), f.each(function() {
            var o = e(this);
            r(o);
            var s, a = this,
                f = a.id,
                m = -O + "%",
                g = 100 + 2 * O + "%",
                T = {
                    position: "absolute",
                    top: m,
                    left: m,
                    display: "block",
                    width: g,
                    height: g,
                    margin: 0,
                    padding: 0,
                    background: "#fff",
                    border: 0,
                    opacity: 0
                },
                I = S ? {
                    position: "absolute",
                    visibility: "hidden"
                } : O ? T : {
                    position: "absolute",
                    opacity: 0
                },
                M = a[y] == u ? k.checkboxClass || "i" + u : k.radioClass || "i" + h,
                R = e(C + '[for="' + f + '"]').add(o.closest(C)),
                B = !!k.aria,
                F = l + "-" + Math.random().toString(36).substr(2, 6),
                H = '<div class="' + M + '" ' + (B ? 'role="' + a[y] + '" ' : "");
            B && R.each(function() {
                H += 'aria-labelledby="', this.id ? H += this.id : (this.id = F, H += F), H += '"'
            }), H = o.wrap(H + "/>")[$]("ifCreated").parent().append(k.insert), s = e('<ins class="' + c + '"/>').css(T).appendTo(H), o.data(l, {
                o: k,
                s: o.attr("style")
            }).css(I), !!k.inheritClass && H[_](a.className || ""), !!k.inheritID && f && H.attr("id", l + "-" + f), "static" == H.css("position") && H.css("position", "relative"), t(o, !0, v), R.length && R.on(b + ".i mouseover.i mouseout.i " + w, function(n) {
                var i = n[y],
                    r = e(this);
                if (!a[p]) {
                    if (i == b) {
                        if (e(n.target).is("a")) return;
                        t(o, !1, !0)
                    } else P && (/ut|nd/.test(i) ? (H[x](E), r[x](N)) : (H[_](E), r[_](N)));
                    if (!S) return !1;
                    n.stopPropagation()
                }
            }), o.on(b + ".i focus.i blur.i keyup.i keydown.i keypress.i", function(e) {
                var t = e[y],
                    r = e.keyCode;
                return t == b ? !1 : "keydown" == t && 32 == r ? (a[y] == h && a[d] || (a[d] ? i(o, d) : n(o, d)), !1) : void("keyup" == t && a[y] == h ? !a[d] && n(o, d) : /us|ur/.test(t) && H["blur" == t ? x : _](D))
            }), s.on(b + " mousedown mouseup mouseover mouseout " + w, function(e) {
                var n = e[y],
                    i = /wn|up/.test(n) ? A : E;
                if (!a[p]) {
                    if (n == b ? t(o, !1, !0) : (/wn|er|in/.test(n) ? H[_](i) : H[x](i + " " + A), R.length && P && i == E && R[/ut|nd/.test(n) ? x : _](N)), !S) return !1;
                    e.stopPropagation()
                }
            })
        })
    }
}(window.jQuery || window.Zepto), ! function(e, t) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define(t) : e.moment = t()
}(this, function() {
    "use strict";

    function e() {
        return Ai.apply(null, arguments)
    }

    function t(e) {
        Ai = e
    }

    function n(e) {
        return "[object Array]" === Object.prototype.toString.call(e)
    }

    function i(e) {
        return e instanceof Date || "[object Date]" === Object.prototype.toString.call(e)
    }

    function r(e, t) {
        var n, i = [];
        for (n = 0; n < e.length; ++n) i.push(t(e[n], n));
        return i
    }

    function o(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }

    function s(e, t) {
        for (var n in t) o(t, n) && (e[n] = t[n]);
        return o(t, "toString") && (e.toString = t.toString), o(t, "valueOf") && (e.valueOf = t.valueOf), e
    }

    function a(e, t, n, i) {
        return kt(e, t, n, i, !0).utc()
    }

    function l() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1
        }
    }

    function c(e) {
        return null == e._pf && (e._pf = l()), e._pf
    }

    function u(e) {
        if (null == e._isValid) {
            var t = c(e);
            e._isValid = !isNaN(e._d.getTime()) && t.overflow < 0 && !t.empty && !t.invalidMonth && !t.nullInput && !t.invalidFormat && !t.userInvalidated, e._strict && (e._isValid = e._isValid && 0 === t.charsLeftOver && 0 === t.unusedTokens.length && void 0 === t.bigHour)
        }
        return e._isValid
    }

    function h(e) {
        var t = a(0 / 0);
        return null != e ? s(c(t), e) : c(t).userInvalidated = !0, t
    }

    function d(e, t) {
        var n, i, r;
        if ("undefined" != typeof t._isAMomentObject && (e._isAMomentObject = t._isAMomentObject), "undefined" != typeof t._i && (e._i = t._i), "undefined" != typeof t._f && (e._f = t._f), "undefined" != typeof t._l && (e._l = t._l), "undefined" != typeof t._strict && (e._strict = t._strict), "undefined" != typeof t._tzm && (e._tzm = t._tzm), "undefined" != typeof t._isUTC && (e._isUTC = t._isUTC), "undefined" != typeof t._offset && (e._offset = t._offset), "undefined" != typeof t._pf && (e._pf = c(t)), "undefined" != typeof t._locale && (e._locale = t._locale), Ni.length > 0)
            for (n in Ni) i = Ni[n], r = t[i], "undefined" != typeof r && (e[i] = r);
        return e
    }

    function f(t) {
        d(this, t), this._d = new Date(+t._d), Oi === !1 && (Oi = !0, e.updateOffset(this), Oi = !1)
    }

    function p(e) {
        return e instanceof f || null != e && null != e._isAMomentObject
    }

    function m(e) {
        var t = +e,
            n = 0;
        return 0 !== t && isFinite(t) && (n = t >= 0 ? Math.floor(t) : Math.ceil(t)), n
    }

    function g(e, t, n) {
        var i, r = Math.min(e.length, t.length),
            o = Math.abs(e.length - t.length),
            s = 0;
        for (i = 0; r > i; i++)(n && e[i] !== t[i] || !n && m(e[i]) !== m(t[i])) && s++;
        return s + o
    }

    function v() {}

    function y(e) {
        return e ? e.toLowerCase().replace("_", "-") : e
    }

    function b(e) {
        for (var t, n, i, r, o = 0; o < e.length;) {
            for (r = y(e[o]).split("-"), t = r.length, n = y(e[o + 1]), n = n ? n.split("-") : null; t > 0;) {
                if (i = w(r.slice(0, t).join("-"))) return i;
                if (n && n.length >= t && g(r, n, !0) >= t - 1) break;
                t--
            }
            o++
        }
        return null
    }

    function w(e) {
        var t = null;
        if (!Ii[e] && "undefined" != typeof module && module && module.exports) try {
            t = Pi._abbr, require("./locale/" + e), _(t)
        } catch (n) {}
        return Ii[e]
    }

    function _(e, t) {
        var n;
        return e && (n = "undefined" == typeof t ? $(e) : x(e, t), n && (Pi = n)), Pi._abbr
    }

    function x(e, t) {
        return null !== t ? (t.abbr = e, Ii[e] || (Ii[e] = new v), Ii[e].set(t), _(e), Ii[e]) : (delete Ii[e], null)
    }

    function $(e) {
        var t;
        if (e && e._locale && e._locale._abbr && (e = e._locale._abbr), !e) return Pi;
        if (!n(e)) {
            if (t = w(e)) return t;
            e = [e]
        }
        return b(e)
    }

    function C(e, t) {
        var n = e.toLowerCase();
        Mi[n] = Mi[n + "s"] = Mi[t] = e
    }

    function k(e) {
        return "string" == typeof e ? Mi[e] || Mi[e.toLowerCase()] : void 0
    }

    function S(e) {
        var t, n, i = {};
        for (n in e) o(e, n) && (t = k(n), t && (i[t] = e[n]));
        return i
    }

    function T(t, n) {
        return function(i) {
            return null != i ? (D(this, t, i), e.updateOffset(this, n), this) : E(this, t)
        }
    }

    function E(e, t) {
        return e._d["get" + (e._isUTC ? "UTC" : "") + t]()
    }

    function D(e, t, n) {
        return e._d["set" + (e._isUTC ? "UTC" : "") + t](n)
    }

    function A(e, t) {
        var n;
        if ("object" == typeof e)
            for (n in e) this.set(n, e[n]);
        else if (e = k(e), "function" == typeof this[e]) return this[e](t);
        return this
    }

    function P(e, t, n) {
        for (var i = "" + Math.abs(e), r = e >= 0; i.length < t;) i = "0" + i;
        return (r ? n ? "+" : "" : "-") + i
    }

    function N(e, t, n, i) {
        var r = i;
        "string" == typeof i && (r = function() {
            return this[i]()
        }), e && (Hi[e] = r), t && (Hi[t[0]] = function() {
            return P(r.apply(this, arguments), t[1], t[2])
        }), n && (Hi[n] = function() {
            return this.localeData().ordinal(r.apply(this, arguments), e)
        })
    }

    function O(e) {
        return e.match(/\[[\s\S]/) ? e.replace(/^\[|\]$/g, "") : e.replace(/\\/g, "")
    }

    function I(e) {
        var t, n, i = e.match(Ri);
        for (t = 0, n = i.length; n > t; t++) i[t] = Hi[i[t]] ? Hi[i[t]] : O(i[t]);
        return function(r) {
            var o = "";
            for (t = 0; n > t; t++) o += i[t] instanceof Function ? i[t].call(r, e) : i[t];
            return o
        }
    }

    function M(e, t) {
        return e.isValid() ? (t = R(t, e.localeData()), Fi[t] || (Fi[t] = I(t)), Fi[t](e)) : e.localeData().invalidDate()
    }

    function R(e, t) {
        function n(e) {
            return t.longDateFormat(e) || e
        }
        var i = 5;
        for (Bi.lastIndex = 0; i >= 0 && Bi.test(e);) e = e.replace(Bi, n), Bi.lastIndex = 0, i -= 1;
        return e
    }

    function B(e, t, n) {
        er[e] = "function" == typeof t ? t : function(e) {
            return e && n ? n : t
        }
    }

    function F(e, t) {
        return o(er, e) ? er[e](t._strict, t._locale) : new RegExp(H(e))
    }

    function H(e) {
        return e.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(e, t, n, i, r) {
            return t || n || i || r
        }).replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    }

    function j(e, t) {
        var n, i = t;
        for ("string" == typeof e && (e = [e]), "number" == typeof t && (i = function(e, n) {
                n[t] = m(e)
            }), n = 0; n < e.length; n++) tr[e[n]] = i
    }

    function L(e, t) {
        j(e, function(e, n, i, r) {
            i._w = i._w || {}, t(e, i._w, i, r)
        })
    }

    function W(e, t, n) {
        null != t && o(tr, e) && tr[e](t, n._a, n, e)
    }

    function z(e, t) {
        return new Date(Date.UTC(e, t + 1, 0)).getUTCDate()
    }

    function q(e) {
        return this._months[e.month()]
    }

    function U(e) {
        return this._monthsShort[e.month()]
    }

    function V(e, t, n) {
        var i, r, o;
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; 12 > i; i++) {
            if (r = a([2e3, i]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(r, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(r, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (o = "^" + this.months(r, "") + "|^" + this.monthsShort(r, ""), this._monthsParse[i] = new RegExp(o.replace(".", ""), "i")), n && "MMMM" === t && this._longMonthsParse[i].test(e)) return i;
            if (n && "MMM" === t && this._shortMonthsParse[i].test(e)) return i;
            if (!n && this._monthsParse[i].test(e)) return i
        }
    }

    function Y(e, t) {
        var n;
        return "string" == typeof t && (t = e.localeData().monthsParse(t), "number" != typeof t) ? e : (n = Math.min(e.date(), z(e.year(), t)), e._d["set" + (e._isUTC ? "UTC" : "") + "Month"](t, n), e)
    }

    function G(t) {
        return null != t ? (Y(this, t), e.updateOffset(this, !0), this) : E(this, "Month")
    }

    function X() {
        return z(this.year(), this.month())
    }

    function K(e) {
        var t, n = e._a;
        return n && -2 === c(e).overflow && (t = n[ir] < 0 || n[ir] > 11 ? ir : n[rr] < 1 || n[rr] > z(n[nr], n[ir]) ? rr : n[or] < 0 || n[or] > 24 || 24 === n[or] && (0 !== n[sr] || 0 !== n[ar] || 0 !== n[lr]) ? or : n[sr] < 0 || n[sr] > 59 ? sr : n[ar] < 0 || n[ar] > 59 ? ar : n[lr] < 0 || n[lr] > 999 ? lr : -1, c(e)._overflowDayOfYear && (nr > t || t > rr) && (t = rr), c(e).overflow = t), e
    }

    function Z(t) {
        e.suppressDeprecationWarnings === !1 && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t)
    }

    function Q(e, t) {
        var n = !0,
            i = e + "\n" + (new Error).stack;
        return s(function() {
            return n && (Z(i), n = !1), t.apply(this, arguments)
        }, t)
    }

    function J(e, t) {
        hr[e] || (Z(t), hr[e] = !0)
    }

    function et(e) {
        var t, n, i = e._i,
            r = dr.exec(i);
        if (r) {
            for (c(e).iso = !0, t = 0, n = fr.length; n > t; t++)
                if (fr[t][1].exec(i)) {
                    e._f = fr[t][0] + (r[6] || " ");
                    break
                }
            for (t = 0, n = pr.length; n > t; t++)
                if (pr[t][1].exec(i)) {
                    e._f += pr[t][0];
                    break
                }
            i.match(Zi) && (e._f += "Z"), bt(e)
        } else e._isValid = !1
    }

    function tt(t) {
        var n = mr.exec(t._i);
        return null !== n ? void(t._d = new Date(+n[1])) : (et(t), void(t._isValid === !1 && (delete t._isValid, e.createFromInputFallback(t))))
    }

    function nt(e, t, n, i, r, o, s) {
        var a = new Date(e, t, n, i, r, o, s);
        return 1970 > e && a.setFullYear(e), a
    }

    function it(e) {
        var t = new Date(Date.UTC.apply(null, arguments));
        return 1970 > e && t.setUTCFullYear(e), t
    }

    function rt(e) {
        return ot(e) ? 366 : 365
    }

    function ot(e) {
        return e % 4 === 0 && e % 100 !== 0 || e % 400 === 0
    }

    function st() {
        return ot(this.year())
    }

    function at(e, t, n) {
        var i, r = n - t,
            o = n - e.day();
        return o > r && (o -= 7), r - 7 > o && (o += 7), i = St(e).add(o, "d"), {
            week: Math.ceil(i.dayOfYear() / 7),
            year: i.year()
        }
    }

    function lt(e) {
        return at(e, this._week.dow, this._week.doy).week
    }

    function ct() {
        return this._week.dow
    }

    function ut() {
        return this._week.doy
    }

    function ht(e) {
        var t = this.localeData().week(this);
        return null == e ? t : this.add(7 * (e - t), "d")
    }

    function dt(e) {
        var t = at(this, 1, 4).week;
        return null == e ? t : this.add(7 * (e - t), "d")
    }

    function ft(e, t, n, i, r) {
        var o, s, a = it(e, 0, 1).getUTCDay();
        return a = 0 === a ? 7 : a, n = null != n ? n : r, o = r - a + (a > i ? 7 : 0) - (r > a ? 7 : 0), s = 7 * (t - 1) + (n - r) + o + 1, {
            year: s > 0 ? e : e - 1,
            dayOfYear: s > 0 ? s : rt(e - 1) + s
        }
    }

    function pt(e) {
        var t = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == e ? t : this.add(e - t, "d")
    }

    function mt(e, t, n) {
        return null != e ? e : null != t ? t : n
    }

    function gt(e) {
        var t = new Date;
        return e._useUTC ? [t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate()] : [t.getFullYear(), t.getMonth(), t.getDate()]
    }

    function vt(e) {
        var t, n, i, r, o = [];
        if (!e._d) {
            for (i = gt(e), e._w && null == e._a[rr] && null == e._a[ir] && yt(e), e._dayOfYear && (r = mt(e._a[nr], i[nr]), e._dayOfYear > rt(r) && (c(e)._overflowDayOfYear = !0), n = it(r, 0, e._dayOfYear), e._a[ir] = n.getUTCMonth(), e._a[rr] = n.getUTCDate()), t = 0; 3 > t && null == e._a[t]; ++t) e._a[t] = o[t] = i[t];
            for (; 7 > t; t++) e._a[t] = o[t] = null == e._a[t] ? 2 === t ? 1 : 0 : e._a[t];
            24 === e._a[or] && 0 === e._a[sr] && 0 === e._a[ar] && 0 === e._a[lr] && (e._nextDay = !0, e._a[or] = 0), e._d = (e._useUTC ? it : nt).apply(null, o), null != e._tzm && e._d.setUTCMinutes(e._d.getUTCMinutes() - e._tzm), e._nextDay && (e._a[or] = 24)
        }
    }

    function yt(e) {
        var t, n, i, r, o, s, a;
        t = e._w, null != t.GG || null != t.W || null != t.E ? (o = 1, s = 4, n = mt(t.GG, e._a[nr], at(St(), 1, 4).year), i = mt(t.W, 1), r = mt(t.E, 1)) : (o = e._locale._week.dow, s = e._locale._week.doy, n = mt(t.gg, e._a[nr], at(St(), o, s).year), i = mt(t.w, 1), null != t.d ? (r = t.d, o > r && ++i) : r = null != t.e ? t.e + o : o), a = ft(n, i, r, s, o), e._a[nr] = a.year, e._dayOfYear = a.dayOfYear
    }

    function bt(t) {
        if (t._f === e.ISO_8601) return void et(t);
        t._a = [], c(t).empty = !0;
        var n, i, r, o, s, a = "" + t._i,
            l = a.length,
            u = 0;
        for (r = R(t._f, t._locale).match(Ri) || [], n = 0; n < r.length; n++) o = r[n], i = (a.match(F(o, t)) || [])[0], i && (s = a.substr(0, a.indexOf(i)), s.length > 0 && c(t).unusedInput.push(s), a = a.slice(a.indexOf(i) + i.length), u += i.length), Hi[o] ? (i ? c(t).empty = !1 : c(t).unusedTokens.push(o), W(o, i, t)) : t._strict && !i && c(t).unusedTokens.push(o);
        c(t).charsLeftOver = l - u, a.length > 0 && c(t).unusedInput.push(a), c(t).bigHour === !0 && t._a[or] <= 12 && t._a[or] > 0 && (c(t).bigHour = void 0), t._a[or] = wt(t._locale, t._a[or], t._meridiem), vt(t), K(t)
    }

    function wt(e, t, n) {
        var i;
        return null == n ? t : null != e.meridiemHour ? e.meridiemHour(t, n) : null != e.isPM ? (i = e.isPM(n), i && 12 > t && (t += 12), i || 12 !== t || (t = 0), t) : t
    }

    function _t(e) {
        var t, n, i, r, o;
        if (0 === e._f.length) return c(e).invalidFormat = !0, void(e._d = new Date(0 / 0));
        for (r = 0; r < e._f.length; r++) o = 0, t = d({}, e), null != e._useUTC && (t._useUTC = e._useUTC), t._f = e._f[r], bt(t), u(t) && (o += c(t).charsLeftOver, o += 10 * c(t).unusedTokens.length, c(t).score = o, (null == i || i > o) && (i = o, n = t));
        s(e, n || t)
    }

    function xt(e) {
        if (!e._d) {
            var t = S(e._i);
            e._a = [t.year, t.month, t.day || t.date, t.hour, t.minute, t.second, t.millisecond], vt(e)
        }
    }

    function $t(e) {
        var t, r = e._i,
            o = e._f;
        return e._locale = e._locale || $(e._l), null === r || void 0 === o && "" === r ? h({
            nullInput: !0
        }) : ("string" == typeof r && (e._i = r = e._locale.preparse(r)), p(r) ? new f(K(r)) : (n(o) ? _t(e) : o ? bt(e) : i(r) ? e._d = r : Ct(e), t = new f(K(e)), t._nextDay && (t.add(1, "d"), t._nextDay = void 0), t))
    }

    function Ct(t) {
        var o = t._i;
        void 0 === o ? t._d = new Date : i(o) ? t._d = new Date(+o) : "string" == typeof o ? tt(t) : n(o) ? (t._a = r(o.slice(0), function(e) {
            return parseInt(e, 10)
        }), vt(t)) : "object" == typeof o ? xt(t) : "number" == typeof o ? t._d = new Date(o) : e.createFromInputFallback(t)
    }

    function kt(e, t, n, i, r) {
        var o = {};
        return "boolean" == typeof n && (i = n, n = void 0), o._isAMomentObject = !0, o._useUTC = o._isUTC = r, o._l = n, o._i = e, o._f = t, o._strict = i, $t(o)
    }

    function St(e, t, n, i) {
        return kt(e, t, n, i, !1)
    }

    function Tt(e, t) {
        var i, r;
        if (1 === t.length && n(t[0]) && (t = t[0]), !t.length) return St();
        for (i = t[0], r = 1; r < t.length; ++r) t[r][e](i) && (i = t[r]);
        return i
    }

    function Et() {
        var e = [].slice.call(arguments, 0);
        return Tt("isBefore", e)
    }

    function Dt() {
        var e = [].slice.call(arguments, 0);
        return Tt("isAfter", e)
    }

    function At(e) {
        var t = S(e),
            n = t.year || 0,
            i = t.quarter || 0,
            r = t.month || 0,
            o = t.week || 0,
            s = t.day || 0,
            a = t.hour || 0,
            l = t.minute || 0,
            c = t.second || 0,
            u = t.millisecond || 0;
        this._milliseconds = +u + 1e3 * c + 6e4 * l + 36e5 * a, this._days = +s + 7 * o, this._months = +r + 3 * i + 12 * n, this._data = {}, this._locale = $(), this._bubble()
    }

    function Pt(e) {
        return e instanceof At
    }

    function Nt(e, t) {
        N(e, 0, 0, function() {
            var e = this.utcOffset(),
                n = "+";
            return 0 > e && (e = -e, n = "-"), n + P(~~(e / 60), 2) + t + P(~~e % 60, 2)
        })
    }

    function Ot(e) {
        var t = (e || "").match(Zi) || [],
            n = t[t.length - 1] || [],
            i = (n + "").match(wr) || ["-", 0, 0],
            r = +(60 * i[1]) + m(i[2]);
        return "+" === i[0] ? r : -r
    }

    function It(t, n) {
        var r, o;
        return n._isUTC ? (r = n.clone(), o = (p(t) || i(t) ? +t : +St(t)) - +r, r._d.setTime(+r._d + o), e.updateOffset(r, !1), r) : St(t).local()
    }

    function Mt(e) {
        return 15 * -Math.round(e._d.getTimezoneOffset() / 15)
    }

    function Rt(t, n) {
        var i, r = this._offset || 0;
        return null != t ? ("string" == typeof t && (t = Ot(t)), Math.abs(t) < 16 && (t = 60 * t), !this._isUTC && n && (i = Mt(this)), this._offset = t, this._isUTC = !0, null != i && this.add(i, "m"), r !== t && (!n || this._changeInProgress ? Qt(this, Yt(t - r, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, e.updateOffset(this, !0), this._changeInProgress = null)), this) : this._isUTC ? r : Mt(this)
    }

    function Bt(e, t) {
        return null != e ? ("string" != typeof e && (e = -e), this.utcOffset(e, t), this) : -this.utcOffset()
    }

    function Ft(e) {
        return this.utcOffset(0, e)
    }

    function Ht(e) {
        return this._isUTC && (this.utcOffset(0, e), this._isUTC = !1, e && this.subtract(Mt(this), "m")), this
    }

    function jt() {
        return this._tzm ? this.utcOffset(this._tzm) : "string" == typeof this._i && this.utcOffset(Ot(this._i)), this
    }

    function Lt(e) {
        return e = e ? St(e).utcOffset() : 0, (this.utcOffset() - e) % 60 === 0
    }

    function Wt() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
    }

    function zt() {
        if (this._a) {
            var e = this._isUTC ? a(this._a) : St(this._a);
            return this.isValid() && g(this._a, e.toArray()) > 0
        }
        return !1
    }

    function qt() {
        return !this._isUTC
    }

    function Ut() {
        return this._isUTC
    }

    function Vt() {
        return this._isUTC && 0 === this._offset
    }

    function Yt(e, t) {
        var n, i, r, s = e,
            a = null;
        return Pt(e) ? s = {
            ms: e._milliseconds,
            d: e._days,
            M: e._months
        } : "number" == typeof e ? (s = {}, t ? s[t] = e : s.milliseconds = e) : (a = _r.exec(e)) ? (n = "-" === a[1] ? -1 : 1, s = {
            y: 0,
            d: m(a[rr]) * n,
            h: m(a[or]) * n,
            m: m(a[sr]) * n,
            s: m(a[ar]) * n,
            ms: m(a[lr]) * n
        }) : (a = xr.exec(e)) ? (n = "-" === a[1] ? -1 : 1, s = {
            y: Gt(a[2], n),
            M: Gt(a[3], n),
            d: Gt(a[4], n),
            h: Gt(a[5], n),
            m: Gt(a[6], n),
            s: Gt(a[7], n),
            w: Gt(a[8], n)
        }) : null == s ? s = {} : "object" == typeof s && ("from" in s || "to" in s) && (r = Kt(St(s.from), St(s.to)), s = {}, s.ms = r.milliseconds, s.M = r.months), i = new At(s), Pt(e) && o(e, "_locale") && (i._locale = e._locale), i
    }

    function Gt(e, t) {
        var n = e && parseFloat(e.replace(",", "."));
        return (isNaN(n) ? 0 : n) * t
    }

    function Xt(e, t) {
        var n = {
            milliseconds: 0,
            months: 0
        };
        return n.months = t.month() - e.month() + 12 * (t.year() - e.year()), e.clone().add(n.months, "M").isAfter(t) && --n.months, n.milliseconds = +t - +e.clone().add(n.months, "M"), n
    }

    function Kt(e, t) {
        var n;
        return t = It(t, e), e.isBefore(t) ? n = Xt(e, t) : (n = Xt(t, e), n.milliseconds = -n.milliseconds, n.months = -n.months), n
    }

    function Zt(e, t) {
        return function(n, i) {
            var r, o;
            return null === i || isNaN(+i) || (J(t, "moment()." + t + "(period, number) is deprecated. Please use moment()." + t + "(number, period)."), o = n, n = i, i = o), n = "string" == typeof n ? +n : n, r = Yt(n, i), Qt(this, r, e), this
        }
    }

    function Qt(t, n, i, r) {
        var o = n._milliseconds,
            s = n._days,
            a = n._months;
        r = null == r ? !0 : r, o && t._d.setTime(+t._d + o * i), s && D(t, "Date", E(t, "Date") + s * i), a && Y(t, E(t, "Month") + a * i), r && e.updateOffset(t, s || a)
    }

    function Jt(e) {
        var t = e || St(),
            n = It(t, this).startOf("day"),
            i = this.diff(n, "days", !0),
            r = -6 > i ? "sameElse" : -1 > i ? "lastWeek" : 0 > i ? "lastDay" : 1 > i ? "sameDay" : 2 > i ? "nextDay" : 7 > i ? "nextWeek" : "sameElse";
        return this.format(this.localeData().calendar(r, this, St(t)))
    }

    function en() {
        return new f(this)
    }

    function tn(e, t) {
        var n;
        return t = k("undefined" != typeof t ? t : "millisecond"), "millisecond" === t ? (e = p(e) ? e : St(e), +this > +e) : (n = p(e) ? +e : +St(e), n < +this.clone().startOf(t))
    }

    function nn(e, t) {
        var n;
        return t = k("undefined" != typeof t ? t : "millisecond"), "millisecond" === t ? (e = p(e) ? e : St(e), +e > +this) : (n = p(e) ? +e : +St(e), +this.clone().endOf(t) < n)
    }

    function rn(e, t, n) {
        return this.isAfter(e, n) && this.isBefore(t, n)
    }

    function on(e, t) {
        var n;
        return t = k(t || "millisecond"), "millisecond" === t ? (e = p(e) ? e : St(e), +this === +e) : (n = +St(e), +this.clone().startOf(t) <= n && n <= +this.clone().endOf(t))
    }

    function sn(e) {
        return 0 > e ? Math.ceil(e) : Math.floor(e)
    }

    function an(e, t, n) {
        var i, r, o = It(e, this),
            s = 6e4 * (o.utcOffset() - this.utcOffset());
        return t = k(t), "year" === t || "month" === t || "quarter" === t ? (r = ln(this, o), "quarter" === t ? r /= 3 : "year" === t && (r /= 12)) : (i = this - o, r = "second" === t ? i / 1e3 : "minute" === t ? i / 6e4 : "hour" === t ? i / 36e5 : "day" === t ? (i - s) / 864e5 : "week" === t ? (i - s) / 6048e5 : i), n ? r : sn(r)
    }

    function ln(e, t) {
        var n, i, r = 12 * (t.year() - e.year()) + (t.month() - e.month()),
            o = e.clone().add(r, "months");
        return 0 > t - o ? (n = e.clone().add(r - 1, "months"), i = (t - o) / (o - n)) : (n = e.clone().add(r + 1, "months"), i = (t - o) / (n - o)), -(r + i)
    }

    function cn() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
    }

    function un() {
        var e = this.clone().utc();
        return 0 < e.year() && e.year() <= 9999 ? "function" == typeof Date.prototype.toISOString ? this.toDate().toISOString() : M(e, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : M(e, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
    }

    function hn(t) {
        var n = M(this, t || e.defaultFormat);
        return this.localeData().postformat(n)
    }

    function dn(e, t) {
        return this.isValid() ? Yt({
            to: this,
            from: e
        }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
    }

    function fn(e) {
        return this.from(St(), e)
    }

    function pn(e, t) {
        return this.isValid() ? Yt({
            from: this,
            to: e
        }).locale(this.locale()).humanize(!t) : this.localeData().invalidDate()
    }

    function mn(e) {
        return this.to(St(), e)
    }

    function gn(e) {
        var t;
        return void 0 === e ? this._locale._abbr : (t = $(e), null != t && (this._locale = t), this)
    }

    function vn() {
        return this._locale
    }

    function yn(e) {
        switch (e = k(e)) {
            case "year":
                this.month(0);
            case "quarter":
            case "month":
                this.date(1);
            case "week":
            case "isoWeek":
            case "day":
                this.hours(0);
            case "hour":
                this.minutes(0);
            case "minute":
                this.seconds(0);
            case "second":
                this.milliseconds(0)
        }
        return "week" === e && this.weekday(0), "isoWeek" === e && this.isoWeekday(1), "quarter" === e && this.month(3 * Math.floor(this.month() / 3)), this
    }

    function bn(e) {
        return e = k(e), void 0 === e || "millisecond" === e ? this : this.startOf(e).add(1, "isoWeek" === e ? "week" : e).subtract(1, "ms")
    }

    function wn() {
        return +this._d - 6e4 * (this._offset || 0)
    }

    function _n() {
        return Math.floor(+this / 1e3)
    }

    function xn() {
        return this._offset ? new Date(+this) : this._d
    }

    function $n() {
        var e = this;
        return [e.year(), e.month(), e.date(), e.hour(), e.minute(), e.second(), e.millisecond()]
    }

    function Cn() {
        return u(this)
    }

    function kn() {
        return s({}, c(this))
    }

    function Sn() {
        return c(this).overflow
    }

    function Tn(e, t) {
        N(0, [e, e.length], 0, t)
    }

    function En(e, t, n) {
        return at(St([e, 11, 31 + t - n]), t, n).week
    }

    function Dn(e) {
        var t = at(this, this.localeData()._week.dow, this.localeData()._week.doy).year;
        return null == e ? t : this.add(e - t, "y")
    }

    function An(e) {
        var t = at(this, 1, 4).year;
        return null == e ? t : this.add(e - t, "y")
    }

    function Pn() {
        return En(this.year(), 1, 4)
    }

    function Nn() {
        var e = this.localeData()._week;
        return En(this.year(), e.dow, e.doy)
    }

    function On(e) {
        return null == e ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (e - 1) + this.month() % 3)
    }

    function In(e, t) {
        if ("string" == typeof e)
            if (isNaN(e)) {
                if (e = t.weekdaysParse(e), "number" != typeof e) return null
            } else e = parseInt(e, 10);
        return e
    }

    function Mn(e) {
        return this._weekdays[e.day()]
    }

    function Rn(e) {
        return this._weekdaysShort[e.day()]
    }

    function Bn(e) {
        return this._weekdaysMin[e.day()]
    }

    function Fn(e) {
        var t, n, i;
        for (this._weekdaysParse || (this._weekdaysParse = []), t = 0; 7 > t; t++)
            if (this._weekdaysParse[t] || (n = St([2e3, 1]).day(t), i = "^" + this.weekdays(n, "") + "|^" + this.weekdaysShort(n, "") + "|^" + this.weekdaysMin(n, ""), this._weekdaysParse[t] = new RegExp(i.replace(".", ""), "i")), this._weekdaysParse[t].test(e)) return t
    }

    function Hn(e) {
        var t = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != e ? (e = In(e, this.localeData()), this.add(e - t, "d")) : t
    }

    function jn(e) {
        var t = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == e ? t : this.add(e - t, "d")
    }

    function Ln(e) {
        return null == e ? this.day() || 7 : this.day(this.day() % 7 ? e : e - 7)
    }

    function Wn(e, t) {
        N(e, 0, 0, function() {
            return this.localeData().meridiem(this.hours(), this.minutes(), t)
        })
    }

    function zn(e, t) {
        return t._meridiemParse
    }

    function qn(e) {
        return "p" === (e + "").toLowerCase().charAt(0)
    }

    function Un(e, t, n) {
        return e > 11 ? n ? "pm" : "PM" : n ? "am" : "AM"
    }

    function Vn(e) {
        N(0, [e, 3], 0, "millisecond")
    }

    function Yn() {
        return this._isUTC ? "UTC" : ""
    }

    function Gn() {
        return this._isUTC ? "Coordinated Universal Time" : ""
    }

    function Xn(e) {
        return St(1e3 * e)
    }

    function Kn() {
        return St.apply(null, arguments).parseZone()
    }

    function Zn(e, t, n) {
        var i = this._calendar[e];
        return "function" == typeof i ? i.call(t, n) : i
    }

    function Qn(e) {
        var t = this._longDateFormat[e];
        return !t && this._longDateFormat[e.toUpperCase()] && (t = this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function(e) {
            return e.slice(1)
        }), this._longDateFormat[e] = t), t
    }

    function Jn() {
        return this._invalidDate
    }

    function ei(e) {
        return this._ordinal.replace("%d", e)
    }

    function ti(e) {
        return e
    }

    function ni(e, t, n, i) {
        var r = this._relativeTime[n];
        return "function" == typeof r ? r(e, t, n, i) : r.replace(/%d/i, e)
    }

    function ii(e, t) {
        var n = this._relativeTime[e > 0 ? "future" : "past"];
        return "function" == typeof n ? n(t) : n.replace(/%s/i, t)
    }

    function ri(e) {
        var t, n;
        for (n in e) t = e[n], "function" == typeof t ? this[n] = t : this["_" + n] = t;
        this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
    }

    function oi(e, t, n, i) {
        var r = $(),
            o = a().set(i, t);
        return r[n](o, e)
    }

    function si(e, t, n, i, r) {
        if ("number" == typeof e && (t = e, e = void 0), e = e || "", null != t) return oi(e, t, n, r);
        var o, s = [];
        for (o = 0; i > o; o++) s[o] = oi(e, o, n, r);
        return s
    }

    function ai(e, t) {
        return si(e, t, "months", 12, "month")
    }

    function li(e, t) {
        return si(e, t, "monthsShort", 12, "month")
    }

    function ci(e, t) {
        return si(e, t, "weekdays", 7, "day")
    }

    function ui(e, t) {
        return si(e, t, "weekdaysShort", 7, "day")
    }

    function hi(e, t) {
        return si(e, t, "weekdaysMin", 7, "day")
    }

    function di() {
        var e = this._data;
        return this._milliseconds = qr(this._milliseconds), this._days = qr(this._days), this._months = qr(this._months), e.milliseconds = qr(e.milliseconds), e.seconds = qr(e.seconds), e.minutes = qr(e.minutes), e.hours = qr(e.hours), e.months = qr(e.months), e.years = qr(e.years), this
    }

    function fi(e, t, n, i) {
        var r = Yt(t, n);
        return e._milliseconds += i * r._milliseconds, e._days += i * r._days, e._months += i * r._months, e._bubble()
    }

    function pi(e, t) {
        return fi(this, e, t, 1)
    }

    function mi(e, t) {
        return fi(this, e, t, -1)
    }

    function gi() {
        var e, t, n, i = this._milliseconds,
            r = this._days,
            o = this._months,
            s = this._data,
            a = 0;
        return s.milliseconds = i % 1e3, e = sn(i / 1e3), s.seconds = e % 60, t = sn(e / 60), s.minutes = t % 60, n = sn(t / 60), s.hours = n % 24, r += sn(n / 24), a = sn(vi(r)), r -= sn(yi(a)), o += sn(r / 30), r %= 30, a += sn(o / 12), o %= 12, s.days = r, s.months = o, s.years = a, this
    }

    function vi(e) {
        return 400 * e / 146097
    }

    function yi(e) {
        return 146097 * e / 400
    }

    function bi(e) {
        var t, n, i = this._milliseconds;
        if (e = k(e), "month" === e || "year" === e) return t = this._days + i / 864e5, n = this._months + 12 * vi(t), "month" === e ? n : n / 12;
        switch (t = this._days + Math.round(yi(this._months / 12)), e) {
            case "week":
                return t / 7 + i / 6048e5;
            case "day":
                return t + i / 864e5;
            case "hour":
                return 24 * t + i / 36e5;
            case "minute":
                return 1440 * t + i / 6e4;
            case "second":
                return 86400 * t + i / 1e3;
            case "millisecond":
                return Math.floor(864e5 * t) + i;
            default:
                throw new Error("Unknown unit " + e)
        }
    }

    function wi() {
        return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * m(this._months / 12)
    }

    function _i(e) {
        return function() {
            return this.as(e)
        }
    }

    function xi(e) {
        return e = k(e), this[e + "s"]()
    }

    function $i(e) {
        return function() {
            return this._data[e]
        }
    }

    function Ci() {
        return sn(this.days() / 7)
    }

    function ki(e, t, n, i, r) {
        return r.relativeTime(t || 1, !!n, e, i)
    }

    function Si(e, t, n) {
        var i = Yt(e).abs(),
            r = so(i.as("s")),
            o = so(i.as("m")),
            s = so(i.as("h")),
            a = so(i.as("d")),
            l = so(i.as("M")),
            c = so(i.as("y")),
            u = r < ao.s && ["s", r] || 1 === o && ["m"] || o < ao.m && ["mm", o] || 1 === s && ["h"] || s < ao.h && ["hh", s] || 1 === a && ["d"] || a < ao.d && ["dd", a] || 1 === l && ["M"] || l < ao.M && ["MM", l] || 1 === c && ["y"] || ["yy", c];
        return u[2] = t, u[3] = +e > 0, u[4] = n, ki.apply(null, u)
    }

    function Ti(e, t) {
        return void 0 === ao[e] ? !1 : void 0 === t ? ao[e] : (ao[e] = t, !0)
    }

    function Ei(e) {
        var t = this.localeData(),
            n = Si(this, !e, t);
        return e && (n = t.pastFuture(+this, n)), t.postformat(n)
    }

    function Di() {
        var e = lo(this.years()),
            t = lo(this.months()),
            n = lo(this.days()),
            i = lo(this.hours()),
            r = lo(this.minutes()),
            o = lo(this.seconds() + this.milliseconds() / 1e3),
            s = this.asSeconds();
        return s ? (0 > s ? "-" : "") + "P" + (e ? e + "Y" : "") + (t ? t + "M" : "") + (n ? n + "D" : "") + (i || r || o ? "T" : "") + (i ? i + "H" : "") + (r ? r + "M" : "") + (o ? o + "S" : "") : "P0D"
    }
    var Ai, Pi, Ni = e.momentProperties = [],
        Oi = !1,
        Ii = {},
        Mi = {},
        Ri = /(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
        Bi = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
        Fi = {},
        Hi = {},
        ji = /\d/,
        Li = /\d\d/,
        Wi = /\d{3}/,
        zi = /\d{4}/,
        qi = /[+-]?\d{6}/,
        Ui = /\d\d?/,
        Vi = /\d{1,3}/,
        Yi = /\d{1,4}/,
        Gi = /[+-]?\d{1,6}/,
        Xi = /\d+/,
        Ki = /[+-]?\d+/,
        Zi = /Z|[+-]\d\d:?\d\d/gi,
        Qi = /[+-]?\d+(\.\d{1,3})?/,
        Ji = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
        er = {},
        tr = {},
        nr = 0,
        ir = 1,
        rr = 2,
        or = 3,
        sr = 4,
        ar = 5,
        lr = 6;
    N("M", ["MM", 2], "Mo", function() {
        return this.month() + 1
    }), N("MMM", 0, 0, function(e) {
        return this.localeData().monthsShort(this, e)
    }), N("MMMM", 0, 0, function(e) {
        return this.localeData().months(this, e)
    }), C("month", "M"), B("M", Ui), B("MM", Ui, Li), B("MMM", Ji), B("MMMM", Ji), j(["M", "MM"], function(e, t) {
        t[ir] = m(e) - 1
    }), j(["MMM", "MMMM"], function(e, t, n, i) {
        var r = n._locale.monthsParse(e, i, n._strict);
        null != r ? t[ir] = r : c(n).invalidMonth = e
    });
    var cr = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        ur = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        hr = {};
    e.suppressDeprecationWarnings = !1;
    var dr = /^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        fr = [
            ["YYYYYY-MM-DD", /[+-]\d{6}-\d{2}-\d{2}/],
            ["YYYY-MM-DD", /\d{4}-\d{2}-\d{2}/],
            ["GGGG-[W]WW-E", /\d{4}-W\d{2}-\d/],
            ["GGGG-[W]WW", /\d{4}-W\d{2}/],
            ["YYYY-DDD", /\d{4}-\d{3}/]
        ],
        pr = [
            ["HH:mm:ss.SSSS", /(T| )\d\d:\d\d:\d\d\.\d+/],
            ["HH:mm:ss", /(T| )\d\d:\d\d:\d\d/],
            ["HH:mm", /(T| )\d\d:\d\d/],
            ["HH", /(T| )\d\d/]
        ],
        mr = /^\/?Date\((\-?\d+)/i;
    e.createFromInputFallback = Q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.", function(e) {
        e._d = new Date(e._i + (e._useUTC ? " UTC" : ""))
    }), N(0, ["YY", 2], 0, function() {
        return this.year() % 100
    }), N(0, ["YYYY", 4], 0, "year"), N(0, ["YYYYY", 5], 0, "year"), N(0, ["YYYYYY", 6, !0], 0, "year"), C("year", "y"), B("Y", Ki), B("YY", Ui, Li), B("YYYY", Yi, zi), B("YYYYY", Gi, qi), B("YYYYYY", Gi, qi), j(["YYYY", "YYYYY", "YYYYYY"], nr), j("YY", function(t, n) {
        n[nr] = e.parseTwoDigitYear(t)
    }), e.parseTwoDigitYear = function(e) {
        return m(e) + (m(e) > 68 ? 1900 : 2e3)
    };
    var gr = T("FullYear", !1);
    N("w", ["ww", 2], "wo", "week"), N("W", ["WW", 2], "Wo", "isoWeek"), C("week", "w"), C("isoWeek", "W"), B("w", Ui), B("ww", Ui, Li), B("W", Ui), B("WW", Ui, Li), L(["w", "ww", "W", "WW"], function(e, t, n, i) {
        t[i.substr(0, 1)] = m(e)
    });
    var vr = {
        dow: 0,
        doy: 6
    };
    N("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), C("dayOfYear", "DDD"), B("DDD", Vi), B("DDDD", Wi), j(["DDD", "DDDD"], function(e, t, n) {
        n._dayOfYear = m(e)
    }), e.ISO_8601 = function() {};
    var yr = Q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548", function() {
            var e = St.apply(null, arguments);
            return this > e ? this : e
        }),
        br = Q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548", function() {
            var e = St.apply(null, arguments);
            return e > this ? this : e
        });
    Nt("Z", ":"), Nt("ZZ", ""), B("Z", Zi), B("ZZ", Zi), j(["Z", "ZZ"], function(e, t, n) {
        n._useUTC = !0, n._tzm = Ot(e)
    });
    var wr = /([\+\-]|\d\d)/gi;
    e.updateOffset = function() {};
    var _r = /(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,
        xr = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;
    Yt.fn = At.prototype;
    var $r = Zt(1, "add"),
        Cr = Zt(-1, "subtract");
    e.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ";
    var kr = Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(e) {
        return void 0 === e ? this.localeData() : this.locale(e)
    });
    N(0, ["gg", 2], 0, function() {
        return this.weekYear() % 100
    }), N(0, ["GG", 2], 0, function() {
        return this.isoWeekYear() % 100
    }), Tn("gggg", "weekYear"), Tn("ggggg", "weekYear"), Tn("GGGG", "isoWeekYear"), Tn("GGGGG", "isoWeekYear"), C("weekYear", "gg"), C("isoWeekYear", "GG"), B("G", Ki), B("g", Ki), B("GG", Ui, Li), B("gg", Ui, Li), B("GGGG", Yi, zi), B("gggg", Yi, zi), B("GGGGG", Gi, qi), B("ggggg", Gi, qi), L(["gggg", "ggggg", "GGGG", "GGGGG"], function(e, t, n, i) {
        t[i.substr(0, 2)] = m(e)
    }), L(["gg", "GG"], function(t, n, i, r) {
        n[r] = e.parseTwoDigitYear(t)
    }), N("Q", 0, 0, "quarter"), C("quarter", "Q"), B("Q", ji), j("Q", function(e, t) {
        t[ir] = 3 * (m(e) - 1)
    }), N("D", ["DD", 2], "Do", "date"), C("date", "D"), B("D", Ui), B("DD", Ui, Li), B("Do", function(e, t) {
        return e ? t._ordinalParse : t._ordinalParseLenient
    }), j(["D", "DD"], rr), j("Do", function(e, t) {
        t[rr] = m(e.match(Ui)[0], 10)
    });
    var Sr = T("Date", !0);
    N("d", 0, "do", "day"), N("dd", 0, 0, function(e) {
        return this.localeData().weekdaysMin(this, e)
    }), N("ddd", 0, 0, function(e) {
        return this.localeData().weekdaysShort(this, e)
    }), N("dddd", 0, 0, function(e) {
        return this.localeData().weekdays(this, e)
    }), N("e", 0, 0, "weekday"), N("E", 0, 0, "isoWeekday"), C("day", "d"), C("weekday", "e"), C("isoWeekday", "E"), B("d", Ui), B("e", Ui), B("E", Ui), B("dd", Ji), B("ddd", Ji), B("dddd", Ji), L(["dd", "ddd", "dddd"], function(e, t, n) {
        var i = n._locale.weekdaysParse(e);
        null != i ? t.d = i : c(n).invalidWeekday = e
    }), L(["d", "e", "E"], function(e, t, n, i) {
        t[i] = m(e)
    });
    var Tr = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        Er = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        Dr = "Su_Mo_Tu_We_Th_Fr_Sa".split("_");
    N("H", ["HH", 2], 0, "hour"), N("h", ["hh", 2], 0, function() {
        return this.hours() % 12 || 12
    }), Wn("a", !0), Wn("A", !1), C("hour", "h"), B("a", zn), B("A", zn), B("H", Ui), B("h", Ui), B("HH", Ui, Li), B("hh", Ui, Li), j(["H", "HH"], or), j(["a", "A"], function(e, t, n) {
        n._isPm = n._locale.isPM(e), n._meridiem = e
    }), j(["h", "hh"], function(e, t, n) {
        t[or] = m(e), c(n).bigHour = !0
    });
    var Ar = /[ap]\.?m?\.?/i,
        Pr = T("Hours", !0);
    N("m", ["mm", 2], 0, "minute"), C("minute", "m"), B("m", Ui), B("mm", Ui, Li), j(["m", "mm"], sr);
    var Nr = T("Minutes", !1);
    N("s", ["ss", 2], 0, "second"), C("second", "s"), B("s", Ui), B("ss", Ui, Li), j(["s", "ss"], ar);
    var Or = T("Seconds", !1);
    N("S", 0, 0, function() {
        return ~~(this.millisecond() / 100)
    }), N(0, ["SS", 2], 0, function() {
        return ~~(this.millisecond() / 10)
    }), Vn("SSS"), Vn("SSSS"), C("millisecond", "ms"), B("S", Vi, ji), B("SS", Vi, Li), B("SSS", Vi, Wi), B("SSSS", Xi), j(["S", "SS", "SSS", "SSSS"], function(e, t) {
        t[lr] = m(1e3 * ("0." + e))
    });
    var Ir = T("Milliseconds", !1);
    N("z", 0, 0, "zoneAbbr"), N("zz", 0, 0, "zoneName");
    var Mr = f.prototype;
    Mr.add = $r, Mr.calendar = Jt, Mr.clone = en, Mr.diff = an, Mr.endOf = bn, Mr.format = hn, Mr.from = dn, Mr.fromNow = fn, Mr.to = pn, Mr.toNow = mn, Mr.get = A, Mr.invalidAt = Sn, Mr.isAfter = tn, Mr.isBefore = nn, Mr.isBetween = rn, Mr.isSame = on, Mr.isValid = Cn, Mr.lang = kr, Mr.locale = gn, Mr.localeData = vn, Mr.max = br, Mr.min = yr, Mr.parsingFlags = kn, Mr.set = A, Mr.startOf = yn, Mr.subtract = Cr, Mr.toArray = $n, Mr.toDate = xn, Mr.toISOString = un, Mr.toJSON = un, Mr.toString = cn, Mr.unix = _n, Mr.valueOf = wn, Mr.year = gr, Mr.isLeapYear = st, Mr.weekYear = Dn, Mr.isoWeekYear = An, Mr.quarter = Mr.quarters = On, Mr.month = G, Mr.daysInMonth = X, Mr.week = Mr.weeks = ht, Mr.isoWeek = Mr.isoWeeks = dt, Mr.weeksInYear = Nn, Mr.isoWeeksInYear = Pn, Mr.date = Sr, Mr.day = Mr.days = Hn, Mr.weekday = jn, Mr.isoWeekday = Ln, Mr.dayOfYear = pt, Mr.hour = Mr.hours = Pr, Mr.minute = Mr.minutes = Nr, Mr.second = Mr.seconds = Or, Mr.millisecond = Mr.milliseconds = Ir, Mr.utcOffset = Rt, Mr.utc = Ft, Mr.local = Ht, Mr.parseZone = jt, Mr.hasAlignedHourOffset = Lt, Mr.isDST = Wt, Mr.isDSTShifted = zt, Mr.isLocal = qt, Mr.isUtcOffset = Ut, Mr.isUtc = Vt, Mr.isUTC = Vt, Mr.zoneAbbr = Yn, Mr.zoneName = Gn, Mr.dates = Q("dates accessor is deprecated. Use date instead.", Sr), Mr.months = Q("months accessor is deprecated. Use month instead", G), Mr.years = Q("years accessor is deprecated. Use year instead", gr), Mr.zone = Q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779", Bt);
    var Rr = Mr,
        Br = {
            sameDay: "[Today at] LT",
            nextDay: "[Tomorrow at] LT",
            nextWeek: "dddd [at] LT",
            lastDay: "[Yesterday at] LT",
            lastWeek: "[Last] dddd [at] LT",
            sameElse: "L"
        },
        Fr = {
            LTS: "h:mm:ss A",
            LT: "h:mm A",
            L: "MM/DD/YYYY",
            LL: "MMMM D, YYYY",
            LLL: "MMMM D, YYYY LT",
            LLLL: "dddd, MMMM D, YYYY LT"
        },
        Hr = "Invalid date",
        jr = "%d",
        Lr = /\d{1,2}/,
        Wr = {
            future: "in %s",
            past: "%s ago",
            s: "a few seconds",
            m: "a minute",
            mm: "%d minutes",
            h: "an hour",
            hh: "%d hours",
            d: "a day",
            dd: "%d days",
            M: "a month",
            MM: "%d months",
            y: "a year",
            yy: "%d years"
        },
        zr = v.prototype;
    zr._calendar = Br, zr.calendar = Zn, zr._longDateFormat = Fr, zr.longDateFormat = Qn, zr._invalidDate = Hr, zr.invalidDate = Jn, zr._ordinal = jr, zr.ordinal = ei, zr._ordinalParse = Lr, zr.preparse = ti, zr.postformat = ti, zr._relativeTime = Wr, zr.relativeTime = ni, zr.pastFuture = ii, zr.set = ri, zr.months = q, zr._months = cr, zr.monthsShort = U, zr._monthsShort = ur, zr.monthsParse = V, zr.week = lt, zr._week = vr, zr.firstDayOfYear = ut, zr.firstDayOfWeek = ct, zr.weekdays = Mn, zr._weekdays = Tr, zr.weekdaysMin = Bn, zr._weekdaysMin = Dr, zr.weekdaysShort = Rn, zr._weekdaysShort = Er, zr.weekdaysParse = Fn, zr.isPM = qn, zr._meridiemParse = Ar, zr.meridiem = Un, _("en", {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(e) {
            var t = e % 10,
                n = 1 === m(e % 100 / 10) ? "th" : 1 === t ? "st" : 2 === t ? "nd" : 3 === t ? "rd" : "th";
            return e + n
        }
    }), e.lang = Q("moment.lang is deprecated. Use moment.locale instead.", _), e.langData = Q("moment.langData is deprecated. Use moment.localeData instead.", $);
    var qr = Math.abs,
        Ur = _i("ms"),
        Vr = _i("s"),
        Yr = _i("m"),
        Gr = _i("h"),
        Xr = _i("d"),
        Kr = _i("w"),
        Zr = _i("M"),
        Qr = _i("y"),
        Jr = $i("milliseconds"),
        eo = $i("seconds"),
        to = $i("minutes"),
        no = $i("hours"),
        io = $i("days"),
        ro = $i("months"),
        oo = $i("years"),
        so = Math.round,
        ao = {
            s: 45,
            m: 45,
            h: 22,
            d: 26,
            M: 11
        },
        lo = Math.abs,
        co = At.prototype;
    co.abs = di, co.add = pi, co.subtract = mi, co.as = bi, co.asMilliseconds = Ur, co.asSeconds = Vr, co.asMinutes = Yr, co.asHours = Gr, co.asDays = Xr, co.asWeeks = Kr, co.asMonths = Zr, co.asYears = Qr, co.valueOf = wi, co._bubble = gi, co.get = xi, co.milliseconds = Jr, co.seconds = eo, co.minutes = to, co.hours = no, co.days = io, co.weeks = Ci, co.months = ro, co.years = oo, co.humanize = Ei, co.toISOString = Di, co.toString = Di, co.toJSON = Di, co.locale = gn, co.localeData = vn, co.toIsoString = Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Di), co.lang = kr, N("X", 0, 0, "unix"), N("x", 0, 0, "valueOf"), B("x", Ki), B("X", Qi), j("X", function(e, t, n) {
        n._d = new Date(1e3 * parseFloat(e, 10))
    }), j("x", function(e, t, n) {
        n._d = new Date(m(e))
    }), e.version = "2.10.3", t(St), e.fn = Rr, e.min = Et, e.max = Dt, e.utc = a, e.unix = Xn, e.months = ai, e.isDate = i, e.locale = _, e.invalid = h, e.duration = Yt, e.isMoment = p, e.weekdays = ci, e.parseZone = Kn, e.localeData = $, e.isDuration = Pt, e.monthsShort = li, e.weekdaysMin = hi, e.defineLocale = x, e.weekdaysShort = ui, e.normalizeUnits = k, e.relativeTimeThreshold = Ti;
    var uo = e;
    return uo
}), window.blDebounce = function(e, t, n) {
        var i;
        return function() {
            var r = this,
                o = arguments;
            clearTimeout(i), i = setTimeout(function() {
                i = null, n || e.apply(r, o)
            }, t), n && !i && e.apply(r, o)
        }
    }, window.utils = {
        getNodeIndex: function(e, t) {
            for (var n = e.length - 1; n >= 0; n--)
                if (e[n] == t) return n
        }
    }, String.prototype.ucFirst = function() {
        return this.charAt(0).toUpperCase() + this.slice(1)
    }, String.prototype.toCamelCase = function() {
        return this.replace(/[- ](\w)/g, function(e) {
            return e[1].toUpperCase()
        })
    }, String.prototype.toTitleCase = function() {
        var e = this.replace(/([A-Z])/g, function(e) {
            return " " + e.toLowerCase()
        });
        return e.replace(/\w\S*/g, function(e) {
            return e.charAt(0).toUpperCase() + e.substr(1).toLowerCase()
        })
    }, String.prototype.toDashedCase = function() {
        return this.replace(/([A-Z])/g, function(e) {
            return "-" + e.toLowerCase()
        })
    }, String.prototype.removeQoutes = function() {
        return this.replace(/["']/g, "")
    }, String.prototype.replaceBorderWidth = function(e) {
        return e || (e = 1), this.replace(/^[0-9]+([a-z]+)?( [a-zA-Z]+ .+)$/, e + "px$2")
    }, String.prototype.spacify = function() {
        return this.replace(/([0-9])([a-z])/, "$1 $2")
    }, String.prototype.normalizeCss = function() {
        var e = this.replace(/, /g, ","),
            t = e.split(" ").length - 1;
        if (t) {
            if (2 == t) {
                var n = e.split(" ");
                return n.splice(3, 0, n[1]), n.join(" ").trim()
            }
            return this.toString().trim()
        }
        return Array(5).join(" " + this).trim()
    },
    function(e) {
        "function" == typeof define && define.amd ? define(["jquery"], e) : e(jQuery)
    }(function(e) {
        function t(t, i) {
            var r, o, s, a = t.nodeName.toLowerCase();
            return "area" === a ? (r = t.parentNode, o = r.name, t.href && o && "map" === r.nodeName.toLowerCase() ? (s = e("img[usemap=#" + o + "]")[0], !!s && n(s)) : !1) : (/input|select|textarea|button|object/.test(a) ? !t.disabled : "a" === a ? t.href || i : i) && n(t)
        }

        function n(t) {
            return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function() {
                return "hidden" === e.css(this, "visibility")
            }).length
        }

        function i(e) {
            for (var t, n; e.length && e[0] !== document;) {
                if (t = e.css("position"), ("absolute" === t || "relative" === t || "fixed" === t) && (n = parseInt(e.css("zIndex"), 10), !isNaN(n) && 0 !== n)) return n;
                e = e.parent()
            }
            return 0
        }

        function r() {
            this._curInst = null, this._keyEvent = !1, this._disabledInputs = [], this._datepickerShowing = !1, this._inDialog = !1, this._mainDivId = "ui-datepicker-div", this._inlineClass = "ui-datepicker-inline", this._appendClass = "ui-datepicker-append", this._triggerClass = "ui-datepicker-trigger", this._dialogClass = "ui-datepicker-dialog", this._disableClass = "ui-datepicker-disabled", this._unselectableClass = "ui-datepicker-unselectable", this._currentClass = "ui-datepicker-current-day", this._dayOverClass = "ui-datepicker-days-cell-over", this.regional = [], this.regional[""] = {
                closeText: "Done",
                prevText: "Prev",
                nextText: "Next",
                currentText: "Today",
                monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                weekHeader: "Wk",
                dateFormat: "mm/dd/yy",
                firstDay: 0,
                isRTL: !1,
                showMonthAfterYear: !1,
                yearSuffix: ""
            }, this._defaults = {
                showOn: "focus",
                showAnim: "fadeIn",
                showOptions: {},
                defaultDate: null,
                appendText: "",
                buttonText: "...",
                buttonImage: "",
                buttonImageOnly: !1,
                hideIfNoPrevNext: !1,
                navigationAsDateFormat: !1,
                gotoCurrent: !1,
                changeMonth: !1,
                changeYear: !1,
                yearRange: "c-10:c+10",
                showOtherMonths: !1,
                selectOtherMonths: !1,
                showWeek: !1,
                calculateWeek: this.iso8601Week,
                shortYearCutoff: "+10",
                minDate: null,
                maxDate: null,
                duration: "fast",
                beforeShowDay: null,
                beforeShow: null,
                onSelect: null,
                onChangeMonthYear: null,
                onClose: null,
                numberOfMonths: 1,
                showCurrentAtPos: 0,
                stepMonths: 1,
                stepBigMonths: 12,
                altField: "",
                altFormat: "",
                constrainInput: !0,
                showButtonPanel: !1,
                autoSize: !1,
                disabled: !1
            }, e.extend(this._defaults, this.regional[""]), this.regional.en = e.extend(!0, {}, this.regional[""]), this.regional["en-US"] = e.extend(!0, {}, this.regional.en), this.dpDiv = o(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
        }

        function o(t) {
            var n = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
            return t.delegate(n, "mouseout", function() {
                e(this).removeClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).removeClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).removeClass("ui-datepicker-next-hover")
            }).delegate(n, "mouseover", function() {
                e.datepicker._isDisabledDatepicker(g.inline ? t.parent()[0] : g.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"), e(this).addClass("ui-state-hover"), -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).addClass("ui-datepicker-prev-hover"), -1 !== this.className.indexOf("ui-datepicker-next") && e(this).addClass("ui-datepicker-next-hover"))
            })
        }

        function s(t, n) {
            e.extend(t, n);
            for (var i in n) null == n[i] && (t[i] = n[i]);
            return t
        }

        function a(e) {
            return function() {
                var t = this.element.val();
                e.apply(this, arguments), this._refresh(), t !== this.element.val() && this._trigger("change")
            }
        }
        e.ui = e.ui || {}, e.extend(e.ui, {
            version: "1.11.0",
            keyCode: {
                BACKSPACE: 8,
                COMMA: 188,
                DELETE: 46,
                DOWN: 40,
                END: 35,
                ENTER: 13,
                ESCAPE: 27,
                HOME: 36,
                LEFT: 37,
                PAGE_DOWN: 34,
                PAGE_UP: 33,
                PERIOD: 190,
                RIGHT: 39,
                SPACE: 32,
                TAB: 9,
                UP: 38
            }
        }), e.fn.extend({
            scrollParent: function() {
                var t = this.css("position"),
                    n = "absolute" === t,
                    i = this.parents().filter(function() {
                        var t = e(this);
                        return n && "static" === t.css("position") ? !1 : /(auto|scroll)/.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"))
                    }).eq(0);
                return "fixed" !== t && i.length ? i : e(this[0].ownerDocument || document)
            },
            uniqueId: function() {
                var e = 0;
                return function() {
                    return this.each(function() {
                        this.id || (this.id = "ui-id-" + ++e)
                    })
                }
            }(),
            removeUniqueId: function() {
                return this.each(function() {
                    /^ui-id-\d+$/.test(this.id) && e(this).removeAttr("id")
                })
            }
        }), e.extend(e.expr[":"], {
            data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
                return function(n) {
                    return !!e.data(n, t)
                }
            }) : function(t, n, i) {
                return !!e.data(t, i[3])
            },
            focusable: function(n) {
                return t(n, !isNaN(e.attr(n, "tabindex")))
            },
            tabbable: function(n) {
                var i = e.attr(n, "tabindex"),
                    r = isNaN(i);
                return (r || i >= 0) && t(n, !r)
            }
        }), e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function(t, n) {
            function i(t, n, i, o) {
                return e.each(r, function() {
                    n -= parseFloat(e.css(t, "padding" + this)) || 0, i && (n -= parseFloat(e.css(t, "border" + this + "Width")) || 0), o && (n -= parseFloat(e.css(t, "margin" + this)) || 0)
                }), n
            }
            var r = "Width" === n ? ["Left", "Right"] : ["Top", "Bottom"],
                o = n.toLowerCase(),
                s = {
                    innerWidth: e.fn.innerWidth,
                    innerHeight: e.fn.innerHeight,
                    outerWidth: e.fn.outerWidth,
                    outerHeight: e.fn.outerHeight
                };
            e.fn["inner" + n] = function(t) {
                return void 0 === t ? s["inner" + n].call(this) : this.each(function() {
                    e(this).css(o, i(this, t) + "px")
                })
            }, e.fn["outer" + n] = function(t, r) {
                return "number" != typeof t ? s["outer" + n].call(this, t) : this.each(function() {
                    e(this).css(o, i(this, t, !0, r) + "px")
                })
            }
        }), e.fn.addBack || (e.fn.addBack = function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }), e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function(t) {
            return function(n) {
                return arguments.length ? t.call(this, e.camelCase(n)) : t.call(this)
            }
        }(e.fn.removeData)), e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), e.fn.extend({
            focus: function(t) {
                return function(n, i) {
                    return "number" == typeof n ? this.each(function() {
                        var t = this;
                        setTimeout(function() {
                            e(t).focus(), i && i.call(t)
                        }, n)
                    }) : t.apply(this, arguments)
                }
            }(e.fn.focus),
            disableSelection: function() {
                var e = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
                return function() {
                    return this.bind(e + ".ui-disableSelection", function(e) {
                        e.preventDefault()
                    })
                }
            }(),
            enableSelection: function() {
                return this.unbind(".ui-disableSelection")
            },
            zIndex: function(t) {
                if (void 0 !== t) return this.css("zIndex", t);
                if (this.length)
                    for (var n, i, r = e(this[0]); r.length && r[0] !== document;) {
                        if (n = r.css("position"), ("absolute" === n || "relative" === n || "fixed" === n) && (i = parseInt(r.css("zIndex"), 10), !isNaN(i) && 0 !== i)) return i;
                        r = r.parent()
                    }
                return 0
            }
        }), e.ui.plugin = {
            add: function(t, n, i) {
                var r, o = e.ui[t].prototype;
                for (r in i) o.plugins[r] = o.plugins[r] || [], o.plugins[r].push([n, i[r]])
            },
            call: function(e, t, n, i) {
                var r, o = e.plugins[t];
                if (o && (i || e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType))
                    for (r = 0; r < o.length; r++) e.options[o[r][0]] && o[r][1].apply(e.element, n)
            }
        };
        var l = 0,
            c = Array.prototype.slice;
        e.cleanData = function(t) {
            return function(n) {
                for (var i, r = 0; null != (i = n[r]); r++) try {
                    e(i).triggerHandler("remove")
                } catch (o) {}
                t(n)
            }
        }(e.cleanData), e.widget = function(t, n, i) {
            var r, o, s, a, l = {},
                c = t.split(".")[0];
            return t = t.split(".")[1], r = c + "-" + t, i || (i = n, n = e.Widget), e.expr[":"][r.toLowerCase()] = function(t) {
                return !!e.data(t, r)
            }, e[c] = e[c] || {}, o = e[c][t], s = e[c][t] = function(e, t) {
                return this._createWidget ? void(arguments.length && this._createWidget(e, t)) : new s(e, t)
            }, e.extend(s, o, {
                version: i.version,
                _proto: e.extend({}, i),
                _childConstructors: []
            }), a = new n, a.options = e.widget.extend({}, a.options), e.each(i, function(t, i) {
                return e.isFunction(i) ? void(l[t] = function() {
                    var e = function() {
                            return n.prototype[t].apply(this, arguments)
                        },
                        r = function(e) {
                            return n.prototype[t].apply(this, e)
                        };
                    return function() {
                        var t, n = this._super,
                            o = this._superApply;
                        return this._super = e, this._superApply = r, t = i.apply(this, arguments), this._super = n, this._superApply = o, t
                    }
                }()) : void(l[t] = i)
            }), s.prototype = e.widget.extend(a, {
                widgetEventPrefix: o ? a.widgetEventPrefix || t : t
            }, l, {
                constructor: s,
                namespace: c,
                widgetName: t,
                widgetFullName: r
            }), o ? (e.each(o._childConstructors, function(t, n) {
                var i = n.prototype;
                e.widget(i.namespace + "." + i.widgetName, s, n._proto)
            }), delete o._childConstructors) : n._childConstructors.push(s), e.widget.bridge(t, s), s
        }, e.widget.extend = function(t) {
            for (var n, i, r = c.call(arguments, 1), o = 0, s = r.length; s > o; o++)
                for (n in r[o]) i = r[o][n], r[o].hasOwnProperty(n) && void 0 !== i && (t[n] = e.isPlainObject(i) ? e.isPlainObject(t[n]) ? e.widget.extend({}, t[n], i) : e.widget.extend({}, i) : i);
            return t
        }, e.widget.bridge = function(t, n) {
            var i = n.prototype.widgetFullName || t;
            e.fn[t] = function(r) {
                var o = "string" == typeof r,
                    s = c.call(arguments, 1),
                    a = this;
                return r = !o && s.length ? e.widget.extend.apply(null, [r].concat(s)) : r, this.each(o ? function() {
                    var n, o = e.data(this, i);
                    return "instance" === r ? (a = o, !1) : o ? e.isFunction(o[r]) && "_" !== r.charAt(0) ? (n = o[r].apply(o, s), n !== o && void 0 !== n ? (a = n && n.jquery ? a.pushStack(n.get()) : n, !1) : void 0) : e.error("no such method '" + r + "' for " + t + " widget instance") : e.error("cannot call methods on " + t + " prior to initialization; attempted to call method '" + r + "'")
                } : function() {
                    var t = e.data(this, i);
                    t ? (t.option(r || {}), t._init && t._init()) : e.data(this, i, new n(r, this))
                }), a
            }
        }, e.Widget = function() {}, e.Widget._childConstructors = [], e.Widget.prototype = {
            widgetName: "widget",
            widgetEventPrefix: "",
            defaultElement: "<div>",
            options: {
                disabled: !1,
                create: null
            },
            _createWidget: function(t, n) {
                n = e(n || this.defaultElement || this)[0], this.element = e(n), this.uuid = l++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t), this.bindings = e(), this.hoverable = e(), this.focusable = e(), n !== this && (e.data(n, this.widgetFullName, this), this._on(!0, this.element, {
                    remove: function(e) {
                        e.target === n && this.destroy()
                    }
                }), this.document = e(n.style ? n.ownerDocument : n.document || n), this.window = e(this.document[0].defaultView || this.document[0].parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
            },
            _getCreateOptions: e.noop,
            _getCreateEventData: e.noop,
            _create: e.noop,
            _init: e.noop,
            destroy: function() {
                this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
            },
            _destroy: e.noop,
            widget: function() {
                return this.element
            },
            option: function(t, n) {
                var i, r, o, s = t;
                if (0 === arguments.length) return e.widget.extend({}, this.options);
                if ("string" == typeof t)
                    if (s = {}, i = t.split("."), t = i.shift(), i.length) {
                        for (r = s[t] = e.widget.extend({}, this.options[t]), o = 0; o < i.length - 1; o++) r[i[o]] = r[i[o]] || {}, r = r[i[o]];
                        if (t = i.pop(), 1 === arguments.length) return void 0 === r[t] ? null : r[t];
                        r[t] = n
                    } else {
                        if (1 === arguments.length) return void 0 === this.options[t] ? null : this.options[t];
                        s[t] = n
                    }
                return this._setOptions(s), this
            },
            _setOptions: function(e) {
                var t;
                for (t in e) this._setOption(t, e[t]);
                return this
            },
            _setOption: function(e, t) {
                return this.options[e] = t, "disabled" === e && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!t), t && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this
            },
            enable: function() {
                return this._setOptions({
                    disabled: !1
                })
            },
            disable: function() {
                return this._setOptions({
                    disabled: !0
                })
            },
            _on: function(t, n, i) {
                var r, o = this;
                "boolean" != typeof t && (i = n, n = t, t = !1), i ? (n = r = e(n), this.bindings = this.bindings.add(n)) : (i = n, n = this.element, r = this.widget()), e.each(i, function(i, s) {
                    function a() {
                        return t || o.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled") ? ("string" == typeof s ? o[s] : s).apply(o, arguments) : void 0
                    }
                    "string" != typeof s && (a.guid = s.guid = s.guid || a.guid || e.guid++);
                    var l = i.match(/^([\w:-]*)\s*(.*)$/),
                        c = l[1] + o.eventNamespace,
                        u = l[2];
                    u ? r.delegate(u, c, a) : n.bind(c, a)
                })
            },
            _off: function(e, t) {
                t = (t || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.unbind(t).undelegate(t)
            },
            _delay: function(e, t) {
                function n() {
                    return ("string" == typeof e ? i[e] : e).apply(i, arguments)
                }
                var i = this;
                return setTimeout(n, t || 0)
            },
            _hoverable: function(t) {
                this.hoverable = this.hoverable.add(t), this._on(t, {
                    mouseenter: function(t) {
                        e(t.currentTarget).addClass("ui-state-hover")
                    },
                    mouseleave: function(t) {
                        e(t.currentTarget).removeClass("ui-state-hover")
                    }
                })
            },
            _focusable: function(t) {
                this.focusable = this.focusable.add(t), this._on(t, {
                    focusin: function(t) {
                        e(t.currentTarget).addClass("ui-state-focus")
                    },
                    focusout: function(t) {
                        e(t.currentTarget).removeClass("ui-state-focus")
                    }
                })
            },
            _trigger: function(t, n, i) {
                var r, o, s = this.options[t];
                if (i = i || {}, n = e.Event(n), n.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(), n.target = this.element[0], o = n.originalEvent)
                    for (r in o) r in n || (n[r] = o[r]);
                return this.element.trigger(n, i), !(e.isFunction(s) && s.apply(this.element[0], [n].concat(i)) === !1 || n.isDefaultPrevented())
            }
        }, e.each({
            show: "fadeIn",
            hide: "fadeOut"
        }, function(t, n) {
            e.Widget.prototype["_" + t] = function(i, r, o) {
                "string" == typeof r && (r = {
                    effect: r
                });
                var s, a = r ? r === !0 || "number" == typeof r ? n : r.effect || n : t;
                r = r || {}, "number" == typeof r && (r = {
                    duration: r
                }), s = !e.isEmptyObject(r), r.complete = o, r.delay && i.delay(r.delay), s && e.effects && e.effects.effect[a] ? i[t](r) : a !== t && i[a] ? i[a](r.duration, r.easing, o) : i.queue(function(n) {
                    e(this)[t](), o && o.call(i[0]), n()
                })
            }
        });
        var u = (e.widget, !1);
        e(document).mouseup(function() {
            u = !1
        });
        e.widget("ui.mouse", {
            version: "1.11.0",
            options: {
                cancel: "input,textarea,button,select,option",
                distance: 1,
                delay: 0
            },
            _mouseInit: function() {
                var t = this;
                this.element.bind("mousedown." + this.widgetName, function(e) {
                    return t._mouseDown(e)
                }).bind("click." + this.widgetName, function(n) {
                    return !0 === e.data(n.target, t.widgetName + ".preventClickEvent") ? (e.removeData(n.target, t.widgetName + ".preventClickEvent"), n.stopImmediatePropagation(), !1) : void 0
                }), this.started = !1
            },
            _mouseDestroy: function() {
                this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
            },
            _mouseDown: function(t) {
                if (!u) {
                    this._mouseStarted && this._mouseUp(t), this._mouseDownEvent = t;
                    var n = this,
                        i = 1 === t.which,
                        r = "string" == typeof this.options.cancel && t.target.nodeName ? e(t.target).closest(this.options.cancel).length : !1;
                    return i && !r && this._mouseCapture(t) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                        n.mouseDelayMet = !0
                    }, this.options.delay)), this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(t) !== !1, !this._mouseStarted) ? (t.preventDefault(), !0) : (!0 === e.data(t.target, this.widgetName + ".preventClickEvent") && e.removeData(t.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(e) {
                        return n._mouseMove(e)
                    }, this._mouseUpDelegate = function(e) {
                        return n._mouseUp(e)
                    }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), t.preventDefault(), u = !0, !0)) : !0
                }
            },
            _mouseMove: function(t) {
                return e.ui.ie && (!document.documentMode || document.documentMode < 9) && !t.button ? this._mouseUp(t) : t.which ? this._mouseStarted ? (this._mouseDrag(t), t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1, this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)), !this._mouseStarted) : this._mouseUp(t)
            },
            _mouseUp: function(t) {
                return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(t)), u = !1, !1
            },
            _mouseDistanceMet: function(e) {
                return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
            },
            _mouseDelayMet: function() {
                return this.mouseDelayMet
            },
            _mouseStart: function() {},
            _mouseDrag: function() {},
            _mouseStop: function() {},
            _mouseCapture: function() {
                return !0
            }
        });
        ! function() {
            function t(e, t, n) {
                return [parseFloat(e[0]) * (f.test(e[0]) ? t / 100 : 1), parseFloat(e[1]) * (f.test(e[1]) ? n / 100 : 1)]
            }

            function n(t, n) {
                return parseInt(e.css(t, n), 10) || 0
            }

            function i(t) {
                var n = t[0];
                return 9 === n.nodeType ? {
                    width: t.width(),
                    height: t.height(),
                    offset: {
                        top: 0,
                        left: 0
                    }
                } : e.isWindow(n) ? {
                    width: t.width(),
                    height: t.height(),
                    offset: {
                        top: t.scrollTop(),
                        left: t.scrollLeft()
                    }
                } : n.preventDefault ? {
                    width: 0,
                    height: 0,
                    offset: {
                        top: n.pageY,
                        left: n.pageX
                    }
                } : {
                    width: t.outerWidth(),
                    height: t.outerHeight(),
                    offset: t.offset()
                }
            }
            e.ui = e.ui || {};
            var r, o, s = Math.max,
                a = Math.abs,
                l = Math.round,
                c = /left|center|right/,
                u = /top|center|bottom/,
                h = /[\+\-]\d+(\.[\d]+)?%?/,
                d = /^\w+/,
                f = /%$/,
                p = e.fn.position;
            e.position = {
                    scrollbarWidth: function() {
                        if (void 0 !== r) return r;
                        var t, n, i = e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                            o = i.children()[0];
                        return e("body").append(i), t = o.offsetWidth, i.css("overflow", "scroll"), n = o.offsetWidth, t === n && (n = i[0].clientWidth), i.remove(), r = t - n
                    },
                    getScrollInfo: function(t) {
                        var n = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x"),
                            i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y"),
                            r = "scroll" === n || "auto" === n && t.width < t.element[0].scrollWidth,
                            o = "scroll" === i || "auto" === i && t.height < t.element[0].scrollHeight;
                        return {
                            width: o ? e.position.scrollbarWidth() : 0,
                            height: r ? e.position.scrollbarWidth() : 0
                        }
                    },
                    getWithinInfo: function(t) {
                        var n = e(t || window),
                            i = e.isWindow(n[0]),
                            r = !!n[0] && 9 === n[0].nodeType;
                        return {
                            element: n,
                            isWindow: i,
                            isDocument: r,
                            offset: n.offset() || {
                                left: 0,
                                top: 0
                            },
                            scrollLeft: n.scrollLeft(),
                            scrollTop: n.scrollTop(),
                            width: i ? n.width() : n.outerWidth(),
                            height: i ? n.height() : n.outerHeight()
                        }
                    }
                }, e.fn.position = function(r) {
                    if (!r || !r.of) return p.apply(this, arguments);
                    r = e.extend({}, r);
                    var f, m, g, v, y, b, w = e(r.of),
                        _ = e.position.getWithinInfo(r.within),
                        x = e.position.getScrollInfo(_),
                        $ = (r.collision || "flip").split(" "),
                        C = {};
                    return b = i(w), w[0].preventDefault && (r.at = "left top"), m = b.width, g = b.height, v = b.offset, y = e.extend({}, v), e.each(["my", "at"], function() {
                        var e, t, n = (r[this] || "").split(" ");
                        1 === n.length && (n = c.test(n[0]) ? n.concat(["center"]) : u.test(n[0]) ? ["center"].concat(n) : ["center", "center"]), n[0] = c.test(n[0]) ? n[0] : "center", n[1] = u.test(n[1]) ? n[1] : "center", e = h.exec(n[0]), t = h.exec(n[1]), C[this] = [e ? e[0] : 0, t ? t[0] : 0], r[this] = [d.exec(n[0])[0], d.exec(n[1])[0]]
                    }), 1 === $.length && ($[1] = $[0]), "right" === r.at[0] ? y.left += m : "center" === r.at[0] && (y.left += m / 2), "bottom" === r.at[1] ? y.top += g : "center" === r.at[1] && (y.top += g / 2), f = t(C.at, m, g), y.left += f[0], y.top += f[1], this.each(function() {
                        var i, c, u = e(this),
                            h = u.outerWidth(),
                            d = u.outerHeight(),
                            p = n(this, "marginLeft"),
                            b = n(this, "marginTop"),
                            k = h + p + n(this, "marginRight") + x.width,
                            S = d + b + n(this, "marginBottom") + x.height,
                            T = e.extend({}, y),
                            E = t(C.my, u.outerWidth(), u.outerHeight());
                        "right" === r.my[0] ? T.left -= h : "center" === r.my[0] && (T.left -= h / 2), "bottom" === r.my[1] ? T.top -= d : "center" === r.my[1] && (T.top -= d / 2), T.left += E[0], T.top += E[1], o || (T.left = l(T.left), T.top = l(T.top)), i = {
                            marginLeft: p,
                            marginTop: b
                        }, e.each(["left", "top"], function(t, n) {
                            e.ui.position[$[t]] && e.ui.position[$[t]][n](T, {
                                targetWidth: m,
                                targetHeight: g,
                                elemWidth: h,
                                elemHeight: d,
                                collisionPosition: i,
                                collisionWidth: k,
                                collisionHeight: S,
                                offset: [f[0] + E[0], f[1] + E[1]],
                                my: r.my,
                                at: r.at,
                                within: _,
                                elem: u
                            })
                        }), r.using && (c = function(e) {
                            var t = v.left - T.left,
                                n = t + m - h,
                                i = v.top - T.top,
                                o = i + g - d,
                                l = {
                                    target: {
                                        element: w,
                                        left: v.left,
                                        top: v.top,
                                        width: m,
                                        height: g
                                    },
                                    element: {
                                        element: u,
                                        left: T.left,
                                        top: T.top,
                                        width: h,
                                        height: d
                                    },
                                    horizontal: 0 > n ? "left" : t > 0 ? "right" : "center",
                                    vertical: 0 > o ? "top" : i > 0 ? "bottom" : "middle"
                                };
                            h > m && a(t + n) < m && (l.horizontal = "center"), d > g && a(i + o) < g && (l.vertical = "middle"), l.important = s(a(t), a(n)) > s(a(i), a(o)) ? "horizontal" : "vertical", r.using.call(this, e, l)
                        }), u.offset(e.extend(T, {
                            using: c
                        }))
                    })
                }, e.ui.position = {
                    fit: {
                        left: function(e, t) {
                            var n, i = t.within,
                                r = i.isWindow ? i.scrollLeft : i.offset.left,
                                o = i.width,
                                a = e.left - t.collisionPosition.marginLeft,
                                l = r - a,
                                c = a + t.collisionWidth - o - r;
                            t.collisionWidth > o ? l > 0 && 0 >= c ? (n = e.left + l + t.collisionWidth - o - r, e.left += l - n) : e.left = c > 0 && 0 >= l ? r : l > c ? r + o - t.collisionWidth : r : l > 0 ? e.left += l : c > 0 ? e.left -= c : e.left = s(e.left - a, e.left)
                        },
                        top: function(e, t) {
                            var n, i = t.within,
                                r = i.isWindow ? i.scrollTop : i.offset.top,
                                o = t.within.height,
                                a = e.top - t.collisionPosition.marginTop,
                                l = r - a,
                                c = a + t.collisionHeight - o - r;
                            t.collisionHeight > o ? l > 0 && 0 >= c ? (n = e.top + l + t.collisionHeight - o - r, e.top += l - n) : e.top = c > 0 && 0 >= l ? r : l > c ? r + o - t.collisionHeight : r : l > 0 ? e.top += l : c > 0 ? e.top -= c : e.top = s(e.top - a, e.top)
                        }
                    },
                    flip: {
                        left: function(e, t) {
                            var n, i, r = t.within,
                                o = r.offset.left + r.scrollLeft,
                                s = r.width,
                                l = r.isWindow ? r.scrollLeft : r.offset.left,
                                c = e.left - t.collisionPosition.marginLeft,
                                u = c - l,
                                h = c + t.collisionWidth - s - l,
                                d = "left" === t.my[0] ? -t.elemWidth : "right" === t.my[0] ? t.elemWidth : 0,
                                f = "left" === t.at[0] ? t.targetWidth : "right" === t.at[0] ? -t.targetWidth : 0,
                                p = -2 * t.offset[0];
                            0 > u ? (n = e.left + d + f + p + t.collisionWidth - s - o, (0 > n || n < a(u)) && (e.left += d + f + p)) : h > 0 && (i = e.left - t.collisionPosition.marginLeft + d + f + p - l, (i > 0 || a(i) < h) && (e.left += d + f + p))
                        },
                        top: function(e, t) {
                            var n, i, r = t.within,
                                o = r.offset.top + r.scrollTop,
                                s = r.height,
                                l = r.isWindow ? r.scrollTop : r.offset.top,
                                c = e.top - t.collisionPosition.marginTop,
                                u = c - l,
                                h = c + t.collisionHeight - s - l,
                                d = "top" === t.my[1],
                                f = d ? -t.elemHeight : "bottom" === t.my[1] ? t.elemHeight : 0,
                                p = "top" === t.at[1] ? t.targetHeight : "bottom" === t.at[1] ? -t.targetHeight : 0,
                                m = -2 * t.offset[1];
                            0 > u ? (i = e.top + f + p + m + t.collisionHeight - s - o, e.top + f + p + m > u && (0 > i || i < a(u)) && (e.top += f + p + m)) : h > 0 && (n = e.top - t.collisionPosition.marginTop + f + p + m - l, e.top + f + p + m > h && (n > 0 || a(n) < h) && (e.top += f + p + m))
                        }
                    },
                    flipfit: {
                        left: function() {
                            e.ui.position.flip.left.apply(this, arguments), e.ui.position.fit.left.apply(this, arguments)
                        },
                        top: function() {
                            e.ui.position.flip.top.apply(this, arguments), e.ui.position.fit.top.apply(this, arguments)
                        }
                    }
                },
                function() {
                    var t, n, i, r, s, a = document.getElementsByTagName("body")[0],
                        l = document.createElement("div");
                    t = document.createElement(a ? "div" : "body"), i = {
                        visibility: "hidden",
                        width: 0,
                        height: 0,
                        border: 0,
                        margin: 0,
                        background: "none"
                    }, a && e.extend(i, {
                        position: "absolute",
                        left: "-1000px",
                        top: "-1000px"
                    });
                    for (s in i) t.style[s] = i[s];
                    t.appendChild(l), n = a || document.documentElement, n.insertBefore(t, n.firstChild), l.style.cssText = "position: absolute; left: 10.7432222px;", r = e(l).offset().left, o = r > 10 && 11 > r, t.innerHTML = "", n.removeChild(t)
                }()
        }();
        e.ui.position, e.widget("ui.accordion", {
            version: "1.11.0",
            options: {
                active: 0,
                animate: {},
                collapsible: !1,
                event: "click",
                header: "> li > :first-child,> :not(li):even",
                heightStyle: "auto",
                icons: {
                    activeHeader: "ui-icon-triangle-1-s",
                    header: "ui-icon-triangle-1-e"
                },
                activate: null,
                beforeActivate: null
            },
            hideProps: {
                borderTopWidth: "hide",
                borderBottomWidth: "hide",
                paddingTop: "hide",
                paddingBottom: "hide",
                height: "hide"
            },
            showProps: {
                borderTopWidth: "show",
                borderBottomWidth: "show",
                paddingTop: "show",
                paddingBottom: "show",
                height: "show"
            },
            _create: function() {
                var t = this.options;
                this.prevShow = this.prevHide = e(), this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"), t.collapsible || t.active !== !1 && null != t.active || (t.active = 0), this._processPanels(), t.active < 0 && (t.active += this.headers.length), this._refresh()
            },
            _getCreateEventData: function() {
                return {
                    header: this.active,
                    panel: this.active.length ? this.active.next() : e()
                }
            },
            _createIcons: function() {
                var t = this.options.icons;
                t && (e("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers), this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader), this.headers.addClass("ui-accordion-icons"))
            },
            _destroyIcons: function() {
                this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
            },
            _destroy: function() {
                var e;
                this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"), this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(), this._destroyIcons(), e = this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(), "content" !== this.options.heightStyle && e.css("height", "")
            },
            _setOption: function(e, t) {
                return "active" === e ? void this._activate(t) : ("event" === e && (this.options.event && this._off(this.headers, this.options.event), this._setupEvents(t)), this._super(e, t), "collapsible" !== e || t || this.options.active !== !1 || this._activate(0), "icons" === e && (this._destroyIcons(), t && this._createIcons()), void("disabled" === e && (this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t), this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t))))
            },
            _keydown: function(t) {
                if (!t.altKey && !t.ctrlKey) {
                    var n = e.ui.keyCode,
                        i = this.headers.length,
                        r = this.headers.index(t.target),
                        o = !1;
                    switch (t.keyCode) {
                        case n.RIGHT:
                        case n.DOWN:
                            o = this.headers[(r + 1) % i];
                            break;
                        case n.LEFT:
                        case n.UP:
                            o = this.headers[(r - 1 + i) % i];
                            break;
                        case n.SPACE:
                        case n.ENTER:
                            this._eventHandler(t);
                            break;
                        case n.HOME:
                            o = this.headers[0];
                            break;
                        case n.END:
                            o = this.headers[i - 1]
                    }
                    o && (e(t.target).attr("tabIndex", -1), e(o).attr("tabIndex", 0), o.focus(), t.preventDefault())
                }
            },
            _panelKeyDown: function(t) {
                t.keyCode === e.ui.keyCode.UP && t.ctrlKey && e(t.currentTarget).prev().focus()
            },
            refresh: function() {
                var t = this.options;
                this._processPanels(), t.active === !1 && t.collapsible === !0 || !this.headers.length ? (t.active = !1, this.active = e()) : t.active === !1 ? this._activate(0) : this.active.length && !e.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1, this.active = e()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active), this._destroyIcons(), this._refresh()
            },
            _processPanels: function() {
                this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"), this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
            },
            _refresh: function() {
                var t, n = this.options,
                    i = n.heightStyle,
                    r = this.element.parent();
                this.active = this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"), this.active.next().addClass("ui-accordion-content-active").show(), this.headers.attr("role", "tab").each(function() {
                    var t = e(this),
                        n = t.uniqueId().attr("id"),
                        i = t.next(),
                        r = i.uniqueId().attr("id");
                    t.attr("aria-controls", r), i.attr("aria-labelledby", n)
                }).next().attr("role", "tabpanel"), this.headers.not(this.active).attr({
                    "aria-selected": "false",
                    "aria-expanded": "false",
                    tabIndex: -1
                }).next().attr({
                    "aria-hidden": "true"
                }).hide(), this.active.length ? this.active.attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                }).next().attr({
                    "aria-hidden": "false"
                }) : this.headers.eq(0).attr("tabIndex", 0), this._createIcons(), this._setupEvents(n.event), "fill" === i ? (t = r.height(), this.element.siblings(":visible").each(function() {
                    var n = e(this),
                        i = n.css("position");
                    "absolute" !== i && "fixed" !== i && (t -= n.outerHeight(!0))
                }), this.headers.each(function() {
                    t -= e(this).outerHeight(!0)
                }), this.headers.next().each(function() {
                    e(this).height(Math.max(0, t - e(this).innerHeight() + e(this).height()))
                }).css("overflow", "auto")) : "auto" === i && (t = 0, this.headers.next().each(function() {
                    t = Math.max(t, e(this).css("height", "").height())
                }).height(t))
            },
            _activate: function(t) {
                var n = this._findActive(t)[0];
                n !== this.active[0] && (n = n || this.active[0], this._eventHandler({
                    target: n,
                    currentTarget: n,
                    preventDefault: e.noop
                }))
            },
            _findActive: function(t) {
                return "number" == typeof t ? this.headers.eq(t) : e()
            },
            _setupEvents: function(t) {
                var n = {
                    keydown: "_keydown"
                };
                t && e.each(t.split(" "), function(e, t) {
                    n[t] = "_eventHandler"
                }), this._off(this.headers.add(this.headers.next())), this._on(this.headers, n), this._on(this.headers.next(), {
                    keydown: "_panelKeyDown"
                }), this._hoverable(this.headers), this._focusable(this.headers)
            },
            _eventHandler: function(t) {
                var n = this.options,
                    i = this.active,
                    r = e(t.currentTarget),
                    o = r[0] === i[0],
                    s = o && n.collapsible,
                    a = s ? e() : r.next(),
                    l = i.next(),
                    c = {
                        oldHeader: i,
                        oldPanel: l,
                        newHeader: s ? e() : r,
                        newPanel: a
                    };
                t.preventDefault(), o && !n.collapsible || this._trigger("beforeActivate", t, c) === !1 || (n.active = s ? !1 : this.headers.index(r), this.active = o ? e() : r, this._toggle(c), i.removeClass("ui-accordion-header-active ui-state-active"), n.icons && i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header), o || (r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"), n.icons && r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader), r.next().addClass("ui-accordion-content-active")))
            },
            _toggle: function(t) {
                var n = t.newPanel,
                    i = this.prevShow.length ? this.prevShow : t.oldPanel;
                this.prevShow.add(this.prevHide).stop(!0, !0), this.prevShow = n, this.prevHide = i, this.options.animate ? this._animate(n, i, t) : (i.hide(), n.show(), this._toggleComplete(t)), i.attr({
                    "aria-hidden": "true"
                }), i.prev().attr("aria-selected", "false"), n.length && i.length ? i.prev().attr({
                    tabIndex: -1,
                    "aria-expanded": "false"
                }) : n.length && this.headers.filter(function() {
                    return 0 === e(this).attr("tabIndex")
                }).attr("tabIndex", -1), n.attr("aria-hidden", "false").prev().attr({
                    "aria-selected": "true",
                    tabIndex: 0,
                    "aria-expanded": "true"
                })
            },
            _animate: function(e, t, n) {
                var i, r, o, s = this,
                    a = 0,
                    l = e.length && (!t.length || e.index() < t.index()),
                    c = this.options.animate || {},
                    u = l && c.down || c,
                    h = function() {
                        s._toggleComplete(n)
                    };
                return "number" == typeof u && (o = u), "string" == typeof u && (r = u), r = r || u.easing || c.easing, o = o || u.duration || c.duration, t.length ? e.length ? (i = e.show().outerHeight(), t.animate(this.hideProps, {
                    duration: o,
                    easing: r,
                    step: function(e, t) {
                        t.now = Math.round(e)
                    }
                }), void e.hide().animate(this.showProps, {
                    duration: o,
                    easing: r,
                    complete: h,
                    step: function(e, n) {
                        n.now = Math.round(e), "height" !== n.prop ? a += n.now : "content" !== s.options.heightStyle && (n.now = Math.round(i - t.outerHeight() - a), a = 0)
                    }
                })) : t.animate(this.hideProps, o, r, h) : e.animate(this.showProps, o, r, h)
            },
            _toggleComplete: function(e) {
                var t = e.oldPanel;
                t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"), t.length && (t.parent()[0].className = t.parent()[0].className), this._trigger("activate", null, e)
            }
        }), e.widget("ui.menu", {
            version: "1.11.0",
            defaultElement: "<ul>",
            delay: 300,
            options: {
                icons: {
                    submenu: "ui-icon-carat-1-e"
                },
                items: "> *",
                menus: "ul",
                position: {
                    my: "left-1 top",
                    at: "right top"
                },
                role: "menu",
                blur: null,
                focus: null,
                select: null
            },
            _create: function() {
                this.activeMenu = this.element, this.mouseHandled = !1, this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                    role: this.options.role,
                    tabIndex: 0
                }), this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"), this._on({
                    "mousedown .ui-menu-item": function(e) {
                        e.preventDefault()
                    },
                    "click .ui-menu-item": function(t) {
                        var n = e(t.target);
                        !this.mouseHandled && n.not(".ui-state-disabled").length && (this.select(t), t.isPropagationStopped() || (this.mouseHandled = !0), n.has(".ui-menu").length ? this.expand(t) : !this.element.is(":focus") && e(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]), this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                    },
                    "mouseenter .ui-menu-item": function(t) {
                        var n = e(t.currentTarget);
                        n.siblings(".ui-state-active").removeClass("ui-state-active"), this.focus(t, n)
                    },
                    mouseleave: "collapseAll",
                    "mouseleave .ui-menu": "collapseAll",
                    focus: function(e, t) {
                        var n = this.active || this.element.find(this.options.items).eq(0);
                        t || this.focus(e, n)
                    },
                    blur: function(t) {
                        this._delay(function() {
                            e.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(t)
                        })
                    },
                    keydown: "_keydown"
                }), this.refresh(), this._on(this.document, {
                    click: function(e) {
                        this._closeOnDocumentClick(e) && this.collapseAll(e), this.mouseHandled = !1
                    }
                })
            },
            _destroy: function() {
                this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(), this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                    var t = e(this);
                    t.data("ui-menu-submenu-carat") && t.remove()
                }), this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
            },
            _keydown: function(t) {
                function n(e) {
                    return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
                }
                var i, r, o, s, a, l = !0;
                switch (t.keyCode) {
                    case e.ui.keyCode.PAGE_UP:
                        this.previousPage(t);
                        break;
                    case e.ui.keyCode.PAGE_DOWN:
                        this.nextPage(t);
                        break;
                    case e.ui.keyCode.HOME:
                        this._move("first", "first", t);
                        break;
                    case e.ui.keyCode.END:
                        this._move("last", "last", t);
                        break;
                    case e.ui.keyCode.UP:
                        this.previous(t);
                        break;
                    case e.ui.keyCode.DOWN:
                        this.next(t);
                        break;
                    case e.ui.keyCode.LEFT:
                        this.collapse(t);
                        break;
                    case e.ui.keyCode.RIGHT:
                        this.active && !this.active.is(".ui-state-disabled") && this.expand(t);
                        break;
                    case e.ui.keyCode.ENTER:
                    case e.ui.keyCode.SPACE:
                        this._activate(t);
                        break;
                    case e.ui.keyCode.ESCAPE:
                        this.collapse(t);
                        break;
                    default:
                        l = !1, r = this.previousFilter || "", o = String.fromCharCode(t.keyCode), s = !1, clearTimeout(this.filterTimer), o === r ? s = !0 : o = r + o, a = new RegExp("^" + n(o), "i"), i = this.activeMenu.find(this.options.items).filter(function() {
                            return a.test(e(this).text())
                        }), i = s && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i, i.length || (o = String.fromCharCode(t.keyCode), a = new RegExp("^" + n(o), "i"), i = this.activeMenu.find(this.options.items).filter(function() {
                            return a.test(e(this).text())
                        })), i.length ? (this.focus(t, i), i.length > 1 ? (this.previousFilter = o, this.filterTimer = this._delay(function() {
                            delete this.previousFilter
                        }, 1e3)) : delete this.previousFilter) : delete this.previousFilter
                }
                l && t.preventDefault()
            },
            _activate: function(e) {
                this.active.is(".ui-state-disabled") || (this.active.is("[aria-haspopup='true']") ? this.expand(e) : this.select(e))
            },
            refresh: function() {
                var t, n, i = this,
                    r = this.options.icons.submenu,
                    o = this.element.find(this.options.menus);
                this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length), o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({
                    role: this.options.role,
                    "aria-hidden": "true",
                    "aria-expanded": "false"
                }).each(function() {
                    var t = e(this),
                        n = t.parent(),
                        i = e("<span>").addClass("ui-menu-icon ui-icon " + r).data("ui-menu-submenu-carat", !0);
                    n.attr("aria-haspopup", "true").prepend(i), t.attr("aria-labelledby", n.attr("id"))
                }), t = o.add(this.element), n = t.find(this.options.items), n.not(".ui-menu-item").each(function() {
                    var t = e(this);
                    i._isDivider(t) && t.addClass("ui-widget-content ui-menu-divider")
                }), n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({
                    tabIndex: -1,
                    role: this._itemRole()
                }), n.filter(".ui-state-disabled").attr("aria-disabled", "true"), this.active && !e.contains(this.element[0], this.active[0]) && this.blur()
            },
            _itemRole: function() {
                return {
                    menu: "menuitem",
                    listbox: "option"
                }[this.options.role]
            },
            _setOption: function(e, t) {
                "icons" === e && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu), "disabled" === e && this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t), this._super(e, t)
            },
            focus: function(e, t) {
                var n, i;
                this.blur(e, e && "focus" === e.type), this._scrollIntoView(t), this.active = t.first(), i = this.active.addClass("ui-state-focus").removeClass("ui-state-active"), this.options.role && this.element.attr("aria-activedescendant", i.attr("id")), this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"), e && "keydown" === e.type ? this._close() : this.timer = this._delay(function() {
                    this._close()
                }, this.delay), n = t.children(".ui-menu"), n.length && e && /^mouse/.test(e.type) && this._startOpening(n), this.activeMenu = t.parent(), this._trigger("focus", e, {
                    item: t
                })
            },
            _scrollIntoView: function(t) {
                var n, i, r, o, s, a;
                this._hasScroll() && (n = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0, i = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0, r = t.offset().top - this.activeMenu.offset().top - n - i, o = this.activeMenu.scrollTop(), s = this.activeMenu.height(), a = t.outerHeight(), 0 > r ? this.activeMenu.scrollTop(o + r) : r + a > s && this.activeMenu.scrollTop(o + r - s + a))
            },
            blur: function(e, t) {
                t || clearTimeout(this.timer), this.active && (this.active.removeClass("ui-state-focus"), this.active = null, this._trigger("blur", e, {
                    item: this.active
                }))
            },
            _startOpening: function(e) {
                clearTimeout(this.timer), "true" === e.attr("aria-hidden") && (this.timer = this._delay(function() {
                    this._close(), this._open(e)
                }, this.delay))
            },
            _open: function(t) {
                var n = e.extend({
                    of: this.active
                }, this.options.position);
                clearTimeout(this.timer), this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"), t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(n)
            },
            collapseAll: function(t, n) {
                clearTimeout(this.timer), this.timer = this._delay(function() {
                    var i = n ? this.element : e(t && t.target).closest(this.element.find(".ui-menu"));
                    i.length || (i = this.element), this._close(i), this.blur(t), this.activeMenu = i
                }, this.delay)
            },
            _close: function(e) {
                e || (e = this.active ? this.active.parent() : this.element), e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")
            },
            _closeOnDocumentClick: function(t) {
                return !e(t.target).closest(".ui-menu").length
            },
            _isDivider: function(e) {
                return !/[^\-\u2014\u2013\s]/.test(e.text())
            },
            collapse: function(e) {
                var t = this.active && this.active.parent().closest(".ui-menu-item", this.element);
                t && t.length && (this._close(), this.focus(e, t))
            },
            expand: function(e) {
                var t = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
                t && t.length && (this._open(t.parent()), this._delay(function() {
                    this.focus(e, t)
                }))
            },
            next: function(e) {
                this._move("next", "first", e)
            },
            previous: function(e) {
                this._move("prev", "last", e)
            },
            isFirstItem: function() {
                return this.active && !this.active.prevAll(".ui-menu-item").length
            },
            isLastItem: function() {
                return this.active && !this.active.nextAll(".ui-menu-item").length
            },
            _move: function(e, t, n) {
                var i;
                this.active && (i = "first" === e || "last" === e ? this.active["first" === e ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[e + "All"](".ui-menu-item").eq(0)), i && i.length && this.active || (i = this.activeMenu.find(this.options.items)[t]()), this.focus(n, i)
            },
            nextPage: function(t) {
                var n, i, r;
                return this.active ? void(this.isLastItem() || (this._hasScroll() ? (i = this.active.offset().top, r = this.element.height(), this.active.nextAll(".ui-menu-item").each(function() {
                    return n = e(this), n.offset().top - i - r < 0
                }), this.focus(t, n)) : this.focus(t, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]()))) : void this.next(t)
            },
            previousPage: function(t) {
                var n, i, r;
                return this.active ? void(this.isFirstItem() || (this._hasScroll() ? (i = this.active.offset().top, r = this.element.height(), this.active.prevAll(".ui-menu-item").each(function() {
                    return n = e(this), n.offset().top - i + r > 0
                }), this.focus(t, n)) : this.focus(t, this.activeMenu.find(this.options.items).first()))) : void this.next(t)
            },
            _hasScroll: function() {
                return this.element.outerHeight() < this.element.prop("scrollHeight")
            },
            select: function(t) {
                this.active = this.active || e(t.target).closest(".ui-menu-item");
                var n = {
                    item: this.active
                };
                this.active.has(".ui-menu").length || this.collapseAll(t, !0), this._trigger("select", t, n)
            }
        });
        e.widget("ui.autocomplete", {
            version: "1.11.0",
            defaultElement: "<input>",
            options: {
                appendTo: null,
                autoFocus: !1,
                delay: 300,
                minLength: 1,
                position: {
                    my: "left top",
                    at: "left bottom",
                    collision: "none"
                },
                source: null,
                change: null,
                close: null,
                focus: null,
                open: null,
                response: null,
                search: null,
                select: null
            },
            requestIndex: 0,
            pending: 0,
            _create: function() {
                var t, n, i, r = this.element[0].nodeName.toLowerCase(),
                    o = "textarea" === r,
                    s = "input" === r;
                this.isMultiLine = o ? !0 : s ? !1 : this.element.prop("isContentEditable"), this.valueMethod = this.element[o || s ? "val" : "text"], this.isNewMenu = !0, this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"), this._on(this.element, {
                    keydown: function(r) {
                        if (this.element.prop("readOnly")) return t = !0, i = !0, void(n = !0);
                        t = !1, i = !1, n = !1;
                        var o = e.ui.keyCode;
                        switch (r.keyCode) {
                            case o.PAGE_UP:
                                t = !0, this._move("previousPage", r);
                                break;
                            case o.PAGE_DOWN:
                                t = !0, this._move("nextPage", r);
                                break;
                            case o.UP:
                                t = !0, this._keyEvent("previous", r);
                                break;
                            case o.DOWN:
                                t = !0, this._keyEvent("next", r);
                                break;
                            case o.ENTER:
                                this.menu.active && (t = !0, r.preventDefault(), this.menu.select(r));
                                break;
                            case o.TAB:
                                this.menu.active && this.menu.select(r);
                                break;
                            case o.ESCAPE:
                                this.menu.element.is(":visible") && (this._value(this.term), this.close(r), r.preventDefault());
                                break;
                            default:
                                n = !0, this._searchTimeout(r)
                        }
                    },
                    keypress: function(i) {
                        if (t) return t = !1, void((!this.isMultiLine || this.menu.element.is(":visible")) && i.preventDefault());
                        if (!n) {
                            var r = e.ui.keyCode;
                            switch (i.keyCode) {
                                case r.PAGE_UP:
                                    this._move("previousPage", i);
                                    break;
                                case r.PAGE_DOWN:
                                    this._move("nextPage", i);
                                    break;
                                case r.UP:
                                    this._keyEvent("previous", i);
                                    break;
                                case r.DOWN:
                                    this._keyEvent("next", i)
                            }
                        }
                    },
                    input: function(e) {
                        return i ? (i = !1, void e.preventDefault()) : void this._searchTimeout(e)
                    },
                    focus: function() {
                        this.selectedItem = null, this.previous = this._value()
                    },
                    blur: function(e) {
                        return this.cancelBlur ? void delete this.cancelBlur : (clearTimeout(this.searching), this.close(e), void this._change(e))
                    }
                }), this._initSource(), this.menu = e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                    role: null
                }).hide().menu("instance"), this._on(this.menu.element, {
                    mousedown: function(t) {
                        t.preventDefault(), this.cancelBlur = !0, this._delay(function() {
                            delete this.cancelBlur
                        });
                        var n = this.menu.element[0];
                        e(t.target).closest(".ui-menu-item").length || this._delay(function() {
                            var t = this;
                            this.document.one("mousedown", function(i) {
                                i.target === t.element[0] || i.target === n || e.contains(n, i.target) || t.close()
                            })
                        })
                    },
                    menufocus: function(t, n) {
                        var i, r;
                        return this.isNewMenu && (this.isNewMenu = !1, t.originalEvent && /^mouse/.test(t.originalEvent.type)) ? (this.menu.blur(), void this.document.one("mousemove", function() {
                            e(t.target).trigger(t.originalEvent)
                        })) : (r = n.item.data("ui-autocomplete-item"), !1 !== this._trigger("focus", t, {
                            item: r
                        }) && t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(r.value), i = n.item.attr("aria-label") || r.value, void(i && jQuery.trim(i).length && (this.liveRegion.children().hide(), e("<div>").text(i).appendTo(this.liveRegion))))
                    },
                    menuselect: function(e, t) {
                        var n = t.item.data("ui-autocomplete-item"),
                            i = this.previous;
                        this.element[0] !== this.document[0].activeElement && (this.element.focus(), this.previous = i, this._delay(function() {
                            this.previous = i, this.selectedItem = n
                        })), !1 !== this._trigger("select", e, {
                            item: n
                        }) && this._value(n.value), this.term = this._value(), this.close(e), this.selectedItem = n
                    }
                }), this.liveRegion = e("<span>", {
                    role: "status",
                    "aria-live": "assertive",
                    "aria-relevant": "additions"
                }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body), this._on(this.window, {
                    beforeunload: function() {
                        this.element.removeAttr("autocomplete")
                    }
                })
            },
            _destroy: function() {
                clearTimeout(this.searching), this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"), this.menu.element.remove(), this.liveRegion.remove()
            },
            _setOption: function(e, t) {
                this._super(e, t), "source" === e && this._initSource(), "appendTo" === e && this.menu.element.appendTo(this._appendTo()), "disabled" === e && t && this.xhr && this.xhr.abort()
            },
            _appendTo: function() {
                var t = this.options.appendTo;
                return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)), t && t[0] || (t = this.element.closest(".ui-front")), t.length || (t = this.document[0].body), t
            },
            _initSource: function() {
                var t, n, i = this;
                e.isArray(this.options.source) ? (t = this.options.source, this.source = function(n, i) {
                    i(e.ui.autocomplete.filter(t, n.term))
                }) : "string" == typeof this.options.source ? (n = this.options.source, this.source = function(t, r) {
                    i.xhr && i.xhr.abort(), i.xhr = e.ajax({
                        url: n,
                        data: t,
                        dataType: "json",
                        success: function(e) {
                            r(e)
                        },
                        error: function() {
                            r([])
                        }
                    })
                }) : this.source = this.options.source
            },
            _searchTimeout: function(e) {
                clearTimeout(this.searching), this.searching = this._delay(function() {
                    var t = this.term === this._value(),
                        n = this.menu.element.is(":visible"),
                        i = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
                    (!t || t && !n && !i) && (this.selectedItem = null, this.search(null, e))
                }, this.options.delay)
            },
            search: function(e, t) {
                return e = null != e ? e : this._value(), this.term = this._value(), e.length < this.options.minLength ? this.close(t) : this._trigger("search", t) !== !1 ? this._search(e) : void 0
            },
            _search: function(e) {
                this.pending++, this.element.addClass("ui-autocomplete-loading"), this.cancelSearch = !1, this.source({
                    term: e
                }, this._response())
            },
            _response: function() {
                var t = ++this.requestIndex;
                return e.proxy(function(e) {
                    t === this.requestIndex && this.__response(e), this.pending--, this.pending || this.element.removeClass("ui-autocomplete-loading")
                }, this)
            },
            __response: function(e) {
                e && (e = this._normalize(e)), this._trigger("response", null, {
                    content: e
                }), !this.options.disabled && e && e.length && !this.cancelSearch ? (this._suggest(e), this._trigger("open")) : this._close()
            },
            close: function(e) {
                this.cancelSearch = !0, this._close(e)
            },
            _close: function(e) {
                this.menu.element.is(":visible") && (this.menu.element.hide(), this.menu.blur(), this.isNewMenu = !0, this._trigger("close", e))
            },
            _change: function(e) {
                this.previous !== this._value() && this._trigger("change", e, {
                    item: this.selectedItem
                })
            },
            _normalize: function(t) {
                return t.length && t[0].label && t[0].value ? t : e.map(t, function(t) {
                    return "string" == typeof t ? {
                        label: t,
                        value: t
                    } : e.extend({}, t, {
                        label: t.label || t.value,
                        value: t.value || t.label
                    })
                })
            },
            _suggest: function(t) {
                var n = this.menu.element.empty();
                this._renderMenu(n, t), this.isNewMenu = !0, this.menu.refresh(), n.show(), this._resizeMenu(), n.position(e.extend({
                    of: this.element
                }, this.options.position)), this.options.autoFocus && this.menu.next()
            },
            _resizeMenu: function() {
                var e = this.menu.element;
                e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()))
            },
            _renderMenu: function(t, n) {
                var i = this;
                e.each(n, function(e, n) {
                    i._renderItemData(t, n)
                })
            },
            _renderItemData: function(e, t) {
                return this._renderItem(e, t).data("ui-autocomplete-item", t)
            },
            _renderItem: function(t, n) {
                return e("<li>").text(n.label).appendTo(t)
            },
            _move: function(e, t) {
                return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e) ? (this.isMultiLine || this._value(this.term), void this.menu.blur()) : void this.menu[e](t) : void this.search(null, t)
            },
            widget: function() {
                return this.menu.element
            },
            _value: function() {
                return this.valueMethod.apply(this.element, arguments)
            },
            _keyEvent: function(e, t) {
                (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(e, t), t.preventDefault())
            }
        }), e.extend(e.ui.autocomplete, {
            escapeRegex: function(e) {
                return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
            },
            filter: function(t, n) {
                var i = new RegExp(e.ui.autocomplete.escapeRegex(n), "i");
                return e.grep(t, function(e) {
                    return i.test(e.label || e.value || e)
                })
            }
        }), e.widget("ui.autocomplete", e.ui.autocomplete, {
            options: {
                messages: {
                    noResults: "No search results.",
                    results: function(e) {
                        return e + (e > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                    }
                }
            },
            __response: function(t) {
                var n;
                this._superApply(arguments), this.options.disabled || this.cancelSearch || (n = t && t.length ? this.options.messages.results(t.length) : this.options.messages.noResults, this.liveRegion.children().hide(), e("<div>").text(n).appendTo(this.liveRegion))
            }
        });
        var h, d = (e.ui.autocomplete, "ui-button ui-widget ui-state-default ui-corner-all"),
            f = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
            p = function() {
                var t = e(this);
                setTimeout(function() {
                    t.find(":ui-button").button("refresh")
                }, 1)
            },
            m = function(t) {
                var n = t.name,
                    i = t.form,
                    r = e([]);
                return n && (n = n.replace(/'/g, "\\'"), r = i ? e(i).find("[name='" + n + "'][type=radio]") : e("[name='" + n + "'][type=radio]", t.ownerDocument).filter(function() {
                    return !this.form
                })), r
            };
        e.widget("ui.button", {
            version: "1.11.0",
            defaultElement: "<button>",
            options: {
                disabled: null,
                text: !0,
                label: null,
                icons: {
                    primary: null,
                    secondary: null
                }
            },
            _create: function() {
                this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, p), "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled), this._determineButtonType(), this.hasTitle = !!this.buttonElement.attr("title");
                var t = this,
                    n = this.options,
                    i = "checkbox" === this.type || "radio" === this.type,
                    r = i ? "" : "ui-state-active";
                null === n.label && (n.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()), this._hoverable(this.buttonElement), this.buttonElement.addClass(d).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                    n.disabled || this === h && e(this).addClass("ui-state-active")
                }).bind("mouseleave" + this.eventNamespace, function() {
                    n.disabled || e(this).removeClass(r)
                }).bind("click" + this.eventNamespace, function(e) {
                    n.disabled && (e.preventDefault(), e.stopImmediatePropagation())
                }), this._on({
                    focus: function() {
                        this.buttonElement.addClass("ui-state-focus")
                    },
                    blur: function() {
                        this.buttonElement.removeClass("ui-state-focus")
                    }
                }), i && this.element.bind("change" + this.eventNamespace, function() {
                    t.refresh()
                }), "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                    return n.disabled ? !1 : void 0
                }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                    if (n.disabled) return !1;
                    e(this).addClass("ui-state-active"), t.buttonElement.attr("aria-pressed", "true");
                    var i = t.element[0];
                    m(i).not(i).map(function() {
                        return e(this).button("widget")[0]
                    }).removeClass("ui-state-active").attr("aria-pressed", "false")
                }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                    return n.disabled ? !1 : (e(this).addClass("ui-state-active"), h = this, void t.document.one("mouseup", function() {
                        h = null
                    }))
                }).bind("mouseup" + this.eventNamespace, function() {
                    return n.disabled ? !1 : void e(this).removeClass("ui-state-active")
                }).bind("keydown" + this.eventNamespace, function(t) {
                    return n.disabled ? !1 : void((t.keyCode === e.ui.keyCode.SPACE || t.keyCode === e.ui.keyCode.ENTER) && e(this).addClass("ui-state-active"))
                }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                    e(this).removeClass("ui-state-active")
                }), this.buttonElement.is("a") && this.buttonElement.keyup(function(t) {
                    t.keyCode === e.ui.keyCode.SPACE && e(this).click()
                })), this._setOption("disabled", n.disabled), this._resetButton()
            },
            _determineButtonType: function() {
                var e, t, n;
                this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button", "checkbox" === this.type || "radio" === this.type ? (e = this.element.parents().last(), t = "label[for='" + this.element.attr("id") + "']", this.buttonElement = e.find(t), this.buttonElement.length || (e = e.length ? e.siblings() : this.element.siblings(), this.buttonElement = e.filter(t), this.buttonElement.length || (this.buttonElement = e.find(t))), this.element.addClass("ui-helper-hidden-accessible"), n = this.element.is(":checked"), n && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", n)) : this.buttonElement = this.element
            },
            widget: function() {
                return this.buttonElement
            },
            _destroy: function() {
                this.element.removeClass("ui-helper-hidden-accessible"), this.buttonElement.removeClass(d + " ui-state-active " + f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()), this.hasTitle || this.buttonElement.removeAttr("title")
            },
            _setOption: function(e, t) {
                return this._super(e, t), "disabled" === e ? (this.widget().toggleClass("ui-state-disabled", !!t), this.element.prop("disabled", !!t), void(t && this.buttonElement.removeClass("checkbox" === this.type || "radio" === this.type ? "ui-state-focus" : "ui-state-focus ui-state-active"))) : void this._resetButton()
            },
            refresh: function() {
                var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
                t !== this.options.disabled && this._setOption("disabled", t), "radio" === this.type ? m(this.element[0]).each(function() {
                    e(this).is(":checked") ? e(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
                }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
            },
            _resetButton: function() {
                if ("input" === this.type) return void(this.options.label && this.element.val(this.options.label));
                var t = this.buttonElement.removeClass(f),
                    n = e("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),
                    i = this.options.icons,
                    r = i.primary && i.secondary,
                    o = [];
                i.primary || i.secondary ? (this.options.text && o.push("ui-button-text-icon" + (r ? "s" : i.primary ? "-primary" : "-secondary")), i.primary && t.prepend("<span class='ui-button-icon-primary ui-icon " + i.primary + "'></span>"), i.secondary && t.append("<span class='ui-button-icon-secondary ui-icon " + i.secondary + "'></span>"), this.options.text || (o.push(r ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || t.attr("title", e.trim(n)))) : o.push("ui-button-text-only"), t.addClass(o.join(" "))
            }
        }), e.widget("ui.buttonset", {
            version: "1.11.0",
            options: {
                items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
            },
            _create: function() {
                this.element.addClass("ui-buttonset")
            },
            _init: function() {
                this.refresh()
            },
            _setOption: function(e, t) {
                "disabled" === e && this.buttons.button("option", e, t), this._super(e, t)
            },
            refresh: function() {
                var t = "rtl" === this.element.css("direction"),
                    n = this.element.find(this.options.items),
                    i = n.filter(":ui-button");
                n.not(":ui-button").button(), i.button("refresh"), this.buttons = n.map(function() {
                    return e(this).button("widget")[0]
                }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(t ? "ui-corner-left" : "ui-corner-right").end().end()
            },
            _destroy: function() {
                this.element.removeClass("ui-buttonset"), this.buttons.map(function() {
                    return e(this).button("widget")[0]
                }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
            }
        });
        e.ui.button;
        e.extend(e.ui, {
            datepicker: {
                version: "1.11.0"
            }
        });
        var g;
        e.extend(r.prototype, {
            markerClassName: "hasDatepicker",
            maxRows: 4,
            _widgetDatepicker: function() {
                return this.dpDiv
            },
            setDefaults: function(e) {
                return s(this._defaults, e || {}), this
            },
            _attachDatepicker: function(t, n) {
                var i, r, o;
                i = t.nodeName.toLowerCase(), r = "div" === i || "span" === i, t.id || (this.uuid += 1, t.id = "dp" + this.uuid), o = this._newInst(e(t), r), o.settings = e.extend({}, n || {}), "input" === i ? this._connectDatepicker(t, o) : r && this._inlineDatepicker(t, o)
            },
            _newInst: function(t, n) {
                var i = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
                return {
                    id: i,
                    input: t,
                    selectedDay: 0,
                    selectedMonth: 0,
                    selectedYear: 0,
                    drawMonth: 0,
                    drawYear: 0,
                    inline: n,
                    dpDiv: n ? o(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
                }
            },
            _connectDatepicker: function(t, n) {
                var i = e(t);
                n.append = e([]), n.trigger = e([]), i.hasClass(this.markerClassName) || (this._attachments(i, n), i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp), this._autoSize(n), e.data(t, "datepicker", n), n.settings.disabled && this._disableDatepicker(t))
            },
            _attachments: function(t, n) {
                var i, r, o, s = this._get(n, "appendText"),
                    a = this._get(n, "isRTL");
                n.append && n.append.remove(), s && (n.append = e("<span class='" + this._appendClass + "'>" + s + "</span>"), t[a ? "before" : "after"](n.append)), t.unbind("focus", this._showDatepicker), n.trigger && n.trigger.remove(), i = this._get(n, "showOn"), ("focus" === i || "both" === i) && t.focus(this._showDatepicker), ("button" === i || "both" === i) && (r = this._get(n, "buttonText"), o = this._get(n, "buttonImage"), n.trigger = e(this._get(n, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({
                    src: o,
                    alt: r,
                    title: r
                }) : e("<button type='button'></button>").addClass(this._triggerClass).html(o ? e("<img/>").attr({
                    src: o,
                    alt: r,
                    title: r
                }) : r)), t[a ? "before" : "after"](n.trigger), n.trigger.click(function() {
                    return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(), e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]), !1
                }))
            },
            _autoSize: function(e) {
                if (this._get(e, "autoSize") && !e.inline) {
                    var t, n, i, r, o = new Date(2009, 11, 20),
                        s = this._get(e, "dateFormat");
                    s.match(/[DM]/) && (t = function(e) {
                        for (n = 0, i = 0, r = 0; r < e.length; r++) e[r].length > n && (n = e[r].length, i = r);
                        return i
                    }, o.setMonth(t(this._get(e, s.match(/MM/) ? "monthNames" : "monthNamesShort"))), o.setDate(t(this._get(e, s.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - o.getDay())), e.input.attr("size", this._formatDate(e, o).length)
                }
            },
            _inlineDatepicker: function(t, n) {
                var i = e(t);
                i.hasClass(this.markerClassName) || (i.addClass(this.markerClassName).append(n.dpDiv), e.data(t, "datepicker", n), this._setDate(n, this._getDefaultDate(n), !0), this._updateDatepicker(n), this._updateAlternate(n), n.settings.disabled && this._disableDatepicker(t), n.dpDiv.css("display", "block"))
            },
            _dialogDatepicker: function(t, n, i, r, o) {
                var a, l, c, u, h, d = this._dialogInst;
                return d || (this.uuid += 1, a = "dp" + this.uuid, this._dialogInput = e("<input type='text' id='" + a + "' style='position: absolute; top: -100px; width: 0px;'/>"), this._dialogInput.keydown(this._doKeyDown), e("body").append(this._dialogInput), d = this._dialogInst = this._newInst(this._dialogInput, !1), d.settings = {}, e.data(this._dialogInput[0], "datepicker", d)), s(d.settings, r || {}), n = n && n.constructor === Date ? this._formatDate(d, n) : n, this._dialogInput.val(n), this._pos = o ? o.length ? o : [o.pageX, o.pageY] : null, this._pos || (l = document.documentElement.clientWidth, c = document.documentElement.clientHeight, u = document.documentElement.scrollLeft || document.body.scrollLeft, h = document.documentElement.scrollTop || document.body.scrollTop, this._pos = [l / 2 - 100 + u, c / 2 - 150 + h]), this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"), d.settings.onSelect = i, this._inDialog = !0, this.dpDiv.addClass(this._dialogClass), this._showDatepicker(this._dialogInput[0]), e.blockUI && e.blockUI(this.dpDiv), e.data(this._dialogInput[0], "datepicker", d), this
            },
            _destroyDatepicker: function(t) {
                var n, i = e(t),
                    r = e.data(t, "datepicker");
                i.hasClass(this.markerClassName) && (n = t.nodeName.toLowerCase(), e.removeData(t, "datepicker"), "input" === n ? (r.append.remove(), r.trigger.remove(), i.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === n || "span" === n) && i.removeClass(this.markerClassName).empty())
            },
            _enableDatepicker: function(t) {
                var n, i, r = e(t),
                    o = e.data(t, "datepicker");
                r.hasClass(this.markerClassName) && (n = t.nodeName.toLowerCase(), "input" === n ? (t.disabled = !1, o.trigger.filter("button").each(function() {
                    this.disabled = !1
                }).end().filter("img").css({
                    opacity: "1.0",
                    cursor: ""
                })) : ("div" === n || "span" === n) && (i = r.children("." + this._inlineClass), i.children().removeClass("ui-state-disabled"), i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)), this._disabledInputs = e.map(this._disabledInputs, function(e) {
                    return e === t ? null : e
                }))
            },
            _disableDatepicker: function(t) {
                var n, i, r = e(t),
                    o = e.data(t, "datepicker");
                r.hasClass(this.markerClassName) && (n = t.nodeName.toLowerCase(), "input" === n ? (t.disabled = !0, o.trigger.filter("button").each(function() {
                    this.disabled = !0
                }).end().filter("img").css({
                    opacity: "0.5",
                    cursor: "default"
                })) : ("div" === n || "span" === n) && (i = r.children("." + this._inlineClass), i.children().addClass("ui-state-disabled"), i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)), this._disabledInputs = e.map(this._disabledInputs, function(e) {
                    return e === t ? null : e
                }), this._disabledInputs[this._disabledInputs.length] = t)
            },
            _isDisabledDatepicker: function(e) {
                if (!e) return !1;
                for (var t = 0; t < this._disabledInputs.length; t++)
                    if (this._disabledInputs[t] === e) return !0;
                return !1
            },
            _getInst: function(t) {
                try {
                    return e.data(t, "datepicker")
                } catch (n) {
                    throw "Missing instance data for this datepicker"
                }
            },
            _optionDatepicker: function(t, n, i) {
                var r, o, a, l, c = this._getInst(t);
                return 2 === arguments.length && "string" == typeof n ? "defaults" === n ? e.extend({}, e.datepicker._defaults) : c ? "all" === n ? e.extend({}, c.settings) : this._get(c, n) : null : (r = n || {}, "string" == typeof n && (r = {}, r[n] = i), void(c && (this._curInst === c && this._hideDatepicker(), o = this._getDateDatepicker(t, !0), a = this._getMinMaxDate(c, "min"), l = this._getMinMaxDate(c, "max"), s(c.settings, r), null !== a && void 0 !== r.dateFormat && void 0 === r.minDate && (c.settings.minDate = this._formatDate(c, a)), null !== l && void 0 !== r.dateFormat && void 0 === r.maxDate && (c.settings.maxDate = this._formatDate(c, l)), "disabled" in r && (r.disabled ? this._disableDatepicker(t) : this._enableDatepicker(t)), this._attachments(e(t), c), this._autoSize(c), this._setDate(c, o), this._updateAlternate(c), this._updateDatepicker(c))))
            },
            _changeDatepicker: function(e, t, n) {
                this._optionDatepicker(e, t, n)
            },
            _refreshDatepicker: function(e) {
                var t = this._getInst(e);
                t && this._updateDatepicker(t)
            },
            _setDateDatepicker: function(e, t) {
                var n = this._getInst(e);
                n && (this._setDate(n, t), this._updateDatepicker(n), this._updateAlternate(n))
            },
            _getDateDatepicker: function(e, t) {
                var n = this._getInst(e);
                return n && !n.inline && this._setDateFromField(n, t), n ? this._getDate(n) : null
            },
            _doKeyDown: function(t) {
                var n, i, r, o = e.datepicker._getInst(t.target),
                    s = !0,
                    a = o.dpDiv.is(".ui-datepicker-rtl");
                if (o._keyEvent = !0, e.datepicker._datepickerShowing) switch (t.keyCode) {
                    case 9:
                        e.datepicker._hideDatepicker(), s = !1;
                        break;
                    case 13:
                        return r = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", o.dpDiv), r[0] && e.datepicker._selectDay(t.target, o.selectedMonth, o.selectedYear, r[0]), n = e.datepicker._get(o, "onSelect"), n ? (i = e.datepicker._formatDate(o), n.apply(o.input ? o.input[0] : null, [i, o])) : e.datepicker._hideDatepicker(), !1;
                    case 27:
                        e.datepicker._hideDatepicker();
                        break;
                    case 33:
                        e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(o, "stepBigMonths") : -e.datepicker._get(o, "stepMonths"), "M");
                        break;
                    case 34:
                        e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(o, "stepBigMonths") : +e.datepicker._get(o, "stepMonths"), "M");
                        break;
                    case 35:
                        (t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target), s = t.ctrlKey || t.metaKey;
                        break;
                    case 36:
                        (t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target), s = t.ctrlKey || t.metaKey;
                        break;
                    case 37:
                        (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, a ? 1 : -1, "D"), s = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(o, "stepBigMonths") : -e.datepicker._get(o, "stepMonths"), "M");
                        break;
                    case 38:
                        (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"), s = t.ctrlKey || t.metaKey;
                        break;
                    case 39:
                        (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, a ? -1 : 1, "D"), s = t.ctrlKey || t.metaKey, t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(o, "stepBigMonths") : +e.datepicker._get(o, "stepMonths"), "M");
                        break;
                    case 40:
                        (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"), s = t.ctrlKey || t.metaKey;
                        break;
                    default:
                        s = !1
                } else 36 === t.keyCode && t.ctrlKey ? e.datepicker._showDatepicker(this) : s = !1;
                s && (t.preventDefault(), t.stopPropagation())
            },
            _doKeyPress: function(t) {
                var n, i, r = e.datepicker._getInst(t.target);
                return e.datepicker._get(r, "constrainInput") ? (n = e.datepicker._possibleChars(e.datepicker._get(r, "dateFormat")), i = String.fromCharCode(null == t.charCode ? t.keyCode : t.charCode), t.ctrlKey || t.metaKey || " " > i || !n || n.indexOf(i) > -1) : void 0
            },
            _doKeyUp: function(t) {
                var n, i = e.datepicker._getInst(t.target);
                if (i.input.val() !== i.lastVal) try {
                    n = e.datepicker.parseDate(e.datepicker._get(i, "dateFormat"), i.input ? i.input.val() : null, e.datepicker._getFormatConfig(i)), n && (e.datepicker._setDateFromField(i), e.datepicker._updateAlternate(i), e.datepicker._updateDatepicker(i))
                } catch (r) {}
                return !0
            },
            _showDatepicker: function(t) {
                if (t = t.target || t, "input" !== t.nodeName.toLowerCase() && (t = e("input", t.parentNode)[0]), !e.datepicker._isDisabledDatepicker(t) && e.datepicker._lastInput !== t) {
                    var n, r, o, a, l, c, u;
                    n = e.datepicker._getInst(t), e.datepicker._curInst && e.datepicker._curInst !== n && (e.datepicker._curInst.dpDiv.stop(!0, !0), n && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])), r = e.datepicker._get(n, "beforeShow"), o = r ? r.apply(t, [t, n]) : {}, o !== !1 && (s(n.settings, o), n.lastVal = null, e.datepicker._lastInput = t, e.datepicker._setDateFromField(n), e.datepicker._inDialog && (t.value = ""), e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(t), e.datepicker._pos[1] += t.offsetHeight), a = !1, e(t).parents().each(function() {
                        return a |= "fixed" === e(this).css("position"), !a
                    }), l = {
                        left: e.datepicker._pos[0],
                        top: e.datepicker._pos[1]
                    }, e.datepicker._pos = null, n.dpDiv.empty(), n.dpDiv.css({
                        position: "absolute",
                        display: "block",
                        top: "-1000px"
                    }), e.datepicker._updateDatepicker(n), l = e.datepicker._checkOffset(n, l, a), n.dpDiv.css({
                        position: e.datepicker._inDialog && e.blockUI ? "static" : a ? "fixed" : "absolute",
                        display: "none",
                        left: l.left + "px",
                        top: l.top + "px"
                    }), n.inline || (c = e.datepicker._get(n, "showAnim"), u = e.datepicker._get(n, "duration"), n.dpDiv.css("z-index", i(e(t)) + 1), e.datepicker._datepickerShowing = !0, e.effects && e.effects.effect[c] ? n.dpDiv.show(c, e.datepicker._get(n, "showOptions"), u) : n.dpDiv[c || "show"](c ? u : null), e.datepicker._shouldFocusInput(n) && n.input.focus(), e.datepicker._curInst = n))
                }
            },
            _updateDatepicker: function(t) {
                this.maxRows = 4, g = t, t.dpDiv.empty().append(this._generateHTML(t)), this._attachHandlers(t), t.dpDiv.find("." + this._dayOverClass + " a");
                var n, i = this._getNumberOfMonths(t),
                    r = i[1],
                    o = 17;
                t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""), r > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + r).css("width", o * r + "em"), t.dpDiv[(1 !== i[0] || 1 !== i[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"), t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"), t === e.datepicker._curInst && e.datepicker._datepickerShowing && e.datepicker._shouldFocusInput(t) && t.input.focus(), t.yearshtml && (n = t.yearshtml, setTimeout(function() {
                    n === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml), n = t.yearshtml = null
                }, 0))
            },
            _shouldFocusInput: function(e) {
                return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus")
            },
            _checkOffset: function(t, n, i) {
                var r = t.dpDiv.outerWidth(),
                    o = t.dpDiv.outerHeight(),
                    s = t.input ? t.input.outerWidth() : 0,
                    a = t.input ? t.input.outerHeight() : 0,
                    l = document.documentElement.clientWidth + (i ? 0 : e(document).scrollLeft()),
                    c = document.documentElement.clientHeight + (i ? 0 : e(document).scrollTop());
                return n.left -= this._get(t, "isRTL") ? r - s : 0, n.left -= i && n.left === t.input.offset().left ? e(document).scrollLeft() : 0, n.top -= i && n.top === t.input.offset().top + a ? e(document).scrollTop() : 0, n.left -= Math.min(n.left, n.left + r > l && l > r ? Math.abs(n.left + r - l) : 0), n.top -= Math.min(n.top, n.top + o > c && c > o ? Math.abs(o + a) : 0), n
            },
            _findPos: function(t) {
                for (var n, i = this._getInst(t), r = this._get(i, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t));) t = t[r ? "previousSibling" : "nextSibling"];
                return n = e(t).offset(), [n.left, n.top]
            },
            _hideDatepicker: function(t) {
                var n, i, r, o, s = this._curInst;
                !s || t && s !== e.data(t, "datepicker") || this._datepickerShowing && (n = this._get(s, "showAnim"), i = this._get(s, "duration"), r = function() {
                    e.datepicker._tidyDialog(s)
                }, e.effects && (e.effects.effect[n] || e.effects[n]) ? s.dpDiv.hide(n, e.datepicker._get(s, "showOptions"), i, r) : s.dpDiv["slideDown" === n ? "slideUp" : "fadeIn" === n ? "fadeOut" : "hide"](n ? i : null, r), n || r(), this._datepickerShowing = !1, o = this._get(s, "onClose"), o && o.apply(s.input ? s.input[0] : null, [s.input ? s.input.val() : "", s]), this._lastInput = null, this._inDialog && (this._dialogInput.css({
                    position: "absolute",
                    left: "0",
                    top: "-100px"
                }), e.blockUI && (e.unblockUI(), e("body").append(this.dpDiv))), this._inDialog = !1)
            },
            _tidyDialog: function(e) {
                e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
            },
            _checkExternalClick: function(t) {
                if (e.datepicker._curInst) {
                    var n = e(t.target),
                        i = e.datepicker._getInst(n[0]);
                    (n[0].id !== e.datepicker._mainDivId && 0 === n.parents("#" + e.datepicker._mainDivId).length && !n.hasClass(e.datepicker.markerClassName) && !n.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || n.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== i) && e.datepicker._hideDatepicker()
                }
            },
            _adjustDate: function(t, n, i) {
                var r = e(t),
                    o = this._getInst(r[0]);
                this._isDisabledDatepicker(r[0]) || (this._adjustInstDate(o, n + ("M" === i ? this._get(o, "showCurrentAtPos") : 0), i), this._updateDatepicker(o))
            },
            _gotoToday: function(t) {
                var n, i = e(t),
                    r = this._getInst(i[0]);
                this._get(r, "gotoCurrent") && r.currentDay ? (r.selectedDay = r.currentDay, r.drawMonth = r.selectedMonth = r.currentMonth, r.drawYear = r.selectedYear = r.currentYear) : (n = new Date, r.selectedDay = n.getDate(), r.drawMonth = r.selectedMonth = n.getMonth(), r.drawYear = r.selectedYear = n.getFullYear()), this._notifyChange(r), this._adjustDate(i)
            },
            _selectMonthYear: function(t, n, i) {
                var r = e(t),
                    o = this._getInst(r[0]);
                o["selected" + ("M" === i ? "Month" : "Year")] = o["draw" + ("M" === i ? "Month" : "Year")] = parseInt(n.options[n.selectedIndex].value, 10), this._notifyChange(o), this._adjustDate(r)
            },
            _selectDay: function(t, n, i, r) {
                var o, s = e(t);
                e(r).hasClass(this._unselectableClass) || this._isDisabledDatepicker(s[0]) || (o = this._getInst(s[0]), o.selectedDay = o.currentDay = e("a", r).html(), o.selectedMonth = o.currentMonth = n, o.selectedYear = o.currentYear = i, this._selectDate(t, this._formatDate(o, o.currentDay, o.currentMonth, o.currentYear)))
            },
            _clearDate: function(t) {
                var n = e(t);
                this._selectDate(n, "")
            },
            _selectDate: function(t, n) {
                var i, r = e(t),
                    o = this._getInst(r[0]);
                n = null != n ? n : this._formatDate(o), o.input && o.input.val(n), this._updateAlternate(o), i = this._get(o, "onSelect"), i ? i.apply(o.input ? o.input[0] : null, [n, o]) : o.input && o.input.trigger("change"), o.inline ? this._updateDatepicker(o) : (this._hideDatepicker(), this._lastInput = o.input[0], "object" != typeof o.input[0] && o.input.focus(), this._lastInput = null)
            },
            _updateAlternate: function(t) {
                var n, i, r, o = this._get(t, "altField");
                o && (n = this._get(t, "altFormat") || this._get(t, "dateFormat"), i = this._getDate(t), r = this.formatDate(n, i, this._getFormatConfig(t)), e(o).each(function() {
                    e(this).val(r)
                }))
            },
            noWeekends: function(e) {
                var t = e.getDay();
                return [t > 0 && 6 > t, ""]
            },
            iso8601Week: function(e) {
                var t, n = new Date(e.getTime());
                return n.setDate(n.getDate() + 4 - (n.getDay() || 7)), t = n.getTime(), n.setMonth(0), n.setDate(1), Math.floor(Math.round((t - n) / 864e5) / 7) + 1
            },
            parseDate: function(t, n, i) {
                if (null == t || null == n) throw "Invalid arguments";
                if (n = "object" == typeof n ? n.toString() : n + "", "" === n) return null;
                var r, o, s, a, l = 0,
                    c = (i ? i.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                    u = "string" != typeof c ? c : (new Date).getFullYear() % 100 + parseInt(c, 10),
                    h = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort,
                    d = (i ? i.dayNames : null) || this._defaults.dayNames,
                    f = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort,
                    p = (i ? i.monthNames : null) || this._defaults.monthNames,
                    m = -1,
                    g = -1,
                    v = -1,
                    y = -1,
                    b = !1,
                    w = function(e) {
                        var n = r + 1 < t.length && t.charAt(r + 1) === e;
                        return n && r++, n
                    },
                    _ = function(e) {
                        var t = w(e),
                            i = "@" === e ? 14 : "!" === e ? 20 : "y" === e && t ? 4 : "o" === e ? 3 : 2,
                            r = new RegExp("^\\d{1," + i + "}"),
                            o = n.substring(l).match(r);
                        if (!o) throw "Missing number at position " + l;
                        return l += o[0].length, parseInt(o[0], 10)
                    },
                    x = function(t, i, r) {
                        var o = -1,
                            s = e.map(w(t) ? r : i, function(e, t) {
                                return [
                                    [t, e]
                                ]
                            }).sort(function(e, t) {
                                return -(e[1].length - t[1].length)
                            });
                        if (e.each(s, function(e, t) {
                                var i = t[1];
                                return n.substr(l, i.length).toLowerCase() === i.toLowerCase() ? (o = t[0], l += i.length, !1) : void 0
                            }), -1 !== o) return o + 1;
                        throw "Unknown name at position " + l
                    },
                    $ = function() {
                        if (n.charAt(l) !== t.charAt(r)) throw "Unexpected literal at position " + l;
                        l++
                    };
                for (r = 0; r < t.length; r++)
                    if (b) "'" !== t.charAt(r) || w("'") ? $() : b = !1;
                    else switch (t.charAt(r)) {
                        case "d":
                            v = _("d");
                            break;
                        case "D":
                            x("D", h, d);
                            break;
                        case "o":
                            y = _("o");
                            break;
                        case "m":
                            g = _("m");
                            break;
                        case "M":
                            g = x("M", f, p);
                            break;
                        case "y":
                            m = _("y");
                            break;
                        case "@":
                            a = new Date(_("@")), m = a.getFullYear(), g = a.getMonth() + 1, v = a.getDate();
                            break;
                        case "!":
                            a = new Date((_("!") - this._ticksTo1970) / 1e4), m = a.getFullYear(), g = a.getMonth() + 1, v = a.getDate();
                            break;
                        case "'":
                            w("'") ? $() : b = !0;
                            break;
                        default:
                            $()
                    }
                    if (l < n.length && (s = n.substr(l), !/^\s+/.test(s))) throw "Extra/unparsed characters found in date: " + s;
                if (-1 === m ? m = (new Date).getFullYear() : 100 > m && (m += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (u >= m ? 0 : -100)), y > -1)
                    for (g = 1, v = y;;) {
                        if (o = this._getDaysInMonth(m, g - 1), o >= v) break;
                        g++, v -= o
                    }
                if (a = this._daylightSavingAdjust(new Date(m, g - 1, v)), a.getFullYear() !== m || a.getMonth() + 1 !== g || a.getDate() !== v) throw "Invalid date";
                return a
            },
            ATOM: "yy-mm-dd",
            COOKIE: "D, dd M yy",
            ISO_8601: "yy-mm-dd",
            RFC_822: "D, d M y",
            RFC_850: "DD, dd-M-y",
            RFC_1036: "D, d M y",
            RFC_1123: "D, d M yy",
            RFC_2822: "D, d M yy",
            RSS: "D, d M y",
            TICKS: "!",
            TIMESTAMP: "@",
            W3C: "yy-mm-dd",
            _ticksTo1970: 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)) * 60 * 60 * 1e7,
            formatDate: function(e, t, n) {
                if (!t) return "";
                var i, r = (n ? n.dayNamesShort : null) || this._defaults.dayNamesShort,
                    o = (n ? n.dayNames : null) || this._defaults.dayNames,
                    s = (n ? n.monthNamesShort : null) || this._defaults.monthNamesShort,
                    a = (n ? n.monthNames : null) || this._defaults.monthNames,
                    l = function(t) {
                        var n = i + 1 < e.length && e.charAt(i + 1) === t;
                        return n && i++, n
                    },
                    c = function(e, t, n) {
                        var i = "" + t;
                        if (l(e))
                            for (; i.length < n;) i = "0" + i;
                        return i
                    },
                    u = function(e, t, n, i) {
                        return l(e) ? i[t] : n[t]
                    },
                    h = "",
                    d = !1;
                if (t)
                    for (i = 0; i < e.length; i++)
                        if (d) "'" !== e.charAt(i) || l("'") ? h += e.charAt(i) : d = !1;
                        else switch (e.charAt(i)) {
                            case "d":
                                h += c("d", t.getDate(), 2);
                                break;
                            case "D":
                                h += u("D", t.getDay(), r, o);
                                break;
                            case "o":
                                h += c("o", Math.round((new Date(t.getFullYear(), t.getMonth(), t.getDate()).getTime() - new Date(t.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                                break;
                            case "m":
                                h += c("m", t.getMonth() + 1, 2);
                                break;
                            case "M":
                                h += u("M", t.getMonth(), s, a);
                                break;
                            case "y":
                                h += l("y") ? t.getFullYear() : (t.getYear() % 100 < 10 ? "0" : "") + t.getYear() % 100;
                                break;
                            case "@":
                                h += t.getTime();
                                break;
                            case "!":
                                h += 1e4 * t.getTime() + this._ticksTo1970;
                                break;
                            case "'":
                                l("'") ? h += "'" : d = !0;
                                break;
                            default:
                                h += e.charAt(i)
                        }
                        return h
            },
            _possibleChars: function(e) {
                var t, n = "",
                    i = !1,
                    r = function(n) {
                        var i = t + 1 < e.length && e.charAt(t + 1) === n;
                        return i && t++, i
                    };
                for (t = 0; t < e.length; t++)
                    if (i) "'" !== e.charAt(t) || r("'") ? n += e.charAt(t) : i = !1;
                    else switch (e.charAt(t)) {
                        case "d":
                        case "m":
                        case "y":
                        case "@":
                            n += "0123456789";
                            break;
                        case "D":
                        case "M":
                            return null;
                        case "'":
                            r("'") ? n += "'" : i = !0;
                            break;
                        default:
                            n += e.charAt(t)
                    }
                    return n
            },
            _get: function(e, t) {
                return void 0 !== e.settings[t] ? e.settings[t] : this._defaults[t]
            },
            _setDateFromField: function(e, t) {
                if (e.input.val() !== e.lastVal) {
                    var n = this._get(e, "dateFormat"),
                        i = e.lastVal = e.input ? e.input.val() : null,
                        r = this._getDefaultDate(e),
                        o = r,
                        s = this._getFormatConfig(e);
                    try {
                        o = this.parseDate(n, i, s) || r
                    } catch (a) {
                        i = t ? "" : i
                    }
                    e.selectedDay = o.getDate(), e.drawMonth = e.selectedMonth = o.getMonth(), e.drawYear = e.selectedYear = o.getFullYear(), e.currentDay = i ? o.getDate() : 0, e.currentMonth = i ? o.getMonth() : 0, e.currentYear = i ? o.getFullYear() : 0, this._adjustInstDate(e)
                }
            },
            _getDefaultDate: function(e) {
                return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date))
            },
            _determineDate: function(t, n, i) {
                var r = function(e) {
                        var t = new Date;
                        return t.setDate(t.getDate() + e), t
                    },
                    o = function(n) {
                        try {
                            return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), n, e.datepicker._getFormatConfig(t))
                        } catch (i) {}
                        for (var r = (n.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date, o = r.getFullYear(), s = r.getMonth(), a = r.getDate(), l = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, c = l.exec(n); c;) {
                            switch (c[2] || "d") {
                                case "d":
                                case "D":
                                    a += parseInt(c[1], 10);
                                    break;
                                case "w":
                                case "W":
                                    a += 7 * parseInt(c[1], 10);
                                    break;
                                case "m":
                                case "M":
                                    s += parseInt(c[1], 10), a = Math.min(a, e.datepicker._getDaysInMonth(o, s));
                                    break;
                                case "y":
                                case "Y":
                                    o += parseInt(c[1], 10), a = Math.min(a, e.datepicker._getDaysInMonth(o, s))
                            }
                            c = l.exec(n)
                        }
                        return new Date(o, s, a)
                    },
                    s = null == n || "" === n ? i : "string" == typeof n ? o(n) : "number" == typeof n ? isNaN(n) ? i : r(n) : new Date(n.getTime());
                return s = s && "Invalid Date" === s.toString() ? i : s, s && (s.setHours(0), s.setMinutes(0), s.setSeconds(0), s.setMilliseconds(0)), this._daylightSavingAdjust(s)
            },
            _daylightSavingAdjust: function(e) {
                return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0), e) : null
            },
            _setDate: function(e, t, n) {
                var i = !t,
                    r = e.selectedMonth,
                    o = e.selectedYear,
                    s = this._restrictMinMax(e, this._determineDate(e, t, new Date));
                e.selectedDay = e.currentDay = s.getDate(), e.drawMonth = e.selectedMonth = e.currentMonth = s.getMonth(), e.drawYear = e.selectedYear = e.currentYear = s.getFullYear(), r === e.selectedMonth && o === e.selectedYear || n || this._notifyChange(e), this._adjustInstDate(e), e.input && e.input.val(i ? "" : this._formatDate(e))
            },
            _getDate: function(e) {
                var t = !e.currentYear || e.input && "" === e.input.val() ? null : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
                return t
            },
            _attachHandlers: function(t) {
                var n = this._get(t, "stepMonths"),
                    i = "#" + t.id.replace(/\\\\/g, "\\");
                t.dpDiv.find("[data-handler]").map(function() {
                    var t = {
                        prev: function() {
                            e.datepicker._adjustDate(i, -n, "M")
                        },
                        next: function() {
                            e.datepicker._adjustDate(i, +n, "M")
                        },
                        hide: function() {
                            e.datepicker._hideDatepicker()
                        },
                        today: function() {
                            e.datepicker._gotoToday(i)
                        },
                        selectDay: function() {
                            return e.datepicker._selectDay(i, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this), !1
                        },
                        selectMonth: function() {
                            return e.datepicker._selectMonthYear(i, this, "M"), !1
                        },
                        selectYear: function() {
                            return e.datepicker._selectMonthYear(i, this, "Y"), !1
                        }
                    };
                    e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
                })
            },
            _generateHTML: function(e) {
                var t, n, i, r, o, s, a, l, c, u, h, d, f, p, m, g, v, y, b, w, _, x, $, C, k, S, T, E, D, A, P, N, O, I, M, R, B, F, H, j = new Date,
                    L = this._daylightSavingAdjust(new Date(j.getFullYear(), j.getMonth(), j.getDate())),
                    W = this._get(e, "isRTL"),
                    z = this._get(e, "showButtonPanel"),
                    q = this._get(e, "hideIfNoPrevNext"),
                    U = this._get(e, "navigationAsDateFormat"),
                    V = this._getNumberOfMonths(e),
                    Y = this._get(e, "showCurrentAtPos"),
                    G = this._get(e, "stepMonths"),
                    X = 1 !== V[0] || 1 !== V[1],
                    K = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear, e.currentMonth, e.currentDay) : new Date(9999, 9, 9)),
                    Z = this._getMinMaxDate(e, "min"),
                    Q = this._getMinMaxDate(e, "max"),
                    J = e.drawMonth - Y,
                    et = e.drawYear;
                if (0 > J && (J += 12, et--), Q)
                    for (t = this._daylightSavingAdjust(new Date(Q.getFullYear(), Q.getMonth() - V[0] * V[1] + 1, Q.getDate())), t = Z && Z > t ? Z : t; this._daylightSavingAdjust(new Date(et, J, 1)) > t;) J--, 0 > J && (J = 11, et--);
                for (e.drawMonth = J, e.drawYear = et, n = this._get(e, "prevText"), n = U ? this.formatDate(n, this._daylightSavingAdjust(new Date(et, J - G, 1)), this._getFormatConfig(e)) : n, i = this._canAdjustMonth(e, -1, et, J) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (W ? "e" : "w") + "'>" + n + "</span></a>" : q ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (W ? "e" : "w") + "'>" + n + "</span></a>", r = this._get(e, "nextText"), r = U ? this.formatDate(r, this._daylightSavingAdjust(new Date(et, J + G, 1)), this._getFormatConfig(e)) : r, o = this._canAdjustMonth(e, 1, et, J) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + r + "'><span class='ui-icon ui-icon-circle-triangle-" + (W ? "w" : "e") + "'>" + r + "</span></a>" : q ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + r + "'><span class='ui-icon ui-icon-circle-triangle-" + (W ? "w" : "e") + "'>" + r + "</span></a>", s = this._get(e, "currentText"), a = this._get(e, "gotoCurrent") && e.currentDay ? K : L, s = U ? this.formatDate(s, a, this._getFormatConfig(e)) : s, l = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>", c = z ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (W ? l : "") + (this._isInRange(e, a) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + s + "</button>" : "") + (W ? "" : l) + "</div>" : "", u = parseInt(this._get(e, "firstDay"), 10), u = isNaN(u) ? 0 : u, h = this._get(e, "showWeek"), d = this._get(e, "dayNames"), f = this._get(e, "dayNamesMin"), p = this._get(e, "monthNames"), m = this._get(e, "monthNamesShort"), g = this._get(e, "beforeShowDay"), v = this._get(e, "showOtherMonths"), y = this._get(e, "selectOtherMonths"), b = this._getDefaultDate(e), w = "", x = 0; x < V[0]; x++) {
                    for ($ = "", this.maxRows = 4, C = 0; C < V[1]; C++) {
                        if (k = this._daylightSavingAdjust(new Date(et, J, e.selectedDay)), S = " ui-corner-all", T = "", X) {
                            if (T += "<div class='ui-datepicker-group", V[1] > 1) switch (C) {
                                case 0:
                                    T += " ui-datepicker-group-first", S = " ui-corner-" + (W ? "right" : "left");
                                    break;
                                case V[1] - 1:
                                    T += " ui-datepicker-group-last", S = " ui-corner-" + (W ? "left" : "right");
                                    break;
                                default:
                                    T += " ui-datepicker-group-middle", S = ""
                            }
                            T += "'>"
                        }
                        for (T += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + S + "'>" + (/all|left/.test(S) && 0 === x ? W ? o : i : "") + (/all|right/.test(S) && 0 === x ? W ? i : o : "") + this._generateMonthYearHeader(e, J, et, Z, Q, x > 0 || C > 0, p, m) + "</div><table class='ui-datepicker-calendar'><thead><tr>", E = h ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "", _ = 0; 7 > _; _++) D = (_ + u) % 7, E += "<th scope='col'" + ((_ + u + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + "><span title='" + d[D] + "'>" + f[D] + "</span></th>";
                        for (T += E + "</tr></thead><tbody>", A = this._getDaysInMonth(et, J), et === e.selectedYear && J === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, A)), P = (this._getFirstDayOfMonth(et, J) - u + 7) % 7, N = Math.ceil((P + A) / 7), O = X && this.maxRows > N ? this.maxRows : N, this.maxRows = O, I = this._daylightSavingAdjust(new Date(et, J, 1 - P)), M = 0; O > M; M++) {
                            for (T += "<tr>", R = h ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(I) + "</td>" : "", _ = 0; 7 > _; _++) B = g ? g.apply(e.input ? e.input[0] : null, [I]) : [!0, ""], F = I.getMonth() !== J, H = F && !y || !B[0] || Z && Z > I || Q && I > Q, R += "<td class='" + ((_ + u + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (F ? " ui-datepicker-other-month" : "") + (I.getTime() === k.getTime() && J === e.selectedMonth && e._keyEvent || b.getTime() === I.getTime() && b.getTime() === k.getTime() ? " " + this._dayOverClass : "") + (H ? " " + this._unselectableClass + " ui-state-disabled" : "") + (F && !v ? "" : " " + B[1] + (I.getTime() === K.getTime() ? " " + this._currentClass : "") + (I.getTime() === L.getTime() ? " ui-datepicker-today" : "")) + "'" + (F && !v || !B[2] ? "" : " title='" + B[2].replace(/'/g, "&#39;") + "'") + (H ? "" : " data-handler='selectDay' data-event='click' data-month='" + I.getMonth() + "' data-year='" + I.getFullYear() + "'") + ">" + (F && !v ? "&#xa0;" : H ? "<span class='ui-state-default'>" + I.getDate() + "</span>" : "<a class='ui-state-default" + (I.getTime() === L.getTime() ? " ui-state-highlight" : "") + (I.getTime() === K.getTime() ? " ui-state-active" : "") + (F ? " ui-priority-secondary" : "") + "' href='#'>" + I.getDate() + "</a>") + "</td>", I.setDate(I.getDate() + 1), I = this._daylightSavingAdjust(I);
                            T += R + "</tr>"
                        }
                        J++, J > 11 && (J = 0, et++), T += "</tbody></table>" + (X ? "</div>" + (V[0] > 0 && C === V[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""), $ += T
                    }
                    w += $
                }
                return w += c, e._keyEvent = !1, w
            },
            _generateMonthYearHeader: function(e, t, n, i, r, o, s, a) {
                var l, c, u, h, d, f, p, m, g = this._get(e, "changeMonth"),
                    v = this._get(e, "changeYear"),
                    y = this._get(e, "showMonthAfterYear"),
                    b = "<div class='ui-datepicker-title'>",
                    w = "";
                if (o || !g) w += "<span class='ui-datepicker-month'>" + s[t] + "</span>";
                else {
                    for (l = i && i.getFullYear() === n, c = r && r.getFullYear() === n, w += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>", u = 0; 12 > u; u++)(!l || u >= i.getMonth()) && (!c || u <= r.getMonth()) && (w += "<option value='" + u + "'" + (u === t ? " selected='selected'" : "") + ">" + a[u] + "</option>");
                    w += "</select>"
                }
                if (y || (b += w + (!o && g && v ? "" : "&#xa0;")), !e.yearshtml)
                    if (e.yearshtml = "", o || !v) b += "<span class='ui-datepicker-year'>" + n + "</span>";
                    else {
                        for (h = this._get(e, "yearRange").split(":"), d = (new Date).getFullYear(), f = function(e) {
                                var t = e.match(/c[+\-].*/) ? n + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? d + parseInt(e, 10) : parseInt(e, 10);
                                return isNaN(t) ? d : t
                            }, p = f(h[0]), m = Math.max(p, f(h[1] || "")), p = i ? Math.max(p, i.getFullYear()) : p, m = r ? Math.min(m, r.getFullYear()) : m, e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; m >= p; p++) e.yearshtml += "<option value='" + p + "'" + (p === n ? " selected='selected'" : "") + ">" + p + "</option>";
                        e.yearshtml += "</select>", b += e.yearshtml, e.yearshtml = null
                    }
                return b += this._get(e, "yearSuffix"), y && (b += (!o && g && v ? "" : "&#xa0;") + w), b += "</div>"
            },
            _adjustInstDate: function(e, t, n) {
                var i = e.drawYear + ("Y" === n ? t : 0),
                    r = e.drawMonth + ("M" === n ? t : 0),
                    o = Math.min(e.selectedDay, this._getDaysInMonth(i, r)) + ("D" === n ? t : 0),
                    s = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(i, r, o)));
                e.selectedDay = s.getDate(), e.drawMonth = e.selectedMonth = s.getMonth(), e.drawYear = e.selectedYear = s.getFullYear(), ("M" === n || "Y" === n) && this._notifyChange(e)
            },
            _restrictMinMax: function(e, t) {
                var n = this._getMinMaxDate(e, "min"),
                    i = this._getMinMaxDate(e, "max"),
                    r = n && n > t ? n : t;
                return i && r > i ? i : r
            },
            _notifyChange: function(e) {
                var t = this._get(e, "onChangeMonthYear");
                t && t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e])
            },
            _getNumberOfMonths: function(e) {
                var t = this._get(e, "numberOfMonths");
                return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t
            },
            _getMinMaxDate: function(e, t) {
                return this._determineDate(e, this._get(e, t + "Date"), null)
            },
            _getDaysInMonth: function(e, t) {
                return 32 - this._daylightSavingAdjust(new Date(e, t, 32)).getDate()
            },
            _getFirstDayOfMonth: function(e, t) {
                return new Date(e, t, 1).getDay()
            },
            _canAdjustMonth: function(e, t, n, i) {
                var r = this._getNumberOfMonths(e),
                    o = this._daylightSavingAdjust(new Date(n, i + (0 > t ? t : r[0] * r[1]), 1));
                return 0 > t && o.setDate(this._getDaysInMonth(o.getFullYear(), o.getMonth())), this._isInRange(e, o)
            },
            _isInRange: function(e, t) {
                var n, i, r = this._getMinMaxDate(e, "min"),
                    o = this._getMinMaxDate(e, "max"),
                    s = null,
                    a = null,
                    l = this._get(e, "yearRange");
                return l && (n = l.split(":"), i = (new Date).getFullYear(), s = parseInt(n[0], 10), a = parseInt(n[1], 10), n[0].match(/[+\-].*/) && (s += i), n[1].match(/[+\-].*/) && (a += i)), (!r || t.getTime() >= r.getTime()) && (!o || t.getTime() <= o.getTime()) && (!s || t.getFullYear() >= s) && (!a || t.getFullYear() <= a)
            },
            _getFormatConfig: function(e) {
                var t = this._get(e, "shortYearCutoff");
                return t = "string" != typeof t ? t : (new Date).getFullYear() % 100 + parseInt(t, 10), {
                    shortYearCutoff: t,
                    dayNamesShort: this._get(e, "dayNamesShort"),
                    dayNames: this._get(e, "dayNames"),
                    monthNamesShort: this._get(e, "monthNamesShort"),
                    monthNames: this._get(e, "monthNames")
                }
            },
            _formatDate: function(e, t, n, i) {
                t || (e.currentDay = e.selectedDay, e.currentMonth = e.selectedMonth, e.currentYear = e.selectedYear);
                var r = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(i, n, t)) : this._daylightSavingAdjust(new Date(e.currentYear, e.currentMonth, e.currentDay));
                return this.formatDate(this._get(e, "dateFormat"), r, this._getFormatConfig(e))
            }
        }), e.fn.datepicker = function(t) {
            if (!this.length) return this;
            e.datepicker.initialized || (e(document).mousedown(e.datepicker._checkExternalClick), e.datepicker.initialized = !0), 0 === e("#" + e.datepicker._mainDivId).length && e("body").append(e.datepicker.dpDiv);
            var n = Array.prototype.slice.call(arguments, 1);
            return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(n)) : this.each(function() {
                "string" == typeof t ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(n)) : e.datepicker._attachDatepicker(this, t)
            }) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(n))
        }, e.datepicker = new r, e.datepicker.initialized = !1, e.datepicker.uuid = (new Date).getTime(), e.datepicker.version = "1.11.0";
        e.datepicker;
        e.widget("ui.draggable", e.ui.mouse, {
            version: "1.11.0",
            widgetEventPrefix: "drag",
            options: {
                addClasses: !0,
                appendTo: "parent",
                axis: !1,
                connectToSortable: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                iframeFix: !1,
                opacity: !1,
                refreshPositions: !1,
                revert: !1,
                revertDuration: 500,
                scope: "default",
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                snap: !1,
                snapMode: "both",
                snapTolerance: 20,
                stack: !1,
                zIndex: !1,
                drag: null,
                start: null,
                stop: null
            },
            _create: function() {
                "original" !== this.options.helper || /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative"), this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass("ui-draggable-disabled"), this._setHandleClassName(), this._mouseInit()
            },
            _setOption: function(e, t) {
                this._super(e, t), "handle" === e && this._setHandleClassName()
            },
            _destroy: function() {
                return (this.helper || this.element).is(".ui-draggable-dragging") ? void(this.destroyOnClear = !0) : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._removeHandleClassName(), void this._mouseDestroy())
            },
            _mouseCapture: function(t) {
                var n = this.document[0],
                    i = this.options;
                try {
                    n.activeElement && "body" !== n.activeElement.nodeName.toLowerCase() && e(n.activeElement).blur()
                } catch (r) {}
                return this.helper || i.disabled || e(t.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(t), this.handle ? (e(i.iframeFix === !0 ? "iframe" : i.iframeFix).each(function() {
                    e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
                        width: this.offsetWidth + "px",
                        height: this.offsetHeight + "px",
                        position: "absolute",
                        opacity: "0.001",
                        zIndex: 1e3
                    }).css(e(this).offset()).appendTo("body")
                }), !0) : !1)
            },
            _mouseStart: function(t) {
                var n = this.options;
                return this.helper = this._createHelper(t), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), e.ui.ddmanager && (e.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(), this.offsetParent = this.helper.offsetParent(), this.offsetParentCssPosition = this.offsetParent.css("position"), this.offset = this.positionAbs = this.element.offset(), this.offset = {
                    top: this.offset.top - this.margins.top,
                    left: this.offset.left - this.margins.left
                }, this.offset.scroll = !1, e.extend(this.offset, {
                    click: {
                        left: t.pageX - this.offset.left,
                        top: t.pageY - this.offset.top
                    },
                    parent: this._getParentOffset(),
                    relative: this._getRelativeOffset()
                }), this.originalPosition = this.position = this._generatePosition(t, !1), this.originalPageX = t.pageX, this.originalPageY = t.pageY, n.cursorAt && this._adjustOffsetFromHelper(n.cursorAt), this._setContainment(), this._trigger("start", t) === !1 ? (this._clear(), !1) : (this._cacheHelperProportions(), e.ui.ddmanager && !n.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t), this._mouseDrag(t, !0), e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t), !0)
            },
            _mouseDrag: function(t, n) {
                if ("fixed" === this.offsetParentCssPosition && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(t, !0), this.positionAbs = this._convertPositionTo("absolute"), !n) {
                    var i = this._uiHash();
                    if (this._trigger("drag", t, i) === !1) return this._mouseUp({}), !1;
                    this.position = i.position
                }
                return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", e.ui.ddmanager && e.ui.ddmanager.drag(this, t), !1
            },
            _mouseStop: function(t) {
                var n = this,
                    i = !1;
                return e.ui.ddmanager && !this.options.dropBehaviour && (i = e.ui.ddmanager.drop(this, t)), this.dropped && (i = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !i || "valid" === this.options.revert && i || this.options.revert === !0 || e.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                    n._trigger("stop", t) !== !1 && n._clear()
                }) : this._trigger("stop", t) !== !1 && this._clear(), !1
            },
            _mouseUp: function(t) {
                return e("div.ui-draggable-iframeFix").each(function() {
                    this.parentNode.removeChild(this)
                }), e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t), this.element.focus(), e.ui.mouse.prototype._mouseUp.call(this, t)
            },
            cancel: function() {
                return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
            },
            _getHandle: function(t) {
                return this.options.handle ? !!e(t.target).closest(this.element.find(this.options.handle)).length : !0
            },
            _setHandleClassName: function() {
                this._removeHandleClassName(), e(this.options.handle || this.element).addClass("ui-draggable-handle")
            },
            _removeHandleClassName: function() {
                this.element.find(".ui-draggable-handle").addBack().removeClass("ui-draggable-handle")
            },
            _createHelper: function(t) {
                var n = this.options,
                    i = e.isFunction(n.helper) ? e(n.helper.apply(this.element[0], [t])) : "clone" === n.helper ? this.element.clone().removeAttr("id") : this.element;
                return i.parents("body").length || i.appendTo("parent" === n.appendTo ? this.element[0].parentNode : n.appendTo), i[0] === this.element[0] || /(fixed|absolute)/.test(i.css("position")) || i.css("position", "absolute"), i
            },
            _adjustOffsetFromHelper: function(t) {
                "string" == typeof t && (t = t.split(" ")), e.isArray(t) && (t = {
                    left: +t[0],
                    top: +t[1] || 0
                }), "left" in t && (this.offset.click.left = t.left + this.margins.left), "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left), "top" in t && (this.offset.click.top = t.top + this.margins.top), "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
            },
            _isRootNode: function(e) {
                return /(html|body)/i.test(e.tagName) || e === this.document[0]
            },
            _getParentOffset: function() {
                var t = this.offsetParent.offset(),
                    n = this.document[0];
                return "absolute" === this.cssPosition && this.scrollParent[0] !== n && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (t = {
                    top: 0,
                    left: 0
                }), {
                    top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function() {
                if ("relative" !== this.cssPosition) return {
                    top: 0,
                    left: 0
                };
                var e = this.element.position(),
                    t = this._isRootNode(this.scrollParent[0]);
                return {
                    top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()),
                    left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft())
                }
            },
            _cacheMargins: function() {
                this.margins = {
                    left: parseInt(this.element.css("marginLeft"), 10) || 0,
                    top: parseInt(this.element.css("marginTop"), 10) || 0,
                    right: parseInt(this.element.css("marginRight"), 10) || 0,
                    bottom: parseInt(this.element.css("marginBottom"), 10) || 0
                }
            },
            _cacheHelperProportions: function() {
                this.helperProportions = {
                    width: this.helper.outerWidth(),
                    height: this.helper.outerHeight()
                }
            },
            _setContainment: function() {
                var t, n, i, r = this.options,
                    o = this.document[0];
                return this.relative_container = null, r.containment ? "window" === r.containment ? void(this.containment = [e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, e(window).scrollLeft() + e(window).width() - this.helperProportions.width - this.margins.left, e(window).scrollTop() + (e(window).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : "document" === r.containment ? void(this.containment = [0, 0, e(o).width() - this.helperProportions.width - this.margins.left, (e(o).height() || o.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : r.containment.constructor === Array ? void(this.containment = r.containment) : ("parent" === r.containment && (r.containment = this.helper[0].parentNode), n = e(r.containment), i = n[0], void(i && (t = "hidden" !== n.css("overflow"), this.containment = [(parseInt(n.css("borderLeftWidth"), 10) || 0) + (parseInt(n.css("paddingLeft"), 10) || 0), (parseInt(n.css("borderTopWidth"), 10) || 0) + (parseInt(n.css("paddingTop"), 10) || 0), (t ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(n.css("borderRightWidth"), 10) || 0) - (parseInt(n.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(n.css("borderBottomWidth"), 10) || 0) - (parseInt(n.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relative_container = n))) : void(this.containment = null)
            },
            _convertPositionTo: function(e, t) {
                t || (t = this.position);
                var n = "absolute" === e ? 1 : -1,
                    i = this._isRootNode(this.scrollParent[0]);
                return {
                    top: t.top + this.offset.relative.top * n + this.offset.parent.top * n - ("fixed" === this.cssPosition ? -this.offset.scroll.top : i ? 0 : this.offset.scroll.top) * n,
                    left: t.left + this.offset.relative.left * n + this.offset.parent.left * n - ("fixed" === this.cssPosition ? -this.offset.scroll.left : i ? 0 : this.offset.scroll.left) * n
                }
            },
            _generatePosition: function(e, t) {
                var n, i, r, o, s = this.options,
                    a = this._isRootNode(this.scrollParent[0]),
                    l = e.pageX,
                    c = e.pageY;
                return a && this.offset.scroll || (this.offset.scroll = {
                    top: this.scrollParent.scrollTop(),
                    left: this.scrollParent.scrollLeft()
                }), t && (this.containment && (this.relative_container ? (i = this.relative_container.offset(), n = [this.containment[0] + i.left, this.containment[1] + i.top, this.containment[2] + i.left, this.containment[3] + i.top]) : n = this.containment, e.pageX - this.offset.click.left < n[0] && (l = n[0] + this.offset.click.left), e.pageY - this.offset.click.top < n[1] && (c = n[1] + this.offset.click.top), e.pageX - this.offset.click.left > n[2] && (l = n[2] + this.offset.click.left), e.pageY - this.offset.click.top > n[3] && (c = n[3] + this.offset.click.top)), s.grid && (r = s.grid[1] ? this.originalPageY + Math.round((c - this.originalPageY) / s.grid[1]) * s.grid[1] : this.originalPageY, c = n ? r - this.offset.click.top >= n[1] || r - this.offset.click.top > n[3] ? r : r - this.offset.click.top >= n[1] ? r - s.grid[1] : r + s.grid[1] : r, o = s.grid[0] ? this.originalPageX + Math.round((l - this.originalPageX) / s.grid[0]) * s.grid[0] : this.originalPageX, l = n ? o - this.offset.click.left >= n[0] || o - this.offset.click.left > n[2] ? o : o - this.offset.click.left >= n[0] ? o - s.grid[0] : o + s.grid[0] : o), "y" === s.axis && (l = this.originalPageX), "x" === s.axis && (c = this.originalPageY)), {
                    top: c - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : a ? 0 : this.offset.scroll.top),
                    left: l - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : a ? 0 : this.offset.scroll.left)
                }
            },
            _clear: function() {
                this.helper.removeClass("ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1, this.destroyOnClear && this.destroy()
            },
            _trigger: function(t, n, i) {
                return i = i || this._uiHash(), e.ui.plugin.call(this, t, [n, i, this], !0), "drag" === t && (this.positionAbs = this._convertPositionTo("absolute")), e.Widget.prototype._trigger.call(this, t, n, i)
            },
            plugins: {},
            _uiHash: function() {
                return {
                    helper: this.helper,
                    position: this.position,
                    originalPosition: this.originalPosition,
                    offset: this.positionAbs
                }
            }
        }), e.ui.plugin.add("draggable", "connectToSortable", {
            start: function(t, n, i) {
                var r = i.options,
                    o = e.extend({}, n, {
                        item: i.element
                    });
                i.sortables = [], e(r.connectToSortable).each(function() {
                    var n = e(this).sortable("instance");
                    n && !n.options.disabled && (i.sortables.push({
                        instance: n,
                        shouldRevert: n.options.revert
                    }), n.refreshPositions(), n._trigger("activate", t, o))
                })
            },
            stop: function(t, n, i) {
                var r = e.extend({}, n, {
                    item: i.element
                });
                e.each(i.sortables, function() {
                    this.instance.isOver ? (this.instance.isOver = 0, i.cancelHelperRemoval = !0, this.instance.cancelHelperRemoval = !1, this.shouldRevert && (this.instance.options.revert = this.shouldRevert), this.instance._mouseStop(t), this.instance.options.helper = this.instance.options._helper, "original" === i.options.helper && this.instance.currentItem.css({
                        top: "auto",
                        left: "auto"
                    })) : (this.instance.cancelHelperRemoval = !1, this.instance._trigger("deactivate", t, r))
                })
            },
            drag: function(t, n, i) {
                var r = this;
                e.each(i.sortables, function() {
                    var o = !1,
                        s = this;
                    this.instance.positionAbs = i.positionAbs, this.instance.helperProportions = i.helperProportions, this.instance.offset.click = i.offset.click, this.instance._intersectsWith(this.instance.containerCache) && (o = !0, e.each(i.sortables, function() {
                        return this.instance.positionAbs = i.positionAbs, this.instance.helperProportions = i.helperProportions, this.instance.offset.click = i.offset.click, this !== s && this.instance._intersectsWith(this.instance.containerCache) && e.contains(s.instance.element[0], this.instance.element[0]) && (o = !1), o
                    })), o ? (this.instance.isOver || (this.instance.isOver = 1, this.instance.currentItem = e(r).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", !0), this.instance.options._helper = this.instance.options.helper, this.instance.options.helper = function() {
                        return n.helper[0]
                    }, t.target = this.instance.currentItem[0], this.instance._mouseCapture(t, !0), this.instance._mouseStart(t, !0, !0), this.instance.offset.click.top = i.offset.click.top, this.instance.offset.click.left = i.offset.click.left, this.instance.offset.parent.left -= i.offset.parent.left - this.instance.offset.parent.left, this.instance.offset.parent.top -= i.offset.parent.top - this.instance.offset.parent.top, i._trigger("toSortable", t), i.dropped = this.instance.element, i.currentItem = i.element, this.instance.fromOutside = i), this.instance.currentItem && this.instance._mouseDrag(t)) : this.instance.isOver && (this.instance.isOver = 0, this.instance.cancelHelperRemoval = !0, this.instance.options.revert = !1, this.instance._trigger("out", t, this.instance._uiHash(this.instance)), this.instance._mouseStop(t, !0), this.instance.options.helper = this.instance.options._helper, this.instance.currentItem.remove(), this.instance.placeholder && this.instance.placeholder.remove(), i._trigger("fromSortable", t), i.dropped = !1)
                })
            }
        }), e.ui.plugin.add("draggable", "cursor", {
            start: function(t, n, i) {
                var r = e("body"),
                    o = i.options;
                r.css("cursor") && (o._cursor = r.css("cursor")), r.css("cursor", o.cursor)
            },
            stop: function(t, n, i) {
                var r = i.options;
                r._cursor && e("body").css("cursor", r._cursor)
            }
        }), e.ui.plugin.add("draggable", "opacity", {
            start: function(t, n, i) {
                var r = e(n.helper),
                    o = i.options;
                r.css("opacity") && (o._opacity = r.css("opacity")), r.css("opacity", o.opacity)
            },
            stop: function(t, n, i) {
                var r = i.options;
                r._opacity && e(n.helper).css("opacity", r._opacity)
            }
        }), e.ui.plugin.add("draggable", "scroll", {
            start: function(e, t, n) {
                n.scrollParent[0] !== n.document[0] && "HTML" !== n.scrollParent[0].tagName && (n.overflowOffset = n.scrollParent.offset())
            },
            drag: function(t, n, i) {
                var r = i.options,
                    o = !1,
                    s = i.document[0];
                i.scrollParent[0] !== s && "HTML" !== i.scrollParent[0].tagName ? (r.axis && "x" === r.axis || (i.overflowOffset.top + i.scrollParent[0].offsetHeight - t.pageY < r.scrollSensitivity ? i.scrollParent[0].scrollTop = o = i.scrollParent[0].scrollTop + r.scrollSpeed : t.pageY - i.overflowOffset.top < r.scrollSensitivity && (i.scrollParent[0].scrollTop = o = i.scrollParent[0].scrollTop - r.scrollSpeed)), r.axis && "y" === r.axis || (i.overflowOffset.left + i.scrollParent[0].offsetWidth - t.pageX < r.scrollSensitivity ? i.scrollParent[0].scrollLeft = o = i.scrollParent[0].scrollLeft + r.scrollSpeed : t.pageX - i.overflowOffset.left < r.scrollSensitivity && (i.scrollParent[0].scrollLeft = o = i.scrollParent[0].scrollLeft - r.scrollSpeed))) : (r.axis && "x" === r.axis || (t.pageY - e(s).scrollTop() < r.scrollSensitivity ? o = e(s).scrollTop(e(s).scrollTop() - r.scrollSpeed) : e(window).height() - (t.pageY - e(s).scrollTop()) < r.scrollSensitivity && (o = e(s).scrollTop(e(s).scrollTop() + r.scrollSpeed))), r.axis && "y" === r.axis || (t.pageX - e(s).scrollLeft() < r.scrollSensitivity ? o = e(s).scrollLeft(e(s).scrollLeft() - r.scrollSpeed) : e(window).width() - (t.pageX - e(s).scrollLeft()) < r.scrollSensitivity && (o = e(s).scrollLeft(e(s).scrollLeft() + r.scrollSpeed)))), o !== !1 && e.ui.ddmanager && !r.dropBehaviour && e.ui.ddmanager.prepareOffsets(i, t)
            }
        }), e.ui.plugin.add("draggable", "snap", {
            start: function(t, n, i) {
                var r = i.options;
                i.snapElements = [], e(r.snap.constructor !== String ? r.snap.items || ":data(ui-draggable)" : r.snap).each(function() {
                    var t = e(this),
                        n = t.offset();
                    this !== i.element[0] && i.snapElements.push({
                        item: this,
                        width: t.outerWidth(),
                        height: t.outerHeight(),
                        top: n.top,
                        left: n.left
                    })
                })
            },
            drag: function(t, n, i) {
                var r, o, s, a, l, c, u, h, d, f, p = i.options,
                    m = p.snapTolerance,
                    g = n.offset.left,
                    v = g + i.helperProportions.width,
                    y = n.offset.top,
                    b = y + i.helperProportions.height;
                for (d = i.snapElements.length - 1; d >= 0; d--) l = i.snapElements[d].left, c = l + i.snapElements[d].width, u = i.snapElements[d].top, h = u + i.snapElements[d].height, l - m > v || g > c + m || u - m > b || y > h + m || !e.contains(i.snapElements[d].item.ownerDocument, i.snapElements[d].item) ? (i.snapElements[d].snapping && i.options.snap.release && i.options.snap.release.call(i.element, t, e.extend(i._uiHash(), {
                    snapItem: i.snapElements[d].item
                })), i.snapElements[d].snapping = !1) : ("inner" !== p.snapMode && (r = Math.abs(u - b) <= m, o = Math.abs(h - y) <= m, s = Math.abs(l - v) <= m, a = Math.abs(c - g) <= m, r && (n.position.top = i._convertPositionTo("relative", {
                    top: u - i.helperProportions.height,
                    left: 0
                }).top - i.margins.top), o && (n.position.top = i._convertPositionTo("relative", {
                    top: h,
                    left: 0
                }).top - i.margins.top), s && (n.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: l - i.helperProportions.width
                }).left - i.margins.left), a && (n.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: c
                }).left - i.margins.left)), f = r || o || s || a, "outer" !== p.snapMode && (r = Math.abs(u - y) <= m, o = Math.abs(h - b) <= m, s = Math.abs(l - g) <= m, a = Math.abs(c - v) <= m, r && (n.position.top = i._convertPositionTo("relative", {
                    top: u,
                    left: 0
                }).top - i.margins.top), o && (n.position.top = i._convertPositionTo("relative", {
                    top: h - i.helperProportions.height,
                    left: 0
                }).top - i.margins.top), s && (n.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: l
                }).left - i.margins.left), a && (n.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: c - i.helperProportions.width
                }).left - i.margins.left)), !i.snapElements[d].snapping && (r || o || s || a || f) && i.options.snap.snap && i.options.snap.snap.call(i.element, t, e.extend(i._uiHash(), {
                    snapItem: i.snapElements[d].item
                })), i.snapElements[d].snapping = r || o || s || a || f)
            }
        }), e.ui.plugin.add("draggable", "stack", {
            start: function(t, n, i) {
                var r, o = i.options,
                    s = e.makeArray(e(o.stack)).sort(function(t, n) {
                        return (parseInt(e(t).css("zIndex"), 10) || 0) - (parseInt(e(n).css("zIndex"), 10) || 0)
                    });
                s.length && (r = parseInt(e(s[0]).css("zIndex"), 10) || 0, e(s).each(function(t) {
                    e(this).css("zIndex", r + t)
                }), this.css("zIndex", r + s.length))
            }
        }), e.ui.plugin.add("draggable", "zIndex", {
            start: function(t, n, i) {
                var r = e(n.helper),
                    o = i.options;
                r.css("zIndex") && (o._zIndex = r.css("zIndex")), r.css("zIndex", o.zIndex)
            },
            stop: function(t, n, i) {
                var r = i.options;
                r._zIndex && e(n.helper).css("zIndex", r._zIndex)
            }
        });
        e.widget("ui.dialog", {
            version: "1.11.0",
            options: {
                appendTo: "body",
                autoOpen: !0,
                buttons: [],
                closeOnEscape: !0,
                closeText: "Close",
                dialogClass: "",
                draggable: !0,
                hide: null,
                height: "auto",
                maxHeight: null,
                maxWidth: null,
                minHeight: 150,
                minWidth: 150,
                modal: !1,
                position: {
                    my: "center",
                    at: "center",
                    of: window,
                    collision: "fit",
                    using: function(t) {
                        var n = e(this).css(t).offset().top;
                        0 > n && e(this).css("top", t.top - n)
                    }
                },
                resizable: !0,
                show: null,
                title: null,
                width: 300,
                beforeClose: null,
                close: null,
                drag: null,
                dragStart: null,
                dragStop: null,
                focus: null,
                open: null,
                resize: null,
                resizeStart: null,
                resizeStop: null
            },
            sizeRelatedOptions: {
                buttons: !0,
                height: !0,
                maxHeight: !0,
                maxWidth: !0,
                minHeight: !0,
                minWidth: !0,
                width: !0
            },
            resizableRelatedOptions: {
                maxHeight: !0,
                maxWidth: !0,
                minHeight: !0,
                minWidth: !0
            },
            _create: function() {
                this.originalCss = {
                    display: this.element[0].style.display,
                    width: this.element[0].style.width,
                    minHeight: this.element[0].style.minHeight,
                    maxHeight: this.element[0].style.maxHeight,
                    height: this.element[0].style.height
                }, this.originalPosition = {
                    parent: this.element.parent(),
                    index: this.element.parent().children().index(this.element)
                }, this.originalTitle = this.element.attr("title"), this.options.title = this.options.title || this.originalTitle, this._createWrapper(), this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog), this._createTitlebar(), this._createButtonPane(), this.options.draggable && e.fn.draggable && this._makeDraggable(), this.options.resizable && e.fn.resizable && this._makeResizable(), this._isOpen = !1, this._trackFocus()
            },
            _init: function() {
                this.options.autoOpen && this.open()
            },
            _appendTo: function() {
                var t = this.options.appendTo;
                return t && (t.jquery || t.nodeType) ? e(t) : this.document.find(t || "body").eq(0)
            },
            _destroy: function() {
                var e, t = this.originalPosition;
                this._destroyOverlay(), this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(), this.uiDialog.stop(!0, !0).remove(), this.originalTitle && this.element.attr("title", this.originalTitle), e = t.parent.children().eq(t.index), e.length && e[0] !== this.element[0] ? e.before(this.element) : t.parent.append(this.element)
            },
            widget: function() {
                return this.uiDialog
            },
            disable: e.noop,
            enable: e.noop,
            close: function(t) {
                var n, i = this;
                if (this._isOpen && this._trigger("beforeClose", t) !== !1) {
                    if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length) try {
                        n = this.document[0].activeElement, n && "body" !== n.nodeName.toLowerCase() && e(n).blur()
                    } catch (r) {}
                    this._hide(this.uiDialog, this.options.hide, function() {
                        i._trigger("close", t)
                    })
                }
            },
            isOpen: function() {
                return this._isOpen
            },
            moveToTop: function() {
                this._moveToTop()
            },
            _moveToTop: function(t, n) {
                var i = !1,
                    r = this.uiDialog.siblings(".ui-front:visible").map(function() {
                        return +e(this).css("z-index")
                    }).get(),
                    o = Math.max.apply(null, r);
                return o >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", o + 1), i = !0), i && !n && this._trigger("focus", t), i
            },
            open: function() {
                var t = this;
                return this._isOpen ? void(this._moveToTop() && this._focusTabbable()) : (this._isOpen = !0, this.opener = e(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this._show(this.uiDialog, this.options.show, function() {
                    t._focusTabbable(), t._trigger("focus")
                }), void this._trigger("open"))
            },
            _focusTabbable: function() {
                var e = this._focusedElement;
                e || (e = this.element.find("[autofocus]")), e.length || (e = this.element.find(":tabbable")), e.length || (e = this.uiDialogButtonPane.find(":tabbable")), e.length || (e = this.uiDialogTitlebarClose.filter(":tabbable")), e.length || (e = this.uiDialog), e.eq(0).focus()
            },
            _keepFocus: function(t) {
                function n() {
                    var t = this.document[0].activeElement,
                        n = this.uiDialog[0] === t || e.contains(this.uiDialog[0], t);
                    n || this._focusTabbable()
                }
                t.preventDefault(), n.call(this), this._delay(n)
            },
            _createWrapper: function() {
                this.uiDialog = e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                    tabIndex: -1,
                    role: "dialog"
                }).appendTo(this._appendTo()), this._on(this.uiDialog, {
                    keydown: function(t) {
                        if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === e.ui.keyCode.ESCAPE) return t.preventDefault(), void this.close(t);
                        if (t.keyCode === e.ui.keyCode.TAB && !t.isDefaultPrevented()) {
                            var n = this.uiDialog.find(":tabbable"),
                                i = n.filter(":first"),
                                r = n.filter(":last");
                            t.target !== r[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== i[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (this._delay(function() {
                                r.focus()
                            }), t.preventDefault()) : (this._delay(function() {
                                i.focus()
                            }), t.preventDefault())
                        }
                    },
                    mousedown: function(e) {
                        this._moveToTop(e) && this._focusTabbable()
                    }
                }), this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                    "aria-describedby": this.element.uniqueId().attr("id")
                })
            },
            _createTitlebar: function() {
                var t;
                this.uiDialogTitlebar = e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog), this._on(this.uiDialogTitlebar, {
                    mousedown: function(t) {
                        e(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                    }
                }), this.uiDialogTitlebarClose = e("<button type='button'></button>").button({
                    label: this.options.closeText,
                    icons: {
                        primary: "ui-icon-closethick"
                    },
                    text: !1
                }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar), this._on(this.uiDialogTitlebarClose, {
                    click: function(e) {
                        e.preventDefault(), this.close(e)
                    }
                }), t = e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar), this._title(t), this.uiDialog.attr({
                    "aria-labelledby": t.attr("id")
                })
            },
            _title: function(e) {
                this.options.title || e.html("&#160;"), e.text(this.options.title)
            },
            _createButtonPane: function() {
                this.uiDialogButtonPane = e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"), this.uiButtonSet = e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane), this._createButtons()
            },
            _createButtons: function() {
                var t = this,
                    n = this.options.buttons;
                return this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), e.isEmptyObject(n) || e.isArray(n) && !n.length ? void this.uiDialog.removeClass("ui-dialog-buttons") : (e.each(n, function(n, i) {
                    var r, o;
                    i = e.isFunction(i) ? {
                        click: i,
                        text: n
                    } : i, i = e.extend({
                        type: "button"
                    }, i), r = i.click, i.click = function() {
                        r.apply(t.element[0], arguments)
                    }, o = {
                        icons: i.icons,
                        text: i.showText
                    }, delete i.icons, delete i.showText, e("<button></button>", i).button(o).appendTo(t.uiButtonSet)
                }), this.uiDialog.addClass("ui-dialog-buttons"), void this.uiDialogButtonPane.appendTo(this.uiDialog))
            },
            _makeDraggable: function() {
                function t(e) {
                    return {
                        position: e.position,
                        offset: e.offset
                    }
                }
                var n = this,
                    i = this.options;
                this.uiDialog.draggable({
                    cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                    handle: ".ui-dialog-titlebar",
                    containment: "document",
                    start: function(i, r) {
                        e(this).addClass("ui-dialog-dragging"), n._blockFrames(), n._trigger("dragStart", i, t(r))
                    },
                    drag: function(e, i) {
                        n._trigger("drag", e, t(i))
                    },
                    stop: function(r, o) {
                        var s = o.offset.left - n.document.scrollLeft(),
                            a = o.offset.top - n.document.scrollTop();
                        i.position = {
                            my: "left top",
                            at: "left" + (s >= 0 ? "+" : "") + s + " top" + (a >= 0 ? "+" : "") + a,
                            of: n.window
                        }, e(this).removeClass("ui-dialog-dragging"), n._unblockFrames(), n._trigger("dragStop", r, t(o))
                    }
                })
            },
            _makeResizable: function() {
                function t(e) {
                    return {
                        originalPosition: e.originalPosition,
                        originalSize: e.originalSize,
                        position: e.position,
                        size: e.size
                    }
                }
                var n = this,
                    i = this.options,
                    r = i.resizable,
                    o = this.uiDialog.css("position"),
                    s = "string" == typeof r ? r : "n,e,s,w,se,sw,ne,nw";
                this.uiDialog.resizable({
                    cancel: ".ui-dialog-content",
                    containment: "document",
                    alsoResize: this.element,
                    maxWidth: i.maxWidth,
                    maxHeight: i.maxHeight,
                    minWidth: i.minWidth,
                    minHeight: this._minHeight(),
                    handles: s,
                    start: function(i, r) {
                        e(this).addClass("ui-dialog-resizing"), n._blockFrames(), n._trigger("resizeStart", i, t(r))
                    },
                    resize: function(e, i) {
                        n._trigger("resize", e, t(i))
                    },
                    stop: function(r, o) {
                        var s = n.uiDialog.offset(),
                            a = s.left - n.document.scrollLeft(),
                            l = s.top - n.document.scrollTop();
                        i.height = n.uiDialog.height(), i.width = n.uiDialog.width(), i.position = {
                            my: "left top",
                            at: "left" + (a >= 0 ? "+" : "") + a + " top" + (l >= 0 ? "+" : "") + l,
                            of: n.window
                        }, e(this).removeClass("ui-dialog-resizing"), n._unblockFrames(), n._trigger("resizeStop", r, t(o))
                    }
                }).css("position", o)
            },
            _trackFocus: function() {
                this._on(this.widget(), {
                    focusin: function(t) {
                        this._untrackInstance(), this._trackingInstances().unshift(this), this._focusedElement = e(t.target)
                    }
                })
            },
            _untrackInstance: function() {
                var t = this._trackingInstances(),
                    n = e.inArray(this, t); - 1 !== n && t.splice(n, 1)
            },
            _trackingInstances: function() {
                var e = this.document.data("ui-dialog-instances");
                return e || (e = [], this.document.data("ui-dialog-instances", e)), e
            },
            _minHeight: function() {
                var e = this.options;
                return "auto" === e.height ? e.minHeight : Math.min(e.minHeight, e.height)
            },
            _position: function() {
                var e = this.uiDialog.is(":visible");
                e || this.uiDialog.show(), this.uiDialog.position(this.options.position), e || this.uiDialog.hide()
            },
            _setOptions: function(t) {
                var n = this,
                    i = !1,
                    r = {};
                e.each(t, function(e, t) {
                    n._setOption(e, t), e in n.sizeRelatedOptions && (i = !0), e in n.resizableRelatedOptions && (r[e] = t)
                }), i && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", r)
            },
            _setOption: function(e, t) {
                var n, i, r = this.uiDialog;
                "dialogClass" === e && r.removeClass(this.options.dialogClass).addClass(t), "disabled" !== e && (this._super(e, t), "appendTo" === e && this.uiDialog.appendTo(this._appendTo()), "buttons" === e && this._createButtons(), "closeText" === e && this.uiDialogTitlebarClose.button({
                    label: "" + t
                }), "draggable" === e && (n = r.is(":data(ui-draggable)"), n && !t && r.draggable("destroy"), !n && t && this._makeDraggable()), "position" === e && this._position(), "resizable" === e && (i = r.is(":data(ui-resizable)"), i && !t && r.resizable("destroy"), i && "string" == typeof t && r.resizable("option", "handles", t), i || t === !1 || this._makeResizable()), "title" === e && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
            },
            _size: function() {
                var e, t, n, i = this.options;
                this.element.show().css({
                    width: "auto",
                    minHeight: 0,
                    maxHeight: "none",
                    height: 0
                }), i.minWidth > i.width && (i.width = i.minWidth), e = this.uiDialog.css({
                    height: "auto",
                    width: i.width
                }).outerHeight(), t = Math.max(0, i.minHeight - e), n = "number" == typeof i.maxHeight ? Math.max(0, i.maxHeight - e) : "none", "auto" === i.height ? this.element.css({
                    minHeight: t,
                    maxHeight: n,
                    height: "auto"
                }) : this.element.height(Math.max(0, i.height - e)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
            },
            _blockFrames: function() {
                this.iframeBlocks = this.document.find("iframe").map(function() {
                    var t = e(this);
                    return e("<div>").css({
                        position: "absolute",
                        width: t.outerWidth(),
                        height: t.outerHeight()
                    }).appendTo(t.parent()).offset(t.offset())[0]
                })
            },
            _unblockFrames: function() {
                this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
            },
            _allowInteraction: function(t) {
                return e(t.target).closest(".ui-dialog").length ? !0 : !!e(t.target).closest(".ui-datepicker").length
            },
            _createOverlay: function() {
                if (this.options.modal) {
                    var t = !0;
                    this._delay(function() {
                        t = !1
                    }), this.document.data("ui-dialog-overlays") || this._on(this.document, {
                        focusin: function(e) {
                            t || this._allowInteraction(e) || (e.preventDefault(), this._trackingInstances()[0]._focusTabbable())
                        }
                    }), this.overlay = e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()), this._on(this.overlay, {
                        mousedown: "_keepFocus"
                    }), this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
                }
            },
            _destroyOverlay: function() {
                if (this.options.modal && this.overlay) {
                    var e = this.document.data("ui-dialog-overlays") - 1;
                    e ? this.document.data("ui-dialog-overlays", e) : this.document.unbind("focusin").removeData("ui-dialog-overlays"), this.overlay.remove(), this.overlay = null
                }
            }
        });
        e.widget("ui.droppable", {
            version: "1.11.0",
            widgetEventPrefix: "drop",
            options: {
                accept: "*",
                activeClass: !1,
                addClasses: !0,
                greedy: !1,
                hoverClass: !1,
                scope: "default",
                tolerance: "intersect",
                activate: null,
                deactivate: null,
                drop: null,
                out: null,
                over: null
            },
            _create: function() {
                var t, n = this.options,
                    i = n.accept;
                this.isover = !1, this.isout = !0, this.accept = e.isFunction(i) ? i : function(e) {
                    return e.is(i)
                }, this.proportions = function() {
                    return arguments.length ? void(t = arguments[0]) : t ? t : t = {
                        width: this.element[0].offsetWidth,
                        height: this.element[0].offsetHeight
                    }
                }, this._addToManager(n.scope), n.addClasses && this.element.addClass("ui-droppable")
            },
            _addToManager: function(t) {
                e.ui.ddmanager.droppables[t] = e.ui.ddmanager.droppables[t] || [], e.ui.ddmanager.droppables[t].push(this)
            },
            _splice: function(e) {
                for (var t = 0; t < e.length; t++) e[t] === this && e.splice(t, 1)
            },
            _destroy: function() {
                var t = e.ui.ddmanager.droppables[this.options.scope];
                this._splice(t), this.element.removeClass("ui-droppable ui-droppable-disabled")
            },
            _setOption: function(t, n) {
                if ("accept" === t) this.accept = e.isFunction(n) ? n : function(e) {
                    return e.is(n)
                };
                else if ("scope" === t) {
                    var i = e.ui.ddmanager.droppables[this.options.scope];
                    this._splice(i), this._addToManager(n)
                }
                this._super(t, n)
            },
            _activate: function(t) {
                var n = e.ui.ddmanager.current;
                this.options.activeClass && this.element.addClass(this.options.activeClass), n && this._trigger("activate", t, this.ui(n))
            },
            _deactivate: function(t) {
                var n = e.ui.ddmanager.current;
                this.options.activeClass && this.element.removeClass(this.options.activeClass), n && this._trigger("deactivate", t, this.ui(n))
            },
            _over: function(t) {
                var n = e.ui.ddmanager.current;
                n && (n.currentItem || n.element)[0] !== this.element[0] && this.accept.call(this.element[0], n.currentItem || n.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass), this._trigger("over", t, this.ui(n)))
            },
            _out: function(t) {
                var n = e.ui.ddmanager.current;
                n && (n.currentItem || n.element)[0] !== this.element[0] && this.accept.call(this.element[0], n.currentItem || n.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("out", t, this.ui(n)))
            },
            _drop: function(t, n) {
                var i = n || e.ui.ddmanager.current,
                    r = !1;
                return i && (i.currentItem || i.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                    var t = e(this).droppable("instance");
                    return t.options.greedy && !t.options.disabled && t.options.scope === i.options.scope && t.accept.call(t.element[0], i.currentItem || i.element) && e.ui.intersect(i, e.extend(t, {
                        offset: t.element.offset()
                    }), t.options.tolerance) ? (r = !0, !1) : void 0
                }), r ? !1 : this.accept.call(this.element[0], i.currentItem || i.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass), this.options.hoverClass && this.element.removeClass(this.options.hoverClass), this._trigger("drop", t, this.ui(i)), this.element) : !1) : !1
            },
            ui: function(e) {
                return {
                    draggable: e.currentItem || e.element,
                    helper: e.helper,
                    position: e.position,
                    offset: e.positionAbs
                }
            }
        }), e.ui.intersect = function() {
            function e(e, t, n) {
                return e >= t && t + n > e
            }
            return function(t, n, i) {
                if (!n.offset) return !1;
                var r, o, s = (t.positionAbs || t.position.absolute).left,
                    a = (t.positionAbs || t.position.absolute).top,
                    l = s + t.helperProportions.width,
                    c = a + t.helperProportions.height,
                    u = n.offset.left,
                    h = n.offset.top,
                    d = u + n.proportions().width,
                    f = h + n.proportions().height;
                switch (i) {
                    case "fit":
                        return s >= u && d >= l && a >= h && f >= c;
                    case "intersect":
                        return u < s + t.helperProportions.width / 2 && l - t.helperProportions.width / 2 < d && h < a + t.helperProportions.height / 2 && c - t.helperProportions.height / 2 < f;
                    case "pointer":
                        return r = (t.positionAbs || t.position.absolute).left + (t.clickOffset || t.offset.click).left, o = (t.positionAbs || t.position.absolute).top + (t.clickOffset || t.offset.click).top, e(o, h, n.proportions().height) && e(r, u, n.proportions().width);
                    case "touch":
                        return (a >= h && f >= a || c >= h && f >= c || h > a && c > f) && (s >= u && d >= s || l >= u && d >= l || u > s && l > d);
                    default:
                        return !1
                }
            }
        }(), e.ui.ddmanager = {
            current: null,
            droppables: {
                "default": []
            },
            prepareOffsets: function(t, n) {
                var i, r, o = e.ui.ddmanager.droppables[t.options.scope] || [],
                    s = n ? n.type : null,
                    a = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
                e: for (i = 0; i < o.length; i++)
                    if (!(o[i].options.disabled || t && !o[i].accept.call(o[i].element[0], t.currentItem || t.element))) {
                        for (r = 0; r < a.length; r++)
                            if (a[r] === o[i].element[0]) {
                                o[i].proportions().height = 0;
                                continue e
                            }
                        o[i].visible = "none" !== o[i].element.css("display"), o[i].visible && ("mousedown" === s && o[i]._activate.call(o[i], n), o[i].offset = o[i].element.offset(), o[i].proportions({
                            width: o[i].element[0].offsetWidth,
                            height: o[i].element[0].offsetHeight
                        }))
                    }
            },
            drop: function(t, n) {
                var i = !1;
                return e.each((e.ui.ddmanager.droppables[t.options.scope] || []).slice(), function() {
                    this.options && (!this.options.disabled && this.visible && e.ui.intersect(t, this, this.options.tolerance) && (i = this._drop.call(this, n) || i), !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0, this.isover = !1, this._deactivate.call(this, n)))
                }), i
            },
            dragStart: function(t, n) {
                t.element.parentsUntil("body").bind("scroll.droppable", function() {
                    t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n)
                })
            },
            drag: function(t, n) {
                t.options.refreshPositions && e.ui.ddmanager.prepareOffsets(t, n), e.each(e.ui.ddmanager.droppables[t.options.scope] || [], function() {
                    if (!this.options.disabled && !this.greedyChild && this.visible) {
                        var i, r, o, s = e.ui.intersect(t, this, this.options.tolerance),
                            a = !s && this.isover ? "isout" : s && !this.isover ? "isover" : null;
                        a && (this.options.greedy && (r = this.options.scope, o = this.element.parents(":data(ui-droppable)").filter(function() {
                            return e(this).droppable("instance").options.scope === r
                        }), o.length && (i = e(o[0]).droppable("instance"), i.greedyChild = "isover" === a)), i && "isover" === a && (i.isover = !1, i.isout = !0, i._out.call(i, n)), this[a] = !0, this["isout" === a ? "isover" : "isout"] = !1, this["isover" === a ? "_over" : "_out"].call(this, n), i && "isout" === a && (i.isout = !1, i.isover = !0, i._over.call(i, n)))
                    }
                })
            },
            dragStop: function(t, n) {
                t.element.parentsUntil("body").unbind("scroll.droppable"), t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, n)
            }
        };
        var v = (e.ui.droppable, "ui-effects-");
        e.effects = {
                effect: {}
            },
            function(e, t) {
                function n(e, t, n) {
                    var i = h[t.type] || {};
                    return null == e ? n || !t.def ? null : t.def : (e = i.floor ? ~~e : parseFloat(e), isNaN(e) ? t.def : i.mod ? (e + i.mod) % i.mod : 0 > e ? 0 : i.max < e ? i.max : e)
                }

                function i(t) {
                    var n = c(),
                        i = n._rgba = [];
                    return t = t.toLowerCase(), p(l, function(e, r) {
                        var o, s = r.re.exec(t),
                            a = s && r.parse(s),
                            l = r.space || "rgba";
                        return a ? (o = n[l](a), n[u[l].cache] = o[u[l].cache], i = n._rgba = o._rgba, !1) : void 0
                    }), i.length ? ("0,0,0,0" === i.join() && e.extend(i, o.transparent), n) : o[t]
                }

                function r(e, t, n) {
                    return n = (n + 1) % 1, 1 > 6 * n ? e + (t - e) * n * 6 : 1 > 2 * n ? t : 2 > 3 * n ? e + (t - e) * (2 / 3 - n) * 6 : e
                }
                var o, s = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
                    a = /^([\-+])=\s*(\d+\.?\d*)/,
                    l = [{
                        re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                        parse: function(e) {
                            return [e[1], e[2], e[3], e[4]]
                        }
                    }, {
                        re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                        parse: function(e) {
                            return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
                        }
                    }, {
                        re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                        parse: function(e) {
                            return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
                        }
                    }, {
                        re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                        parse: function(e) {
                            return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
                        }
                    }, {
                        re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                        space: "hsla",
                        parse: function(e) {
                            return [e[1], e[2] / 100, e[3] / 100, e[4]]
                        }
                    }],
                    c = e.Color = function(t, n, i, r) {
                        return new e.Color.fn.parse(t, n, i, r)
                    },
                    u = {
                        rgba: {
                            props: {
                                red: {
                                    idx: 0,
                                    type: "byte"
                                },
                                green: {
                                    idx: 1,
                                    type: "byte"
                                },
                                blue: {
                                    idx: 2,
                                    type: "byte"
                                }
                            }
                        },
                        hsla: {
                            props: {
                                hue: {
                                    idx: 0,
                                    type: "degrees"
                                },
                                saturation: {
                                    idx: 1,
                                    type: "percent"
                                },
                                lightness: {
                                    idx: 2,
                                    type: "percent"
                                }
                            }
                        }
                    },
                    h = {
                        "byte": {
                            floor: !0,
                            max: 255
                        },
                        percent: {
                            max: 1
                        },
                        degrees: {
                            mod: 360,
                            floor: !0
                        }
                    },
                    d = c.support = {},
                    f = e("<p>")[0],
                    p = e.each;
                f.style.cssText = "background-color:rgba(1,1,1,.5)", d.rgba = f.style.backgroundColor.indexOf("rgba") > -1, p(u, function(e, t) {
                    t.cache = "_" + e, t.props.alpha = {
                        idx: 3,
                        type: "percent",
                        def: 1
                    }
                }), c.fn = e.extend(c.prototype, {
                    parse: function(r, s, a, l) {
                        if (r === t) return this._rgba = [null, null, null, null], this;
                        (r.jquery || r.nodeType) && (r = e(r).css(s), s = t);
                        var h = this,
                            d = e.type(r),
                            f = this._rgba = [];
                        return s !== t && (r = [r, s, a, l], d = "array"), "string" === d ? this.parse(i(r) || o._default) : "array" === d ? (p(u.rgba.props, function(e, t) {
                            f[t.idx] = n(r[t.idx], t)
                        }), this) : "object" === d ? (r instanceof c ? p(u, function(e, t) {
                            r[t.cache] && (h[t.cache] = r[t.cache].slice())
                        }) : p(u, function(t, i) {
                            var o = i.cache;
                            p(i.props, function(e, t) {
                                if (!h[o] && i.to) {
                                    if ("alpha" === e || null == r[e]) return;
                                    h[o] = i.to(h._rgba)
                                }
                                h[o][t.idx] = n(r[e], t, !0)
                            }), h[o] && e.inArray(null, h[o].slice(0, 3)) < 0 && (h[o][3] = 1, i.from && (h._rgba = i.from(h[o])))
                        }), this) : void 0
                    },
                    is: function(e) {
                        var t = c(e),
                            n = !0,
                            i = this;
                        return p(u, function(e, r) {
                            var o, s = t[r.cache];
                            return s && (o = i[r.cache] || r.to && r.to(i._rgba) || [], p(r.props, function(e, t) {
                                return null != s[t.idx] ? n = s[t.idx] === o[t.idx] : void 0
                            })), n
                        }), n
                    },
                    _space: function() {
                        var e = [],
                            t = this;
                        return p(u, function(n, i) {
                            t[i.cache] && e.push(n)
                        }), e.pop()
                    },
                    transition: function(e, t) {
                        var i = c(e),
                            r = i._space(),
                            o = u[r],
                            s = 0 === this.alpha() ? c("transparent") : this,
                            a = s[o.cache] || o.to(s._rgba),
                            l = a.slice();
                        return i = i[o.cache], p(o.props, function(e, r) {
                            var o = r.idx,
                                s = a[o],
                                c = i[o],
                                u = h[r.type] || {};
                            null !== c && (null === s ? l[o] = c : (u.mod && (c - s > u.mod / 2 ? s += u.mod : s - c > u.mod / 2 && (s -= u.mod)), l[o] = n((c - s) * t + s, r)))
                        }), this[r](l)
                    },
                    blend: function(t) {
                        if (1 === this._rgba[3]) return this;
                        var n = this._rgba.slice(),
                            i = n.pop(),
                            r = c(t)._rgba;
                        return c(e.map(n, function(e, t) {
                            return (1 - i) * r[t] + i * e
                        }))
                    },
                    toRgbaString: function() {
                        var t = "rgba(",
                            n = e.map(this._rgba, function(e, t) {
                                return null == e ? t > 2 ? 1 : 0 : e
                            });
                        return 1 === n[3] && (n.pop(), t = "rgb("), t + n.join() + ")"
                    },
                    toHslaString: function() {
                        var t = "hsla(",
                            n = e.map(this.hsla(), function(e, t) {
                                return null == e && (e = t > 2 ? 1 : 0), t && 3 > t && (e = Math.round(100 * e) + "%"), e
                            });
                        return 1 === n[3] && (n.pop(), t = "hsl("), t + n.join() + ")"
                    },
                    toHexString: function(t) {
                        var n = this._rgba.slice(),
                            i = n.pop();
                        return t && n.push(~~(255 * i)), "#" + e.map(n, function(e) {
                            return e = (e || 0).toString(16), 1 === e.length ? "0" + e : e
                        }).join("")
                    },
                    toString: function() {
                        return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
                    }
                }), c.fn.parse.prototype = c.fn, u.hsla.to = function(e) {
                    if (null == e[0] || null == e[1] || null == e[2]) return [null, null, null, e[3]];
                    var t, n, i = e[0] / 255,
                        r = e[1] / 255,
                        o = e[2] / 255,
                        s = e[3],
                        a = Math.max(i, r, o),
                        l = Math.min(i, r, o),
                        c = a - l,
                        u = a + l,
                        h = .5 * u;
                    return t = l === a ? 0 : i === a ? 60 * (r - o) / c + 360 : r === a ? 60 * (o - i) / c + 120 : 60 * (i - r) / c + 240, n = 0 === c ? 0 : .5 >= h ? c / u : c / (2 - u), [Math.round(t) % 360, n, h, null == s ? 1 : s]
                }, u.hsla.from = function(e) {
                    if (null == e[0] || null == e[1] || null == e[2]) return [null, null, null, e[3]];
                    var t = e[0] / 360,
                        n = e[1],
                        i = e[2],
                        o = e[3],
                        s = .5 >= i ? i * (1 + n) : i + n - i * n,
                        a = 2 * i - s;
                    return [Math.round(255 * r(a, s, t + 1 / 3)), Math.round(255 * r(a, s, t)), Math.round(255 * r(a, s, t - 1 / 3)), o]
                }, p(u, function(i, r) {
                    var o = r.props,
                        s = r.cache,
                        l = r.to,
                        u = r.from;
                    c.fn[i] = function(i) {
                        if (l && !this[s] && (this[s] = l(this._rgba)), i === t) return this[s].slice();
                        var r, a = e.type(i),
                            h = "array" === a || "object" === a ? i : arguments,
                            d = this[s].slice();
                        return p(o, function(e, t) {
                            var i = h["object" === a ? e : t.idx];
                            null == i && (i = d[t.idx]), d[t.idx] = n(i, t)
                        }), u ? (r = c(u(d)), r[s] = d, r) : c(d)
                    }, p(o, function(t, n) {
                        c.fn[t] || (c.fn[t] = function(r) {
                            var o, s = e.type(r),
                                l = "alpha" === t ? this._hsla ? "hsla" : "rgba" : i,
                                c = this[l](),
                                u = c[n.idx];
                            return "undefined" === s ? u : ("function" === s && (r = r.call(this, u), s = e.type(r)), null == r && n.empty ? this : ("string" === s && (o = a.exec(r), o && (r = u + parseFloat(o[2]) * ("+" === o[1] ? 1 : -1))), c[n.idx] = r, this[l](c)))
                        })
                    })
                }), c.hook = function(t) {
                    var n = t.split(" ");
                    p(n, function(t, n) {
                        e.cssHooks[n] = {
                            set: function(t, r) {
                                var o, s, a = "";
                                if ("transparent" !== r && ("string" !== e.type(r) || (o = i(r)))) {
                                    if (r = c(o || r), !d.rgba && 1 !== r._rgba[3]) {
                                        for (s = "backgroundColor" === n ? t.parentNode : t;
                                            ("" === a || "transparent" === a) && s && s.style;) try {
                                            a = e.css(s, "backgroundColor"), s = s.parentNode
                                        } catch (l) {}
                                        r = r.blend(a && "transparent" !== a ? a : "_default")
                                    }
                                    r = r.toRgbaString()
                                }
                                try {
                                    t.style[n] = r
                                } catch (l) {}
                            }
                        }, e.fx.step[n] = function(t) {
                            t.colorInit || (t.start = c(t.elem, n), t.end = c(t.end), t.colorInit = !0), e.cssHooks[n].set(t.elem, t.start.transition(t.end, t.pos))
                        }
                    })
                }, c.hook(s), e.cssHooks.borderColor = {
                    expand: function(e) {
                        var t = {};
                        return p(["Top", "Right", "Bottom", "Left"], function(n, i) {
                            t["border" + i + "Color"] = e
                        }), t
                    }
                }, o = e.Color.names = {
                    aqua: "#00ffff",
                    black: "#000000",
                    blue: "#0000ff",
                    fuchsia: "#ff00ff",
                    gray: "#808080",
                    green: "#008000",
                    lime: "#00ff00",
                    maroon: "#800000",
                    navy: "#000080",
                    olive: "#808000",
                    purple: "#800080",
                    red: "#ff0000",
                    silver: "#c0c0c0",
                    teal: "#008080",
                    white: "#ffffff",
                    yellow: "#ffff00",
                    transparent: [null, null, null, 0],
                    _default: "#ffffff"
                }
            }(jQuery),
            function() {
                function t(t) {
                    var n, i, r = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle,
                        o = {};
                    if (r && r.length && r[0] && r[r[0]])
                        for (i = r.length; i--;) n = r[i], "string" == typeof r[n] && (o[e.camelCase(n)] = r[n]);
                    else
                        for (n in r) "string" == typeof r[n] && (o[n] = r[n]);
                    return o
                }

                function n(t, n) {
                    var i, o, s = {};
                    for (i in n) o = n[i], t[i] !== o && (r[i] || (e.fx.step[i] || !isNaN(parseFloat(o))) && (s[i] = o));
                    return s
                }
                var i = ["add", "remove", "toggle"],
                    r = {
                        border: 1,
                        borderBottom: 1,
                        borderColor: 1,
                        borderLeft: 1,
                        borderRight: 1,
                        borderTop: 1,
                        borderWidth: 1,
                        margin: 1,
                        padding: 1
                    };
                e.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(t, n) {
                    e.fx.step[n] = function(e) {
                        ("none" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr) && (jQuery.style(e.elem, n, e.end), e.setAttr = !0)
                    }
                }), e.fn.addBack || (e.fn.addBack = function(e) {
                    return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
                }), e.effects.animateClass = function(r, o, s, a) {
                    var l = e.speed(o, s, a);
                    return this.queue(function() {
                        var o, s = e(this),
                            a = s.attr("class") || "",
                            c = l.children ? s.find("*").addBack() : s;
                        c = c.map(function() {
                            var n = e(this);
                            return {
                                el: n,
                                start: t(this)
                            }
                        }), o = function() {
                            e.each(i, function(e, t) {
                                r[t] && s[t + "Class"](r[t])
                            })
                        }, o(), c = c.map(function() {
                            return this.end = t(this.el[0]), this.diff = n(this.start, this.end), this
                        }), s.attr("class", a), c = c.map(function() {
                            var t = this,
                                n = e.Deferred(),
                                i = e.extend({}, l, {
                                    queue: !1,
                                    complete: function() {
                                        n.resolve(t)
                                    }
                                });
                            return this.el.animate(this.diff, i), n.promise()
                        }), e.when.apply(e, c.get()).done(function() {
                            o(), e.each(arguments, function() {
                                var t = this.el;
                                e.each(this.diff, function(e) {
                                    t.css(e, "")
                                })
                            }), l.complete.call(s[0])
                        })
                    })
                }, e.fn.extend({
                    addClass: function(t) {
                        return function(n, i, r, o) {
                            return i ? e.effects.animateClass.call(this, {
                                add: n
                            }, i, r, o) : t.apply(this, arguments)
                        }
                    }(e.fn.addClass),
                    removeClass: function(t) {
                        return function(n, i, r, o) {
                            return arguments.length > 1 ? e.effects.animateClass.call(this, {
                                remove: n
                            }, i, r, o) : t.apply(this, arguments)
                        }
                    }(e.fn.removeClass),
                    toggleClass: function(t) {
                        return function(n, i, r, o, s) {
                            return "boolean" == typeof i || void 0 === i ? r ? e.effects.animateClass.call(this, i ? {
                                add: n
                            } : {
                                remove: n
                            }, r, o, s) : t.apply(this, arguments) : e.effects.animateClass.call(this, {
                                toggle: n
                            }, i, r, o)
                        }
                    }(e.fn.toggleClass),
                    switchClass: function(t, n, i, r, o) {
                        return e.effects.animateClass.call(this, {
                            add: n,
                            remove: t
                        }, i, r, o)
                    }
                })
            }(),
            function() {
                function t(t, n, i, r) {
                    return e.isPlainObject(t) && (n = t, t = t.effect), t = {
                        effect: t
                    }, null == n && (n = {}), e.isFunction(n) && (r = n, i = null, n = {}), ("number" == typeof n || e.fx.speeds[n]) && (r = i, i = n, n = {}), e.isFunction(i) && (r = i, i = null), n && e.extend(t, n), i = i || n.duration, t.duration = e.fx.off ? 0 : "number" == typeof i ? i : i in e.fx.speeds ? e.fx.speeds[i] : e.fx.speeds._default, t.complete = r || n.complete, t
                }

                function n(t) {
                    return !t || "number" == typeof t || e.fx.speeds[t] ? !0 : "string" != typeof t || e.effects.effect[t] ? e.isFunction(t) ? !0 : "object" != typeof t || t.effect ? !1 : !0 : !0
                }
                e.extend(e.effects, {
                    version: "1.11.0",
                    save: function(e, t) {
                        for (var n = 0; n < t.length; n++) null !== t[n] && e.data(v + t[n], e[0].style[t[n]])
                    },
                    restore: function(e, t) {
                        var n, i;
                        for (i = 0; i < t.length; i++) null !== t[i] && (n = e.data(v + t[i]), void 0 === n && (n = ""), e.css(t[i], n))
                    },
                    setMode: function(e, t) {
                        return "toggle" === t && (t = e.is(":hidden") ? "show" : "hide"), t
                    },
                    getBaseline: function(e, t) {
                        var n, i;
                        switch (e[0]) {
                            case "top":
                                n = 0;
                                break;
                            case "middle":
                                n = .5;
                                break;
                            case "bottom":
                                n = 1;
                                break;
                            default:
                                n = e[0] / t.height
                        }
                        switch (e[1]) {
                            case "left":
                                i = 0;
                                break;
                            case "center":
                                i = .5;
                                break;
                            case "right":
                                i = 1;
                                break;
                            default:
                                i = e[1] / t.width
                        }
                        return {
                            x: i,
                            y: n
                        }
                    },
                    createWrapper: function(t) {
                        if (t.parent().is(".ui-effects-wrapper")) return t.parent();
                        var n = {
                                width: t.outerWidth(!0),
                                height: t.outerHeight(!0),
                                "float": t.css("float")
                            },
                            i = e("<div></div>").addClass("ui-effects-wrapper").css({
                                fontSize: "100%",
                                background: "transparent",
                                border: "none",
                                margin: 0,
                                padding: 0
                            }),
                            r = {
                                width: t.width(),
                                height: t.height()
                            },
                            o = document.activeElement;
                        try {
                            o.id
                        } catch (s) {
                            o = document.body
                        }
                        return t.wrap(i), (t[0] === o || e.contains(t[0], o)) && e(o).focus(), i = t.parent(), "static" === t.css("position") ? (i.css({
                            position: "relative"
                        }), t.css({
                            position: "relative"
                        })) : (e.extend(n, {
                            position: t.css("position"),
                            zIndex: t.css("z-index")
                        }), e.each(["top", "left", "bottom", "right"], function(e, i) {
                            n[i] = t.css(i), isNaN(parseInt(n[i], 10)) && (n[i] = "auto")
                        }), t.css({
                            position: "relative",
                            top: 0,
                            left: 0,
                            right: "auto",
                            bottom: "auto"
                        })), t.css(r), i.css(n).show()
                    },
                    removeWrapper: function(t) {
                        var n = document.activeElement;
                        return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t), (t[0] === n || e.contains(t[0], n)) && e(n).focus()), t
                    },
                    setTransition: function(t, n, i, r) {
                        return r = r || {}, e.each(n, function(e, n) {
                            var o = t.cssUnit(n);
                            o[0] > 0 && (r[n] = o[0] * i + o[1])
                        }), r
                    }
                }), e.fn.extend({
                    effect: function() {
                        function n(t) {
                            function n() {
                                e.isFunction(o) && o.call(r[0]), e.isFunction(t) && t()
                            }
                            var r = e(this),
                                o = i.complete,
                                a = i.mode;
                            (r.is(":hidden") ? "hide" === a : "show" === a) ? (r[a](), n()) : s.call(r[0], i, n)
                        }
                        var i = t.apply(this, arguments),
                            r = i.mode,
                            o = i.queue,
                            s = e.effects.effect[i.effect];
                        return e.fx.off || !s ? r ? this[r](i.duration, i.complete) : this.each(function() {
                            i.complete && i.complete.call(this)
                        }) : o === !1 ? this.each(n) : this.queue(o || "fx", n)
                    },
                    show: function(e) {
                        return function(i) {
                            if (n(i)) return e.apply(this, arguments);
                            var r = t.apply(this, arguments);
                            return r.mode = "show", this.effect.call(this, r)
                        }
                    }(e.fn.show),
                    hide: function(e) {
                        return function(i) {
                            if (n(i)) return e.apply(this, arguments);
                            var r = t.apply(this, arguments);
                            return r.mode = "hide", this.effect.call(this, r)
                        }
                    }(e.fn.hide),
                    toggle: function(e) {
                        return function(i) {
                            if (n(i) || "boolean" == typeof i) return e.apply(this, arguments);
                            var r = t.apply(this, arguments);
                            return r.mode = "toggle", this.effect.call(this, r)
                        }
                    }(e.fn.toggle),
                    cssUnit: function(t) {
                        var n = this.css(t),
                            i = [];
                        return e.each(["em", "px", "%", "pt"], function(e, t) {
                            n.indexOf(t) > 0 && (i = [parseFloat(n), t])
                        }), i
                    }
                })
            }(),
            function() {
                var t = {};
                e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(e, n) {
                    t[n] = function(t) {
                        return Math.pow(t, e + 2)
                    }
                }), e.extend(t, {
                    Sine: function(e) {
                        return 1 - Math.cos(e * Math.PI / 2)
                    },
                    Circ: function(e) {
                        return 1 - Math.sqrt(1 - e * e)
                    },
                    Elastic: function(e) {
                        return 0 === e || 1 === e ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15)
                    },
                    Back: function(e) {
                        return e * e * (3 * e - 2)
                    },
                    Bounce: function(e) {
                        for (var t, n = 4; e < ((t = Math.pow(2, --n)) - 1) / 11;);
                        return 1 / Math.pow(4, 3 - n) - 7.5625 * Math.pow((3 * t - 2) / 22 - e, 2)
                    }
                }), e.each(t, function(t, n) {
                    e.easing["easeIn" + t] = n, e.easing["easeOut" + t] = function(e) {
                        return 1 - n(1 - e)
                    }, e.easing["easeInOut" + t] = function(e) {
                        return .5 > e ? n(2 * e) / 2 : 1 - n(-2 * e + 2) / 2
                    }
                })
            }();
        e.effects, e.effects.effect.blind = function(t, n) {
            var i, r, o, s = e(this),
                a = /up|down|vertical/,
                l = /up|left|vertical|horizontal/,
                c = ["position", "top", "bottom", "left", "right", "height", "width"],
                u = e.effects.setMode(s, t.mode || "hide"),
                h = t.direction || "up",
                d = a.test(h),
                f = d ? "height" : "width",
                p = d ? "top" : "left",
                m = l.test(h),
                g = {},
                v = "show" === u;
            s.parent().is(".ui-effects-wrapper") ? e.effects.save(s.parent(), c) : e.effects.save(s, c), s.show(), i = e.effects.createWrapper(s).css({
                overflow: "hidden"
            }), r = i[f](), o = parseFloat(i.css(p)) || 0, g[f] = v ? r : 0, m || (s.css(d ? "bottom" : "right", 0).css(d ? "top" : "left", "auto").css({
                position: "absolute"
            }), g[p] = v ? o : r + o), v && (i.css(f, 0), m || i.css(p, o + r)), i.animate(g, {
                duration: t.duration,
                easing: t.easing,
                queue: !1,
                complete: function() {
                    "hide" === u && s.hide(), e.effects.restore(s, c), e.effects.removeWrapper(s), n()
                }
            })
        }, e.effects.effect.bounce = function(t, n) {
            var i, r, o, s = e(this),
                a = ["position", "top", "bottom", "left", "right", "height", "width"],
                l = e.effects.setMode(s, t.mode || "effect"),
                c = "hide" === l,
                u = "show" === l,
                h = t.direction || "up",
                d = t.distance,
                f = t.times || 5,
                p = 2 * f + (u || c ? 1 : 0),
                m = t.duration / p,
                g = t.easing,
                v = "up" === h || "down" === h ? "top" : "left",
                y = "up" === h || "left" === h,
                b = s.queue(),
                w = b.length;
            for ((u || c) && a.push("opacity"), e.effects.save(s, a), s.show(), e.effects.createWrapper(s), d || (d = s["top" === v ? "outerHeight" : "outerWidth"]() / 3), u && (o = {
                    opacity: 1
                }, o[v] = 0, s.css("opacity", 0).css(v, y ? 2 * -d : 2 * d).animate(o, m, g)), c && (d /= Math.pow(2, f - 1)), o = {}, o[v] = 0, i = 0; f > i; i++) r = {}, r[v] = (y ? "-=" : "+=") + d, s.animate(r, m, g).animate(o, m, g), d = c ? 2 * d : d / 2;
            c && (r = {
                opacity: 0
            }, r[v] = (y ? "-=" : "+=") + d, s.animate(r, m, g)), s.queue(function() {
                c && s.hide(), e.effects.restore(s, a), e.effects.removeWrapper(s), n()
            }), w > 1 && b.splice.apply(b, [1, 0].concat(b.splice(w, p + 1))), s.dequeue()
        }, e.effects.effect.clip = function(t, n) {
            var i, r, o, s = e(this),
                a = ["position", "top", "bottom", "left", "right", "height", "width"],
                l = e.effects.setMode(s, t.mode || "hide"),
                c = "show" === l,
                u = t.direction || "vertical",
                h = "vertical" === u,
                d = h ? "height" : "width",
                f = h ? "top" : "left",
                p = {};
            e.effects.save(s, a), s.show(), i = e.effects.createWrapper(s).css({
                overflow: "hidden"
            }), r = "IMG" === s[0].tagName ? i : s, o = r[d](), c && (r.css(d, 0), r.css(f, o / 2)), p[d] = c ? o : 0, p[f] = c ? 0 : o / 2, r.animate(p, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    c || s.hide(), e.effects.restore(s, a), e.effects.removeWrapper(s), n()
                }
            })
        }, e.effects.effect.drop = function(t, n) {
            var i, r = e(this),
                o = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
                s = e.effects.setMode(r, t.mode || "hide"),
                a = "show" === s,
                l = t.direction || "left",
                c = "up" === l || "down" === l ? "top" : "left",
                u = "up" === l || "left" === l ? "pos" : "neg",
                h = {
                    opacity: a ? 1 : 0
                };
            e.effects.save(r, o), r.show(), e.effects.createWrapper(r), i = t.distance || r["top" === c ? "outerHeight" : "outerWidth"](!0) / 2, a && r.css("opacity", 0).css(c, "pos" === u ? -i : i), h[c] = (a ? "pos" === u ? "+=" : "-=" : "pos" === u ? "-=" : "+=") + i, r.animate(h, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    "hide" === s && r.hide(), e.effects.restore(r, o), e.effects.removeWrapper(r), n()
                }
            })
        }, e.effects.effect.explode = function(t, n) {
            function i() {
                b.push(this), b.length === h * d && r()
            }

            function r() {
                f.css({
                    visibility: "visible"
                }), e(b).remove(), m || f.hide(), n()
            }
            var o, s, a, l, c, u, h = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3,
                d = h,
                f = e(this),
                p = e.effects.setMode(f, t.mode || "hide"),
                m = "show" === p,
                g = f.show().css("visibility", "hidden").offset(),
                v = Math.ceil(f.outerWidth() / d),
                y = Math.ceil(f.outerHeight() / h),
                b = [];
            for (o = 0; h > o; o++)
                for (l = g.top + o * y, u = o - (h - 1) / 2, s = 0; d > s; s++) a = g.left + s * v, c = s - (d - 1) / 2, f.clone().appendTo("body").wrap("<div></div>").css({
                    position: "absolute",
                    visibility: "visible",
                    left: -s * v,
                    top: -o * y
                }).parent().addClass("ui-effects-explode").css({
                    position: "absolute",
                    overflow: "hidden",
                    width: v,
                    height: y,
                    left: a + (m ? c * v : 0),
                    top: l + (m ? u * y : 0),
                    opacity: m ? 0 : 1
                }).animate({
                    left: a + (m ? 0 : c * v),
                    top: l + (m ? 0 : u * y),
                    opacity: m ? 1 : 0
                }, t.duration || 500, t.easing, i)
        }, e.effects.effect.fade = function(t, n) {
            var i = e(this),
                r = e.effects.setMode(i, t.mode || "toggle");
            i.animate({
                opacity: r
            }, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: n
            })
        }, e.effects.effect.fold = function(t, n) {
            var i, r, o = e(this),
                s = ["position", "top", "bottom", "left", "right", "height", "width"],
                a = e.effects.setMode(o, t.mode || "hide"),
                l = "show" === a,
                c = "hide" === a,
                u = t.size || 15,
                h = /([0-9]+)%/.exec(u),
                d = !!t.horizFirst,
                f = l !== d,
                p = f ? ["width", "height"] : ["height", "width"],
                m = t.duration / 2,
                g = {},
                v = {};
            e.effects.save(o, s), o.show(), i = e.effects.createWrapper(o).css({
                overflow: "hidden"
            }), r = f ? [i.width(), i.height()] : [i.height(), i.width()], h && (u = parseInt(h[1], 10) / 100 * r[c ? 0 : 1]), l && i.css(d ? {
                height: 0,
                width: u
            } : {
                height: u,
                width: 0
            }), g[p[0]] = l ? r[0] : u, v[p[1]] = l ? r[1] : 0, i.animate(g, m, t.easing).animate(v, m, t.easing, function() {
                c && o.hide(), e.effects.restore(o, s), e.effects.removeWrapper(o), n()
            })
        }, e.effects.effect.highlight = function(t, n) {
            var i = e(this),
                r = ["backgroundImage", "backgroundColor", "opacity"],
                o = e.effects.setMode(i, t.mode || "show"),
                s = {
                    backgroundColor: i.css("backgroundColor")
                };
            "hide" === o && (s.opacity = 0), e.effects.save(i, r), i.show().css({
                backgroundImage: "none",
                backgroundColor: t.color || "#ffff99"
            }).animate(s, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    "hide" === o && i.hide(), e.effects.restore(i, r), n()
                }
            })
        }, e.effects.effect.size = function(t, n) {
            var i, r, o, s = e(this),
                a = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
                l = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
                c = ["width", "height", "overflow"],
                u = ["fontSize"],
                h = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
                d = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
                f = e.effects.setMode(s, t.mode || "effect"),
                p = t.restore || "effect" !== f,
                m = t.scale || "both",
                g = t.origin || ["middle", "center"],
                v = s.css("position"),
                y = p ? a : l,
                b = {
                    height: 0,
                    width: 0,
                    outerHeight: 0,
                    outerWidth: 0
                };
            "show" === f && s.show(), i = {
                height: s.height(),
                width: s.width(),
                outerHeight: s.outerHeight(),
                outerWidth: s.outerWidth()
            }, "toggle" === t.mode && "show" === f ? (s.from = t.to || b, s.to = t.from || i) : (s.from = t.from || ("show" === f ? b : i), s.to = t.to || ("hide" === f ? b : i)), o = {
                from: {
                    y: s.from.height / i.height,
                    x: s.from.width / i.width
                },
                to: {
                    y: s.to.height / i.height,
                    x: s.to.width / i.width
                }
            }, ("box" === m || "both" === m) && (o.from.y !== o.to.y && (y = y.concat(h), s.from = e.effects.setTransition(s, h, o.from.y, s.from), s.to = e.effects.setTransition(s, h, o.to.y, s.to)), o.from.x !== o.to.x && (y = y.concat(d), s.from = e.effects.setTransition(s, d, o.from.x, s.from), s.to = e.effects.setTransition(s, d, o.to.x, s.to))), ("content" === m || "both" === m) && o.from.y !== o.to.y && (y = y.concat(u).concat(c), s.from = e.effects.setTransition(s, u, o.from.y, s.from), s.to = e.effects.setTransition(s, u, o.to.y, s.to)), e.effects.save(s, y), s.show(), e.effects.createWrapper(s), s.css("overflow", "hidden").css(s.from), g && (r = e.effects.getBaseline(g, i), s.from.top = (i.outerHeight - s.outerHeight()) * r.y, s.from.left = (i.outerWidth - s.outerWidth()) * r.x, s.to.top = (i.outerHeight - s.to.outerHeight) * r.y, s.to.left = (i.outerWidth - s.to.outerWidth) * r.x), s.css(s.from), ("content" === m || "both" === m) && (h = h.concat(["marginTop", "marginBottom"]).concat(u), d = d.concat(["marginLeft", "marginRight"]), c = a.concat(h).concat(d), s.find("*[width]").each(function() {
                var n = e(this),
                    i = {
                        height: n.height(),
                        width: n.width(),
                        outerHeight: n.outerHeight(),
                        outerWidth: n.outerWidth()
                    };
                p && e.effects.save(n, c), n.from = {
                    height: i.height * o.from.y,
                    width: i.width * o.from.x,
                    outerHeight: i.outerHeight * o.from.y,
                    outerWidth: i.outerWidth * o.from.x
                }, n.to = {
                    height: i.height * o.to.y,
                    width: i.width * o.to.x,
                    outerHeight: i.height * o.to.y,
                    outerWidth: i.width * o.to.x
                }, o.from.y !== o.to.y && (n.from = e.effects.setTransition(n, h, o.from.y, n.from), n.to = e.effects.setTransition(n, h, o.to.y, n.to)), o.from.x !== o.to.x && (n.from = e.effects.setTransition(n, d, o.from.x, n.from), n.to = e.effects.setTransition(n, d, o.to.x, n.to)), n.css(n.from), n.animate(n.to, t.duration, t.easing, function() {
                    p && e.effects.restore(n, c)
                })
            })), s.animate(s.to, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    0 === s.to.opacity && s.css("opacity", s.from.opacity), "hide" === f && s.hide(), e.effects.restore(s, y), p || ("static" === v ? s.css({
                        position: "relative",
                        top: s.to.top,
                        left: s.to.left
                    }) : e.each(["top", "left"], function(e, t) {
                        s.css(t, function(t, n) {
                            var i = parseInt(n, 10),
                                r = e ? s.to.left : s.to.top;
                            return "auto" === n ? r + "px" : i + r + "px"
                        })
                    })), e.effects.removeWrapper(s), n()
                }
            })
        }, e.effects.effect.scale = function(t, n) {
            var i = e(this),
                r = e.extend(!0, {}, t),
                o = e.effects.setMode(i, t.mode || "effect"),
                s = parseInt(t.percent, 10) || (0 === parseInt(t.percent, 10) ? 0 : "hide" === o ? 0 : 100),
                a = t.direction || "both",
                l = t.origin,
                c = {
                    height: i.height(),
                    width: i.width(),
                    outerHeight: i.outerHeight(),
                    outerWidth: i.outerWidth()
                },
                u = {
                    y: "horizontal" !== a ? s / 100 : 1,
                    x: "vertical" !== a ? s / 100 : 1
                };
            r.effect = "size", r.queue = !1, r.complete = n, "effect" !== o && (r.origin = l || ["middle", "center"], r.restore = !0), r.from = t.from || ("show" === o ? {
                height: 0,
                width: 0,
                outerHeight: 0,
                outerWidth: 0
            } : c), r.to = {
                height: c.height * u.y,
                width: c.width * u.x,
                outerHeight: c.outerHeight * u.y,
                outerWidth: c.outerWidth * u.x
            }, r.fade && ("show" === o && (r.from.opacity = 0, r.to.opacity = 1), "hide" === o && (r.from.opacity = 1, r.to.opacity = 0)), i.effect(r)
        }, e.effects.effect.puff = function(t, n) {
            var i = e(this),
                r = e.effects.setMode(i, t.mode || "hide"),
                o = "hide" === r,
                s = parseInt(t.percent, 10) || 150,
                a = s / 100,
                l = {
                    height: i.height(),
                    width: i.width(),
                    outerHeight: i.outerHeight(),
                    outerWidth: i.outerWidth()
                };
            e.extend(t, {
                effect: "scale",
                queue: !1,
                fade: !0,
                mode: r,
                complete: n,
                percent: o ? s : 100,
                from: o ? l : {
                    height: l.height * a,
                    width: l.width * a,
                    outerHeight: l.outerHeight * a,
                    outerWidth: l.outerWidth * a
                }
            }), i.effect(t)
        }, e.effects.effect.pulsate = function(t, n) {
            var i, r = e(this),
                o = e.effects.setMode(r, t.mode || "show"),
                s = "show" === o,
                a = "hide" === o,
                l = s || "hide" === o,
                c = 2 * (t.times || 5) + (l ? 1 : 0),
                u = t.duration / c,
                h = 0,
                d = r.queue(),
                f = d.length;
            for ((s || !r.is(":visible")) && (r.css("opacity", 0).show(), h = 1), i = 1; c > i; i++) r.animate({
                opacity: h
            }, u, t.easing), h = 1 - h;
            r.animate({
                opacity: h
            }, u, t.easing), r.queue(function() {
                a && r.hide(), n()
            }), f > 1 && d.splice.apply(d, [1, 0].concat(d.splice(f, c + 1))), r.dequeue()
        }, e.effects.effect.shake = function(t, n) {
            var i, r = e(this),
                o = ["position", "top", "bottom", "left", "right", "height", "width"],
                s = e.effects.setMode(r, t.mode || "effect"),
                a = t.direction || "left",
                l = t.distance || 20,
                c = t.times || 3,
                u = 2 * c + 1,
                h = Math.round(t.duration / u),
                d = "up" === a || "down" === a ? "top" : "left",
                f = "up" === a || "left" === a,
                p = {},
                m = {},
                g = {},
                v = r.queue(),
                y = v.length;
            for (e.effects.save(r, o), r.show(), e.effects.createWrapper(r), p[d] = (f ? "-=" : "+=") + l, m[d] = (f ? "+=" : "-=") + 2 * l, g[d] = (f ? "-=" : "+=") + 2 * l, r.animate(p, h, t.easing), i = 1; c > i; i++) r.animate(m, h, t.easing).animate(g, h, t.easing);
            r.animate(m, h, t.easing).animate(p, h / 2, t.easing).queue(function() {
                "hide" === s && r.hide(), e.effects.restore(r, o), e.effects.removeWrapper(r), n()
            }), y > 1 && v.splice.apply(v, [1, 0].concat(v.splice(y, u + 1))), r.dequeue()
        }, e.effects.effect.slide = function(t, n) {
            var i, r = e(this),
                o = ["position", "top", "bottom", "left", "right", "width", "height"],
                s = e.effects.setMode(r, t.mode || "show"),
                a = "show" === s,
                l = t.direction || "left",
                c = "up" === l || "down" === l ? "top" : "left",
                u = "up" === l || "left" === l,
                h = {};
            e.effects.save(r, o), r.show(), i = t.distance || r["top" === c ? "outerHeight" : "outerWidth"](!0), e.effects.createWrapper(r).css({
                overflow: "hidden"
            }), a && r.css(c, u ? isNaN(i) ? "-" + i : -i : i), h[c] = (a ? u ? "+=" : "-=" : u ? "-=" : "+=") + i, r.animate(h, {
                queue: !1,
                duration: t.duration,
                easing: t.easing,
                complete: function() {
                    "hide" === s && r.hide(), e.effects.restore(r, o), e.effects.removeWrapper(r), n()
                }
            })
        }, e.effects.effect.transfer = function(t, n) {
            var i = e(this),
                r = e(t.to),
                o = "fixed" === r.css("position"),
                s = e("body"),
                a = o ? s.scrollTop() : 0,
                l = o ? s.scrollLeft() : 0,
                c = r.offset(),
                u = {
                    top: c.top - a,
                    left: c.left - l,
                    height: r.innerHeight(),
                    width: r.innerWidth()
                },
                h = i.offset(),
                d = e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({
                    top: h.top - a,
                    left: h.left - l,
                    height: i.innerHeight(),
                    width: i.innerWidth(),
                    position: o ? "fixed" : "absolute"
                }).animate(u, t.duration, t.easing, function() {
                    d.remove(), n()
                })
        }, e.widget("ui.progressbar", {
            version: "1.11.0",
            options: {
                max: 100,
                value: 0,
                change: null,
                complete: null
            },
            min: 0,
            _create: function() {
                this.oldValue = this.options.value = this._constrainedValue(), this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                    role: "progressbar",
                    "aria-valuemin": this.min
                }), this.valueDiv = e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element), this._refreshValue()
            },
            _destroy: function() {
                this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.valueDiv.remove()
            },
            value: function(e) {
                return void 0 === e ? this.options.value : (this.options.value = this._constrainedValue(e), void this._refreshValue())
            },
            _constrainedValue: function(e) {
                return void 0 === e && (e = this.options.value), this.indeterminate = e === !1, "number" != typeof e && (e = 0), this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, e))
            },
            _setOptions: function(e) {
                var t = e.value;
                delete e.value, this._super(e), this.options.value = this._constrainedValue(t), this._refreshValue()
            },
            _setOption: function(e, t) {
                "max" === e && (t = Math.max(this.min, t)), "disabled" === e && this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t), this._super(e, t)
            },
            _percentage: function() {
                return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
            },
            _refreshValue: function() {
                var t = this.options.value,
                    n = this._percentage();
                this.valueDiv.toggle(this.indeterminate || t > this.min).toggleClass("ui-corner-right", t === this.options.max).width(n.toFixed(0) + "%"), this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate), this.indeterminate ? (this.element.removeAttr("aria-valuenow"), this.overlayDiv || (this.overlayDiv = e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                    "aria-valuemax": this.options.max,
                    "aria-valuenow": t
                }), this.overlayDiv && (this.overlayDiv.remove(), this.overlayDiv = null)), this.oldValue !== t && (this.oldValue = t, this._trigger("change")), t === this.options.max && this._trigger("complete")
            }
        }), e.widget("ui.selectable", e.ui.mouse, {
            version: "1.11.0",
            options: {
                appendTo: "body",
                autoRefresh: !0,
                distance: 0,
                filter: "*",
                tolerance: "touch",
                selected: null,
                selecting: null,
                start: null,
                stop: null,
                unselected: null,
                unselecting: null
            },
            _create: function() {
                var t, n = this;
                this.element.addClass("ui-selectable"), this.dragged = !1, this.refresh = function() {
                    t = e(n.options.filter, n.element[0]), t.addClass("ui-selectee"), t.each(function() {
                        var t = e(this),
                            n = t.offset();
                        e.data(this, "selectable-item", {
                            element: this,
                            $element: t,
                            left: n.left,
                            top: n.top,
                            right: n.left + t.outerWidth(),
                            bottom: n.top + t.outerHeight(),
                            startselected: !1,
                            selected: t.hasClass("ui-selected"),
                            selecting: t.hasClass("ui-selecting"),
                            unselecting: t.hasClass("ui-unselecting")
                        })
                    })
                }, this.refresh(), this.selectees = t.addClass("ui-selectee"), this._mouseInit(), this.helper = e("<div class='ui-selectable-helper'></div>")
            },
            _destroy: function() {
                this.selectees.removeClass("ui-selectee").removeData("selectable-item"), this.element.removeClass("ui-selectable ui-selectable-disabled"), this._mouseDestroy()
            },
            _mouseStart: function(t) {
                var n = this,
                    i = this.options;
                this.opos = [t.pageX, t.pageY], this.options.disabled || (this.selectees = e(i.filter, this.element[0]), this._trigger("start", t), e(i.appendTo).append(this.helper), this.helper.css({
                    left: t.pageX,
                    top: t.pageY,
                    width: 0,
                    height: 0
                }), i.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function() {
                    var i = e.data(this, "selectable-item");
                    i.startselected = !0, t.metaKey || t.ctrlKey || (i.$element.removeClass("ui-selected"), i.selected = !1, i.$element.addClass("ui-unselecting"), i.unselecting = !0, n._trigger("unselecting", t, {
                        unselecting: i.element
                    }))
                }), e(t.target).parents().addBack().each(function() {
                    var i, r = e.data(this, "selectable-item");
                    return r ? (i = !t.metaKey && !t.ctrlKey || !r.$element.hasClass("ui-selected"), r.$element.removeClass(i ? "ui-unselecting" : "ui-selected").addClass(i ? "ui-selecting" : "ui-unselecting"), r.unselecting = !i, r.selecting = i, r.selected = i, i ? n._trigger("selecting", t, {
                        selecting: r.element
                    }) : n._trigger("unselecting", t, {
                        unselecting: r.element
                    }), !1) : void 0
                }))
            },
            _mouseDrag: function(t) {
                if (this.dragged = !0, !this.options.disabled) {
                    var n, i = this,
                        r = this.options,
                        o = this.opos[0],
                        s = this.opos[1],
                        a = t.pageX,
                        l = t.pageY;
                    return o > a && (n = a, a = o, o = n), s > l && (n = l, l = s, s = n), this.helper.css({
                        left: o,
                        top: s,
                        width: a - o,
                        height: l - s
                    }), this.selectees.each(function() {
                        var n = e.data(this, "selectable-item"),
                            c = !1;
                        n && n.element !== i.element[0] && ("touch" === r.tolerance ? c = !(n.left > a || n.right < o || n.top > l || n.bottom < s) : "fit" === r.tolerance && (c = n.left > o && n.right < a && n.top > s && n.bottom < l), c ? (n.selected && (n.$element.removeClass("ui-selected"), n.selected = !1), n.unselecting && (n.$element.removeClass("ui-unselecting"), n.unselecting = !1), n.selecting || (n.$element.addClass("ui-selecting"), n.selecting = !0, i._trigger("selecting", t, {
                            selecting: n.element
                        }))) : (n.selecting && ((t.metaKey || t.ctrlKey) && n.startselected ? (n.$element.removeClass("ui-selecting"), n.selecting = !1, n.$element.addClass("ui-selected"), n.selected = !0) : (n.$element.removeClass("ui-selecting"), n.selecting = !1, n.startselected && (n.$element.addClass("ui-unselecting"), n.unselecting = !0), i._trigger("unselecting", t, {
                            unselecting: n.element
                        }))), n.selected && (t.metaKey || t.ctrlKey || n.startselected || (n.$element.removeClass("ui-selected"), n.selected = !1, n.$element.addClass("ui-unselecting"), n.unselecting = !0, i._trigger("unselecting", t, {
                            unselecting: n.element
                        })))))
                    }), !1
                }
            },
            _mouseStop: function(t) {
                var n = this;
                return this.dragged = !1, e(".ui-unselecting", this.element[0]).each(function() {
                    var i = e.data(this, "selectable-item");
                    i.$element.removeClass("ui-unselecting"), i.unselecting = !1, i.startselected = !1, n._trigger("unselected", t, {
                        unselected: i.element
                    })
                }), e(".ui-selecting", this.element[0]).each(function() {
                    var i = e.data(this, "selectable-item");
                    i.$element.removeClass("ui-selecting").addClass("ui-selected"), i.selecting = !1, i.selected = !0, i.startselected = !0, n._trigger("selected", t, {
                        selected: i.element
                    })
                }), this._trigger("stop", t), this.helper.remove(), !1
            }
        }), e.widget("ui.selectmenu", {
            version: "1.11.0",
            defaultElement: "<select>",
            options: {
                appendTo: null,
                disabled: null,
                icons: {
                    button: "ui-icon-triangle-1-s"
                },
                position: {
                    my: "left top",
                    at: "left bottom",
                    collision: "none"
                },
                width: null,
                change: null,
                close: null,
                focus: null,
                open: null,
                select: null
            },
            _create: function() {
                var e = this.element.uniqueId().attr("id");
                this.ids = {
                    element: e,
                    button: e + "-button",
                    menu: e + "-menu"
                }, this._drawButton(), this._drawMenu(), this.options.disabled && this.disable()
            },
            _drawButton: function() {
                var t = this,
                    n = this.element.attr("tabindex");
                this.label = e("label[for='" + this.ids.element + "']").attr("for", this.ids.button), this._on(this.label, {
                    click: function(e) {
                        this.button.focus(), e.preventDefault()
                    }
                }), this.element.hide(), this.button = e("<span>", {
                    "class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
                    tabindex: n || this.options.disabled ? -1 : 0,
                    id: this.ids.button,
                    role: "combobox",
                    "aria-expanded": "false",
                    "aria-autocomplete": "list",
                    "aria-owns": this.ids.menu,
                    "aria-haspopup": "true"
                }).insertAfter(this.element), e("<span>", {
                    "class": "ui-icon " + this.options.icons.button
                }).prependTo(this.button), this.buttonText = e("<span>", {
                    "class": "ui-selectmenu-text"
                }).appendTo(this.button), this._setText(this.buttonText, this.element.find("option:selected").text()), this._setOption("width", this.options.width), this._on(this.button, this._buttonEvents), this.button.one("focusin", function() {
                    t.menuItems || t._refreshMenu()
                }), this._hoverable(this.button), this._focusable(this.button)
            },
            _drawMenu: function() {
                var t = this;
                this.menu = e("<ul>", {
                    "aria-hidden": "true",
                    "aria-labelledby": this.ids.button,
                    id: this.ids.menu
                }), this.menuWrap = e("<div>", {
                    "class": "ui-selectmenu-menu ui-front"
                }).append(this.menu).appendTo(this._appendTo()), this.menuInstance = this.menu.menu({
                    role: "listbox",
                    select: function(e, n) {
                        e.preventDefault(), t._select(n.item.data("ui-selectmenu-item"), e)
                    },
                    focus: function(e, n) {
                        var i = n.item.data("ui-selectmenu-item");
                        null != t.focusIndex && i.index !== t.focusIndex && (t._trigger("focus", e, {
                            item: i
                        }), t.isOpen || t._select(i, e)), t.focusIndex = i.index, t.button.attr("aria-activedescendant", t.menuItems.eq(i.index).attr("id"))
                    }
                }).menu("instance"), this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"), this.menuInstance._off(this.menu, "mouseleave"), this.menuInstance._closeOnDocumentClick = function() {
                    return !1
                }, this.menuInstance._isDivider = function() {
                    return !1
                }
            },
            refresh: function() {
                this._refreshMenu(), this._setText(this.buttonText, this._getSelectedItem().text()), this._setOption("width", this.options.width)
            },
            _refreshMenu: function() {
                this.menu.empty();
                var e, t = this.element.find("option");
                t.length && (this._parseOptions(t), this._renderMenu(this.menu, this.items), this.menuInstance.refresh(), this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup"), e = this._getSelectedItem(), this.menuInstance.focus(null, e), this._setAria(e.data("ui-selectmenu-item")), this._setOption("disabled", this.element.prop("disabled")))
            },
            open: function(e) {
                this.options.disabled || (this.menuItems ? (this.menu.find(".ui-state-focus").removeClass("ui-state-focus"), this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(), this.isOpen = !0, this._toggleAttr(), this._resizeMenu(), this._position(), this._on(this.document, this._documentClick), this._trigger("open", e))
            },
            _position: function() {
                this.menuWrap.position(e.extend({
                    of: this.button
                }, this.options.position))
            },
            close: function(e) {
                this.isOpen && (this.isOpen = !1, this._toggleAttr(), this._off(this.document), this._trigger("close", e))
            },
            widget: function() {
                return this.button
            },
            menuWidget: function() {
                return this.menu
            },
            _renderMenu: function(t, n) {
                var i = this,
                    r = "";
                e.each(n, function(n, o) {
                    o.optgroup !== r && (e("<li>", {
                        "class": "ui-selectmenu-optgroup ui-menu-divider" + (o.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""),
                        text: o.optgroup
                    }).appendTo(t), r = o.optgroup), i._renderItemData(t, o)
                })
            },
            _renderItemData: function(e, t) {
                return this._renderItem(e, t).data("ui-selectmenu-item", t)
            },
            _renderItem: function(t, n) {
                var i = e("<li>");
                return n.disabled && i.addClass("ui-state-disabled"), this._setText(i, n.label), i.appendTo(t)
            },
            _setText: function(e, t) {
                t ? e.text(t) : e.html("&#160;")
            },
            _move: function(e, t) {
                var n, i, r = ".ui-menu-item";
                this.isOpen ? n = this.menuItems.eq(this.focusIndex) : (n = this.menuItems.eq(this.element[0].selectedIndex), r += ":not(.ui-state-disabled)"), i = "first" === e || "last" === e ? n["first" === e ? "prevAll" : "nextAll"](r).eq(-1) : n[e + "All"](r).eq(0), i.length && this.menuInstance.focus(t, i)
            },
            _getSelectedItem: function() {
                return this.menuItems.eq(this.element[0].selectedIndex)
            },
            _toggle: function(e) {
                this[this.isOpen ? "close" : "open"](e)
            },
            _documentClick: {
                mousedown: function(t) {
                    this.isOpen && (e(t.target).closest(".ui-selectmenu-menu, #" + this.ids.button).length || this.close(t))
                }
            },
            _buttonEvents: {
                click: "_toggle",
                keydown: function(t) {
                    var n = !0;
                    switch (t.keyCode) {
                        case e.ui.keyCode.TAB:
                        case e.ui.keyCode.ESCAPE:
                            this.close(t), n = !1;
                            break;
                        case e.ui.keyCode.ENTER:
                            this.isOpen && this._selectFocusedItem(t);
                            break;
                        case e.ui.keyCode.UP:
                            t.altKey ? this._toggle(t) : this._move("prev", t);
                            break;
                        case e.ui.keyCode.DOWN:
                            t.altKey ? this._toggle(t) : this._move("next", t);
                            break;
                        case e.ui.keyCode.SPACE:
                            this.isOpen ? this._selectFocusedItem(t) : this._toggle(t);
                            break;
                        case e.ui.keyCode.LEFT:
                            this._move("prev", t);
                            break;
                        case e.ui.keyCode.RIGHT:
                            this._move("next", t);
                            break;
                        case e.ui.keyCode.HOME:
                        case e.ui.keyCode.PAGE_UP:
                            this._move("first", t);
                            break;
                        case e.ui.keyCode.END:
                        case e.ui.keyCode.PAGE_DOWN:
                            this._move("last", t);
                            break;
                        default:
                            this.menu.trigger(t), n = !1
                    }
                    n && t.preventDefault()
                }
            },
            _selectFocusedItem: function(e) {
                var t = this.menuItems.eq(this.focusIndex);
                t.hasClass("ui-state-disabled") || this._select(t.data("ui-selectmenu-item"), e)
            },
            _select: function(e, t) {
                var n = this.element[0].selectedIndex;
                this.element[0].selectedIndex = e.index, this._setText(this.buttonText, e.label), this._setAria(e), this._trigger("select", t, {
                    item: e
                }), e.index !== n && this._trigger("change", t, {
                    item: e
                }), this.close(t)
            },
            _setAria: function(e) {
                var t = this.menuItems.eq(e.index).attr("id");
                this.button.attr({
                    "aria-labelledby": t,
                    "aria-activedescendant": t
                }), this.menu.attr("aria-activedescendant", t)
            },
            _setOption: function(e, t) {
                "icons" === e && this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button), this._super(e, t), "appendTo" === e && this.menuWrap.appendTo(this._appendTo()), "disabled" === e && (this.menuInstance.option("disabled", t), this.button.toggleClass("ui-state-disabled", t).attr("aria-disabled", t), this.element.prop("disabled", t), t ? (this.button.attr("tabindex", -1), this.close()) : this.button.attr("tabindex", 0)), "width" === e && (t || (t = this.element.outerWidth()), this.button.outerWidth(t))
            },
            _appendTo: function() {
                var t = this.options.appendTo;
                return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)), t && t[0] || (t = this.element.closest(".ui-front")), t.length || (t = this.document[0].body), t
            },
            _toggleAttr: function() {
                this.button.toggleClass("ui-corner-top", this.isOpen).toggleClass("ui-corner-all", !this.isOpen).attr("aria-expanded", this.isOpen), this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen), this.menu.attr("aria-hidden", !this.isOpen)
            },
            _resizeMenu: function() {
                this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
            },
            _getCreateOptions: function() {
                return {
                    disabled: this.element.prop("disabled")
                }
            },
            _parseOptions: function(t) {
                var n = [];
                t.each(function(t, i) {
                    var r = e(i),
                        o = r.parent("optgroup");
                    n.push({
                        element: r,
                        index: t,
                        value: r.attr("value"),
                        label: r.text(),
                        optgroup: o.attr("label") || "",
                        disabled: o.prop("disabled") || r.prop("disabled")
                    })
                }), this.items = n
            },
            _destroy: function() {
                this.menuWrap.remove(), this.button.remove(), this.element.show(), this.element.removeUniqueId(), this.label.attr("for", this.ids.element)
            }
        }), e.widget("ui.slider", e.ui.mouse, {
            version: "1.11.0",
            widgetEventPrefix: "slide",
            options: {
                animate: !1,
                distance: 0,
                max: 100,
                min: 0,
                orientation: "horizontal",
                range: !1,
                step: 1,
                value: 0,
                values: null,
                change: null,
                slide: null,
                start: null,
                stop: null
            },
            numPages: 5,
            _create: function() {
                this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1
            },
            _refresh: function() {
                this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
            },
            _createHandles: function() {
                var t, n, i = this.options,
                    r = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                    o = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",
                    s = [];
                for (n = i.values && i.values.length || 1, r.length > n && (r.slice(n).remove(), r = r.slice(0, n)), t = r.length; n > t; t++) s.push(o);
                this.handles = r.add(e(s.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function(t) {
                    e(this).data("ui-slider-handle-index", t)
                })
            },
            _createRange: function() {
                var t = this.options,
                    n = "";
                t.range ? (t.range === !0 && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                    left: "",
                    bottom: ""
                }) : (this.range = e("<div></div>").appendTo(this.element), n = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(n + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range : ""))) : (this.range && this.range.remove(), this.range = null)
            },
            _setupEvents: function() {
                this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles)
            },
            _destroy: function() {
                this.handles.remove(), this.range && this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
            },
            _mouseCapture: function(t) {
                var n, i, r, o, s, a, l, c, u = this,
                    h = this.options;
                return h.disabled ? !1 : (this.elementSize = {
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight()
                }, this.elementOffset = this.element.offset(), n = {
                    x: t.pageX,
                    y: t.pageY
                }, i = this._normValueFromMouse(n), r = this._valueMax() - this._valueMin() + 1, this.handles.each(function(t) {
                    var n = Math.abs(i - u.values(t));
                    (r > n || r === n && (t === u._lastChangedValue || u.values(t) === h.min)) && (r = n, o = e(this), s = t)
                }), a = this._start(t, s), a === !1 ? !1 : (this._mouseSliding = !0, this._handleIndex = s, o.addClass("ui-state-active").focus(), l = o.offset(), c = !e(t.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = c ? {
                    left: 0,
                    top: 0
                } : {
                    left: t.pageX - l.left - o.width() / 2,
                    top: t.pageY - l.top - o.height() / 2 - (parseInt(o.css("borderTopWidth"), 10) || 0) - (parseInt(o.css("borderBottomWidth"), 10) || 0) + (parseInt(o.css("marginTop"), 10) || 0)
                }, this.handles.hasClass("ui-state-hover") || this._slide(t, s, i), this._animateOff = !0, !0))
            },
            _mouseStart: function() {
                return !0
            },
            _mouseDrag: function(e) {
                var t = {
                        x: e.pageX,
                        y: e.pageY
                    },
                    n = this._normValueFromMouse(t);
                return this._slide(e, this._handleIndex, n), !1
            },
            _mouseStop: function(e) {
                return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(e, this._handleIndex), this._change(e, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
            },
            _detectOrientation: function() {
                this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
            },
            _normValueFromMouse: function(e) {
                var t, n, i, r, o;
                return "horizontal" === this.orientation ? (t = this.elementSize.width, n = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height, n = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), i = n / t, i > 1 && (i = 1), 0 > i && (i = 0), "vertical" === this.orientation && (i = 1 - i), r = this._valueMax() - this._valueMin(), o = this._valueMin() + i * r, this._trimAlignValue(o)
            },
            _start: function(e, t) {
                var n = {
                    handle: this.handles[t],
                    value: this.value()
                };
                return this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()), this._trigger("start", e, n)
            },
            _slide: function(e, t, n) {
                var i, r, o;
                this.options.values && this.options.values.length ? (i = this.values(t ? 0 : 1), 2 === this.options.values.length && this.options.range === !0 && (0 === t && n > i || 1 === t && i > n) && (n = i), n !== this.values(t) && (r = this.values(), r[t] = n, o = this._trigger("slide", e, {
                    handle: this.handles[t],
                    value: n,
                    values: r
                }), i = this.values(t ? 0 : 1), o !== !1 && this.values(t, n))) : n !== this.value() && (o = this._trigger("slide", e, {
                    handle: this.handles[t],
                    value: n
                }), o !== !1 && this.value(n))
            },
            _stop: function(e, t) {
                var n = {
                    handle: this.handles[t],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()), this._trigger("stop", e, n)
            },
            _change: function(e, t) {
                if (!this._keySliding && !this._mouseSliding) {
                    var n = {
                        handle: this.handles[t],
                        value: this.value()
                    };
                    this.options.values && this.options.values.length && (n.value = this.values(t), n.values = this.values()), this._lastChangedValue = t, this._trigger("change", e, n)
                }
            },
            value: function(e) {
                return arguments.length ? (this.options.value = this._trimAlignValue(e), this._refreshValue(), void this._change(null, 0)) : this._value()
            },
            values: function(t, n) {
                var i, r, o;
                if (arguments.length > 1) return this.options.values[t] = this._trimAlignValue(n), this._refreshValue(), void this._change(null, t);
                if (!arguments.length) return this._values();
                if (!e.isArray(arguments[0])) return this.options.values && this.options.values.length ? this._values(t) : this.value();
                for (i = this.options.values, r = arguments[0], o = 0; o < i.length; o += 1) i[o] = this._trimAlignValue(r[o]), this._change(null, o);
                this._refreshValue()
            },
            _setOption: function(t, n) {
                var i, r = 0;
                switch ("range" === t && this.options.range === !0 && ("min" === n ? (this.options.value = this._values(0), this.options.values = null) : "max" === n && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), e.isArray(this.options.values) && (r = this.options.values.length), "disabled" === t && this.element.toggleClass("ui-state-disabled", !!n), this._super(t, n), t) {
                    case "orientation":
                        this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue();
                        break;
                    case "value":
                        this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                        break;
                    case "values":
                        for (this._animateOff = !0, this._refreshValue(), i = 0; r > i; i += 1) this._change(null, i);
                        this._animateOff = !1;
                        break;
                    case "min":
                    case "max":
                        this._animateOff = !0, this._refreshValue(), this._animateOff = !1;
                        break;
                    case "range":
                        this._animateOff = !0, this._refresh(), this._animateOff = !1
                }
            },
            _value: function() {
                var e = this.options.value;
                return e = this._trimAlignValue(e)
            },
            _values: function(e) {
                var t, n, i;
                if (arguments.length) return t = this.options.values[e], t = this._trimAlignValue(t);
                if (this.options.values && this.options.values.length) {
                    for (n = this.options.values.slice(), i = 0; i < n.length; i += 1) n[i] = this._trimAlignValue(n[i]);
                    return n
                }
                return []
            },
            _trimAlignValue: function(e) {
                if (e <= this._valueMin()) return this._valueMin();
                if (e >= this._valueMax()) return this._valueMax();
                var t = this.options.step > 0 ? this.options.step : 1,
                    n = (e - this._valueMin()) % t,
                    i = e - n;
                return 2 * Math.abs(n) >= t && (i += n > 0 ? t : -t), parseFloat(i.toFixed(5))
            },
            _valueMin: function() {
                return this.options.min
            },
            _valueMax: function() {
                return this.options.max
            },
            _refreshValue: function() {
                var t, n, i, r, o, s = this.options.range,
                    a = this.options,
                    l = this,
                    c = this._animateOff ? !1 : a.animate,
                    u = {};
                this.options.values && this.options.values.length ? this.handles.each(function(i) {
                    n = (l.values(i) - l._valueMin()) / (l._valueMax() - l._valueMin()) * 100, u["horizontal" === l.orientation ? "left" : "bottom"] = n + "%", e(this).stop(1, 1)[c ? "animate" : "css"](u, a.animate), l.options.range === !0 && ("horizontal" === l.orientation ? (0 === i && l.range.stop(1, 1)[c ? "animate" : "css"]({
                        left: n + "%"
                    }, a.animate), 1 === i && l.range[c ? "animate" : "css"]({
                        width: n - t + "%"
                    }, {
                        queue: !1,
                        duration: a.animate
                    })) : (0 === i && l.range.stop(1, 1)[c ? "animate" : "css"]({
                        bottom: n + "%"
                    }, a.animate), 1 === i && l.range[c ? "animate" : "css"]({
                        height: n - t + "%"
                    }, {
                        queue: !1,
                        duration: a.animate
                    }))), t = n
                }) : (i = this.value(), r = this._valueMin(), o = this._valueMax(), n = o !== r ? (i - r) / (o - r) * 100 : 0, u["horizontal" === this.orientation ? "left" : "bottom"] = n + "%", this.handle.stop(1, 1)[c ? "animate" : "css"](u, a.animate), "min" === s && "horizontal" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
                    width: n + "%"
                }, a.animate), "max" === s && "horizontal" === this.orientation && this.range[c ? "animate" : "css"]({
                    width: 100 - n + "%"
                }, {
                    queue: !1,
                    duration: a.animate
                }), "min" === s && "vertical" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
                    height: n + "%"
                }, a.animate), "max" === s && "vertical" === this.orientation && this.range[c ? "animate" : "css"]({
                    height: 100 - n + "%"
                }, {
                    queue: !1,
                    duration: a.animate
                }))
            },
            _handleEvents: {
                keydown: function(t) {
                    var n, i, r, o, s = e(t.target).data("ui-slider-handle-index");
                    switch (t.keyCode) {
                        case e.ui.keyCode.HOME:
                        case e.ui.keyCode.END:
                        case e.ui.keyCode.PAGE_UP:
                        case e.ui.keyCode.PAGE_DOWN:
                        case e.ui.keyCode.UP:
                        case e.ui.keyCode.RIGHT:
                        case e.ui.keyCode.DOWN:
                        case e.ui.keyCode.LEFT:
                            if (t.preventDefault(), !this._keySliding && (this._keySliding = !0, e(t.target).addClass("ui-state-active"), n = this._start(t, s), n === !1)) return
                    }
                    switch (o = this.options.step, i = r = this.options.values && this.options.values.length ? this.values(s) : this.value(), t.keyCode) {
                        case e.ui.keyCode.HOME:
                            r = this._valueMin();
                            break;
                        case e.ui.keyCode.END:
                            r = this._valueMax();
                            break;
                        case e.ui.keyCode.PAGE_UP:
                            r = this._trimAlignValue(i + (this._valueMax() - this._valueMin()) / this.numPages);
                            break;
                        case e.ui.keyCode.PAGE_DOWN:
                            r = this._trimAlignValue(i - (this._valueMax() - this._valueMin()) / this.numPages);
                            break;
                        case e.ui.keyCode.UP:
                        case e.ui.keyCode.RIGHT:
                            if (i === this._valueMax()) return;
                            r = this._trimAlignValue(i + o);
                            break;
                        case e.ui.keyCode.DOWN:
                        case e.ui.keyCode.LEFT:
                            if (i === this._valueMin()) return;
                            r = this._trimAlignValue(i - o)
                    }
                    this._slide(t, s, r)
                },
                keyup: function(t) {
                    var n = e(t.target).data("ui-slider-handle-index");
                    this._keySliding && (this._keySliding = !1, this._stop(t, n), this._change(t, n), e(t.target).removeClass("ui-state-active"))
                }
            }
        }), e.widget("ui.sortable", e.ui.mouse, {
            version: "1.11.0",
            widgetEventPrefix: "sort",
            ready: !1,
            options: {
                appendTo: "parent",
                axis: !1,
                connectWith: !1,
                containment: !1,
                cursor: "auto",
                cursorAt: !1,
                dropOnEmpty: !0,
                forcePlaceholderSize: !1,
                forceHelperSize: !1,
                grid: !1,
                handle: !1,
                helper: "original",
                items: "> *",
                opacity: !1,
                placeholder: !1,
                revert: !1,
                scroll: !0,
                scrollSensitivity: 20,
                scrollSpeed: 20,
                scope: "default",
                tolerance: "intersect",
                zIndex: 1e3,
                activate: null,
                beforeStop: null,
                change: null,
                deactivate: null,
                out: null,
                over: null,
                receive: null,
                remove: null,
                sort: null,
                start: null,
                stop: null,
                update: null
            },
            _isOverAxis: function(e, t, n) {
                return e >= t && t + n > e
            },
            _isFloating: function(e) {
                return /left|right/.test(e.css("float")) || /inline|table-cell/.test(e.css("display"))
            },
            _create: function() {
                var e = this.options;
                this.containerCache = {}, this.element.addClass("ui-sortable"), this.refresh(), this.floating = this.items.length ? "x" === e.axis || this._isFloating(this.items[0].item) : !1, this.offset = this.element.offset(), this._mouseInit(), this._setHandleClassName(), this.ready = !0
            },
            _setOption: function(e, t) {
                this._super(e, t), "handle" === e && this._setHandleClassName()
            },
            _setHandleClassName: function() {
                this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"), e.each(this.items, function() {
                    (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle")
                })
            },
            _destroy: function() {
                this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"), this._mouseDestroy();
                for (var e = this.items.length - 1; e >= 0; e--) this.items[e].item.removeData(this.widgetName + "-item");
                return this
            },
            _mouseCapture: function(t, n) {
                var i = null,
                    r = !1,
                    o = this;
                return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(t), e(t.target).parents().each(function() {
                    return e.data(this, o.widgetName + "-item") === o ? (i = e(this), !1) : void 0
                }), e.data(t.target, o.widgetName + "-item") === o && (i = e(t.target)), i && (!this.options.handle || n || (e(this.options.handle, i).find("*").addBack().each(function() {
                    this === t.target && (r = !0)
                }), r)) ? (this.currentItem = i, this._removeCurrentsFromItems(), !0) : !1)
            },
            _mouseStart: function(t, n, i) {
                var r, o, s = this.options;
                if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(t), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
                        top: this.offset.top - this.margins.top,
                        left: this.offset.left - this.margins.left
                    }, e.extend(this.offset, {
                        click: {
                            left: t.pageX - this.offset.left,
                            top: t.pageY - this.offset.top
                        },
                        parent: this._getParentOffset(),
                        relative: this._getRelativeOffset()
                    }), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(t), this.originalPageX = t.pageX, this.originalPageY = t.pageY, s.cursorAt && this._adjustOffsetFromHelper(s.cursorAt), this.domPosition = {
                        prev: this.currentItem.prev()[0],
                        parent: this.currentItem.parent()[0]
                    }, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), s.containment && this._setContainment(), s.cursor && "auto" !== s.cursor && (o = this.document.find("body"), this.storedCursor = o.css("cursor"), o.css("cursor", s.cursor), this.storedStylesheet = e("<style>*{ cursor: " + s.cursor + " !important; }</style>").appendTo(o)), s.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", s.opacity)), s.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", s.zIndex)), this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", t, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !i)
                    for (r = this.containers.length - 1; r >= 0; r--) this.containers[r]._trigger("activate", t, this._uiHash(this));
                return e.ui.ddmanager && (e.ui.ddmanager.current = this), e.ui.ddmanager && !s.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(t), !0
            },
            _mouseDrag: function(t) {
                var n, i, r, o, s = this.options,
                    a = !1;
                for (this.position = this._generatePosition(t), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < s.scrollSensitivity ? this.scrollParent[0].scrollTop = a = this.scrollParent[0].scrollTop + s.scrollSpeed : t.pageY - this.overflowOffset.top < s.scrollSensitivity && (this.scrollParent[0].scrollTop = a = this.scrollParent[0].scrollTop - s.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < s.scrollSensitivity ? this.scrollParent[0].scrollLeft = a = this.scrollParent[0].scrollLeft + s.scrollSpeed : t.pageX - this.overflowOffset.left < s.scrollSensitivity && (this.scrollParent[0].scrollLeft = a = this.scrollParent[0].scrollLeft - s.scrollSpeed)) : (t.pageY - e(document).scrollTop() < s.scrollSensitivity ? a = e(document).scrollTop(e(document).scrollTop() - s.scrollSpeed) : e(window).height() - (t.pageY - e(document).scrollTop()) < s.scrollSensitivity && (a = e(document).scrollTop(e(document).scrollTop() + s.scrollSpeed)), t.pageX - e(document).scrollLeft() < s.scrollSensitivity ? a = e(document).scrollLeft(e(document).scrollLeft() - s.scrollSpeed) : e(window).width() - (t.pageX - e(document).scrollLeft()) < s.scrollSensitivity && (a = e(document).scrollLeft(e(document).scrollLeft() + s.scrollSpeed))), a !== !1 && e.ui.ddmanager && !s.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), n = this.items.length - 1; n >= 0; n--)
                    if (i = this.items[n], r = i.item[0], o = this._intersectsWithPointer(i), o && i.instance === this.currentContainer && r !== this.currentItem[0] && this.placeholder[1 === o ? "next" : "prev"]()[0] !== r && !e.contains(this.placeholder[0], r) && ("semi-dynamic" === this.options.type ? !e.contains(this.element[0], r) : !0)) {
                        if (this.direction = 1 === o ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(i)) break;
                        this._rearrange(t, i), this._trigger("change", t, this._uiHash());
                        break
                    }
                return this._contactContainers(t), e.ui.ddmanager && e.ui.ddmanager.drag(this, t), this._trigger("sort", t, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
            },
            _mouseStop: function(t, n) {
                if (t) {
                    if (e.ui.ddmanager && !this.options.dropBehaviour && e.ui.ddmanager.drop(this, t), this.options.revert) {
                        var i = this,
                            r = this.placeholder.offset(),
                            o = this.options.axis,
                            s = {};
                        o && "x" !== o || (s.left = r.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft)), o && "y" !== o || (s.top = r.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, e(this.helper).animate(s, parseInt(this.options.revert, 10) || 500, function() {
                            i._clear(t)
                        })
                    } else this._clear(t, n);
                    return !1
                }
            },
            cancel: function() {
                if (this.dragging) {
                    this._mouseUp({
                        target: null
                    }), "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                    for (var t = this.containers.length - 1; t >= 0; t--) this.containers[t]._trigger("deactivate", null, this._uiHash(this)), this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)), this.containers[t].containerCache.over = 0)
                }
                return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), e.extend(this, {
                    helper: null,
                    dragging: !1,
                    reverting: !1,
                    _noFinalSort: null
                }), this.domPosition.prev ? e(this.domPosition.prev).after(this.currentItem) : e(this.domPosition.parent).prepend(this.currentItem)), this
            },
            serialize: function(t) {
                var n = this._getItemsAsjQuery(t && t.connected),
                    i = [];
                return t = t || {}, e(n).each(function() {
                    var n = (e(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[\-=_](.+)/);
                    n && i.push((t.key || n[1] + "[]") + "=" + (t.key && t.expression ? n[1] : n[2]))
                }), !i.length && t.key && i.push(t.key + "="), i.join("&")
            },
            toArray: function(t) {
                var n = this._getItemsAsjQuery(t && t.connected),
                    i = [];
                return t = t || {}, n.each(function() {
                    i.push(e(t.item || this).attr(t.attribute || "id") || "")
                }), i
            },
            _intersectsWith: function(e) {
                var t = this.positionAbs.left,
                    n = t + this.helperProportions.width,
                    i = this.positionAbs.top,
                    r = i + this.helperProportions.height,
                    o = e.left,
                    s = o + e.width,
                    a = e.top,
                    l = a + e.height,
                    c = this.offset.click.top,
                    u = this.offset.click.left,
                    h = "x" === this.options.axis || i + c > a && l > i + c,
                    d = "y" === this.options.axis || t + u > o && s > t + u,
                    f = h && d;
                return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > e[this.floating ? "width" : "height"] ? f : o < t + this.helperProportions.width / 2 && n - this.helperProportions.width / 2 < s && a < i + this.helperProportions.height / 2 && r - this.helperProportions.height / 2 < l
            },
            _intersectsWithPointer: function(e) {
                var t = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top, e.height),
                    n = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left, e.width),
                    i = t && n,
                    r = this._getDragVerticalDirection(),
                    o = this._getDragHorizontalDirection();
                return i ? this.floating ? o && "right" === o || "down" === r ? 2 : 1 : r && ("down" === r ? 2 : 1) : !1
            },
            _intersectsWithSides: function(e) {
                var t = this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height),
                    n = this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width),
                    i = this._getDragVerticalDirection(),
                    r = this._getDragHorizontalDirection();
                return this.floating && r ? "right" === r && n || "left" === r && !n : i && ("down" === i && t || "up" === i && !t)
            },
            _getDragVerticalDirection: function() {
                var e = this.positionAbs.top - this.lastPositionAbs.top;
                return 0 !== e && (e > 0 ? "down" : "up")
            },
            _getDragHorizontalDirection: function() {
                var e = this.positionAbs.left - this.lastPositionAbs.left;
                return 0 !== e && (e > 0 ? "right" : "left")
            },
            refresh: function(e) {
                return this._refreshItems(e), this._setHandleClassName(), this.refreshPositions(), this
            },
            _connectWith: function() {
                var e = this.options;
                return e.connectWith.constructor === String ? [e.connectWith] : e.connectWith
            },
            _getItemsAsjQuery: function(t) {
                function n() {
                    a.push(this)
                }
                var i, r, o, s, a = [],
                    l = [],
                    c = this._connectWith();
                if (c && t)
                    for (i = c.length - 1; i >= 0; i--)
                        for (o = e(c[i]), r = o.length - 1; r >= 0; r--) s = e.data(o[r], this.widgetFullName), s && s !== this && !s.options.disabled && l.push([e.isFunction(s.options.items) ? s.options.items.call(s.element) : e(s.options.items, s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), s]);
                for (l.push([e.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                        options: this.options,
                        item: this.currentItem
                    }) : e(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), i = l.length - 1; i >= 0; i--) l[i][0].each(n);
                return e(a)
            },
            _removeCurrentsFromItems: function() {
                var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
                this.items = e.grep(this.items, function(e) {
                    for (var n = 0; n < t.length; n++)
                        if (t[n] === e.item[0]) return !1;
                    return !0
                })
            },
            _refreshItems: function(t) {
                this.items = [], this.containers = [this];
                var n, i, r, o, s, a, l, c, u = this.items,
                    h = [
                        [e.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {
                            item: this.currentItem
                        }) : e(this.options.items, this.element), this]
                    ],
                    d = this._connectWith();
                if (d && this.ready)
                    for (n = d.length - 1; n >= 0; n--)
                        for (r = e(d[n]), i = r.length - 1; i >= 0; i--) o = e.data(r[i], this.widgetFullName), o && o !== this && !o.options.disabled && (h.push([e.isFunction(o.options.items) ? o.options.items.call(o.element[0], t, {
                            item: this.currentItem
                        }) : e(o.options.items, o.element), o]), this.containers.push(o));
                for (n = h.length - 1; n >= 0; n--)
                    for (s = h[n][1], a = h[n][0], i = 0, c = a.length; c > i; i++) l = e(a[i]), l.data(this.widgetName + "-item", s), u.push({
                        item: l,
                        instance: s,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    })
            },
            refreshPositions: function(t) {
                this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
                var n, i, r, o;
                for (n = this.items.length - 1; n >= 0; n--) i = this.items[n], i.instance !== this.currentContainer && this.currentContainer && i.item[0] !== this.currentItem[0] || (r = this.options.toleranceElement ? e(this.options.toleranceElement, i.item) : i.item, t || (i.width = r.outerWidth(), i.height = r.outerHeight()), o = r.offset(), i.left = o.left, i.top = o.top);
                if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
                else
                    for (n = this.containers.length - 1; n >= 0; n--) o = this.containers[n].element.offset(), this.containers[n].containerCache.left = o.left, this.containers[n].containerCache.top = o.top, this.containers[n].containerCache.width = this.containers[n].element.outerWidth(), this.containers[n].containerCache.height = this.containers[n].element.outerHeight();
                return this
            },
            _createPlaceholder: function(t) {
                t = t || this;
                var n, i = t.options;
                i.placeholder && i.placeholder.constructor !== String || (n = i.placeholder, i.placeholder = {
                    element: function() {
                        var i = t.currentItem[0].nodeName.toLowerCase(),
                            r = e("<" + i + ">", t.document[0]).addClass(n || t.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                        return "tr" === i ? t.currentItem.children().each(function() {
                            e("<td>&#160;</td>", t.document[0]).attr("colspan", e(this).attr("colspan") || 1).appendTo(r)
                        }) : "img" === i && r.attr("src", t.currentItem.attr("src")), n || r.css("visibility", "hidden"), r
                    },
                    update: function(e, r) {
                        (!n || i.forcePlaceholderSize) && (r.height() || r.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10)), r.width() || r.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10)))
                    }
                }), t.placeholder = e(i.placeholder.element.call(t.element, t.currentItem)), t.currentItem.after(t.placeholder), i.placeholder.update(t, t.placeholder)
            },
            _contactContainers: function(t) {
                var n, i, r, o, s, a, l, c, u, h, d = null,
                    f = null;
                for (n = this.containers.length - 1; n >= 0; n--)
                    if (!e.contains(this.currentItem[0], this.containers[n].element[0]))
                        if (this._intersectsWith(this.containers[n].containerCache)) {
                            if (d && e.contains(this.containers[n].element[0], d.element[0])) continue;
                            d = this.containers[n], f = n
                        } else this.containers[n].containerCache.over && (this.containers[n]._trigger("out", t, this._uiHash(this)), this.containers[n].containerCache.over = 0);
                if (d)
                    if (1 === this.containers.length) this.containers[f].containerCache.over || (this.containers[f]._trigger("over", t, this._uiHash(this)), this.containers[f].containerCache.over = 1);
                    else {
                        for (r = 1e4, o = null, u = d.floating || this._isFloating(this.currentItem), s = u ? "left" : "top", a = u ? "width" : "height", h = u ? "clientX" : "clientY", i = this.items.length - 1; i >= 0; i--) e.contains(this.containers[f].element[0], this.items[i].item[0]) && this.items[i].item[0] !== this.currentItem[0] && (l = this.items[i].item.offset()[s], c = !1, t[h] - l > this.items[i][a] / 2 && (c = !0), Math.abs(t[h] - l) < r && (r = Math.abs(t[h] - l), o = this.items[i], this.direction = c ? "up" : "down"));
                        if (!o && !this.options.dropOnEmpty) return;
                        if (this.currentContainer === this.containers[f]) return;
                        o ? this._rearrange(t, o, null, !0) : this._rearrange(t, null, this.containers[f].element, !0), this._trigger("change", t, this._uiHash()), this.containers[f]._trigger("change", t, this._uiHash(this)), this.currentContainer = this.containers[f], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[f]._trigger("over", t, this._uiHash(this)), this.containers[f].containerCache.over = 1
                    }
            },
            _createHelper: function(t) {
                var n = this.options,
                    i = e.isFunction(n.helper) ? e(n.helper.apply(this.element[0], [t, this.currentItem])) : "clone" === n.helper ? this.currentItem.clone() : this.currentItem;
                return i.parents("body").length || e("parent" !== n.appendTo ? n.appendTo : this.currentItem[0].parentNode)[0].appendChild(i[0]), i[0] === this.currentItem[0] && (this._storedCSS = {
                    width: this.currentItem[0].style.width,
                    height: this.currentItem[0].style.height,
                    position: this.currentItem.css("position"),
                    top: this.currentItem.css("top"),
                    left: this.currentItem.css("left")
                }), (!i[0].style.width || n.forceHelperSize) && i.width(this.currentItem.width()), (!i[0].style.height || n.forceHelperSize) && i.height(this.currentItem.height()), i
            },
            _adjustOffsetFromHelper: function(t) {
                "string" == typeof t && (t = t.split(" ")), e.isArray(t) && (t = {
                    left: +t[0],
                    top: +t[1] || 0
                }), "left" in t && (this.offset.click.left = t.left + this.margins.left), "right" in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left), "top" in t && (this.offset.click.top = t.top + this.margins.top), "bottom" in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
            },
            _getParentOffset: function() {
                this.offsetParent = this.helper.offsetParent();
                var t = this.offsetParent.offset();
                return "absolute" === this.cssPosition && this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(), t.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) && (t = {
                    top: 0,
                    left: 0
                }), {
                    top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                    left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                }
            },
            _getRelativeOffset: function() {
                if ("relative" === this.cssPosition) {
                    var e = this.currentItem.position();
                    return {
                        top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                        left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                    }
                }
                return {
                    top: 0,
                    left: 0
                }
            },
            _cacheMargins: function() {
                this.margins = {
                    left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                    top: parseInt(this.currentItem.css("marginTop"), 10) || 0
                }
            },
            _cacheHelperProportions: function() {
                this.helperProportions = {
                    width: this.helper.outerWidth(),
                    height: this.helper.outerHeight()
                }
            },
            _setContainment: function() {
                var t, n, i, r = this.options;
                "parent" === r.containment && (r.containment = this.helper[0].parentNode), ("document" === r.containment || "window" === r.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, e("document" === r.containment ? document : window).width() - this.helperProportions.width - this.margins.left, (e("document" === r.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(r.containment) || (t = e(r.containment)[0], n = e(r.containment).offset(), i = "hidden" !== e(t).css("overflow"), this.containment = [n.left + (parseInt(e(t).css("borderLeftWidth"), 10) || 0) + (parseInt(e(t).css("paddingLeft"), 10) || 0) - this.margins.left, n.top + (parseInt(e(t).css("borderTopWidth"), 10) || 0) + (parseInt(e(t).css("paddingTop"), 10) || 0) - this.margins.top, n.left + (i ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(e(t).css("borderLeftWidth"), 10) || 0) - (parseInt(e(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, n.top + (i ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(e(t).css("borderTopWidth"), 10) || 0) - (parseInt(e(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
            },
            _convertPositionTo: function(t, n) {
                n || (n = this.position);
                var i = "absolute" === t ? 1 : -1,
                    r = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                    o = /(html|body)/i.test(r[0].tagName);
                return {
                    top: n.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : o ? 0 : r.scrollTop()) * i,
                    left: n.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : o ? 0 : r.scrollLeft()) * i
                }
            },
            _generatePosition: function(t) {
                var n, i, r = this.options,
                    o = t.pageX,
                    s = t.pageY,
                    a = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
                    l = /(html|body)/i.test(a[0].tagName);
                return "relative" !== this.cssPosition || this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (o = this.containment[0] + this.offset.click.left), t.pageY - this.offset.click.top < this.containment[1] && (s = this.containment[1] + this.offset.click.top), t.pageX - this.offset.click.left > this.containment[2] && (o = this.containment[2] + this.offset.click.left), t.pageY - this.offset.click.top > this.containment[3] && (s = this.containment[3] + this.offset.click.top)), r.grid && (n = this.originalPageY + Math.round((s - this.originalPageY) / r.grid[1]) * r.grid[1], s = this.containment ? n - this.offset.click.top >= this.containment[1] && n - this.offset.click.top <= this.containment[3] ? n : n - this.offset.click.top >= this.containment[1] ? n - r.grid[1] : n + r.grid[1] : n, i = this.originalPageX + Math.round((o - this.originalPageX) / r.grid[0]) * r.grid[0], o = this.containment ? i - this.offset.click.left >= this.containment[0] && i - this.offset.click.left <= this.containment[2] ? i : i - this.offset.click.left >= this.containment[0] ? i - r.grid[0] : i + r.grid[0] : i)), {
                    top: s - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : l ? 0 : a.scrollTop()),
                    left: o - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : l ? 0 : a.scrollLeft())
                }
            },
            _rearrange: function(e, t, n, i) {
                n ? n[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? t.item[0] : t.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
                var r = this.counter;
                this._delay(function() {
                    r === this.counter && this.refreshPositions(!i)
                })
            },
            _clear: function(e, t) {
                function n(e, t, n) {
                    return function(i) {
                        n._trigger(e, i, t._uiHash(t))
                    }
                }
                this.reverting = !1;
                var i, r = [];
                if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
                    for (i in this._storedCSS)("auto" === this._storedCSS[i] || "static" === this._storedCSS[i]) && (this._storedCSS[i] = "");
                    this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
                } else this.currentItem.show();
                for (this.fromOutside && !t && r.push(function(e) {
                        this._trigger("receive", e, this._uiHash(this.fromOutside))
                    }), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || t || r.push(function(e) {
                        this._trigger("update", e, this._uiHash())
                    }), this !== this.currentContainer && (t || (r.push(function(e) {
                        this._trigger("remove", e, this._uiHash())
                    }), r.push(function(e) {
                        return function(t) {
                            e._trigger("receive", t, this._uiHash(this))
                        }
                    }.call(this, this.currentContainer)), r.push(function(e) {
                        return function(t) {
                            e._trigger("update", t, this._uiHash(this))
                        }
                    }.call(this, this.currentContainer)))), i = this.containers.length - 1; i >= 0; i--) t || r.push(n("deactivate", this, this.containers[i])), this.containers[i].containerCache.over && (r.push(n("out", this, this.containers[i])), this.containers[i].containerCache.over = 0);
                if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, this.cancelHelperRemoval) {
                    if (!t) {
                        for (this._trigger("beforeStop", e, this._uiHash()), i = 0; i < r.length; i++) r[i].call(this, e);
                        this._trigger("stop", e, this._uiHash())
                    }
                    return this.fromOutside = !1, !1
                }
                if (t || this._trigger("beforeStop", e, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null, !t) {
                    for (i = 0; i < r.length; i++) r[i].call(this, e);
                    this._trigger("stop", e, this._uiHash())
                }
                return this.fromOutside = !1, !0
            },
            _trigger: function() {
                e.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
            },
            _uiHash: function(t) {
                var n = t || this;
                return {
                    helper: n.helper,
                    placeholder: n.placeholder || e([]),
                    position: n.position,
                    originalPosition: n.originalPosition,
                    offset: n.positionAbs,
                    item: n.currentItem,
                    sender: t ? t.element : null
                }
            }
        }), e.widget("ui.spinner", {
            version: "1.11.0",
            defaultElement: "<input>",
            widgetEventPrefix: "spin",
            options: {
                culture: null,
                icons: {
                    down: "ui-icon-triangle-1-s",
                    up: "ui-icon-triangle-1-n"
                },
                incremental: !0,
                max: null,
                min: null,
                numberFormat: null,
                page: 10,
                step: 1,
                change: null,
                spin: null,
                start: null,
                stop: null
            },
            _create: function() {
                this._setOption("max", this.options.max), this._setOption("min", this.options.min), this._setOption("step", this.options.step), "" !== this.value() && this._value(this.element.val(), !0), this._draw(), this._on(this._events), this._refresh(), this._on(this.window, {
                    beforeunload: function() {
                        this.element.removeAttr("autocomplete")
                    }
                })
            },
            _getCreateOptions: function() {
                var t = {},
                    n = this.element;
                return e.each(["min", "max", "step"], function(e, i) {
                    var r = n.attr(i);
                    void 0 !== r && r.length && (t[i] = r)
                }), t
            },
            _events: {
                keydown: function(e) {
                    this._start(e) && this._keydown(e) && e.preventDefault()
                },
                keyup: "_stop",
                focus: function() {
                    this.previous = this.element.val()
                },
                blur: function(e) {
                    return this.cancelBlur ? void delete this.cancelBlur : (this._stop(), this._refresh(), void(this.previous !== this.element.val() && this._trigger("change", e)))
                },
                mousewheel: function(e, t) {
                    if (t) {
                        if (!this.spinning && !this._start(e)) return !1;
                        this._spin((t > 0 ? 1 : -1) * this.options.step, e), clearTimeout(this.mousewheelTimer), this.mousewheelTimer = this._delay(function() {
                            this.spinning && this._stop(e)
                        }, 100), e.preventDefault()
                    }
                },
                "mousedown .ui-spinner-button": function(t) {
                    function n() {
                        var e = this.element[0] === this.document[0].activeElement;
                        e || (this.element.focus(), this.previous = i, this._delay(function() {
                            this.previous = i
                        }))
                    }
                    var i;
                    i = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(), t.preventDefault(), n.call(this), this.cancelBlur = !0, this._delay(function() {
                        delete this.cancelBlur, n.call(this)
                    }), this._start(t) !== !1 && this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t)
                },
                "mouseup .ui-spinner-button": "_stop",
                "mouseenter .ui-spinner-button": function(t) {
                    return e(t.currentTarget).hasClass("ui-state-active") ? this._start(t) === !1 ? !1 : void this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t) : void 0
                },
                "mouseleave .ui-spinner-button": "_stop"
            },
            _draw: function() {
                var e = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
                this.element.attr("role", "spinbutton"), this.buttons = e.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"), this.buttons.height() > Math.ceil(.5 * e.height()) && e.height() > 0 && e.height(e.height()), this.options.disabled && this.disable()
            },
            _keydown: function(t) {
                var n = this.options,
                    i = e.ui.keyCode;
                switch (t.keyCode) {
                    case i.UP:
                        return this._repeat(null, 1, t), !0;
                    case i.DOWN:
                        return this._repeat(null, -1, t), !0;
                    case i.PAGE_UP:
                        return this._repeat(null, n.page, t), !0;
                    case i.PAGE_DOWN:
                        return this._repeat(null, -n.page, t), !0
                }
                return !1
            },
            _uiSpinnerHtml: function() {
                return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
            },
            _buttonHtml: function() {
                return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon " + this.options.icons.down + "'>&#9660;</span></a>"
            },
            _start: function(e) {
                return this.spinning || this._trigger("start", e) !== !1 ? (this.counter || (this.counter = 1), this.spinning = !0, !0) : !1
            },
            _repeat: function(e, t, n) {
                e = e || 500, clearTimeout(this.timer), this.timer = this._delay(function() {
                    this._repeat(40, t, n)
                }, e), this._spin(t * this.options.step, n)
            },
            _spin: function(e, t) {
                var n = this.value() || 0;
                this.counter || (this.counter = 1), n = this._adjustValue(n + e * this._increment(this.counter)), this.spinning && this._trigger("spin", t, {
                    value: n
                }) === !1 || (this._value(n), this.counter++)
            },
            _increment: function(t) {
                var n = this.options.incremental;
                return n ? e.isFunction(n) ? n(t) : Math.floor(t * t * t / 5e4 - t * t / 500 + 17 * t / 200 + 1) : 1
            },
            _precision: function() {
                var e = this._precisionOf(this.options.step);
                return null !== this.options.min && (e = Math.max(e, this._precisionOf(this.options.min))), e
            },
            _precisionOf: function(e) {
                var t = e.toString(),
                    n = t.indexOf(".");
                return -1 === n ? 0 : t.length - n - 1
            },
            _adjustValue: function(e) {
                var t, n, i = this.options;
                return t = null !== i.min ? i.min : 0, n = e - t, n = Math.round(n / i.step) * i.step, e = t + n, e = parseFloat(e.toFixed(this._precision())), null !== i.max && e > i.max ? i.max : null !== i.min && e < i.min ? i.min : e
            },
            _stop: function(e) {
                this.spinning && (clearTimeout(this.timer), clearTimeout(this.mousewheelTimer), this.counter = 0, this.spinning = !1, this._trigger("stop", e))
            },
            _setOption: function(e, t) {
                if ("culture" === e || "numberFormat" === e) {
                    var n = this._parse(this.element.val());
                    return this.options[e] = t, void this.element.val(this._format(n))
                }("max" === e || "min" === e || "step" === e) && "string" == typeof t && (t = this._parse(t)), "icons" === e && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up), this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)), this._super(e, t), "disabled" === e && (this.widget().toggleClass("ui-state-disabled", !!t), this.element.prop("disabled", !!t), this.buttons.button(t ? "disable" : "enable"))
            },
            _setOptions: a(function(e) {
                this._super(e)
            }),
            _parse: function(e) {
                return "string" == typeof e && "" !== e && (e = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(e, 10, this.options.culture) : +e), "" === e || isNaN(e) ? null : e
            },
            _format: function(e) {
                return "" === e ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(e, this.options.numberFormat, this.options.culture) : e
            },
            _refresh: function() {
                this.element.attr({
                    "aria-valuemin": this.options.min,
                    "aria-valuemax": this.options.max,
                    "aria-valuenow": this._parse(this.element.val())
                })
            },
            isValid: function() {
                var e = this.value();
                return null === e ? !1 : e === this._adjustValue(e)
            },
            _value: function(e, t) {
                var n;
                "" !== e && (n = this._parse(e), null !== n && (t || (n = this._adjustValue(n)), e = this._format(n))), this.element.val(e), this._refresh()
            },
            _destroy: function() {
                this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"), this.uiSpinner.replaceWith(this.element)
            },
            stepUp: a(function(e) {
                this._stepUp(e)
            }),
            _stepUp: function(e) {
                this._start() && (this._spin((e || 1) * this.options.step), this._stop())
            },
            stepDown: a(function(e) {
                this._stepDown(e)
            }),
            _stepDown: function(e) {
                this._start() && (this._spin((e || 1) * -this.options.step), this._stop())
            },
            pageUp: a(function(e) {
                this._stepUp((e || 1) * this.options.page)
            }),
            pageDown: a(function(e) {
                this._stepDown((e || 1) * this.options.page)
            }),
            value: function(e) {
                return arguments.length ? void a(this._value).call(this, e) : this._parse(this.element.val())
            },
            widget: function() {
                return this.uiSpinner
            }
        }), e.widget("ui.tabs", {
            version: "1.11.0",
            delay: 300,
            options: {
                active: null,
                collapsible: !1,
                event: "click",
                heightStyle: "content",
                hide: null,
                show: null,
                activate: null,
                beforeActivate: null,
                beforeLoad: null,
                load: null
            },
            _isLocal: function() {
                var e = /#.*$/;
                return function(t) {
                    var n, i;
                    t = t.cloneNode(!1), n = t.href.replace(e, ""), i = location.href.replace(e, "");
                    try {
                        n = decodeURIComponent(n)
                    } catch (r) {}
                    try {
                        i = decodeURIComponent(i)
                    } catch (r) {}
                    return t.hash.length > 1 && n === i
                }
            }(),
            _create: function() {
                var t = this,
                    n = this.options;
                this.running = !1, this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", n.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function(t) {
                    e(this).is(".ui-state-disabled") && t.preventDefault()
                }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                    e(this).closest("li").is(".ui-state-disabled") && this.blur()
                }), this._processTabs(), n.active = this._initialActive(), e.isArray(n.disabled) && (n.disabled = e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"), function(e) {
                    return t.tabs.index(e)
                }))).sort()), this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(n.active) : e(), this._refresh(), this.active.length && this.load(n.active)
            },
            _initialActive: function() {
                var t = this.options.active,
                    n = this.options.collapsible,
                    i = location.hash.substring(1);
                return null === t && (i && this.tabs.each(function(n, r) {
                    return e(r).attr("aria-controls") === i ? (t = n, !1) : void 0
                }), null === t && (t = this.tabs.index(this.tabs.filter(".ui-tabs-active"))), (null === t || -1 === t) && (t = this.tabs.length ? 0 : !1)), t !== !1 && (t = this.tabs.index(this.tabs.eq(t)), -1 === t && (t = n ? !1 : 0)), !n && t === !1 && this.anchors.length && (t = 0), t
            },
            _getCreateEventData: function() {
                return {
                    tab: this.active,
                    panel: this.active.length ? this._getPanelForTab(this.active) : e()
                }
            },
            _tabKeydown: function(t) {
                var n = e(this.document[0].activeElement).closest("li"),
                    i = this.tabs.index(n),
                    r = !0;
                if (!this._handlePageNav(t)) {
                    switch (t.keyCode) {
                        case e.ui.keyCode.RIGHT:
                        case e.ui.keyCode.DOWN:
                            i++;
                            break;
                        case e.ui.keyCode.UP:
                        case e.ui.keyCode.LEFT:
                            r = !1, i--;
                            break;
                        case e.ui.keyCode.END:
                            i = this.anchors.length - 1;
                            break;
                        case e.ui.keyCode.HOME:
                            i = 0;
                            break;
                        case e.ui.keyCode.SPACE:
                            return t.preventDefault(), clearTimeout(this.activating), void this._activate(i);
                        case e.ui.keyCode.ENTER:
                            return t.preventDefault(), clearTimeout(this.activating), void this._activate(i === this.options.active ? !1 : i);
                        default:
                            return
                    }
                    t.preventDefault(), clearTimeout(this.activating), i = this._focusNextTab(i, r), t.ctrlKey || (n.attr("aria-selected", "false"), this.tabs.eq(i).attr("aria-selected", "true"), this.activating = this._delay(function() {
                        this.option("active", i)
                    }, this.delay))
                }
            },
            _panelKeydown: function(t) {
                this._handlePageNav(t) || t.ctrlKey && t.keyCode === e.ui.keyCode.UP && (t.preventDefault(), this.active.focus())
            },
            _handlePageNav: function(t) {
                return t.altKey && t.keyCode === e.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)), !0) : t.altKey && t.keyCode === e.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)), !0) : void 0
            },
            _findNextTab: function(t, n) {
                function i() {
                    return t > r && (t = 0), 0 > t && (t = r), t
                }
                for (var r = this.tabs.length - 1; - 1 !== e.inArray(i(), this.options.disabled);) t = n ? t + 1 : t - 1;
                return t
            },
            _focusNextTab: function(e, t) {
                return e = this._findNextTab(e, t), this.tabs.eq(e).focus(), e
            },
            _setOption: function(e, t) {
                return "active" === e ? void this._activate(t) : "disabled" === e ? void this._setupDisabled(t) : (this._super(e, t), "collapsible" === e && (this.element.toggleClass("ui-tabs-collapsible", t), t || this.options.active !== !1 || this._activate(0)), "event" === e && this._setupEvents(t), void("heightStyle" === e && this._setupHeightStyle(t)))
            },
            _sanitizeSelector: function(e) {
                return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
            },
            refresh: function() {
                var t = this.options,
                    n = this.tablist.children(":has(a[href])");
                t.disabled = e.map(n.filter(".ui-state-disabled"), function(e) {
                    return n.index(e)
                }), this._processTabs(), t.active !== !1 && this.anchors.length ? this.active.length && !e.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1, this.active = e()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1, this.active = e()), this._refresh()
            },
            _refresh: function() {
                this._setupDisabled(this.options.disabled), this._setupEvents(this.options.event), this._setupHeightStyle(this.options.heightStyle), this.tabs.not(this.active).attr({
                    "aria-selected": "false",
                    "aria-expanded": "false",
                    tabIndex: -1
                }), this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                    "aria-hidden": "true"
                }), this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                }), this._getPanelForTab(this.active).show().attr({
                    "aria-hidden": "false"
                })) : this.tabs.eq(0).attr("tabIndex", 0)
            },
            _processTabs: function() {
                var t = this;
                this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist"), this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                    role: "tab",
                    tabIndex: -1
                }), this.anchors = this.tabs.map(function() {
                    return e("a", this)[0]
                }).addClass("ui-tabs-anchor").attr({
                    role: "presentation",
                    tabIndex: -1
                }), this.panels = e(), this.anchors.each(function(n, i) {
                    var r, o, s, a = e(i).uniqueId().attr("id"),
                        l = e(i).closest("li"),
                        c = l.attr("aria-controls");
                    t._isLocal(i) ? (r = i.hash, s = r.substring(1), o = t.element.find(t._sanitizeSelector(r))) : (s = l.attr("aria-controls") || e({}).uniqueId()[0].id, r = "#" + s, o = t.element.find(r), o.length || (o = t._createPanel(s), o.insertAfter(t.panels[n - 1] || t.tablist)), o.attr("aria-live", "polite")), o.length && (t.panels = t.panels.add(o)), c && l.data("ui-tabs-aria-controls", c), l.attr({
                        "aria-controls": s,
                        "aria-labelledby": a
                    }), o.attr("aria-labelledby", a)
                }), this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel")
            },
            _getList: function() {
                return this.tablist || this.element.find("ol,ul").eq(0)
            },
            _createPanel: function(t) {
                return e("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
            },
            _setupDisabled: function(t) {
                e.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1);
                for (var n, i = 0; n = this.tabs[i]; i++) t === !0 || -1 !== e.inArray(i, t) ? e(n).addClass("ui-state-disabled").attr("aria-disabled", "true") : e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");
                this.options.disabled = t
            },
            _setupEvents: function(t) {
                var n = {};
                t && e.each(t.split(" "), function(e, t) {
                    n[t] = "_eventHandler"
                }), this._off(this.anchors.add(this.tabs).add(this.panels)), this._on(!0, this.anchors, {
                    click: function(e) {
                        e.preventDefault()
                    }
                }), this._on(this.anchors, n), this._on(this.tabs, {
                    keydown: "_tabKeydown"
                }), this._on(this.panels, {
                    keydown: "_panelKeydown"
                }), this._focusable(this.tabs), this._hoverable(this.tabs)
            },
            _setupHeightStyle: function(t) {
                var n, i = this.element.parent();
                "fill" === t ? (n = i.height(), n -= this.element.outerHeight() - this.element.height(), this.element.siblings(":visible").each(function() {
                    var t = e(this),
                        i = t.css("position");
                    "absolute" !== i && "fixed" !== i && (n -= t.outerHeight(!0))
                }), this.element.children().not(this.panels).each(function() {
                    n -= e(this).outerHeight(!0)
                }), this.panels.each(function() {
                    e(this).height(Math.max(0, n - e(this).innerHeight() + e(this).height()))
                }).css("overflow", "auto")) : "auto" === t && (n = 0, this.panels.each(function() {
                    n = Math.max(n, e(this).height("").height())
                }).height(n))
            },
            _eventHandler: function(t) {
                var n = this.options,
                    i = this.active,
                    r = e(t.currentTarget),
                    o = r.closest("li"),
                    s = o[0] === i[0],
                    a = s && n.collapsible,
                    l = a ? e() : this._getPanelForTab(o),
                    c = i.length ? this._getPanelForTab(i) : e(),
                    u = {
                        oldTab: i,
                        oldPanel: c,
                        newTab: a ? e() : o,
                        newPanel: l
                    };
                t.preventDefault(), o.hasClass("ui-state-disabled") || o.hasClass("ui-tabs-loading") || this.running || s && !n.collapsible || this._trigger("beforeActivate", t, u) === !1 || (n.active = a ? !1 : this.tabs.index(o), this.active = s ? e() : o, this.xhr && this.xhr.abort(), c.length || l.length || e.error("jQuery UI Tabs: Mismatching fragment identifier."), l.length && this.load(this.tabs.index(o), t), this._toggle(t, u))
            },
            _toggle: function(t, n) {
                function i() {
                    o.running = !1, o._trigger("activate", t, n)
                }

                function r() {
                    n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"), s.length && o.options.show ? o._show(s, o.options.show, i) : (s.show(), i())
                }
                var o = this,
                    s = n.newPanel,
                    a = n.oldPanel;
                this.running = !0, a.length && this.options.hide ? this._hide(a, this.options.hide, function() {
                    n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), r()
                }) : (n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"), a.hide(), r()), a.attr("aria-hidden", "true"), n.oldTab.attr({
                    "aria-selected": "false",
                    "aria-expanded": "false"
                }), s.length && a.length ? n.oldTab.attr("tabIndex", -1) : s.length && this.tabs.filter(function() {
                    return 0 === e(this).attr("tabIndex")
                }).attr("tabIndex", -1), s.attr("aria-hidden", "false"), n.newTab.attr({
                    "aria-selected": "true",
                    "aria-expanded": "true",
                    tabIndex: 0
                })
            },
            _activate: function(t) {
                var n, i = this._findActive(t);
                i[0] !== this.active[0] && (i.length || (i = this.active), n = i.find(".ui-tabs-anchor")[0], this._eventHandler({
                    target: n,
                    currentTarget: n,
                    preventDefault: e.noop
                }))
            },
            _findActive: function(t) {
                return t === !1 ? e() : this.tabs.eq(t)
            },
            _getIndex: function(e) {
                return "string" == typeof e && (e = this.anchors.index(this.anchors.filter("[href$='" + e + "']"))), e
            },
            _destroy: function() {
                this.xhr && this.xhr.abort(), this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"), this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"), this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(), this.tabs.add(this.panels).each(function() {
                    e.data(this, "ui-tabs-destroy") ? e(this).remove() : e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
                }), this.tabs.each(function() {
                    var t = e(this),
                        n = t.data("ui-tabs-aria-controls");
                    n ? t.attr("aria-controls", n).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls")
                }), this.panels.show(), "content" !== this.options.heightStyle && this.panels.css("height", "")
            },
            enable: function(t) {
                var n = this.options.disabled;
                n !== !1 && (void 0 === t ? n = !1 : (t = this._getIndex(t), n = e.isArray(n) ? e.map(n, function(e) {
                    return e !== t ? e : null
                }) : e.map(this.tabs, function(e, n) {
                    return n !== t ? n : null
                })), this._setupDisabled(n))
            },
            disable: function(t) {
                var n = this.options.disabled;
                if (n !== !0) {
                    if (void 0 === t) n = !0;
                    else {
                        if (t = this._getIndex(t), -1 !== e.inArray(t, n)) return;
                        n = e.isArray(n) ? e.merge([t], n).sort() : [t]
                    }
                    this._setupDisabled(n)
                }
            },
            load: function(t, n) {
                t = this._getIndex(t);
                var i = this,
                    r = this.tabs.eq(t),
                    o = r.find(".ui-tabs-anchor"),
                    s = this._getPanelForTab(r),
                    a = {
                        tab: r,
                        panel: s
                    };
                this._isLocal(o[0]) || (this.xhr = e.ajax(this._ajaxSettings(o, n, a)), this.xhr && "canceled" !== this.xhr.statusText && (r.addClass("ui-tabs-loading"), s.attr("aria-busy", "true"), this.xhr.success(function(e) {
                    setTimeout(function() {
                        s.html(e), i._trigger("load", n, a)
                    }, 1)
                }).complete(function(e, t) {
                    setTimeout(function() {
                        "abort" === t && i.panels.stop(!1, !0), r.removeClass("ui-tabs-loading"), s.removeAttr("aria-busy"), e === i.xhr && delete i.xhr
                    }, 1)
                })))
            },
            _ajaxSettings: function(t, n, i) {
                var r = this;
                return {
                    url: t.attr("href"),
                    beforeSend: function(t, o) {
                        return r._trigger("beforeLoad", n, e.extend({
                            jqXHR: t,
                            ajaxSettings: o
                        }, i))
                    }
                }
            },
            _getPanelForTab: function(t) {
                var n = e(t).attr("aria-controls");
                return this.element.find(this._sanitizeSelector("#" + n))
            }
        }), e.widget("ui.tooltip", {
            version: "1.11.0",
            options: {
                content: function() {
                    var t = e(this).attr("title") || "";
                    return e("<a>").text(t).html()
                },
                hide: !0,
                items: "[title]:not([disabled])",
                position: {
                    my: "left top+15",
                    at: "left bottom",
                    collision: "flipfit flip"
                },
                show: !0,
                tooltipClass: null,
                track: !1,
                close: null,
                open: null
            },
            _addDescribedBy: function(t, n) {
                var i = (t.attr("aria-describedby") || "").split(/\s+/);
                i.push(n), t.data("ui-tooltip-id", n).attr("aria-describedby", e.trim(i.join(" ")))
            },
            _removeDescribedBy: function(t) {
                var n = t.data("ui-tooltip-id"),
                    i = (t.attr("aria-describedby") || "").split(/\s+/),
                    r = e.inArray(n, i); - 1 !== r && i.splice(r, 1), t.removeData("ui-tooltip-id"), i = e.trim(i.join(" ")), i ? t.attr("aria-describedby", i) : t.removeAttr("aria-describedby")
            },
            _create: function() {
                this._on({
                    mouseover: "open",
                    focusin: "open"
                }), this.tooltips = {}, this.parents = {}, this.options.disabled && this._disable(), this.liveRegion = e("<div>").attr({
                    role: "log",
                    "aria-live": "assertive",
                    "aria-relevant": "additions"
                }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)
            },
            _setOption: function(t, n) {
                var i = this;
                return "disabled" === t ? (this[n ? "_disable" : "_enable"](), void(this.options[t] = n)) : (this._super(t, n), void("content" === t && e.each(this.tooltips, function(e, t) {
                    i._updateContent(t)
                })))
            },
            _disable: function() {
                var t = this;
                e.each(this.tooltips, function(n, i) {
                    var r = e.Event("blur");
                    r.target = r.currentTarget = i[0], t.close(r, !0)
                }), this.element.find(this.options.items).addBack().each(function() {
                    var t = e(this);
                    t.is("[title]") && t.data("ui-tooltip-title", t.attr("title")).removeAttr("title")
                })
            },
            _enable: function() {
                this.element.find(this.options.items).addBack().each(function() {
                    var t = e(this);
                    t.data("ui-tooltip-title") && t.attr("title", t.data("ui-tooltip-title"))
                })
            },
            open: function(t) {
                var n = this,
                    i = e(t ? t.target : this.element).closest(this.options.items);
                i.length && !i.data("ui-tooltip-id") && (i.attr("title") && i.data("ui-tooltip-title", i.attr("title")), i.data("ui-tooltip-open", !0), t && "mouseover" === t.type && i.parents().each(function() {
                    var t, i = e(this);
                    i.data("ui-tooltip-open") && (t = e.Event("blur"), t.target = t.currentTarget = this, n.close(t, !0)), i.attr("title") && (i.uniqueId(), n.parents[this.id] = {
                        element: this,
                        title: i.attr("title")
                    }, i.attr("title", ""))
                }), this._updateContent(i, t))
            },
            _updateContent: function(e, t) {
                var n, i = this.options.content,
                    r = this,
                    o = t ? t.type : null;
                return "string" == typeof i ? this._open(t, e, i) : (n = i.call(e[0], function(n) {
                    e.data("ui-tooltip-open") && r._delay(function() {
                        t && (t.type = o), this._open(t, e, n)
                    })
                }), void(n && this._open(t, e, n)))
            },
            _open: function(t, n, i) {
                function r(e) {
                    c.of = e, o.is(":hidden") || o.position(c)
                }
                var o, s, a, l, c = e.extend({}, this.options.position);
                if (i) {
                    if (o = this._find(n), o.length) return void o.find(".ui-tooltip-content").html(i);
                    n.is("[title]") && (t && "mouseover" === t.type ? n.attr("title", "") : n.removeAttr("title")), o = this._tooltip(n), this._addDescribedBy(n, o.attr("id")), o.find(".ui-tooltip-content").html(i), this.liveRegion.children().hide(), i.clone ? (l = i.clone(), l.removeAttr("id").find("[id]").removeAttr("id")) : l = i, e("<div>").html(l).appendTo(this.liveRegion), this.options.track && t && /^mouse/.test(t.type) ? (this._on(this.document, {
                        mousemove: r
                    }), r(t)) : o.position(e.extend({
                        of: n
                    }, this.options.position)), o.hide(), this._show(o, this.options.show), this.options.show && this.options.show.delay && (a = this.delayedShow = setInterval(function() {
                        o.is(":visible") && (r(c.of), clearInterval(a))
                    }, e.fx.interval)), this._trigger("open", t, {
                        tooltip: o
                    }), s = {
                        keyup: function(t) {
                            if (t.keyCode === e.ui.keyCode.ESCAPE) {
                                var i = e.Event(t);
                                i.currentTarget = n[0], this.close(i, !0)
                            }
                        }
                    }, n[0] !== this.element[0] && (s.remove = function() {
                        this._removeTooltip(o)
                    }), t && "mouseover" !== t.type || (s.mouseleave = "close"), t && "focusin" !== t.type || (s.focusout = "close"), this._on(!0, n, s)
                }
            },
            close: function(t) {
                var n = this,
                    i = e(t ? t.currentTarget : this.element),
                    r = this._find(i);
                this.closing || (clearInterval(this.delayedShow), i.data("ui-tooltip-title") && !i.attr("title") && i.attr("title", i.data("ui-tooltip-title")), this._removeDescribedBy(i), r.stop(!0), this._hide(r, this.options.hide, function() {
                    n._removeTooltip(e(this))
                }), i.removeData("ui-tooltip-open"), this._off(i, "mouseleave focusout keyup"), i[0] !== this.element[0] && this._off(i, "remove"), this._off(this.document, "mousemove"), t && "mouseleave" === t.type && e.each(this.parents, function(t, i) {
                    e(i.element).attr("title", i.title), delete n.parents[t]
                }), this.closing = !0, this._trigger("close", t, {
                    tooltip: r
                }), this.closing = !1)
            },
            _tooltip: function(t) {
                var n = e("<div>").attr("role", "tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || "")),
                    i = n.uniqueId().attr("id");
                return e("<div>").addClass("ui-tooltip-content").appendTo(n), n.appendTo(this.document[0].body), this.tooltips[i] = t, n
            },
            _find: function(t) {
                var n = t.data("ui-tooltip-id");
                return n ? e("#" + n) : e()
            },
            _removeTooltip: function(e) {
                e.remove(), delete this.tooltips[e.attr("id")]
            },
            _destroy: function() {
                var t = this;
                e.each(this.tooltips, function(n, i) {
                    var r = e.Event("blur");
                    r.target = r.currentTarget = i[0], t.close(r, !0), e("#" + n).remove(), i.data("ui-tooltip-title") && (i.attr("title") || i.attr("title", i.data("ui-tooltip-title")), i.removeData("ui-tooltip-title"))
                }), this.liveRegion.remove()
            }
        })
    }), $.widget("ui.resizable", $.ui.mouse, {
        version: "1.11.1",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(e) {
            return parseInt(e, 10) || 0
        },
        _isNumber: function(e) {
            return !isNaN(parseInt(e, 10))
        },
        _hasScroll: function(e, t) {
            if ("hidden" === $(e).css("overflow")) return !1;
            var n = t && "left" === t ? "scrollLeft" : "scrollTop",
                i = !1;
            return e[n] > 0 ? !0 : (e[n] = 1, i = e[n] > 0, e[n] = 0, i)
        },
        _create: function() {
            var e, t, n, i, r, o = this,
                s = this.options;
            if (this.element.addClass("ui-resizable"), $.extend(this, {
                    _aspectRatio: !!s.aspectRatio,
                    aspectRatio: s.aspectRatio,
                    originalElement: this.element,
                    _proportionallyResizeElements: [],
                    _helper: s.helper || s.ghost || s.animate ? s.helper || "ui-resizable-helper" : null
                }), this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i) && (this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                    position: this.element.css("position"),
                    width: this.element.outerWidth(),
                    height: this.element.outerHeight(),
                    top: this.element.css("top"),
                    left: this.element.css("left")
                })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({
                    marginLeft: this.originalElement.css("marginLeft"),
                    marginTop: this.originalElement.css("marginTop"),
                    marginRight: this.originalElement.css("marginRight"),
                    marginBottom: this.originalElement.css("marginBottom")
                }), this.originalElement.css({
                    marginLeft: 0,
                    marginTop: 0,
                    marginRight: 0,
                    marginBottom: 0
                }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                    position: "static",
                    zoom: 1,
                    display: "block"
                })), this.originalElement.css({
                    margin: this.originalElement.css("margin")
                }), this._proportionallyResize()), this.handles = s.handles || ($(".ui-resizable-handle", this.element).length ? {
                    n: ".ui-resizable-n",
                    e: ".ui-resizable-e",
                    s: ".ui-resizable-s",
                    w: ".ui-resizable-w",
                    se: ".ui-resizable-se",
                    sw: ".ui-resizable-sw",
                    ne: ".ui-resizable-ne",
                    nw: ".ui-resizable-nw"
                } : "e,s,se"), this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, t = 0; t < e.length; t++) n = $.trim(e[t]), r = "ui-resizable-" + n, i = $("<div class='ui-resizable-handle " + r + "'></div>"), i.css({
                    zIndex: s.zIndex
                }), "se" === n && i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[n] = ".ui-resizable-" + n, this.element.append(i);
            this._renderAxis = function(e) {
                var t, n, i, r;
                e = e || this.element;
                for (t in this.handles) this.handles[t].constructor === String && (this.handles[t] = this.element.children(this.handles[t]).first().show()), this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i) && (n = $(this.handles[t], this.element), r = /sw|ne|nw|se|n|s/.test(t) ? n.outerHeight() : n.outerWidth(), i = ["padding", /ne|nw|n/.test(t) ? "Top" : /se|sw|s/.test(t) ? "Bottom" : /^e$/.test(t) ? "Right" : "Left"].join(""), e.css(i, r), this._proportionallyResize()), $(this.handles[t]).length
            }, this._renderAxis(this.element), this._handles = $(".ui-resizable-handle", this.element).disableSelection(), this._handles.mouseover(function() {
                o.resizing || (this.className && (i = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), o.axis = i && i[1] ? i[1] : "se")
            }), s.autoHide && (this._handles.hide(), $(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                s.disabled || ($(this).removeClass("ui-resizable-autohide"), o._handles.show())
            }).mouseleave(function() {
                s.disabled || o.resizing || ($(this).addClass("ui-resizable-autohide"), o._handles.hide())
            })), this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var e, t = function(e) {
                $(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (t(this.element), e = this.element, this.originalElement.css({
                position: e.css("position"),
                width: e.outerWidth(),
                height: e.outerHeight(),
                top: e.css("top"),
                left: e.css("left")
            }).insertAfter(e), e.remove()), this.originalElement.css("resize", this.originalResizeStyle), t(this.originalElement), this
        },
        _mouseCapture: function(e) {
            var t, n, i = !1;
            for (t in this.handles) n = $(this.handles[t])[0], (n === e.target || $.contains(n, e.target)) && (i = !0);
            return !this.options.disabled && i
        },
        _mouseStart: function(e) {
            var t, n, i, r = this.options,
                o = this.element;
            return this.resizing = !0, this._renderProxy(), t = this._num(this.helper.css("left")), n = this._num(this.helper.css("top")), r.containment && (t += $(r.containment).scrollLeft() || 0, n += $(r.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                left: t,
                top: n
            }, this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: o.width(),
                height: o.height()
            }, this.originalSize = this._helper ? {
                width: o.outerWidth(),
                height: o.outerHeight()
            } : {
                width: o.width(),
                height: o.height()
            }, this.sizeDiff = {
                width: o.outerWidth() - o.width(),
                height: o.outerHeight() - o.height()
            }, this.originalPosition = {
                left: t,
                top: n
            }, this.originalMousePosition = {
                left: e.pageX,
                top: e.pageY
            }, this.aspectRatio = "number" == typeof r.aspectRatio ? r.aspectRatio : this.originalSize.width / this.originalSize.height || 1, i = $(".ui-resizable-" + this.axis).css("cursor"), $("body").css("cursor", "auto" === i ? this.axis + "-resize" : i), o.addClass("ui-resizable-resizing"), this._propagate("start", e), !0
        },
        _mouseDrag: function(e) {
            var t, n, i = this.originalMousePosition,
                r = this.axis,
                o = e.pageX - i.left || 0,
                s = e.pageY - i.top || 0,
                a = this._change[r];
            if (this._updatePrevProperties(), !a) return !1;
            return t = a.apply(this, [e, o, s]), this._updateVirtualBoundaries(e.shiftKey), (this._aspectRatio || e.shiftKey) && (t = this._updateRatio(t, e)), t = this._respectSize(t, e), this._updateCache(t), this._propagate("resize", e), n = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), $.isEmptyObject(n) || (this._updatePrevProperties(), this._trigger("resize", e, this.ui()), this._applyChanges()), !1
        },
        _mouseStop: function(e) {
            this.resizing = !1;
            var t, n, i, r, o, s, a, l = this.options,
                c = this;
            return this._helper && (t = this._proportionallyResizeElements, n = t.length && /textarea/i.test(t[0].nodeName), i = n && this._hasScroll(t[0], "left") ? 0 : c.sizeDiff.height, r = n ? 0 : c.sizeDiff.width, o = {
                width: c.helper.width() - r,
                height: c.helper.height() - i
            }, s = parseInt(c.element.css("left"), 10) + (c.position.left - c.originalPosition.left) || null, a = parseInt(c.element.css("top"), 10) + (c.position.top - c.originalPosition.top) || null, l.animate || this.element.css($.extend(o, {
                top: a,
                left: s
            })), c.helper.height(c.size.height), c.helper.width(c.size.width), this._helper && !l.animate && this._proportionallyResize()), $("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", e), this._helper && this.helper.remove(), !1
        },
        _updatePrevProperties: function() {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            }, this.prevSize = {
                width: this.size.width,
                height: this.size.height
            }
        },
        _applyChanges: function() {
            var e = {};
            return this.position.top !== this.prevPosition.top && (e.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (e.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (e.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (e.height = this.size.height + "px"), this.helper.css(e), e
        },
        _updateVirtualBoundaries: function(e) {
            var t, n, i, r, o, s = this.options;
            o = {
                minWidth: this._isNumber(s.minWidth) ? s.minWidth : 0,
                maxWidth: this._isNumber(s.maxWidth) ? s.maxWidth : 1 / 0,
                minHeight: this._isNumber(s.minHeight) ? s.minHeight : 0,
                maxHeight: this._isNumber(s.maxHeight) ? s.maxHeight : 1 / 0
            }, (this._aspectRatio || e) && (t = o.minHeight * this.aspectRatio, i = o.minWidth / this.aspectRatio, n = o.maxHeight * this.aspectRatio, r = o.maxWidth / this.aspectRatio, t > o.minWidth && (o.minWidth = t), i > o.minHeight && (o.minHeight = i), n < o.maxWidth && (o.maxWidth = n), r < o.maxHeight && (o.maxHeight = r)), this._vBoundaries = o
        },
        _updateCache: function(e) {
            this.offset = this.helper.offset(), this._isNumber(e.left) && (this.position.left = e.left), this._isNumber(e.top) && (this.position.top = e.top), this._isNumber(e.height) && (this.size.height = e.height), this._isNumber(e.width) && (this.size.width = e.width)
        },
        _updateRatio: function(e) {
            var t = this.position,
                n = this.size,
                i = this.axis;
            return this._isNumber(e.height) ? e.width = e.height * this.aspectRatio : this._isNumber(e.width) && (e.height = e.width / this.aspectRatio), "sw" === i && (e.left = t.left + (n.width - e.width), e.top = null), "nw" === i && (e.top = t.top + (n.height - e.height), e.left = t.left + (n.width - e.width)), e
        },
        _respectSize: function(e) {
            var t = this._vBoundaries,
                n = this.axis,
                i = this._isNumber(e.width) && t.maxWidth && t.maxWidth < e.width,
                r = this._isNumber(e.height) && t.maxHeight && t.maxHeight < e.height,
                o = this._isNumber(e.width) && t.minWidth && t.minWidth > e.width,
                s = this._isNumber(e.height) && t.minHeight && t.minHeight > e.height,
                a = this.originalPosition.left + this.originalSize.width,
                l = this.position.top + this.size.height,
                c = /sw|nw|w/.test(n),
                u = /nw|ne|n/.test(n);
            return o && (e.width = t.minWidth), s && (e.height = t.minHeight), i && (e.width = t.maxWidth), r && (e.height = t.maxHeight), o && c && (e.left = a - t.minWidth), i && c && (e.left = a - t.maxWidth), s && u && (e.top = l - t.minHeight), r && u && (e.top = l - t.maxHeight), e
        },
        _getPaddingPlusBorderDimensions: function(e) {
            for (var t = 0, n = [], i = [e.css("borderTopWidth"), e.css("borderRightWidth"), e.css("borderBottomWidth"), e.css("borderLeftWidth")], r = [e.css("paddingTop"), e.css("paddingRight"), e.css("paddingBottom"), e.css("paddingLeft")]; 4 > t; t++) n[t] = parseInt(i[t], 10) || 0, n[t] += parseInt(r[t], 10) || 0;
            return {
                height: n[0] + n[2],
                width: n[1] + n[3]
            }
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length)
                for (var e, t = 0, n = this.helper || this.element; t < this._proportionallyResizeElements.length; t++) e = this._proportionallyResizeElements[t], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(e)), e.css({
                    height: n.height() - this.outerDimensions.height || 0,
                    width: n.width() - this.outerDimensions.width || 0
                })
        },
        _renderProxy: function() {
            var e = this.element,
                t = this.options;
            this.elementOffset = e.offset(), this._helper ? (this.helper = this.helper || $("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++t.zIndex
            }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(e, t) {
                return {
                    width: this.originalSize.width + t
                }
            },
            w: function(e, t) {
                var n = this.originalSize,
                    i = this.originalPosition;
                return {
                    left: i.left + t,
                    width: n.width - t
                }
            },
            n: function(e, t, n) {
                var i = this.originalSize,
                    r = this.originalPosition;
                return {
                    top: r.top + n,
                    height: i.height - n
                }
            },
            s: function(e, t, n) {
                return {
                    height: this.originalSize.height + n
                }
            },
            se: function(e, t, n) {
                return $.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, t, n]))
            },
            sw: function(e, t, n) {
                return $.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, t, n]))
            },
            ne: function(e, t, n) {
                return $.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, t, n]))
            },
            nw: function(e, t, n) {
                return $.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, t, n]))
            }
        },
        _propagate: function(e, t) {
            $.ui.plugin.call(this, e, [t, this.ui()]), "resize" !== e && this._trigger(e, t, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }), $.ui.plugin.add("resizable", "containment", {
        start: function() {
            var e, t, n, i, r, o, s, a = $(this).resizable("instance"),
                l = a.options,
                c = a.element,
                u = l.containment,
                h = u instanceof $ ? u.get(0) : /parent/.test(u) ? c.parent().get(0) : u;
            h && (a.containerElement = $(h), /document/.test(u) || u === document ? (a.containerOffset = {
                left: 0,
                top: 0
            }, a.containerPosition = {
                left: 0,
                top: 0
            }, a.parentData = {
                element: $(document),
                left: 0,
                top: 0,
                width: $(document).width(),
                height: $(document).height() || document.body.parentNode.scrollHeight
            }) : (e = $(h), t = [], $(["Top", "Right", "Left", "Bottom"]).each(function(n, i) {
                t[n] = a._num(e.css("padding" + i))
            }), a.containerOffset = e.offset(), a.containerPosition = e.position(), a.containerSize = {
                height: e.innerHeight() - t[3],
                width: e.innerWidth() - t[1]
            }, n = a.containerOffset, i = a.containerSize.height, r = a.containerSize.width, o = a._hasScroll(h, "left") ? h.scrollWidth : r, s = a._hasScroll(h) ? h.scrollHeight : i, a.parentData = {
                element: h,
                left: n.left,
                top: n.top,
                width: o,
                height: s
            }))
        },
        resize: function(e) {
            var t, n, i, r, o = $(this).resizable("instance"),
                s = o.options,
                a = o.containerOffset,
                l = o.position,
                c = o._aspectRatio || e.shiftKey,
                u = {
                    top: 0,
                    left: 0
                },
                h = o.containerElement,
                d = !0;
            h[0] !== document && /static/.test(h.css("position")) && (u = a), l.left < (o._helper ? a.left : 0) && (o.size.width = o.size.width + (o._helper ? o.position.left - a.left : o.position.left - u.left), c && (o.size.height = o.size.width / o.aspectRatio, d = !1), o.position.left = s.helper ? a.left : 0), l.top < (o._helper ? a.top : 0) && (o.size.height = o.size.height + (o._helper ? o.position.top - a.top : o.position.top), c && (o.size.width = o.size.height * o.aspectRatio, d = !1), o.position.top = o._helper ? a.top : 0), i = o.containerElement.get(0) === o.element.parent().get(0), r = /relative|absolute/.test(o.containerElement.css("position")), i && r ? (o.offset.left = o.parentData.left + o.position.left, o.offset.top = o.parentData.top + o.position.top) : (o.offset.left = o.element.offset().left, o.offset.top = o.element.offset().top), t = Math.abs(o.sizeDiff.width + (o._helper ? o.offset.left - u.left : o.offset.left - a.left)), n = Math.abs(o.sizeDiff.height + (o._helper ? o.offset.top - u.top : o.offset.top - a.top)), t + o.size.width >= o.parentData.width && (o.size.width = o.parentData.width - t, c && (o.size.height = o.size.width / o.aspectRatio, d = !1)), n + o.size.height >= o.parentData.height && (o.size.height = o.parentData.height - n, c && (o.size.width = o.size.height * o.aspectRatio, d = !1)), d || (o.position.left = o.prevPosition.left, o.position.top = o.prevPosition.top, o.size.width = o.prevSize.width, o.size.height = o.prevSize.height)
        },
        stop: function() {
            var e = $(this).resizable("instance"),
                t = e.options,
                n = e.containerOffset,
                i = e.containerPosition,
                r = e.containerElement,
                o = $(e.helper),
                s = o.offset(),
                a = o.outerWidth() - e.sizeDiff.width,
                l = o.outerHeight() - e.sizeDiff.height;
            e._helper && !t.animate && /relative/.test(r.css("position")) && $(this).css({
                left: s.left - i.left - n.left,
                width: a,
                height: l
            }), e._helper && !t.animate && /static/.test(r.css("position")) && $(this).css({
                left: s.left - i.left - n.left,
                width: a,
                height: l
            })
        }
    });
var resizable = $.ui.resizable;
! function(e, t, n) {
    function i(e, t, n, i) {
        return u(e, e, n, i, t).then(function(o) {
            S("Document cloned");
            var s = "[" + Rt + "='true']";
            e.querySelector(s).removeAttribute(Rt);
            var a = o.contentWindow,
                l = a.document.querySelector(s);
            return r(l, o, t, n, i)
        })
    }

    function r(e, n, i, r, c) {
        var u = n.contentWindow,
            h = new St(u.document),
            d = new C(i, h),
            f = I(e),
            p = null != i.width ? i.width : "view" === i.type ? Math.min(f.width, r) : a(u.document),
            m = null != i.height ? i.height : "view" === i.type ? Math.min(f.height, c) : l(u.document),
            g = new It(p, m, d, i, t),
            v = new R(e, g, h, d, i);
        return v.ready.then(function() {
            S("Finished rendering");
            var t = "view" === i.type || e !== u.document.body && e !== u.document.documentElement ? s(g.canvas, {
                width: p,
                height: m,
                top: f.top,
                left: f.left
            }) : g.canvas;
            return o(n, i), t
        })
    }

    function o(e, t) {
        t.removeContainer && (e.parentNode.removeChild(e), S("Cleaned up container"))
    }

    function s(e, n) {
        var i = t.createElement("canvas"),
            r = Math.min(e.width - 1, Math.max(0, n.left)),
            o = Math.min(e.width, Math.max(1, n.left + n.width)),
            s = Math.min(e.height - 1, Math.max(0, n.top)),
            a = Math.min(e.height, Math.max(1, n.top + n.height)),
            l = i.width = o - r,
            c = i.height = a - s;
        return S("Cropping canvas at:", "left:", n.left, "top:", n.top, "width:", n.width, "height:", n.height), S("Resulting crop with width", l, "and height", c, " with x", r, "and y", s), i.getContext("2d").drawImage(e, r, s, l, c, 0, 0, l, c), i
    }

    function a(e) {
        return Math.max(Math.max(e.body.scrollWidth, e.documentElement.scrollWidth), Math.max(e.body.offsetWidth, e.documentElement.offsetWidth), Math.max(e.body.clientWidth, e.documentElement.clientWidth))
    }

    function l(e) {
        return Math.max(Math.max(e.body.scrollHeight, e.documentElement.scrollHeight), Math.max(e.body.offsetHeight, e.documentElement.offsetHeight), Math.max(e.body.clientHeight, e.documentElement.clientHeight))
    }

    function c() {
        return "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
    }

    function u(t, n, i, r, o) {
        f(t);
        var s = t.documentElement.cloneNode(!0),
            a = n.createElement("iframe");
        return a.style.visibility = "hidden", a.style.position = "absolute", a.style.left = a.style.top = "-10000px", a.width = i, a.height = r, a.scrolling = "no", n.body.appendChild(a), new Promise(function(n) {
            var i = a.contentWindow.document;
            a.contentWindow.onload = a.onload = function() {
                var e = setInterval(function() {
                    i.body.childNodes.length > 0 && (p(t, i), clearInterval(e), n(a))
                }, 50)
            }, i.open(), i.write("<!DOCTYPE html>"), i.close(), i.replaceChild(o.javascriptEnabled === !0 ? i.adoptNode(s) : m(i.adoptNode(s)), i.documentElement), "view" === o.type && a.contentWindow.scrollTo(e.pageXOffset, e.pageYOffset)
        })
    }

    function h(t, n, i, r, o, s) {
        return new yt(t, n, e.document).then(d(t)).then(function(e) {
            return u(e, i, r, o, s)
        })
    }

    function d(e) {
        return function(n) {
            var i, r = new DOMParser;
            try {
                i = r.parseFromString(n, "text/html")
            } catch (o) {
                S("DOMParser not supported, falling back to createHTMLDocument"), i = t.implementation.createHTMLDocument("");
                try {
                    i.open(), i.write(n), i.close()
                } catch (s) {
                    S("createHTMLDocument write not supported, falling back to document.body.innerHTML"), i.body.innerHTML = n
                }
            }
            var a = i.querySelector("base");
            if (!a || !a.href.host) {
                var l = i.createElement("base");
                l.href = e, i.head.insertBefore(l, i.head.firstChild)
            }
            return i
        }
    }

    function f(e) {
        [].slice.call(e.querySelectorAll("canvas"), 0).forEach(function(e) {
            e.setAttribute(Bt, "canvas-" + Ft++)
        })
    }

    function p(e, t) {
        [].slice.call(e.querySelectorAll("[" + Bt + "]"), 0).forEach(function(e) {
            try {
                var n = t.querySelector("[" + Bt + '="' + e.getAttribute(Bt) + '"]');
                n && (n.width = e.width, n.height = e.height, n.getContext("2d").putImageData(e.getContext("2d").getImageData(0, 0, e.width, e.height), 0, 0))
            } catch (i) {
                S("Unable to copy canvas content from", e, i)
            }
            e.removeAttribute(Bt)
        })
    }

    function m(e) {
        return [].slice.call(e.childNodes, 0).filter(g).forEach(function(t) {
            "SCRIPT" === t.tagName ? e.removeChild(t) : m(t)
        }), e
    }

    function g(e) {
        return e.nodeType === Node.ELEMENT_NODE
    }

    function v(e) {
        var n = t.createElement("a");
        return n.href = e, n.href = n.href, n
    }

    function y(e) {
        if (this.src = e, S("DummyImageContainer for", e), !this.promise || !this.image) {
            S("Initiating DummyImageContainer"), y.prototype.image = new Image;
            var t = this.image;
            y.prototype.promise = new Promise(function(e, n) {
                t.onload = e, t.onerror = n, t.src = c(), t.complete === !0 && e(t)
            })
        }
    }

    function b(e, n) {
        var i, r, o = t.createElement("div"),
            s = t.createElement("img"),
            a = t.createElement("span"),
            l = "Hidden Text";
        o.style.visibility = "hidden", o.style.fontFamily = e, o.style.fontSize = n, o.style.margin = 0, o.style.padding = 0, t.body.appendChild(o), s.src = c(), s.width = 1, s.height = 1, s.style.margin = 0, s.style.padding = 0, s.style.verticalAlign = "baseline", a.style.fontFamily = e, a.style.fontSize = n, a.style.margin = 0, a.style.padding = 0, a.appendChild(t.createTextNode(l)), o.appendChild(a), o.appendChild(s), i = s.offsetTop - a.offsetTop + 1, o.removeChild(a), o.appendChild(t.createTextNode(l)), o.style.lineHeight = "normal", s.style.verticalAlign = "super", r = s.offsetTop - o.offsetTop + 1, t.body.removeChild(o), this.baseline = i, this.lineWidth = 1, this.middle = r
    }

    function w() {
        this.data = {}
    }

    function _(e, t, n) {
        this.image = null, this.src = e;
        var i = this,
            r = I(e);
        this.promise = (t ? new Promise(function(t) {
            "about:blank" === e.contentWindow.document.URL || null == e.contentWindow.document.documentElement ? e.contentWindow.onload = e.onload = function() {
                t(e)
            } : t(e)
        }) : this.proxyLoad(n.proxy, r, n)).then(function(e) {
            return html2canvas(e.contentWindow.document.documentElement, {
                type: "view",
                width: e.width,
                height: e.height,
                proxy: n.proxy,
                javascriptEnabled: n.javascriptEnabled,
                removeContainer: n.removeContainer,
                allowTaint: n.allowTaint,
                imageTimeout: n.imageTimeout / 2
            })
        }).then(function(e) {
            return i.image = e
        })
    }

    function x(e) {
        this.src = e.value, this.colorStops = [], this.type = null, this.x0 = .5, this.y0 = .5, this.x1 = .5, this.y1 = .5, this.promise = Promise.resolve(!0)
    }

    function $(e, t) {
        this.src = e, this.image = new Image;
        var n = this;
        this.tainted = null, this.promise = new Promise(function(i, r) {
            n.image.onload = i, n.image.onerror = r, t && (n.image.crossOrigin = "anonymous"), n.image.src = e, n.image.complete === !0 && i(n.image)
        })
    }

    function C(t, n) {
        this.link = null, this.options = t, this.support = n, this.origin = e.location.protocol + e.location.hostname + e.location.port
    }

    function k(e) {
        x.apply(this, arguments), this.type = this.TYPES.LINEAR;
        var t = null === e.args[0].match(this.stepRegExp);
        t ? e.args[0].split(" ").reverse().forEach(function(e) {
            switch (e) {
                case "left":
                    this.x0 = 0, this.x1 = 1;
                    break;
                case "top":
                    this.y0 = 0, this.y1 = 1;
                    break;
                case "right":
                    this.x0 = 1, this.x1 = 0;
                    break;
                case "bottom":
                    this.y0 = 1, this.y1 = 0;
                    break;
                case "to":
                    var t = this.y0,
                        n = this.x0;
                    this.y0 = this.y1, this.x0 = this.x1, this.x1 = n, this.y1 = t
            }
        }, this) : (this.y0 = 0, this.y1 = 1), this.colorStops = e.args.slice(t ? 1 : 0).map(function(e) {
            var t = e.match(this.stepRegExp);
            return {
                color: t[1],
                stop: "%" === t[3] ? t[2] / 100 : null
            }
        }, this), null === this.colorStops[0].stop && (this.colorStops[0].stop = 0), null === this.colorStops[this.colorStops.length - 1].stop && (this.colorStops[this.colorStops.length - 1].stop = 1), this.colorStops.forEach(function(e, t) {
            null === e.stop && this.colorStops.slice(t).some(function(n, i) {
                return null !== n.stop ? (e.stop = (n.stop - this.colorStops[t - 1].stop) / (i + 1) + this.colorStops[t - 1].stop, !0) : !1
            }, this)
        }, this)
    }

    function S() {
        e.html2canvas.logging && e.console && e.console.log && Function.prototype.bind.call(e.console.log, e.console).apply(e.console, [Date.now() - e.html2canvas.start + "ms", "html2canvas:"].concat([].slice.call(arguments, 0)))
    }

    function T(e, t) {
        this.node = e, this.parent = t, this.stack = null, this.bounds = null, this.borders = null, this.clip = [], this.backgroundClip = [], this.offsetBounds = null, this.visible = null, this.computedStyles = null, this.styles = {}, this.backgroundImages = null, this.transformData = null, this.transformMatrix = null
    }

    function E(e) {
        var t = e.options[e.selectedIndex || 0];
        return t ? t.text || "" : ""
    }

    function D(e) {
        return e && "matrix" === e[1] ? e[2].split(",").map(function(e) {
            return parseFloat(e.trim())
        }) : void 0
    }

    function A(e) {
        return -1 !== e.toString().indexOf("%")
    }

    function P(e) {
        var t, n, i, r, o, s, a, l = " \r\n	",
            c = [],
            u = 0,
            h = 0,
            d = function() {
                t && ('"' === n.substr(0, 1) && (n = n.substr(1, n.length - 2)), n && a.push(n), "-" === t.substr(0, 1) && (r = t.indexOf("-", 1) + 1) > 0 && (i = t.substr(0, r), t = t.substr(r)), c.push({
                    prefix: i,
                    method: t.toLowerCase(),
                    value: o,
                    args: a,
                    image: null
                })), a = [], t = i = n = o = ""
            };
        return a = [], t = i = n = o = "", e.split("").forEach(function(e) {
            if (!(0 === u && l.indexOf(e) > -1)) {
                switch (e) {
                    case '"':
                        s ? s === e && (s = null) : s = e;
                        break;
                    case "(":
                        if (s) break;
                        if (0 === u) return u = 1, void(o += e);
                        h++;
                        break;
                    case ")":
                        if (s) break;
                        if (1 === u) {
                            if (0 === h) return u = 0, o += e, void d();
                            h--
                        }
                        break;
                    case ",":
                        if (s) break;
                        if (0 === u) return void d();
                        if (1 === u && 0 === h && !t.match(/^url$/i)) return a.push(n), n = "", void(o += e)
                }
                o += e, 0 === u ? t += e : n += e
            }
        }), d(), c
    }

    function N(e) {
        return e.replace("px", "")
    }

    function O(e) {
        return parseFloat(e)
    }

    function I(e) {
        if (e.getBoundingClientRect) {
            var t = e.getBoundingClientRect(),
                n = null == e.offsetWidth ? t.width : e.offsetWidth;
            return {
                top: t.top,
                bottom: t.bottom || t.top + t.height,
                right: t.left + n,
                left: t.left,
                width: n,
                height: null == e.offsetHeight ? t.height : e.offsetHeight
            }
        }
        return {}
    }

    function M(e) {
        var t = e.offsetParent ? M(e.offsetParent) : {
            top: 0,
            left: 0
        };
        return {
            top: e.offsetTop + t.top,
            bottom: e.offsetTop + e.offsetHeight + t.top,
            right: e.offsetLeft + t.left + e.offsetWidth,
            left: e.offsetLeft + t.left,
            width: e.offsetWidth,
            height: e.offsetHeight
        }
    }

    function R(e, t, n, i, r) {
        S("Starting NodeParser"), this.renderer = t, this.options = r, this.range = null, this.support = n, this.renderQueue = [], this.stack = new kt(!0, 1, e.ownerDocument, null);
        var o = new T(e, null);
        if (e === e.ownerDocument.documentElement) {
            var s = new T(this.renderer.isTransparent(o.css("backgroundColor")) ? e.ownerDocument.body : e.ownerDocument.documentElement, null);
            t.rectangle(0, 0, t.width, t.height, s.css("backgroundColor"))
        }
        o.visibile = o.isElementVisible(), this.createPseudoHideStyles(e.ownerDocument), this.nodes = ft([o].concat(this.getChildren(o)).filter(function(e) {
            return e.visible = e.isElementVisible()
        }).map(this.getPseudoElements, this)), this.fontMetrics = new w, S("Fetched nodes, total:", this.nodes.length), this.images = i.fetch(this.nodes.filter(ot)), this.ready = this.images.ready.then(ct(function() {
            return S("Images loaded, starting parsing"), S("Calculate overflow clips"), this.calculateOverflowClips(), S("Creating stacking contexts"), this.createStackingContexts(), S("Sorting stacking contexts"), this.sortStackingContexts(this.stack), this.parse(this.stack), S("Render queue created with " + this.renderQueue.length + " items"), new Promise(ct(function(e) {
                r.async ? "function" == typeof r.async ? r.async.call(this, this.renderQueue, e) : (this.renderIndex = 0, this.asyncRenderer(this.renderQueue, e)) : (this.renderQueue.forEach(this.paint, this), e())
            }, this))
        }, this))
    }

    function B(e) {
        return e.parent && e.parent.clip.length
    }

    function F(e) {
        return e.replace(/(\-[a-z])/g, function(e) {
            return e.toUpperCase().replace("-", "")
        })
    }

    function H() {}

    function j(e, t, n, i) {
        var r = 4 * ((Math.sqrt(2) - 1) / 3),
            o = n * r,
            s = i * r,
            a = e + n,
            l = t + i;
        return {
            topLeft: W({
                x: e,
                y: l
            }, {
                x: e,
                y: l - s
            }, {
                x: a - o,
                y: t
            }, {
                x: a,
                y: t
            }),
            topRight: W({
                x: e,
                y: t
            }, {
                x: e + o,
                y: t
            }, {
                x: a,
                y: l - s
            }, {
                x: a,
                y: l
            }),
            bottomRight: W({
                x: a,
                y: t
            }, {
                x: a,
                y: t + s
            }, {
                x: e + o,
                y: l
            }, {
                x: e,
                y: l
            }),
            bottomLeft: W({
                x: a,
                y: l
            }, {
                x: a - o,
                y: l
            }, {
                x: e,
                y: t + s
            }, {
                x: e,
                y: t
            })
        }
    }

    function L(e, t, n) {
        var i = e.left,
            r = e.top,
            o = e.width,
            s = e.height,
            a = t[0][0],
            l = t[0][1],
            c = t[1][0],
            u = t[1][1],
            h = t[2][0],
            d = t[2][1],
            f = t[3][0],
            p = t[3][1],
            m = o - c,
            g = s - d,
            v = o - h,
            y = s - p;
        return {
            topLeftOuter: j(i, r, a, l).topLeft.subdivide(.5),
            topLeftInner: j(i + n[3].width, r + n[0].width, Math.max(0, a - n[3].width), Math.max(0, l - n[0].width)).topLeft.subdivide(.5),
            topRightOuter: j(i + m, r, c, u).topRight.subdivide(.5),
            topRightInner: j(i + Math.min(m, o + n[3].width), r + n[0].width, m > o + n[3].width ? 0 : c - n[3].width, u - n[0].width).topRight.subdivide(.5),
            bottomRightOuter: j(i + v, r + g, h, d).bottomRight.subdivide(.5),
            bottomRightInner: j(i + Math.min(v, o + n[3].width), r + Math.min(g, s + n[0].width), Math.max(0, h - n[1].width), Math.max(0, d - n[2].width)).bottomRight.subdivide(.5),
            bottomLeftOuter: j(i, r + y, f, p).bottomLeft.subdivide(.5),
            bottomLeftInner: j(i + n[3].width, r + y, Math.max(0, f - n[3].width), Math.max(0, p - n[2].width)).bottomLeft.subdivide(.5)
        }
    }

    function W(e, t, n, i) {
        var r = function(e, t, n) {
            return {
                x: e.x + (t.x - e.x) * n,
                y: e.y + (t.y - e.y) * n
            }
        };
        return {
            start: e,
            startControl: t,
            endControl: n,
            end: i,
            subdivide: function(o) {
                var s = r(e, t, o),
                    a = r(t, n, o),
                    l = r(n, i, o),
                    c = r(s, a, o),
                    u = r(a, l, o),
                    h = r(c, u, o);
                return [W(e, s, c, h), W(h, u, l, i)]
            },
            curveTo: function(e) {
                e.push(["bezierCurve", t.x, t.y, n.x, n.y, i.x, i.y])
            },
            curveToReversed: function(i) {
                i.push(["bezierCurve", n.x, n.y, t.x, t.y, e.x, e.y])
            }
        }
    }

    function z(e, t, n, i, r, o, s) {
        var a = [];
        return t[0] > 0 || t[1] > 0 ? (a.push(["line", i[1].start.x, i[1].start.y]), i[1].curveTo(a)) : a.push(["line", e.c1[0], e.c1[1]]), n[0] > 0 || n[1] > 0 ? (a.push(["line", o[0].start.x, o[0].start.y]), o[0].curveTo(a), a.push(["line", s[0].end.x, s[0].end.y]), s[0].curveToReversed(a)) : (a.push(["line", e.c2[0], e.c2[1]]), a.push(["line", e.c3[0], e.c3[1]])), t[0] > 0 || t[1] > 0 ? (a.push(["line", r[1].end.x, r[1].end.y]), r[1].curveToReversed(a)) : a.push(["line", e.c4[0], e.c4[1]]), a
    }

    function q(e, t, n, i, r, o, s) {
        t[0] > 0 || t[1] > 0 ? (e.push(["line", i[0].start.x, i[0].start.y]), i[0].curveTo(e), i[1].curveTo(e)) : e.push(["line", o, s]), (n[0] > 0 || n[1] > 0) && e.push(["line", r[0].start.x, r[0].start.y])
    }

    function U(e) {
        return e.cssInt("zIndex") < 0
    }

    function V(e) {
        return e.cssInt("zIndex") > 0
    }

    function Y(e) {
        return 0 === e.cssInt("zIndex")
    }

    function G(e) {
        return -1 !== ["inline", "inline-block", "inline-table"].indexOf(e.css("display"))
    }

    function X(e) {
        return e instanceof kt
    }

    function K(e) {
        return e.node.data.trim().length > 0
    }

    function Z(e) {
        return /^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))
    }

    function Q(e) {
        return ["TopLeft", "TopRight", "BottomRight", "BottomLeft"].map(function(t) {
            var n = e.css("border" + t + "Radius"),
                i = n.split(" ");
            return i.length <= 1 && (i[1] = i[0]), i.map(ut)
        })
    }

    function J(e) {
        return e.nodeType === Node.TEXT_NODE || e.nodeType === Node.ELEMENT_NODE
    }

    function et(e) {
        var t = e.css("position"),
            n = -1 !== ["absolute", "relative", "fixed"].indexOf(t) ? e.css("zIndex") : "auto";
        return "auto" !== n
    }

    function tt(e) {
        return "static" !== e.css("position")
    }

    function nt(e) {
        return "none" !== e.css("float")
    }

    function it(e) {
        return -1 !== ["inline-block", "inline-table"].indexOf(e.css("display"))
    }

    function rt(e) {
        var t = this;
        return function() {
            return !e.apply(t, arguments)
        }
    }

    function ot(e) {
        return e.node.nodeType === Node.ELEMENT_NODE
    }

    function st(e) {
        return e.node.nodeType === Node.TEXT_NODE
    }

    function at(e, t) {
        return e.cssInt("zIndex") - t.cssInt("zIndex")
    }

    function lt(e) {
        return e.css("opacity") < 1
    }

    function ct(e, t) {
        return function() {
            return e.apply(t, arguments)
        }
    }

    function ut(e) {
        return parseInt(e, 10)
    }

    function ht(e) {
        return e.width
    }

    function dt(e) {
        return e.node.nodeType !== Node.ELEMENT_NODE || -1 === ["SCRIPT", "HEAD", "TITLE", "OBJECT", "BR", "OPTION"].indexOf(e.node.nodeName)
    }

    function ft(e) {
        return [].concat.apply([], e)
    }

    function pt(e) {
        var t = e.substr(0, 1);
        return t === e.substr(e.length - 1) && t.match(/'|"/) ? e.substr(1, e.length - 2) : e
    }

    function mt(t) {
        for (var n, i = [], r = 0, o = !1; t.length;) gt(t[r]) === o ? (n = t.splice(0, r), n.length && i.push(e.html2canvas.punycode.ucs2.encode(n)), o = !o, r = 0) : r++, r >= t.length && (n = t.splice(0, r), n.length && i.push(e.html2canvas.punycode.ucs2.encode(n)));
        return i
    }

    function gt(e) {
        return -1 !== [32, 13, 10, 9, 45].indexOf(e)
    }

    function vt(e) {
        return /[^\u0000-\u00ff]/.test(e)
    }

    function yt(e, t, n) {
        var i = _t(jt),
            r = xt(t, e, i);
        return jt ? Ot(r) : wt(n, r, i).then(function(e) {
            return Et(e.content)
        })
    }

    function bt(e, t, n) {
        var i = _t(Lt),
            r = xt(t, e, i);
        return Lt ? Promise.resolve(r) : wt(n, r, i).then(function(e) {
            return "data:" + e.type + ";base64," + e.content
        })
    }

    function wt(t, n, i) {
        return new Promise(function(r, o) {
            var s = t.createElement("script"),
                a = function() {
                    delete e.html2canvas.proxy[i], t.body.removeChild(s)
                };
            e.html2canvas.proxy[i] = function(e) {
                a(), r(e)
            }, s.src = n, s.onerror = function(e) {
                a(), o(e)
            }, t.body.appendChild(s)
        })
    }

    function _t(e) {
        return e ? "" : "html2canvas_" + Date.now() + "_" + ++Ht + "_" + Math.round(1e5 * Math.random())
    }

    function xt(e, t, n) {
        return e + "?url=" + encodeURIComponent(t) + (n.length ? "&callback=html2canvas.proxy." + n : "")
    }

    function $t(e, n) {
        var i = (t.createElement("script"), t.createElement("a"));
        i.href = e, e = i.href, this.src = e, this.image = new Image;
        var r = this;
        this.promise = new Promise(function(i, o) {
            r.image.crossOrigin = "Anonymous", r.image.onload = i, r.image.onerror = o, new bt(e, n, t).then(function(e) {
                r.image.src = e
            })["catch"](o)
        })
    }

    function Ct(e, t, n, i, r) {
        this.width = e, this.height = t, this.images = n, this.options = i, this.document = r
    }

    function kt(e, t, n, i) {
        T.call(this, n, i), this.ownStacking = e, this.contexts = [], this.children = [], this.opacity = (this.parent ? this.parent.stack.opacity : 1) * t
    }

    function St(e) {
        this.rangeBounds = this.testRangeBounds(e), this.cors = this.testCORS(), this.svg = this.testSVG()
    }

    function Tt(e) {
        this.src = e, this.image = null;
        var t = this;
        this.promise = this.hasFabric().then(function() {
            return t.isInline(e) ? Promise.resolve(t.inlineFormatting(e)) : Ot(e)
        }).then(function(e) {
            return new Promise(function(n) {
                html2canvas.fabric.loadSVGFromString(e, t.createCanvas.call(t, n))
            })
        })
    }

    function Et(e) {
        var t, n, i, r, o, s, a, l, c = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
            u = e.length,
            h = "";
        for (t = 0; u > t; t += 4) n = c.indexOf(e[t]), i = c.indexOf(e[t + 1]), r = c.indexOf(e[t + 2]), o = c.indexOf(e[t + 3]), s = n << 2 | i >> 4, a = (15 & i) << 4 | r >> 2, l = (3 & r) << 6 | o, h += 64 === r ? String.fromCharCode(s) : 64 === o || -1 === o ? String.fromCharCode(s, a) : String.fromCharCode(s, a, l);
        return h
    }

    function Dt(e, t) {
        this.src = e, this.image = null;
        var n = this;
        this.promise = t ? new Promise(function(t, i) {
            n.image = new Image, n.image.onload = t, n.image.onerror = i, n.image.src = "data:image/svg+xml," + (new XMLSerializer).serializeToString(e), n.image.complete === !0 && t(n.image)
        }) : this.hasFabric().then(function() {
            return new Promise(function(t) {
                html2canvas.fabric.parseSVGDocument(e, n.createCanvas.call(n, t))
            })
        })
    }

    function At(e, t) {
        T.call(this, e, t)
    }

    function Pt(e, t, n) {
        return e.length > 0 ? t + n.toUpperCase() : void 0
    }

    function Nt(e) {
        x.apply(this, arguments), this.type = "linear" === e.args[0] ? this.TYPES.LINEAR : this.TYPES.RADIAL
    }

    function Ot(e) {
        return new Promise(function(t, n) {
            var i = new XMLHttpRequest;
            i.open("GET", e), i.onload = function() {
                200 === i.status ? t(i.responseText) : n(new Error(i.statusText))
            }, i.onerror = function() {
                n(new Error("Network Error"))
            }, i.send()
        })
    }

    function It(e, t) {
        Ct.apply(this, arguments), this.canvas = this.document.createElement("canvas"), this.canvas.width = e, this.canvas.height = t, this.ctx = this.canvas.getContext("2d"), this.taintCtx = this.document.createElement("canvas").getContext("2d"), this.ctx.textBaseline = "bottom", this.variables = {}, S("Initialized CanvasRenderer with size", e, "x", t)
    }

    function Mt(e) {
        return e.length > 0
    }
    if (! function() {
            var n, i, r, o;
            ! function() {
                var e = {},
                    t = {};
                n = function(t, n, i) {
                    e[t] = {
                        deps: n,
                        callback: i
                    }
                }, o = r = i = function(n) {
                    function r(e) {
                        if ("." !== e.charAt(0)) return e;
                        for (var t = e.split("/"), i = n.split("/").slice(0, -1), r = 0, o = t.length; o > r; r++) {
                            var s = t[r];
                            if (".." === s) i.pop();
                            else {
                                if ("." === s) continue;
                                i.push(s)
                            }
                        }
                        return i.join("/")
                    }
                    if (o._eak_seen = e, t[n]) return t[n];
                    if (t[n] = {}, !e[n]) throw new Error("Could not find module " + n);
                    for (var s, a = e[n], l = a.deps, c = a.callback, u = [], h = 0, d = l.length; d > h; h++) u.push("exports" === l[h] ? s = {} : i(r(l[h])));
                    var f = c.apply(this, u);
                    return t[n] = s || f
                }
            }(), n("promise/all", ["./utils", "exports"], function(e, t) {
                "use strict";

                function n(e) {
                    var t = this;
                    if (!i(e)) throw new TypeError("You must pass an array to all.");
                    return new t(function(t, n) {
                        function i(e) {
                            return function(t) {
                                o(e, t)
                            }
                        }

                        function o(e, n) {
                            a[e] = n, 0 === --l && t(a)
                        }
                        var s, a = [],
                            l = e.length;
                        0 === l && t([]);
                        for (var c = 0; c < e.length; c++) s = e[c], s && r(s.then) ? s.then(i(c), n) : o(c, s)
                    })
                }
                var i = e.isArray,
                    r = e.isFunction;
                t.all = n
            }), n("promise/asap", ["exports"], function(n) {
                "use strict";

                function i() {
                    return function() {
                        process.nextTick(s)
                    }
                }

                function r() {
                    var e = 0,
                        n = new u(s),
                        i = t.createTextNode("");
                    return n.observe(i, {
                            characterData: !0
                        }),
                        function() {
                            i.data = e = ++e % 2
                        }
                }

                function o() {
                    return function() {
                        h.setTimeout(s, 1)
                    }
                }

                function s() {
                    for (var e = 0; e < d.length; e++) {
                        var t = d[e],
                            n = t[0],
                            i = t[1];
                        n(i)
                    }
                    d = []
                }

                function a(e, t) {
                    var n = d.push([e, t]);
                    1 === n && l()
                }
                var l, c = "undefined" != typeof e ? e : {},
                    u = c.MutationObserver || c.WebKitMutationObserver,
                    h = "undefined" != typeof global ? global : this,
                    d = [];
                l = "undefined" != typeof process && "[object process]" === {}.toString.call(process) ? i() : u ? r() : o(), n.asap = a
            }), n("promise/cast", ["exports"], function(e) {
                "use strict";

                function t(e) {
                    if (e && "object" == typeof e && e.constructor === this) return e;
                    var t = this;
                    return new t(function(t) {
                        t(e)
                    })
                }
                e.cast = t
            }), n("promise/config", ["exports"], function(e) {
                "use strict";

                function t(e, t) {
                    return 2 !== arguments.length ? n[e] : void(n[e] = t)
                }
                var n = {
                    instrument: !1
                };
                e.config = n, e.configure = t
            }), n("promise/polyfill", ["./promise", "./utils", "exports"], function(t, n, i) {
                "use strict";

                function r() {
                    var t = "Promise" in e && "cast" in e.Promise && "resolve" in e.Promise && "reject" in e.Promise && "all" in e.Promise && "race" in e.Promise && function() {
                        var t;
                        return new e.Promise(function(e) {
                            t = e
                        }), s(t)
                    }();
                    t || (e.Promise = o)
                }
                var o = t.Promise,
                    s = n.isFunction;
                i.polyfill = r
            }), n("promise/promise", ["./config", "./utils", "./cast", "./all", "./race", "./resolve", "./reject", "./asap", "exports"], function(e, t, n, i, r, o, s, a, l) {
                "use strict";

                function c(e) {
                    if (!x(e)) throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");
                    if (!(this instanceof c)) throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
                    this._subscribers = [], u(e, this)
                }

                function u(e, t) {
                    function n(e) {
                        m(t, e)
                    }

                    function i(e) {
                        v(t, e)
                    }
                    try {
                        e(n, i)
                    } catch (r) {
                        i(r)
                    }
                }

                function h(e, t, n, i) {
                    var r, o, s, a, l = x(n);
                    if (l) try {
                        r = n(i), s = !0
                    } catch (c) {
                        a = !0, o = c
                    } else r = i, s = !0;
                    p(t, r) || (l && s ? m(t, r) : a ? v(t, o) : e === P ? m(t, r) : e === N && v(t, r))
                }

                function d(e, t, n, i) {
                    var r = e._subscribers,
                        o = r.length;
                    r[o] = t, r[o + P] = n, r[o + N] = i
                }

                function f(e, t) {
                    for (var n, i, r = e._subscribers, o = e._detail, s = 0; s < r.length; s += 3) n = r[s], i = r[s + t], h(t, n, i, o);
                    e._subscribers = null
                }

                function p(e, t) {
                    var n, i = null;
                    try {
                        if (e === t) throw new TypeError("A promises callback cannot return that same promise.");
                        if (_(t) && (i = t.then, x(i))) return i.call(t, function(i) {
                            return n ? !0 : (n = !0, void(t !== i ? m(e, i) : g(e, i)))
                        }, function(t) {
                            return n ? !0 : (n = !0, void v(e, t))
                        }), !0
                    } catch (r) {
                        return n ? !0 : (v(e, r), !0)
                    }
                    return !1
                }

                function m(e, t) {
                    e === t ? g(e, t) : p(e, t) || g(e, t)
                }

                function g(e, t) {
                    e._state === D && (e._state = A, e._detail = t, w.async(y, e))
                }

                function v(e, t) {
                    e._state === D && (e._state = A, e._detail = t, w.async(b, e))
                }

                function y(e) {
                    f(e, e._state = P)
                }

                function b(e) {
                    f(e, e._state = N)
                }
                var w = e.config,
                    _ = (e.configure, t.objectOrFunction),
                    x = t.isFunction,
                    $ = (t.now, n.cast),
                    C = i.all,
                    k = r.race,
                    S = o.resolve,
                    T = s.reject,
                    E = a.asap;
                w.async = E;
                var D = void 0,
                    A = 0,
                    P = 1,
                    N = 2;
                c.prototype = {
                    constructor: c,
                    _state: void 0,
                    _detail: void 0,
                    _subscribers: void 0,
                    then: function(e, t) {
                        var n = this,
                            i = new this.constructor(function() {});
                        if (this._state) {
                            var r = arguments;
                            w.async(function() {
                                h(n._state, i, r[n._state - 1], n._detail)
                            })
                        } else d(this, i, e, t);
                        return i
                    },
                    "catch": function(e) {
                        return this.then(null, e)
                    }
                }, c.all = C, c.cast = $, c.race = k, c.resolve = S, c.reject = T, l.Promise = c
            }), n("promise/race", ["./utils", "exports"], function(e, t) {
                "use strict";

                function n(e) {
                    var t = this;
                    if (!i(e)) throw new TypeError("You must pass an array to race.");
                    return new t(function(t, n) {
                        for (var i, r = 0; r < e.length; r++) i = e[r], i && "function" == typeof i.then ? i.then(t, n) : t(i)
                    })
                }
                var i = e.isArray;
                t.race = n
            }), n("promise/reject", ["exports"], function(e) {
                "use strict";

                function t(e) {
                    var t = this;
                    return new t(function(t, n) {
                        n(e)
                    })
                }
                e.reject = t
            }), n("promise/resolve", ["exports"], function(e) {
                "use strict";

                function t(e) {
                    var t = this;
                    return new t(function(t) {
                        t(e)
                    })
                }
                e.resolve = t
            }), n("promise/utils", ["exports"], function(e) {
                "use strict";

                function t(e) {
                    return n(e) || "object" == typeof e && null !== e
                }

                function n(e) {
                    return "function" == typeof e
                }

                function i(e) {
                    return "[object Array]" === Object.prototype.toString.call(e)
                }
                var r = Date.now || function() {
                    return (new Date).getTime()
                };
                e.objectOrFunction = t, e.isFunction = n, e.isArray = i, e.now = r
            }), i("promise/polyfill").polyfill()
        }(), "function" != typeof Object.create || "function" != typeof t.createElement("canvas").getContext) return void(e.html2canvas = function() {
        return Promise.reject("No canvas support")
    });
    ! function(e) {
        function t(e) {
            throw RangeError(A[e])
        }

        function n(e, t) {
            for (var n = e.length, i = []; n--;) i[n] = t(e[n]);
            return i
        }

        function i(e, t) {
            var i = e.split("@"),
                r = "";
            i.length > 1 && (r = i[0] + "@", e = i[1]);
            var o = e.split(D),
                s = n(o, t).join(".");
            return r + s
        }

        function r(e) {
            for (var t, n, i = [], r = 0, o = e.length; o > r;) t = e.charCodeAt(r++), t >= 55296 && 56319 >= t && o > r ? (n = e.charCodeAt(r++), 56320 == (64512 & n) ? i.push(((1023 & t) << 10) + (1023 & n) + 65536) : (i.push(t), r--)) : i.push(t);
            return i
        }

        function o(e) {
            return n(e, function(e) {
                var t = "";
                return e > 65535 && (e -= 65536, t += O(e >>> 10 & 1023 | 55296), e = 56320 | 1023 & e), t += O(e)
            }).join("")
        }

        function s(e) {
            return 10 > e - 48 ? e - 22 : 26 > e - 65 ? e - 65 : 26 > e - 97 ? e - 97 : b
        }

        function a(e, t) {
            return e + 22 + 75 * (26 > e) - ((0 != t) << 5)
        }

        function l(e, t, n) {
            var i = 0;
            for (e = n ? N(e / $) : e >> 1, e += N(e / t); e > P * _ >> 1; i += b) e = N(e / P);
            return N(i + (P + 1) * e / (e + x))
        }

        function c(e) {
            var n, i, r, a, c, u, h, d, f, p, m = [],
                g = e.length,
                v = 0,
                x = k,
                $ = C;
            for (i = e.lastIndexOf(S), 0 > i && (i = 0), r = 0; i > r; ++r) e.charCodeAt(r) >= 128 && t("not-basic"), m.push(e.charCodeAt(r));
            for (a = i > 0 ? i + 1 : 0; g > a;) {
                for (c = v, u = 1, h = b; a >= g && t("invalid-input"), d = s(e.charCodeAt(a++)), (d >= b || d > N((y - v) / u)) && t("overflow"), v += d * u, f = $ >= h ? w : h >= $ + _ ? _ : h - $, !(f > d); h += b) p = b - f, u > N(y / p) && t("overflow"), u *= p;
                n = m.length + 1, $ = l(v - c, n, 0 == c), N(v / n) > y - x && t("overflow"), x += N(v / n), v %= n, m.splice(v++, 0, x)
            }
            return o(m)
        }

        function u(e) {
            var n, i, o, s, c, u, h, d, f, p, m, g, v, x, $, T = [];
            for (e = r(e), g = e.length, n = k, i = 0, c = C, u = 0; g > u; ++u) m = e[u], 128 > m && T.push(O(m));
            for (o = s = T.length, s && T.push(S); g > o;) {
                for (h = y, u = 0; g > u; ++u) m = e[u], m >= n && h > m && (h = m);
                for (v = o + 1, h - n > N((y - i) / v) && t("overflow"), i += (h - n) * v, n = h, u = 0; g > u; ++u)
                    if (m = e[u], n > m && ++i > y && t("overflow"), m == n) {
                        for (d = i, f = b; p = c >= f ? w : f >= c + _ ? _ : f - c, !(p > d); f += b) $ = d - p, x = b - p, T.push(O(a(p + $ % x, 0))), d = N($ / x);
                        T.push(O(a(d, 0))), c = l(i, v, o == s), i = 0, ++o
                    }++i, ++n
            }
            return T.join("")
        }

        function h(e) {
            return i(e, function(e) {
                return T.test(e) ? c(e.slice(4).toLowerCase()) : e
            })
        }

        function d(e) {
            return i(e, function(e) {
                return E.test(e) ? "xn--" + u(e) : e
            })
        }
        var f = "object" == typeof exports && exports && !exports.nodeType && exports,
            p = "object" == typeof module && module && !module.nodeType && module,
            m = "object" == typeof global && global;
        (m.global === m || m.window === m || m.self === m) && (e = m);
        var g, v, y = 2147483647,
            b = 36,
            w = 1,
            _ = 26,
            x = 38,
            $ = 700,
            C = 72,
            k = 128,
            S = "-",
            T = /^xn--/,
            E = /[^\x20-\x7E]/,
            D = /[\x2E\u3002\uFF0E\uFF61]/g,
            A = {
                overflow: "Overflow: input needs wider integers to process",
                "not-basic": "Illegal input >= 0x80 (not a basic code point)",
                "invalid-input": "Invalid input"
            },
            P = b - w,
            N = Math.floor,
            O = String.fromCharCode;
        if (g = {
                version: "1.3.1",
                ucs2: {
                    decode: r,
                    encode: o
                },
                decode: c,
                encode: u,
                toASCII: d,
                toUnicode: h
            }, "function" == typeof define && "object" == typeof define.amd && define.amd) define("punycode", function() {
            return g
        });
        else if (f && p)
            if (module.exports == f) p.exports = g;
            else
                for (v in g) g.hasOwnProperty(v) && (f[v] = g[v]);
        else e.punycode = g
    }(this);
    var Rt = "data-html2canvas-node",
        Bt = "data-html2canvas-canvas-clone",
        Ft = 0;
    e.html2canvas = function(o, s) {
        if (s = s || {}, s.logging && (e.html2canvas.logging = !0, e.html2canvas.start = Date.now()), s.async = "undefined" == typeof s.async ? !0 : s.async, s.allowTaint = "undefined" == typeof s.allowTaint ? !1 : s.allowTaint, s.removeContainer = "undefined" == typeof s.removeContainer ? !0 : s.removeContainer, s.javascriptEnabled = "undefined" == typeof s.javascriptEnabled ? !1 : s.javascriptEnabled, s.imageTimeout = "undefined" == typeof s.imageTimeout ? 1e4 : s.imageTimeout, "string" == typeof o) return "string" != typeof s.proxy ? Promise.reject("Proxy must be used when rendering url") : h(v(o), s.proxy, t, e.innerWidth, e.innerHeight, s).then(function(t) {
            return r(t.contentWindow.document.documentElement, t, s, e.innerWidth, e.innerHeight)
        });
        var a = (o === n ? [t.documentElement] : o.length ? o : [o])[0];
        return a.setAttribute(Rt, "true"), i(a.ownerDocument, s, a.ownerDocument.defaultView.innerWidth, a.ownerDocument.defaultView.innerHeight).then(function(e) {
            return "function" == typeof s.onrendered && (S("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"), s.onrendered(e)), e
        })
    }, e.html2canvas.punycode = this.punycode, e.html2canvas.proxy = {}, w.prototype.getMetrics = function(e, t) {
        return this.data[e + "-" + t] === n && (this.data[e + "-" + t] = new b(e, t)), this.data[e + "-" + t]
    }, _.prototype.proxyLoad = function(e, t, n) {
        var i = this.src;
        return h(i.src, e, i.ownerDocument, t.width, t.height, n)
    }, x.prototype.TYPES = {
        LINEAR: 1,
        RADIAL: 2
    }, C.prototype.findImages = function(e) {
        var t = [];
        return e.reduce(function(e, t) {
            switch (t.node.nodeName) {
                case "IMG":
                    return e.concat([{
                        args: [t.node.src],
                        method: "url"
                    }]);
                case "svg":
                case "IFRAME":
                    return e.concat([{
                        args: [t.node],
                        method: t.node.nodeName
                    }])
            }
            return e
        }, []).forEach(this.addImage(t, this.loadImage), this), t
    }, C.prototype.findBackgroundImage = function(e, t) {
        return t.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e, this.loadImage), this), e
    }, C.prototype.addImage = function(e, t) {
        return function(n) {
            n.args.forEach(function(i) {
                this.imageExists(e, i) || (e.splice(0, 0, t.call(this, n)), S("Added image #" + e.length, "string" == typeof i ? i.substring(0, 100) : i))
            }, this)
        }
    }, C.prototype.hasImageBackground = function(e) {
        return "none" !== e.method
    }, C.prototype.loadImage = function(e) {
        if ("url" === e.method) {
            var t = e.args[0];
            return !this.isSVG(t) || this.support.svg || this.options.allowTaint ? t.match(/data:image\/.*;base64,/i) ? new $(t.replace(/url\(['"]{0,}|['"]{0,}\)$/gi, ""), !1) : this.isSameOrigin(t) || this.options.allowTaint === !0 || this.isSVG(t) ? new $(t, !1) : this.support.cors && !this.options.allowTaint && this.options.useCORS ? new $(t, !0) : this.options.proxy ? new $t(t, this.options.proxy) : new y(t) : new Tt(t)
        }
        return "linear-gradient" === e.method ? new k(e) : "gradient" === e.method ? new Nt(e) : "svg" === e.method ? new Dt(e.args[0], this.support.svg) : "IFRAME" === e.method ? new _(e.args[0], this.isSameOrigin(e.args[0].src), this.options) : new y(e)
    }, C.prototype.isSVG = function(e) {
        return /(.+).svg$/i.test(e) || Tt.prototype.isInline(e)
    }, C.prototype.imageExists = function(e, t) {
        return e.some(function(e) {
            return e.src === t
        })
    }, C.prototype.isSameOrigin = function(e) {
        var n = this.link || (this.link = t.createElement("a"));
        n.href = e, n.href = n.href;
        var i = n.protocol + n.hostname + n.port;
        return i === this.origin
    }, C.prototype.getPromise = function(e) {
        return this.timeout(e, this.options.imageTimeout)["catch"](function() {
            var t = new y(e.src);
            return t.promise.then(function(t) {
                e.image = t
            })
        })
    }, C.prototype.get = function(e) {
        var t = null;
        return this.images.some(function(n) {
            return (t = n).src === e
        }) ? t : null
    }, C.prototype.fetch = function(e) {
        return this.images = e.reduce(ct(this.findBackgroundImage, this), this.findImages(e)), this.images.forEach(function(e, t) {
            e.promise.then(function() {
                S("Succesfully loaded image #" + (t + 1), e)
            }, function(n) {
                S("Failed loading image #" + (t + 1), e, n)
            })
        }), this.ready = Promise.all(this.images.map(this.getPromise, this)), S("Finished searching images"), this
    }, C.prototype.timeout = function(e, t) {
        var n;
        return Promise.race([e.promise, new Promise(function(i, r) {
            n = setTimeout(function() {
                S("Timed out loading image", e), r(e)
            }, t)
        })]).then(function(e) {
            return clearTimeout(n), e
        })
    }, k.prototype = Object.create(x.prototype), k.prototype.stepRegExp = /((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/, T.prototype.assignStack = function(e) {
        this.stack = e, e.children.push(this)
    }, T.prototype.isElementVisible = function() {
        return this.node.nodeType === Node.TEXT_NODE ? this.parent.visible : "none" !== this.css("display") && "hidden" !== this.css("visibility") && !this.node.hasAttribute("data-html2canvas-ignore") && ("INPUT" !== this.node.nodeName || "hidden" !== this.node.getAttribute("type"))
    }, T.prototype.css = function(e) {
        return this.computedStyles || (this.computedStyles = this.computedStyle(null)), this.styles[e] || (this.styles[e] = this.computedStyles[e])
    }, T.prototype.prefixedCss = function(e) {
        var t = ["webkit", "moz", "ms", "o"],
            i = this.css(e);
        return i === n && t.some(function(t) {
            return i = this.css(t + e.substr(0, 1).toUpperCase() + e.substr(1)), i !== n
        }, this), i === n ? null : i
    }, T.prototype.computedStyle = function(e) {
        return this.node.ownerDocument.defaultView.getComputedStyle(this.node, e)
    }, T.prototype.cssInt = function(e) {
        var t = parseInt(this.css(e), 10);
        return isNaN(t) ? 0 : t
    }, T.prototype.cssFloat = function(e) {
        var t = parseFloat(this.css(e));
        return isNaN(t) ? 0 : t
    }, T.prototype.fontWeight = function() {
        var e = this.css("fontWeight");
        switch (parseInt(e, 10)) {
            case 401:
                e = "bold";
                break;
            case 400:
                e = "normal"
        }
        return e
    }, T.prototype.parseBackgroundImages = function() {
        return this.backgroundImages || (this.backgroundImages = P(this.css("backgroundImage")))
    }, T.prototype.cssList = function(e, t) {
        var n = (this.css(e) || "").split(",");
        return n = n[t || 0] || n[0] || "auto", n = n.trim().split(" "), 1 === n.length && (n = [n[0], n[0]]), n
    }, T.prototype.parseBackgroundSize = function(e, t, n) {
        var i, r, o = this.cssList("backgroundSize", n);
        if (A(o[0])) i = e.width * parseFloat(o[0]) / 100;
        else {
            if (/contain|cover/.test(o[0])) {
                var s = e.width / e.height,
                    a = t.width / t.height;
                return a > s ^ "contain" === o[0] ? {
                    width: e.height * a,
                    height: e.height
                } : {
                    width: e.width,
                    height: e.width / a
                }
            }
            i = parseInt(o[0], 10)
        }
        return r = "auto" === o[0] && "auto" === o[1] ? t.height : "auto" === o[1] ? i / t.width * t.height : A(o[1]) ? e.height * parseFloat(o[1]) / 100 : parseInt(o[1], 10), "auto" === o[0] && (i = r / t.height * t.width), {
            width: i,
            height: r
        }
    }, T.prototype.parseBackgroundPosition = function(e, t, n, i) {
        var r, o, s = this.cssList("backgroundPosition", n);
        return r = A(s[0]) ? (e.width - (i || t).width) * (parseFloat(s[0]) / 100) : parseInt(s[0], 10), o = "auto" === s[1] ? r / t.width * t.height : A(s[1]) ? (e.height - (i || t).height) * parseFloat(s[1]) / 100 : parseInt(s[1], 10), "auto" === s[0] && (r = o / t.height * t.width), {
            left: r,
            top: o
        }
    }, T.prototype.parseBackgroundRepeat = function(e) {
        return this.cssList("backgroundRepeat", e)[0]
    }, T.prototype.parseTextShadows = function() {
        var e = this.css("textShadow"),
            t = [];
        if (e && "none" !== e)
            for (var n = e.match(this.TEXT_SHADOW_PROPERTY), i = 0; n && i < n.length; i++) {
                var r = n[i].match(this.TEXT_SHADOW_VALUES);
                t.push({
                    color: r[0],
                    offsetX: r[1] ? r[1].replace("px", "") : 0,
                    offsetY: r[2] ? r[2].replace("px", "") : 0,
                    blur: r[3] ? r[3].replace("px", "") : 0
                })
            }
        return t
    }, T.prototype.parseTransform = function() {
        if (!this.transformData)
            if (this.hasTransform()) {
                var e = this.parseBounds(),
                    t = this.prefixedCss("transformOrigin").split(" ").map(N).map(O);
                t[0] += e.left, t[1] += e.top, this.transformData = {
                    origin: t,
                    matrix: this.parseTransformMatrix()
                }
            } else this.transformData = {
                origin: [0, 0],
                matrix: [1, 0, 0, 1, 0, 0]
            };
        return this.transformData
    }, T.prototype.parseTransformMatrix = function() {
        if (!this.transformMatrix) {
            var e = this.prefixedCss("transform"),
                t = e ? D(e.match(this.MATRIX_PROPERTY)) : null;
            this.transformMatrix = t ? t : [1, 0, 0, 1, 0, 0]
        }
        return this.transformMatrix
    }, T.prototype.parseBounds = function() {
        return this.bounds || (this.bounds = this.hasTransform() ? M(this.node) : I(this.node))
    }, T.prototype.hasTransform = function() {
        return "1,0,0,1,0,0" !== this.parseTransformMatrix().join(",") || this.parent && this.parent.hasTransform()
    }, T.prototype.getValue = function() {
        var e = this.node.value || "";
        return e = "SELECT" === this.node.tagName ? E(this.node) : e, 0 === e.length ? this.node.placeholder || "" : e
    }, T.prototype.MATRIX_PROPERTY = /(matrix)\((.+)\)/, T.prototype.TEXT_SHADOW_PROPERTY = /((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g, T.prototype.TEXT_SHADOW_VALUES = /(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g, R.prototype.calculateOverflowClips = function() {
        this.nodes.forEach(function(e) {
            if (ot(e)) {
                e.borders = this.parseBorders(e);
                var t = "hidden" === e.css("overflow") ? [e.borders.clip] : [];
                e.clip = B(e) ? e.parent.clip.concat(t) : t, e.backgroundClip = "hidden" !== e.css("overflow") ? e.clip.concat([e.borders.clip]) : e.clip
            } else st(e) && (e.clip = B(e) ? e.parent.clip : []);
            e.bounds = null
        }, this)
    }, R.prototype.asyncRenderer = function(e, t, n) {
        n = n || Date.now(), this.paint(e[this.renderIndex++]), e.length === this.renderIndex ? t() : n + 20 > Date.now() ? this.asyncRenderer(e, t, n) : setTimeout(ct(function() {
            this.asyncRenderer(e, t)
        }, this), 0)
    }, R.prototype.createPseudoHideStyles = function(e) {
        var t = e.createElement("style");
        t.innerHTML = "." + this.pseudoHideClass + ':before { content: "" !important; display: none !important; }.' + this.pseudoHideClass + ':after { content: "" !important; display: none !important; }', e.body.appendChild(t)
    }, R.prototype.getPseudoElements = function(e) {
        var t = [
            [e]
        ];
        if (e.node.nodeType === Node.ELEMENT_NODE) {
            var n = this.getPseudoElement(e, ":before"),
                i = this.getPseudoElement(e, ":after");
            n && (e.node.insertBefore(n[0].node, e.node.firstChild), t.push(n)), i && (e.node.appendChild(i[0].node), t.push(i)), (n || i) && (e.node.className += " " + this.pseudoHideClass)
        }
        return ft(t)
    }, R.prototype.getPseudoElement = function(e, n) {
        var i = e.computedStyle(n);
        if (!i || !i.content || "none" === i.content || "-moz-alt-content" === i.content || "none" === i.display) return null;
        for (var r = pt(i.content), o = "url" === r.substr(0, 3), s = t.createElement(o ? "img" : "html2canvaspseudoelement"), a = new T(s, e), l = i.length - 1; l >= 0; l--) {
            var c = F(i.item(l));
            s.style[c] = i[c]
        }
        if (s.className = this.pseudoHideClass, o) return s.src = P(r)[0].args[0], [a];
        var u = t.createTextNode(r);
        return s.appendChild(u), [a, new At(u, a)]
    }, R.prototype.getChildren = function(e) {
        return ft([].filter.call(e.node.childNodes, J).map(function(t) {
            var n = [t.nodeType === Node.TEXT_NODE ? new At(t, e) : new T(t, e)].filter(dt);
            return t.nodeType === Node.ELEMENT_NODE && n.length && "TEXTAREA" !== t.tagName ? n[0].isElementVisible() ? n.concat(this.getChildren(n[0])) : [] : n
        }, this))
    }, R.prototype.newStackingContext = function(e, t) {
        var n = new kt(t, e.cssFloat("opacity"), e.node, e.parent);
        n.visible = e.visible, n.borders = e.borders, n.bounds = e.bounds, n.clip = e.clip, n.backgroundClip = e.backgroundClip;
        var i = t ? n.getParentStack(this) : n.parent.stack;
        i.contexts.push(n), e.stack = n
    }, R.prototype.createStackingContexts = function() {
        this.nodes.forEach(function(e) {
            ot(e) && (this.isRootElement(e) || lt(e) || et(e) || this.isBodyWithTransparentRoot(e) || e.hasTransform()) ? this.newStackingContext(e, !0) : ot(e) && (tt(e) && Y(e) || it(e) || nt(e)) ? this.newStackingContext(e, !1) : e.assignStack(e.parent.stack)
        }, this)
    }, R.prototype.isBodyWithTransparentRoot = function(e) {
        return "BODY" === e.node.nodeName && this.renderer.isTransparent(e.parent.css("backgroundColor"))
    }, R.prototype.isRootElement = function(e) {
        return null === e.parent
    }, R.prototype.sortStackingContexts = function(e) {
        e.contexts.sort(at), e.contexts.forEach(this.sortStackingContexts, this)
    }, R.prototype.parseTextBounds = function(e) {
        return function(t, n, i) {
            if ("none" !== e.parent.css("textDecoration").substr(0, 4) || 0 !== t.trim().length) {
                if (this.support.rangeBounds && !e.parent.hasTransform()) {
                    var r = i.slice(0, n).join("").length;
                    return this.getRangeBounds(e.node, r, t.length)
                }
                if (e.node && "string" == typeof e.node.data) {
                    var o = e.node.splitText(t.length),
                        s = this.getWrapperBounds(e.node, e.parent.hasTransform());
                    return e.node = o, s
                }
            } else(!this.support.rangeBounds || e.parent.hasTransform()) && (e.node = e.node.splitText(t.length));
            return {}
        }
    }, R.prototype.getWrapperBounds = function(e, t) {
        var n = e.ownerDocument.createElement("html2canvaswrapper"),
            i = e.parentNode,
            r = e.cloneNode(!0);
        n.appendChild(e.cloneNode(!0)), i.replaceChild(n, e);
        var o = t ? M(n) : I(n);
        return i.replaceChild(r, n), o
    }, R.prototype.getRangeBounds = function(e, t, n) {
        var i = this.range || (this.range = e.ownerDocument.createRange());
        return i.setStart(e, t), i.setEnd(e, t + n), i.getBoundingClientRect()
    }, R.prototype.parse = function(e) {
        var t = e.contexts.filter(U),
            n = e.children.filter(ot),
            i = n.filter(rt(nt)),
            r = i.filter(rt(tt)).filter(rt(G)),
            o = n.filter(rt(tt)).filter(nt),
            s = i.filter(rt(tt)).filter(G),
            a = e.contexts.concat(i.filter(tt)).filter(Y),
            l = e.children.filter(st).filter(K),
            c = e.contexts.filter(V);
        t.concat(r).concat(o).concat(s).concat(a).concat(l).concat(c).forEach(function(e) {
            this.renderQueue.push(e), X(e) && (this.parse(e), this.renderQueue.push(new H))
        }, this)
    }, R.prototype.paint = function(e) {
        try {
            e instanceof H ? this.renderer.ctx.restore() : st(e) ? this.paintText(e) : this.paintNode(e)
        } catch (t) {
            S(t)
        }
    }, R.prototype.paintNode = function(e) {
        X(e) && (this.renderer.setOpacity(e.opacity), this.renderer.ctx.save(), e.hasTransform() && this.renderer.setTransform(e.parseTransform()));
        var t = e.parseBounds();
        this.renderer.clip(e.backgroundClip, function() {
            this.renderer.renderBackground(e, t, e.borders.borders.map(ht))
        }, this), this.renderer.clip(e.clip, function() {
            switch (this.renderer.renderBorders(e.borders.borders), e.node.nodeName) {
                case "svg":
                case "IFRAME":
                    var n = this.images.get(e.node);
                    n ? this.renderer.renderImage(e, t, e.borders, n) : S("Error loading <" + e.node.nodeName + ">", e.node);
                    break;
                case "IMG":
                    var i = this.images.get(e.node.src);
                    i ? this.renderer.renderImage(e, t, e.borders, i) : S("Error loading <img>", e.node.src);
                    break;
                case "CANVAS":
                    this.renderer.renderImage(e, t, e.borders, {
                        image: e.node
                    });
                    break;
                case "SELECT":
                case "INPUT":
                case "TEXTAREA":
                    this.paintFormValue(e)
            }
        }, this)
    }, R.prototype.paintFormValue = function(e) {
        if (e.getValue().length > 0) {
            var t = e.node.ownerDocument,
                n = t.createElement("html2canvaswrapper"),
                i = ["lineHeight", "textAlign", "fontFamily", "fontWeight", "fontSize", "color", "paddingLeft", "paddingTop", "paddingRight", "paddingBottom", "width", "height", "borderLeftStyle", "borderTopStyle", "borderLeftWidth", "borderTopWidth", "boxSizing", "whiteSpace", "wordWrap"];
            i.forEach(function(t) {
                try {
                    n.style[t] = e.css(t)
                } catch (i) {
                    S("html2canvas: Parse: Exception caught in renderFormValue: " + i.message)
                }
            });
            var r = e.parseBounds();
            n.style.position = "absolute", n.style.left = r.left + "px", n.style.top = r.top + "px", n.textContent = e.getValue(), t.body.appendChild(n), this.paintText(new At(n.firstChild, e)), t.body.removeChild(n)
        }
    }, R.prototype.paintText = function(t) {
        t.applyTextTransform();
        var n = e.html2canvas.punycode.ucs2.decode(t.node.data),
            i = this.options.letterRendering && !Z(t) || vt(t.node.data) ? n.map(function(t) {
                return e.html2canvas.punycode.ucs2.encode([t])
            }) : mt(n),
            r = t.parent.fontWeight(),
            o = t.parent.css("fontSize"),
            s = t.parent.css("fontFamily"),
            a = t.parent.parseTextShadows();
        this.renderer.font(t.parent.css("color"), t.parent.css("fontStyle"), t.parent.css("fontVariant"), r, o, s), a.length ? this.renderer.fontShadow(a[0].color, a[0].offsetX, a[0].offsetY, a[0].blur) : this.renderer.clearShadow(), this.renderer.clip(t.parent.clip, function() {
            i.map(this.parseTextBounds(t), this).forEach(function(e, n) {
                e && (this.renderer.text(i[n], e.left, e.bottom), this.renderTextDecoration(t.parent, e, this.fontMetrics.getMetrics(s, o)))
            }, this)
        }, this)
    }, R.prototype.renderTextDecoration = function(e, t, n) {
        switch (e.css("textDecoration").split(" ")[0]) {
            case "underline":
                this.renderer.rectangle(t.left, Math.round(t.top + n.baseline + n.lineWidth), t.width, 1, e.css("color"));
                break;
            case "overline":
                this.renderer.rectangle(t.left, Math.round(t.top), t.width, 1, e.css("color"));
                break;
            case "line-through":
                this.renderer.rectangle(t.left, Math.ceil(t.top + n.middle + n.lineWidth), t.width, 1, e.css("color"))
        }
    }, R.prototype.parseBorders = function(e) {
        var t = e.parseBounds(),
            n = Q(e),
            i = ["Top", "Right", "Bottom", "Left"].map(function(t) {
                return {
                    width: e.cssInt("border" + t + "Width"),
                    color: e.css("border" + t + "Color"),
                    args: null
                }
            }),
            r = L(t, n, i);
        return {
            clip: this.parseBackgroundClip(e, r, i, n, t),
            borders: i.map(function(e, o) {
                if (e.width > 0) {
                    var s = t.left,
                        a = t.top,
                        l = t.width,
                        c = t.height - i[2].width;
                    switch (o) {
                        case 0:
                            c = i[0].width, e.args = z({
                                c1: [s, a],
                                c2: [s + l, a],
                                c3: [s + l - i[1].width, a + c],
                                c4: [s + i[3].width, a + c]
                            }, n[0], n[1], r.topLeftOuter, r.topLeftInner, r.topRightOuter, r.topRightInner);
                            break;
                        case 1:
                            s = t.left + t.width - i[1].width, l = i[1].width, e.args = z({
                                c1: [s + l, a],
                                c2: [s + l, a + c + i[2].width],
                                c3: [s, a + c],
                                c4: [s, a + i[0].width]
                            }, n[1], n[2], r.topRightOuter, r.topRightInner, r.bottomRightOuter, r.bottomRightInner);
                            break;
                        case 2:
                            a = a + t.height - i[2].width, c = i[2].width, e.args = z({
                                c1: [s + l, a + c],
                                c2: [s, a + c],
                                c3: [s + i[3].width, a],
                                c4: [s + l - i[3].width, a]
                            }, n[2], n[3], r.bottomRightOuter, r.bottomRightInner, r.bottomLeftOuter, r.bottomLeftInner);
                            break;
                        case 3:
                            l = i[3].width, e.args = z({
                                c1: [s, a + c + i[2].width],
                                c2: [s, a],
                                c3: [s + l, a + i[0].width],
                                c4: [s + l, a + c]
                            }, n[3], n[0], r.bottomLeftOuter, r.bottomLeftInner, r.topLeftOuter, r.topLeftInner)
                    }
                }
                return e
            })
        }
    }, R.prototype.parseBackgroundClip = function(e, t, n, i, r) {
        var o = e.css("backgroundClip"),
            s = [];
        switch (o) {
            case "content-box":
            case "padding-box":
                q(s, i[0], i[1], t.topLeftInner, t.topRightInner, r.left + n[3].width, r.top + n[0].width), q(s, i[1], i[2], t.topRightInner, t.bottomRightInner, r.left + r.width - n[1].width, r.top + n[0].width), q(s, i[2], i[3], t.bottomRightInner, t.bottomLeftInner, r.left + r.width - n[1].width, r.top + r.height - n[2].width), q(s, i[3], i[0], t.bottomLeftInner, t.topLeftInner, r.left + n[3].width, r.top + r.height - n[2].width);
                break;
            default:
                q(s, i[0], i[1], t.topLeftOuter, t.topRightOuter, r.left, r.top), q(s, i[1], i[2], t.topRightOuter, t.bottomRightOuter, r.left + r.width, r.top), q(s, i[2], i[3], t.bottomRightOuter, t.bottomLeftOuter, r.left + r.width, r.top + r.height), q(s, i[3], i[0], t.bottomLeftOuter, t.topLeftOuter, r.left, r.top + r.height)
        }
        return s
    }, R.prototype.pseudoHideClass = "___html2canvas___pseudoelement";
    var Ht = 0,
        jt = "withCredentials" in new XMLHttpRequest,
        Lt = "crossOrigin" in new Image;
    Ct.prototype.renderImage = function(e, t, n, i) {
        var r = e.cssInt("paddingLeft"),
            o = e.cssInt("paddingTop"),
            s = e.cssInt("paddingRight"),
            a = e.cssInt("paddingBottom"),
            l = n.borders,
            c = t.width - (l[1].width + l[3].width + r + s),
            u = t.height - (l[0].width + l[2].width + o + a);
        this.drawImage(i, 0, 0, i.image.width || c, i.image.height || u, t.left + r + l[3].width, t.top + o + l[0].width, c, u)
    }, Ct.prototype.renderBackground = function(e, t, n) {
        t.height > 0 && t.width > 0 && (this.renderBackgroundColor(e, t), this.renderBackgroundImage(e, t, n))
    }, Ct.prototype.renderBackgroundColor = function(e, t) {
        var n = e.css("backgroundColor");
        this.isTransparent(n) || this.rectangle(t.left, t.top, t.width, t.height, e.css("backgroundColor"))
    }, Ct.prototype.renderBorders = function(e) {
        e.forEach(this.renderBorder, this)
    }, Ct.prototype.renderBorder = function(e) {
        this.isTransparent(e.color) || null === e.args || this.drawShape(e.args, e.color)
    }, Ct.prototype.renderBackgroundImage = function(e, t, n) {
        var i = e.parseBackgroundImages();
        i.reverse().forEach(function(i, r, o) {
            switch (i.method) {
                case "url":
                    var s = this.images.get(i.args[0]);
                    s ? this.renderBackgroundRepeating(e, t, s, o.length - (r + 1), n) : S("Error loading background-image", i.args[0]);
                    break;
                case "linear-gradient":
                case "gradient":
                    var a = this.images.get(i.value);
                    a ? this.renderBackgroundGradient(a, t, n) : S("Error loading background-image", i.args[0]);
                    break;
                case "none":
                    break;
                default:
                    S("Unknown background-image type", i.args[0])
            }
        }, this)
    }, Ct.prototype.renderBackgroundRepeating = function(e, t, n, i, r) {
        var o = e.parseBackgroundSize(t, n.image, i),
            s = e.parseBackgroundPosition(t, n.image, i, o),
            a = e.parseBackgroundRepeat(i);
        switch (a) {
            case "repeat-x":
            case "repeat no-repeat":
                this.backgroundRepeatShape(n, s, o, t, t.left + r[3], t.top + s.top + r[0], 99999, o.height, r);
                break;
            case "repeat-y":
            case "no-repeat repeat":
                this.backgroundRepeatShape(n, s, o, t, t.left + s.left + r[3], t.top + r[0], o.width, 99999, r);
                break;
            case "no-repeat":
                this.backgroundRepeatShape(n, s, o, t, t.left + s.left + r[3], t.top + s.top + r[0], o.width, o.height, r);
                break;
            default:
                this.renderBackgroundRepeat(n, s, o, {
                    top: t.top,
                    left: t.left
                }, r[3], r[0])
        }
    }, Ct.prototype.isTransparent = function(e) {
        return !e || "transparent" === e || "rgba(0, 0, 0, 0)" === e
    }, kt.prototype = Object.create(T.prototype), kt.prototype.getParentStack = function(e) {
        var t = this.parent ? this.parent.stack : null;
        return t ? t.ownStacking ? t : t.getParentStack(e) : e.stack
    }, St.prototype.testRangeBounds = function(e) {
        var t, n, i, r, o = !1;
        return e.createRange && (t = e.createRange(), t.getBoundingClientRect && (n = e.createElement("boundtest"), n.style.height = "123px", n.style.display = "block", e.body.appendChild(n), t.selectNode(n), i = t.getBoundingClientRect(), r = i.height, 123 === r && (o = !0), e.body.removeChild(n))), o
    }, St.prototype.testCORS = function() {
        return "undefined" != typeof(new Image).crossOrigin
    }, St.prototype.testSVG = function() {
        var e = new Image,
            n = t.createElement("canvas"),
            i = n.getContext("2d");
        e.src = "data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";
        try {
            i.drawImage(e, 0, 0), n.toDataURL()
        } catch (r) {
            return !1
        }
        return !0
    }, Tt.prototype.hasFabric = function() {
        return html2canvas.fabric ? Promise.resolve() : Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))
    }, Tt.prototype.inlineFormatting = function(e) {
        return /^data:image\/svg\+xml;base64,/.test(e) ? this.decode64(this.removeContentType(e)) : this.removeContentType(e)
    }, Tt.prototype.removeContentType = function(e) {
        return e.replace(/^data:image\/svg\+xml(;base64)?,/, "")
    }, Tt.prototype.isInline = function(e) {
        return /^data:image\/svg\+xml/i.test(e)
    }, Tt.prototype.createCanvas = function(e) {
        var t = this;
        return function(n, i) {
            var r = new html2canvas.fabric.StaticCanvas("c");
            t.image = r.lowerCanvasEl, r.setWidth(i.width).setHeight(i.height).add(html2canvas.fabric.util.groupSVGElements(n, i)).renderAll(), e(r.lowerCanvasEl)
        }
    }, Tt.prototype.decode64 = function(t) {
        return "function" == typeof e.atob ? e.atob(t) : Et(t)
    }, Dt.prototype = Object.create(Tt.prototype), At.prototype = Object.create(T.prototype), At.prototype.applyTextTransform = function() {
        this.node.data = this.transform(this.parent.css("textTransform"))
    }, At.prototype.transform = function(e) {
        var t = this.node.data;
        switch (e) {
            case "lowercase":
                return t.toLowerCase();
            case "capitalize":
                return t.replace(/(^|\s|:|-|\(|\))([a-z])/g, Pt);
            case "uppercase":
                return t.toUpperCase();
            default:
                return t
        }
    }, Nt.prototype = Object.create(x.prototype), It.prototype = Object.create(Ct.prototype), It.prototype.setFillStyle = function(e) {
        return this.ctx.fillStyle = e, this.ctx
    }, It.prototype.rectangle = function(e, t, n, i, r) {
        this.setFillStyle(r).fillRect(e, t, n, i)
    }, It.prototype.drawShape = function(e, t) {
        this.shape(e), this.setFillStyle(t).fill()
    }, It.prototype.taints = function(e) {
        if (null === e.tainted) {
            this.taintCtx.drawImage(e.image, 0, 0);
            try {
                this.taintCtx.getImageData(0, 0, 1, 1), e.tainted = !1
            } catch (n) {
                this.taintCtx = t.createElement("canvas").getContext("2d"), e.tainted = !0
            }
        }
        return e.tainted
    }, It.prototype.drawImage = function(e, t, n, i, r, o, s, a, l) {
        (!this.taints(e) || this.options.allowTaint) && this.ctx.drawImage(e.image, t, n, i, r, o, s, a, l)
    }, It.prototype.clip = function(e, t, n) {
        this.ctx.save(), e.filter(Mt).forEach(function(e) {
            this.shape(e).clip()
        }, this), t.call(n), this.ctx.restore()
    }, It.prototype.shape = function(e) {
        return this.ctx.beginPath(), e.forEach(function(e, t) {
            this.ctx[0 === t ? "moveTo" : e[0] + "To"].apply(this.ctx, e.slice(1))
        }, this), this.ctx.closePath(), this.ctx
    }, It.prototype.font = function(e, t, n, i, r, o) {
        this.setFillStyle(e).font = [t, n, i, r, o].join(" ")
    }, It.prototype.fontShadow = function(e, t, n, i) {
        this.setVariable("shadowColor", e).setVariable("shadowOffsetY", t).setVariable("shadowOffsetX", n).setVariable("shadowBlur", i)
    }, It.prototype.clearShadow = function() {
        this.setVariable("shadowColor", "rgba(0,0,0,0)")
    }, It.prototype.setOpacity = function(e) {
        this.ctx.globalAlpha = e
    }, It.prototype.setTransform = function(e) {
        this.ctx.translate(e.origin[0], e.origin[1]), this.ctx.transform.apply(this.ctx, e.matrix), this.ctx.translate(-e.origin[0], -e.origin[1])
    }, It.prototype.setVariable = function(e, t) {
        return this.variables[e] !== t && (this.variables[e] = this.ctx[e] = t), this
    }, It.prototype.text = function(e, t, n) {
        this.ctx.fillText(e, t, n)
    }, It.prototype.backgroundRepeatShape = function(e, t, n, i, r, o, s, a, l) {
        var c = [
            ["line", Math.round(r), Math.round(o)],
            ["line", Math.round(r + s), Math.round(o)],
            ["line", Math.round(r + s), Math.round(a + o)],
            ["line", Math.round(r), Math.round(a + o)]
        ];
        this.clip([c], function() {
            this.renderBackgroundRepeat(e, t, n, i, l[3], l[0])
        }, this)
    }, It.prototype.renderBackgroundRepeat = function(e, t, n, i, r, o) {
        var s = Math.round(i.left + t.left + r),
            a = Math.round(i.top + t.top + o);
        this.setFillStyle(this.ctx.createPattern(this.resizeImage(e, n), "repeat")), this.ctx.translate(s, a), this.ctx.fill(), this.ctx.translate(-s, -a)
    }, It.prototype.renderBackgroundGradient = function(e, t) {
        if (e instanceof k) {
            var n = this.ctx.createLinearGradient(t.left + t.width * e.x0, t.top + t.height * e.y0, t.left + t.width * e.x1, t.top + t.height * e.y1);
            e.colorStops.forEach(function(e) {
                n.addColorStop(e.stop, e.color)
            }), this.rectangle(t.left, t.top, t.width, t.height, n)
        }
    }, It.prototype.resizeImage = function(e, n) {
        var i = e.image;
        if (i.width === n.width && i.height === n.height) return i;
        var r, o = t.createElement("canvas");
        return o.width = n.width, o.height = n.height, r = o.getContext("2d"), r.drawImage(i, 0, 0, i.width, i.height, 0, 0, n.width, n.height), o
    }
}(window, document), + function(e) {
    "use strict";

    function t() {
        var e = document.createElement("bootstrap"),
            t = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "oTransitionEnd otransitionend",
                transition: "transitionend"
            };
        for (var n in t)
            if (void 0 !== e.style[n]) return {
                end: t[n]
            };
        return !1
    }
    e.fn.emulateTransitionEnd = function(t) {
        var n = !1,
            i = this;
        e(this).one("bsTransitionEnd", function() {
            n = !0
        });
        var r = function() {
            n || e(i).trigger(e.support.transition.end)
        };
        return setTimeout(r, t), this
    }, e(function() {
        e.support.transition = t(), e.support.transition && (e.event.special.bsTransitionEnd = {
            bindType: e.support.transition.end,
            delegateType: e.support.transition.end,
            handle: function(t) {
                return e(t.target).is(this) ? t.handleObj.handler.apply(this, arguments) : void 0
            }
        })
    })
}(jQuery), + function(e) {
    "use strict";

    function t(t) {
        return this.each(function() {
            var i = e(this),
                r = i.data("bs.collapse"),
                o = e.extend({}, n.DEFAULTS, i.data(), "object" == typeof t && t);
            !r && o.toggle && "show" == t && (t = !t), r || i.data("bs.collapse", r = new n(this, o)), "string" == typeof t && r[t]()
        })
    }
    var n = function(t, i) {
        this.$element = e(t), this.options = e.extend({}, n.DEFAULTS, i), this.transitioning = null, this.options.parent && (this.$parent = e(this.options.parent)), this.options.toggle && this.toggle()
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {
        toggle: !0
    }, n.prototype.dimension = function() {
        var e = this.$element.hasClass("width");
        return e ? "width" : "height"
    }, n.prototype.show = function() {
        if (!this.transitioning && !this.$element.hasClass("in")) {
            var n = e.Event("show.bs.collapse");
            if (this.$element.trigger(n), !n.isDefaultPrevented()) {
                var i = this.$parent && this.$parent.find("> .panel > .in");
                if (i && i.length) {
                    var r = i.data("bs.collapse");
                    if (r && r.transitioning) return;
                    t.call(i, "hide"), r || i.data("bs.collapse", null)
                }
                var o = this.dimension();
                this.$element.removeClass("collapse").addClass("collapsing")[o](0), this.transitioning = 1;
                var s = function() {
                    this.$element.removeClass("collapsing").addClass("collapse in")[o](""), this.transitioning = 0, this.$element.trigger("shown.bs.collapse")
                };
                if (!e.support.transition) return s.call(this);
                var a = e.camelCase(["scroll", o].join("-"));
                this.$element.one("bsTransitionEnd", e.proxy(s, this)).emulateTransitionEnd(350)[o](this.$element[0][a])
            }
        }
    }, n.prototype.hide = function() {
        if (!this.transitioning && this.$element.hasClass("in")) {
            var t = e.Event("hide.bs.collapse");
            if (this.$element.trigger(t), !t.isDefaultPrevented()) {
                var n = this.dimension();
                this.$element[n](this.$element[n]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"), this.transitioning = 1;
                var i = function() {
                    this.transitioning = 0, this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")
                };
                return e.support.transition ? void this.$element[n](0).one("bsTransitionEnd", e.proxy(i, this)).emulateTransitionEnd(350) : i.call(this)
            }
        }
    }, n.prototype.toggle = function() {
        this[this.$element.hasClass("in") ? "hide" : "show"]()
    };
    var i = e.fn.collapse;
    e.fn.collapse = t, e.fn.collapse.Constructor = n, e.fn.collapse.noConflict = function() {
        return e.fn.collapse = i, this
    }, e(document).on("click.bs.collapse.data-api", '[data-toggle="collapse"]', function(n) {
        var i, r = e(this),
            o = r.attr("data-target") || n.preventDefault() || (i = r.attr("href")) && i.replace(/.*(?=#[^\s]+$)/, ""),
            s = e(o),
            a = s.data("bs.collapse"),
            l = a ? "toggle" : r.data(),
            c = r.attr("data-parent"),
            u = c && e(c);
        a && a.transitioning || (u && u.find('[data-toggle="collapse"][data-parent="' + c + '"]').not(r).addClass("collapsed"), r[s.hasClass("in") ? "addClass" : "removeClass"]("collapsed")), t.call(s, l)
    })
}(jQuery), + function(e) {
    "use strict";

    function t(t, i) {
        return this.each(function() {
            var r = e(this),
                o = r.data("bs.modal"),
                s = e.extend({}, n.DEFAULTS, r.data(), "object" == typeof t && t);
            o || r.data("bs.modal", o = new n(this, s)), "string" == typeof t ? o[t](i) : s.show && o.show(i)
        })
    }
    var n = function(t, n) {
        this.options = n, this.$body = e(document.body), this.$element = e(t), this.$backdrop = this.isShown = null, this.scrollbarWidth = 0, this.options.remote && this.$element.find(".modal-content").load(this.options.remote, e.proxy(function() {
            this.$element.trigger("loaded.bs.modal")
        }, this))
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {
        backdrop: !0,
        keyboard: !0,
        show: !0
    }, n.prototype.toggle = function(e) {
        return this.isShown ? this.hide() : this.show(e)
    }, n.prototype.show = function(t) {
        var n = this,
            i = e.Event("show.bs.modal", {
                relatedTarget: t
            });
        this.$element.trigger(i), this.isShown || i.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.$body.addClass("modal-open"), this.setScrollbar(), this.escape(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', e.proxy(this.hide, this)), this.backdrop(function() {
            var i = e.support.transition && n.$element.hasClass("fade");
            n.$element.parent().length || n.$element.appendTo(n.$body), n.$element.show().scrollTop(0), i && n.$element[0].offsetWidth, n.$element.addClass("in").attr("aria-hidden", !1), n.enforceFocus();
            var r = e.Event("shown.bs.modal", {
                relatedTarget: t
            });
            i ? n.$element.find(".modal-dialog").one("bsTransitionEnd", function() {
                n.$element.trigger("focus").trigger(r)
            }).emulateTransitionEnd(300) : n.$element.trigger("focus").trigger(r)
        }))
    }, n.prototype.hide = function(t) {
        t && t.preventDefault(), t = e.Event("hide.bs.modal"), this.$element.trigger(t), this.isShown && !t.isDefaultPrevented() && (this.isShown = !1, this.$body.removeClass("modal-open"), this.resetScrollbar(), this.escape(), e(document).off("focusin.bs.modal"), this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.bs.modal"), e.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", e.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal())
    }, n.prototype.enforceFocus = function() {
        e(document).off("focusin.bs.modal").on("focusin.bs.modal", e.proxy(function(e) {
            this.$element[0] === e.target || this.$element.has(e.target).length || this.$element.trigger("focus")
        }, this))
    }, n.prototype.escape = function() {
        this.isShown && this.options.keyboard ? this.$element.on("keyup.dismiss.bs.modal", e.proxy(function(e) {
            27 == e.which && this.hide()
        }, this)) : this.isShown || this.$element.off("keyup.dismiss.bs.modal")
    }, n.prototype.hideModal = function() {
        var e = this;
        this.$element.hide(), this.backdrop(function() {
            e.$element.trigger("hidden.bs.modal")
        })
    }, n.prototype.removeBackdrop = function() {
        this.$backdrop && this.$backdrop.remove(), this.$backdrop = null
    }, n.prototype.backdrop = function(t) {
        var n = this,
            i = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
            var r = e.support.transition && i;
            if (this.$backdrop = e('<div class="modal-backdrop ' + i + '" />').appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", e.proxy(function(e) {
                    e.target === e.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this))
                }, this)), r && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !t) return;
            r ? this.$backdrop.one("bsTransitionEnd", t).emulateTransitionEnd(150) : t()
        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass("in");
            var o = function() {
                n.removeBackdrop(), t && t()
            };
            e.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", o).emulateTransitionEnd(150) : o()
        } else t && t()
    }, n.prototype.checkScrollbar = function() {
        document.body.clientWidth >= window.innerWidth || (this.scrollbarWidth = this.scrollbarWidth || this.measureScrollbar())
    }, n.prototype.setScrollbar = function() {
        var e = parseInt(this.$body.css("padding-right") || 0, 10);
        this.scrollbarWidth && this.$body.css("padding-right", e + this.scrollbarWidth)
    }, n.prototype.resetScrollbar = function() {
        this.$body.css("padding-right", "")
    }, n.prototype.measureScrollbar = function() {
        var e = document.createElement("div");
        e.className = "modal-scrollbar-measure", this.$body.append(e);
        var t = e.offsetWidth - e.clientWidth;
        return this.$body[0].removeChild(e), t
    };
    var i = e.fn.modal;
    e.fn.modal = t, e.fn.modal.Constructor = n, e.fn.modal.noConflict = function() {
        return e.fn.modal = i, this
    }, e(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(n) {
        var i = e(this),
            r = i.attr("href"),
            o = e(i.attr("data-target") || r && r.replace(/.*(?=#[^\s]+$)/, "")),
            s = o.data("bs.modal") ? "toggle" : e.extend({
                remote: !/#/.test(r) && r
            }, o.data(), i.data());
        i.is("a") && n.preventDefault(), o.one("show.bs.modal", function(e) {
            e.isDefaultPrevented() || o.one("hidden.bs.modal", function() {
                i.is(":visible") && i.trigger("focus")
            })
        }), t.call(o, s, this)
    })
}(jQuery), + function(e) {
    "use strict";

    function t(t) {
        t && 3 === t.which || (e(r).remove(), e(o).each(function() {
            var i = n(e(this)),
                r = {
                    relatedTarget: this
                };
            i.hasClass("open") && (i.trigger(t = e.Event("hide.bs.dropdown", r)), t.isDefaultPrevented() || i.removeClass("open").trigger("hidden.bs.dropdown", r))
        }))
    }

    function n(t) {
        var n = t.attr("data-target");
        n || (n = t.attr("href"), n = n && /#[A-Za-z]/.test(n) && n.replace(/.*(?=#[^\s]*$)/, ""));
        var i = n && e(n);
        return i && i.length ? i : t.parent()
    }

    function i(t) {
        return this.each(function() {
            var n = e(this),
                i = n.data("bs.dropdown");
            i || n.data("bs.dropdown", i = new s(this)), "string" == typeof t && i[t].call(n)
        })
    }
    var r = ".dropdown-backdrop",
        o = '[data-toggle="dropdown"]',
        s = function(t) {
            e(t).on("click.bs.dropdown", this.toggle)
        };
    s.VERSION = "3.2.0", s.prototype.toggle = function(i) {
        var r = e(this);
        if (!r.is(".disabled, :disabled")) {
            var o = n(r),
                s = o.hasClass("open");
            if (t(), !s) {
                "ontouchstart" in document.documentElement && !o.closest(".navbar-nav").length && e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click", t);
                var a = {
                    relatedTarget: this
                };
                if (o.trigger(i = e.Event("show.bs.dropdown", a)), i.isDefaultPrevented()) return;
                r.trigger("focus"), o.toggleClass("open").trigger("shown.bs.dropdown", a)
            }
            return !1
        }
    }, s.prototype.keydown = function(t) {
        if (/(38|40|27)/.test(t.keyCode)) {
            var i = e(this);
            if (t.preventDefault(), t.stopPropagation(), !i.is(".disabled, :disabled")) {
                var r = n(i),
                    s = r.hasClass("open");
                if (!s || s && 27 == t.keyCode) return 27 == t.which && r.find(o).trigger("focus"), i.trigger("click");
                var a = " li:not(.divider):visible a",
                    l = r.find('[role="menu"]' + a + ', [role="listbox"]' + a);
                if (l.length) {
                    var c = l.index(l.filter(":focus"));
                    38 == t.keyCode && c > 0 && c--, 40 == t.keyCode && c < l.length - 1 && c++, ~c || (c = 0), l.eq(c).trigger("focus")
                }
            }
        }
    };
    var a = e.fn.dropdown;
    e.fn.dropdown = i, e.fn.dropdown.Constructor = s, e.fn.dropdown.noConflict = function() {
        return e.fn.dropdown = a, this
    }, e(document).on("click.bs.dropdown.data-api", t).on("click.bs.dropdown.data-api", ".dropdown form", function(e) {
        e.stopPropagation()
    }).on("click.bs.dropdown.data-api", o, s.prototype.toggle).on("keydown.bs.dropdown.data-api", o + ', [role="menu"], [role="listbox"]', s.prototype.keydown)
}(jQuery), + function(e) {
    "use strict";

    function t(t) {
        return this.each(function() {
            var n = e(this),
                r = n.data("bs.alert");
            r || n.data("bs.alert", r = new i(this)), "string" == typeof t && r[t].call(n)
        })
    }
    var n = '[data-dismiss="alert"]',
        i = function(t) {
            e(t).on("click", n, this.close)
        };
    i.VERSION = "3.2.0", i.prototype.close = function(t) {
        function n() {
            o.detach().trigger("closed.bs.alert").remove()
        }
        var i = e(this),
            r = i.attr("data-target");
        r || (r = i.attr("href"), r = r && r.replace(/.*(?=#[^\s]*$)/, ""));
        var o = e(r);
        t && t.preventDefault(), o.length || (o = i.hasClass("alert") ? i : i.parent()), o.trigger(t = e.Event("close.bs.alert")), t.isDefaultPrevented() || (o.removeClass("in"), e.support.transition && o.hasClass("fade") ? o.one("bsTransitionEnd", n).emulateTransitionEnd(150) : n())
    };
    var r = e.fn.alert;
    e.fn.alert = t, e.fn.alert.Constructor = i, e.fn.alert.noConflict = function() {
        return e.fn.alert = r, this
    }, e(document).on("click.bs.alert.data-api", n, i.prototype.close)
}(jQuery), + function(e) {
    "use strict";

    function t(t) {
        return this.each(function() {
            var i = e(this),
                r = i.data("bs.tooltip"),
                o = "object" == typeof t && t;
            (r || "destroy" != t) && (r || i.data("bs.tooltip", r = new n(this, o)), "string" == typeof t && r[t]())
        })
    }
    var n = function(e, t) {
        this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null, this.init("tooltip", e, t)
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: {
            selector: "body",
            padding: 0
        }
    }, n.prototype.init = function(t, n, i) {
        this.enabled = !0, this.type = t, this.$element = e(n), this.options = this.getOptions(i), this.$viewport = this.options.viewport && e(this.options.viewport.selector || this.options.viewport);
        for (var r = this.options.trigger.split(" "), o = r.length; o--;) {
            var s = r[o];
            if ("click" == s) this.$element.on("click." + this.type, this.options.selector, e.proxy(this.toggle, this));
            else if ("manual" != s) {
                var a = "hover" == s ? "mouseenter" : "focusin",
                    l = "hover" == s ? "mouseleave" : "focusout";
                this.$element.on(a + "." + this.type, this.options.selector, e.proxy(this.enter, this)), this.$element.on(l + "." + this.type, this.options.selector, e.proxy(this.leave, this))
            }
        }
        this.options.selector ? this._options = e.extend({}, this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle()
    }, n.prototype.getDefaults = function() {
        return n.DEFAULTS
    }, n.prototype.getOptions = function(t) {
        return t = e.extend({}, this.getDefaults(), this.$element.data(), t), t.delay && "number" == typeof t.delay && (t.delay = {
            show: t.delay,
            hide: t.delay
        }), t
    }, n.prototype.getDelegateOptions = function() {
        var t = {},
            n = this.getDefaults();
        return this._options && e.each(this._options, function(e, i) {
            n[e] != i && (t[e] = i)
        }), t
    }, n.prototype.enter = function(t) {
        var n = t instanceof this.constructor ? t : e(t.currentTarget).data("bs." + this.type);
        return n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n)), clearTimeout(n.timeout), n.hoverState = "in", n.options.delay && n.options.delay.show ? void(n.timeout = setTimeout(function() {
            "in" == n.hoverState && n.show()
        }, n.options.delay.show)) : n.show()
    }, n.prototype.leave = function(t) {
        var n = t instanceof this.constructor ? t : e(t.currentTarget).data("bs." + this.type);
        return n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n)), clearTimeout(n.timeout), n.hoverState = "out", n.options.delay && n.options.delay.hide ? void(n.timeout = setTimeout(function() {
            "out" == n.hoverState && n.hide()
        }, n.options.delay.hide)) : n.hide()
    }, n.prototype.show = function() {
        var t = e.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(t);
            var n = e.contains(document.documentElement, this.$element[0]);
            if (t.isDefaultPrevented() || !n) return;
            var i = this,
                r = this.tip(),
                o = this.getUID(this.type);
            this.setContent(), r.attr("id", o), this.$element.attr("aria-describedby", o), this.options.animation && r.addClass("fade");
            var s = "function" == typeof this.options.placement ? this.options.placement.call(this, r[0], this.$element[0]) : this.options.placement,
                a = /\s?auto?\s?/i,
                l = a.test(s);
            l && (s = s.replace(a, "") || "top"), r.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(s).data("bs." + this.type, this), this.options.container ? r.appendTo(this.options.container) : r.insertAfter(this.$element);
            var c = this.getPosition(),
                u = r[0].offsetWidth,
                h = r[0].offsetHeight;
            if (l) {
                var d = s,
                    f = this.$element.parent(),
                    p = this.getPosition(f);
                s = "bottom" == s && c.top + c.height + h - p.scroll > p.height ? "top" : "top" == s && c.top - p.scroll - h < 0 ? "bottom" : "right" == s && c.right + u > p.width ? "left" : "left" == s && c.left - u < p.left ? "right" : s, r.removeClass(d).addClass(s)
            }
            var m = this.getCalculatedOffset(s, c, u, h);
            this.applyPlacement(m, s);
            var g = function() {
                i.$element.trigger("shown.bs." + i.type), i.hoverState = null
            };
            e.support.transition && this.$tip.hasClass("fade") ? r.one("bsTransitionEnd", g).emulateTransitionEnd(150) : g()
        }
    }, n.prototype.applyPlacement = function(t, n) {
        var i = this.tip(),
            r = i[0].offsetWidth,
            o = i[0].offsetHeight,
            s = parseInt(i.css("margin-top"), 10),
            a = parseInt(i.css("margin-left"), 10);
        isNaN(s) && (s = 0), isNaN(a) && (a = 0), t.top = t.top + s, t.left = t.left + a, e.offset.setOffset(i[0], e.extend({
            using: function(e) {
                i.css({
                    top: Math.round(e.top),
                    left: Math.round(e.left)
                })
            }
        }, t), 0), i.addClass("in");
        var l = i[0].offsetWidth,
            c = i[0].offsetHeight;
        "top" == n && c != o && (t.top = t.top + o - c);
        var u = this.getViewportAdjustedDelta(n, t, l, c);
        u.left ? t.left += u.left : t.top += u.top;
        var h = u.left ? 2 * u.left - r + l : 2 * u.top - o + c,
            d = u.left ? "left" : "top",
            f = u.left ? "offsetWidth" : "offsetHeight";
        i.offset(t), this.replaceArrow(h, i[0][f], d)
    }, n.prototype.replaceArrow = function(e, t, n) {
        this.arrow().css(n, e ? 50 * (1 - e / t) + "%" : "")
    }, n.prototype.setContent = function() {
        var e = this.tip(),
            t = this.getTitle();
        e.find(".tooltip-inner")[this.options.html ? "html" : "text"](t), e.removeClass("fade in top bottom left right")
    }, n.prototype.hide = function() {
        function t() {
            "in" != n.hoverState && i.detach(), n.$element.trigger("hidden.bs." + n.type)
        }
        var n = this,
            i = this.tip(),
            r = e.Event("hide.bs." + this.type);
        return this.$element.removeAttr("aria-describedby"), this.$element.trigger(r), r.isDefaultPrevented() ? void 0 : (i.removeClass("in"), e.support.transition && this.$tip.hasClass("fade") ? i.one("bsTransitionEnd", t).emulateTransitionEnd(150) : t(), this.hoverState = null, this)
    }, n.prototype.fixTitle = function() {
        var e = this.$element;
        (e.attr("title") || "string" != typeof e.attr("data-original-title")) && e.attr("data-original-title", e.attr("title") || "").attr("title", "")
    }, n.prototype.hasContent = function() {
        return this.getTitle()
    }, n.prototype.getPosition = function(t) {
        t = t || this.$element;
        var n = t[0],
            i = "BODY" == n.tagName;
        return e.extend({}, "function" == typeof n.getBoundingClientRect ? n.getBoundingClientRect() : null, {
            scroll: i ? document.documentElement.scrollTop || document.body.scrollTop : t.scrollTop(),
            width: i ? e(window).width() : t.outerWidth(),
            height: i ? e(window).height() : t.outerHeight()
        }, i ? {
            top: 0,
            left: 0
        } : t.offset())
    }, n.prototype.getCalculatedOffset = function(e, t, n, i) {
        return "bottom" == e ? {
            top: t.top + t.height,
            left: t.left + t.width / 2 - n / 2
        } : "top" == e ? {
            top: t.top - i,
            left: t.left + t.width / 2 - n / 2
        } : "left" == e ? {
            top: t.top + t.height / 2 - i / 2,
            left: t.left - n
        } : {
            top: t.top + t.height / 2 - i / 2,
            left: t.left + t.width
        }
    }, n.prototype.getViewportAdjustedDelta = function(e, t, n, i) {
        var r = {
            top: 0,
            left: 0
        };
        if (!this.$viewport) return r;
        var o = this.options.viewport && this.options.viewport.padding || 0,
            s = this.getPosition(this.$viewport);
        if (/right|left/.test(e)) {
            var a = t.top - o - s.scroll,
                l = t.top + o - s.scroll + i;
            a < s.top ? r.top = s.top - a : l > s.top + s.height && (r.top = s.top + s.height - l)
        } else {
            var c = t.left - o,
                u = t.left + o + n;
            c < s.left ? r.left = s.left - c : u > s.width && (r.left = s.left + s.width - u)
        }
        return r
    }, n.prototype.getTitle = function() {
        var e, t = this.$element,
            n = this.options;
        return e = t.attr("data-original-title") || ("function" == typeof n.title ? n.title.call(t[0]) : n.title)
    }, n.prototype.getUID = function(e) {
        do e += ~~(1e6 * Math.random()); while (document.getElementById(e));
        return e
    }, n.prototype.tip = function() {
        return this.$tip = this.$tip || e(this.options.template)
    }, n.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
    }, n.prototype.validate = function() {
        this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null)
    }, n.prototype.enable = function() {
        this.enabled = !0
    }, n.prototype.disable = function() {
        this.enabled = !1
    }, n.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled
    }, n.prototype.toggle = function(t) {
        var n = this;
        t && (n = e(t.currentTarget).data("bs." + this.type), n || (n = new this.constructor(t.currentTarget, this.getDelegateOptions()), e(t.currentTarget).data("bs." + this.type, n))), n.tip().hasClass("in") ? n.leave(n) : n.enter(n)
    }, n.prototype.destroy = function() {
        clearTimeout(this.timeout), this.hide().$element.off("." + this.type).removeData("bs." + this.type)
    };
    var i = e.fn.tooltip;
    e.fn.tooltip = t, e.fn.tooltip.Constructor = n, e.fn.tooltip.noConflict = function() {
        return e.fn.tooltip = i, this
    }
}(jQuery),
function(e) {
    var t = {
        init: function(n) {
            var i = e.extend({
                    items: 1,
                    itemsOnPage: 1,
                    pages: 0,
                    displayedPages: 5,
                    edges: 2,
                    currentPage: 0,
                    hrefTextPrefix: "#page-",
                    hrefTextSuffix: "",
                    prevText: "Prev",
                    nextText: "Next",
                    ellipseText: "&hellip;",
                    cssStyle: "light-theme",
                    labelMap: [],
                    selectOnClick: !0,
                    nextAtFront: !1,
                    invertPageOrder: !1,
                    onPageClick: function() {},
                    onInit: function() {}
                }, n || {}),
                r = this;
            return i.pages = i.pages ? i.pages : Math.ceil(i.items / i.itemsOnPage) ? Math.ceil(i.items / i.itemsOnPage) : 1, i.currentPage = i.currentPage ? i.currentPage - 1 : i.invertPageOrder ? i.pages - 1 : 0, i.halfDisplayed = i.displayedPages / 2, this.each(function() {
                r.addClass(i.cssStyle + " simple-pagination").data("pagination", i), t._draw.call(r)
            }), i.onInit(), this
        },
        selectPage: function(e) {
            return t._selectPage.call(this, e - 1), this
        },
        prevPage: function() {
            var e = this.data("pagination");
            return e.invertPageOrder ? e.currentPage < e.pages - 1 && t._selectPage.call(this, e.currentPage + 1) : e.currentPage > 0 && t._selectPage.call(this, e.currentPage - 1), this
        },
        nextPage: function() {
            var e = this.data("pagination");
            return e.invertPageOrder ? e.currentPage > 0 && t._selectPage.call(this, e.currentPage - 1) : e.currentPage < e.pages - 1 && t._selectPage.call(this, e.currentPage + 1), this
        },
        getPagesCount: function() {
            return this.data("pagination").pages
        },
        getCurrentPage: function() {
            return this.data("pagination").currentPage + 1
        },
        destroy: function() {
            return this.empty(), this
        },
        drawPage: function(e) {
            var n = this.data("pagination");
            return n.currentPage = e - 1, this.data("pagination", n), t._draw.call(this), this
        },
        redraw: function() {
            return t._draw.call(this), this
        },
        disable: function() {
            var e = this.data("pagination");
            return e.disabled = !0, this.data("pagination", e), t._draw.call(this), this
        },
        enable: function() {
            var e = this.data("pagination");
            return e.disabled = !1, this.data("pagination", e), t._draw.call(this), this
        },
        updateItems: function(e) {
            var n = this.data("pagination");
            n.items = e, n.pages = t._getPages(n), this.data("pagination", n), t._draw.call(this)
        },
        updateItemsOnPage: function(e) {
            var n = this.data("pagination");
            return n.itemsOnPage = e, n.pages = t._getPages(n), this.data("pagination", n), t._selectPage.call(this, 0), this
        },
        _draw: function() {
            var n, i, r = this.data("pagination"),
                o = t._getInterval(r);
            t.destroy.call(this), i = "function" == typeof this.prop ? this.prop("tagName") : this.attr("tagName");
            var s = "UL" === i ? this : e("<ul></ul>").appendTo(this);
            if (r.prevText && t._appendItem.call(this, r.invertPageOrder ? r.currentPage + 1 : r.currentPage - 1, {
                    text: r.prevText,
                    classes: "prev"
                }), r.nextText && r.nextAtFront && t._appendItem.call(this, r.invertPageOrder ? r.currentPage - 1 : r.currentPage + 1, {
                    text: r.nextText,
                    classes: "next"
                }), r.invertPageOrder) {
                if (o.end < r.pages && r.edges > 0) {
                    var a = Math.max(r.pages - r.edges, o.end);
                    for (n = r.pages - 1; n >= a; n--) t._appendItem.call(this, n);
                    r.pages - r.edges > o.end && r.pages - r.edges - o.end != 1 ? s.append('<li class="disabled"><span class="ellipse">' + r.ellipseText + "</span></li>") : r.pages - r.edges - o.end == 1 && t._appendItem.call(this, o.end)
                }
            } else if (o.start > 0 && r.edges > 0) {
                var l = Math.min(r.edges, o.start);
                for (n = 0; l > n; n++) t._appendItem.call(this, n);
                r.edges < o.start && o.start - r.edges != 1 ? s.append('<li class="disabled"><span class="ellipse">' + r.ellipseText + "</span></li>") : o.start - r.edges == 1 && t._appendItem.call(this, r.edges)
            }
            if (r.invertPageOrder)
                for (n = o.end - 1; n >= o.start; n--) t._appendItem.call(this, n);
            else
                for (n = o.start; n < o.end; n++) t._appendItem.call(this, n);
            if (r.invertPageOrder) {
                if (o.start > 0 && r.edges > 0) {
                    r.edges < o.start && o.start - r.edges != 1 ? s.append('<li class="disabled"><span class="ellipse">' + r.ellipseText + "</span></li>") : o.start - r.edges == 1 && t._appendItem.call(this, r.edges);
                    var l = Math.min(r.edges, o.start);
                    for (n = l - 1; n >= 0; n--) t._appendItem.call(this, n)
                }
            } else if (o.end < r.pages && r.edges > 0) {
                r.pages - r.edges > o.end && r.pages - r.edges - o.end != 1 ? s.append('<li class="disabled"><span class="ellipse">' + r.ellipseText + "</span></li>") : r.pages - r.edges - o.end == 1 && t._appendItem.call(this, o.end);
                var a = Math.max(r.pages - r.edges, o.end);
                for (n = a; n < r.pages; n++) t._appendItem.call(this, n)
            }
            r.nextText && !r.nextAtFront && t._appendItem.call(this, r.invertPageOrder ? r.currentPage - 1 : r.currentPage + 1, {
                text: r.nextText,
                classes: "next"
            })
        },
        _getPages: function(e) {
            var t = Math.ceil(e.items / e.itemsOnPage);
            return t || 1
        },
        _getInterval: function(e) {
            return {
                start: Math.ceil(e.currentPage > e.halfDisplayed ? Math.max(Math.min(e.currentPage - e.halfDisplayed, e.pages - e.displayedPages), 0) : 0),
                end: Math.ceil(e.currentPage > e.halfDisplayed ? Math.min(e.currentPage + e.halfDisplayed, e.pages) : Math.min(e.displayedPages, e.pages))
            }
        },
        _appendItem: function(n, i) {
            var r, o, s = this,
                a = s.data("pagination"),
                l = e("<li></li>"),
                c = s.find("ul");
            n = 0 > n ? 0 : n < a.pages ? n : a.pages - 1, r = {
                text: n + 1,
                classes: ""
            }, a.labelMap.length && a.labelMap[n] && (r.text = a.labelMap[n]), r = e.extend(r, i || {}), n == a.currentPage || a.disabled ? (l.addClass(a.disabled ? "disabled" : "active"), o = e('<span class="current">' + r.text + "</span>")) : (o = e('<a href="' + a.hrefTextPrefix + (n + 1) + a.hrefTextSuffix + '" class="page-link">' + r.text + "</a>"), o.click(function(e) {
                return t._selectPage.call(s, n, e)
            })), r.classes && o.addClass(r.classes), l.append(o), c.length ? c.append(l) : s.append(l)
        },
        _selectPage: function(e, n) {
            var i = this.data("pagination");
            return i.currentPage = e, i.selectOnClick && t._draw.call(this), i.onPageClick(e + 1, n)
        }
    };
    e.fn.pagination = function(n) {
        return t[n] && "_" != n.charAt(0) ? t[n].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof n && n ? void e.error("Method " + n + " does not exist on jQuery.pagination") : t.init.apply(this, arguments)
    }
}(jQuery),
function(e, t) {
    ! function(e) {
        "function" == typeof define && define.amd ? define(["jquery", "jquery-mousewheel"], e) : e(jQuery)
    }(function(n) {
        var i = "mCustomScrollbar",
            r = "mCS",
            o = ".mCustomScrollbar",
            s = {
                setWidth: !1,
                setHeight: !1,
                setTop: 0,
                setLeft: 0,
                axis: "y",
                scrollbarPosition: "inside",
                scrollInertia: 950,
                autoDraggerLength: !0,
                autoHideScrollbar: !1,
                autoExpandScrollbar: !1,
                alwaysShowScrollbar: 0,
                snapAmount: null,
                snapOffset: 0,
                mouseWheel: {
                    enable: !0,
                    scrollAmount: "auto",
                    axis: "y",
                    preventDefault: !1,
                    deltaFactor: "auto",
                    normalizeDelta: !1,
                    invert: !1,
                    disableOver: ["select", "option", "keygen", "datalist", "textarea"]
                },
                scrollButtons: {
                    enable: !1,
                    scrollType: "stepless",
                    scrollAmount: "auto"
                },
                keyboard: {
                    enable: !0,
                    scrollType: "stepless",
                    scrollAmount: "auto"
                },
                contentTouchScroll: 25,
                advanced: {
                    autoExpandHorizontalScroll: !1,
                    autoScrollOnFocus: "input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",
                    updateOnContentResize: !0,
                    updateOnImageLoad: !0,
                    updateOnSelectorChange: !1
                },
                theme: "light",
                callbacks: {
                    onScrollStart: !1,
                    onScroll: !1,
                    onTotalScroll: !1,
                    onTotalScrollBack: !1,
                    whileScrolling: !1,
                    onTotalScrollOffset: 0,
                    onTotalScrollBackOffset: 0,
                    alwaysTriggerOffsets: !0
                },
                live: !1,
                liveSelector: null
            },
            a = 0,
            l = {},
            c = function(e) {
                l[e] && (clearTimeout(l[e]), f._delete.call(null, l[e]))
            },
            u = e.attachEvent && !e.addEventListener ? 1 : 0,
            h = !1,
            d = {
                init: function(e) {
                    var e = n.extend(!0, {}, s, e),
                        t = f._selector.call(this);
                    if (e.live) {
                        var i = e.liveSelector || this.selector || o,
                            u = n(i);
                        if ("off" === e.live) return void c(i);
                        l[i] = setTimeout(function() {
                            u.mCustomScrollbar(e), "once" === e.live && u.length && c(i)
                        }, 500)
                    } else c(i);
                    return e.setWidth = e.set_width ? e.set_width : e.setWidth, e.setHeight = e.set_height ? e.set_height : e.setHeight, e.axis = e.horizontalScroll ? "x" : f._findAxis.call(null, e.axis), e.scrollInertia = e.scrollInertia < 17 ? 17 : e.scrollInertia, "object" != typeof e.mouseWheel && 1 == e.mouseWheel && (e.mouseWheel = {
                        enable: !0,
                        scrollAmount: "auto",
                        axis: "y",
                        preventDefault: !1,
                        deltaFactor: "auto",
                        normalizeDelta: !1,
                        invert: !1
                    }), e.mouseWheel.scrollAmount = e.mouseWheelPixels ? e.mouseWheelPixels : e.mouseWheel.scrollAmount, e.mouseWheel.normalizeDelta = e.advanced.normalizeMouseWheelDelta ? e.advanced.normalizeMouseWheelDelta : e.mouseWheel.normalizeDelta, e.scrollButtons.scrollType = f._findScrollButtonsType.call(null, e.scrollButtons.scrollType), f._theme.call(null, e), n(t).each(function() {
                        var t = n(this);
                        if (!t.data(r)) {
                            t.data(r, {
                                idx: ++a,
                                opt: e,
                                scrollRatio: {
                                    y: null,
                                    x: null
                                },
                                overflowed: null,
                                bindEvents: !1,
                                tweenRunning: !1,
                                sequential: {},
                                langDir: t.css("direction"),
                                cbOffsets: null,
                                trigger: null
                            });
                            var i = t.data(r).opt,
                                o = t.data("mcs-axis"),
                                s = t.data("mcs-scrollbar-position"),
                                l = t.data("mcs-theme");
                            o && (i.axis = o), s && (i.scrollbarPosition = s), l && (i.theme = l, f._theme.call(null, i)), f._pluginMarkup.call(this), d.update.call(null, t)
                        }
                    })
                },
                update: function(e) {
                    var t = e || f._selector.call(this);
                    return n(t).each(function() {
                        var e = n(this);
                        if (e.data(r)) {
                            var t = e.data(r),
                                i = t.opt,
                                o = n("#mCSB_" + t.idx + "_container"),
                                s = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")];
                            if (!o.length) return;
                            t.tweenRunning && f._stop.call(null, e), e.hasClass("mCS_disabled") && e.removeClass("mCS_disabled"), e.hasClass("mCS_destroyed") && e.removeClass("mCS_destroyed"), f._maxHeight.call(this), f._expandContentHorizontally.call(this), "y" === i.axis || i.advanced.autoExpandHorizontalScroll || o.css("width", f._contentWidth(o.children())), t.overflowed = f._overflowed.call(this), f._scrollbarVisibility.call(this), i.autoDraggerLength && f._setDraggerLength.call(this), f._scrollRatio.call(this), f._bindEvents.call(this);
                            var a = [Math.abs(o[0].offsetTop), Math.abs(o[0].offsetLeft)];
                            "x" !== i.axis && (t.overflowed[0] ? s[0].height() > s[0].parent().height() ? f._resetContentPosition.call(this) : f._scrollTo.call(this, e, a[0].toString(), {
                                dir: "y",
                                dur: 0,
                                overwrite: "none"
                            }) : (f._resetContentPosition.call(this), "y" === i.axis ? f._unbindEvents.call(this) : "yx" === i.axis && t.overflowed[1] && f._scrollTo.call(this, e, a[1].toString(), {
                                dir: "x",
                                dur: 0,
                                overwrite: "none"
                            }))), "y" !== i.axis && (t.overflowed[1] ? s[1].width() > s[1].parent().width() ? f._resetContentPosition.call(this) : f._scrollTo.call(this, e, a[1].toString(), {
                                dir: "x",
                                dur: 0,
                                overwrite: "none"
                            }) : (f._resetContentPosition.call(this), "x" === i.axis ? f._unbindEvents.call(this) : "yx" === i.axis && t.overflowed[0] && f._scrollTo.call(this, e, a[0].toString(), {
                                dir: "y",
                                dur: 0,
                                overwrite: "none"
                            }))), f._autoUpdate.call(this)
                        }
                    })
                },
                scrollTo: function(e, t) {
                    if ("undefined" != typeof e && null != e) {
                        var i = f._selector.call(this);
                        return n(i).each(function() {
                            var i = n(this);
                            if (i.data(r)) {
                                var o = i.data(r),
                                    s = o.opt,
                                    a = {
                                        trigger: "external",
                                        scrollInertia: s.scrollInertia,
                                        scrollEasing: "mcsEaseInOut",
                                        moveDragger: !1,
                                        callbacks: !0,
                                        onStart: !0,
                                        onUpdate: !0,
                                        onComplete: !0
                                    },
                                    l = n.extend(!0, {}, a, t),
                                    c = f._arr.call(this, e),
                                    u = l.scrollInertia < 17 ? 17 : l.scrollInertia;
                                c[0] = f._to.call(this, c[0], "y"), c[1] = f._to.call(this, c[1], "x"), l.moveDragger && (c[0] *= o.scrollRatio.y, c[1] *= o.scrollRatio.x), l.dur = u, setTimeout(function() {
                                    null !== c[0] && "undefined" != typeof c[0] && "x" !== s.axis && o.overflowed[0] && (l.dir = "y", l.overwrite = "all", f._scrollTo.call(this, i, c[0].toString(), l)), null !== c[1] && "undefined" != typeof c[1] && "y" !== s.axis && o.overflowed[1] && (l.dir = "x", l.overwrite = "none", f._scrollTo.call(this, i, c[1].toString(), l))
                                }, 60)
                            }
                        })
                    }
                },
                stop: function() {
                    var e = f._selector.call(this);
                    return n(e).each(function() {
                        var e = n(this);
                        e.data(r) && f._stop.call(null, e)
                    })
                },
                disable: function(e) {
                    var t = f._selector.call(this);
                    return n(t).each(function() {
                        var t = n(this);
                        if (t.data(r)) {
                            {
                                var i = t.data(r);
                                i.opt
                            }
                            f._autoUpdate.call(this, "remove"), f._unbindEvents.call(this), e && f._resetContentPosition.call(this), f._scrollbarVisibility.call(this, !0), t.addClass("mCS_disabled")
                        }
                    })
                },
                destroy: function() {
                    var e = f._selector.call(this);
                    return n(e).each(function() {
                        var t = n(this);
                        if (t.data(r)) {
                            var o = t.data(r),
                                s = o.opt,
                                a = n("#mCSB_" + o.idx),
                                l = n("#mCSB_" + o.idx + "_container"),
                                u = n(".mCSB_" + o.idx + "_scrollbar");
                            s.live && c(e), f._autoUpdate.call(this, "remove"), f._unbindEvents.call(this), f._resetContentPosition.call(this), t.removeData(r), f._delete.call(null, this.mcs), u.remove(), a.replaceWith(l.contents()), t.removeClass(i + " _" + r + "_" + o.idx + " mCS-autoHide mCS-dir-rtl mCS_no_scrollbar mCS_disabled").addClass("mCS_destroyed")
                        }
                    })
                }
            },
            f = {
                _selector: function() {
                    return "object" != typeof n(this) || n(this).length < 1 ? o : this
                },
                _theme: function(e) {
                    var t = ["rounded", "rounded-dark", "rounded-dots", "rounded-dots-dark"],
                        i = ["rounded-dots", "rounded-dots-dark", "3d", "3d-dark", "3d-thick", "3d-thick-dark", "inset", "inset-dark", "inset-2", "inset-2-dark", "inset-3", "inset-3-dark"],
                        r = ["minimal", "minimal-dark"],
                        o = ["minimal", "minimal-dark"],
                        s = ["minimal", "minimal-dark"];
                    e.autoDraggerLength = n.inArray(e.theme, t) > -1 ? !1 : e.autoDraggerLength, e.autoExpandScrollbar = n.inArray(e.theme, i) > -1 ? !1 : e.autoExpandScrollbar, e.scrollButtons.enable = n.inArray(e.theme, r) > -1 ? !1 : e.scrollButtons.enable, e.autoHideScrollbar = n.inArray(e.theme, o) > -1 ? !0 : e.autoHideScrollbar, e.scrollbarPosition = n.inArray(e.theme, s) > -1 ? "outside" : e.scrollbarPosition
                },
                _findAxis: function(e) {
                    return "yx" === e || "xy" === e || "auto" === e ? "yx" : "x" === e || "horizontal" === e ? "x" : "y"
                },
                _findScrollButtonsType: function(e) {
                    return "stepped" === e || "pixels" === e || "step" === e || "click" === e ? "stepped" : "stepless"
                },
                _pluginMarkup: function() {
                    var e = n(this),
                        t = e.data(r),
                        o = t.opt,
                        s = o.autoExpandScrollbar ? " mCSB_scrollTools_onDrag_expand" : "",
                        a = ["<div id='mCSB_" + t.idx + "_scrollbar_vertical' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + o.theme + " mCSB_scrollTools_vertical" + s + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + t.idx + "_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>", "<div id='mCSB_" + t.idx + "_scrollbar_horizontal' class='mCSB_scrollTools mCSB_" + t.idx + "_scrollbar mCS-" + o.theme + " mCSB_scrollTools_horizontal" + s + "'><div class='mCSB_draggerContainer'><div id='mCSB_" + t.idx + "_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],
                        l = "yx" === o.axis ? "mCSB_vertical_horizontal" : "x" === o.axis ? "mCSB_horizontal" : "mCSB_vertical",
                        c = "yx" === o.axis ? a[0] + a[1] : "x" === o.axis ? a[1] : a[0],
                        u = "yx" === o.axis ? "<div id='mCSB_" + t.idx + "_container_wrapper' class='mCSB_container_wrapper' />" : "",
                        h = o.autoHideScrollbar ? " mCS-autoHide" : "",
                        d = "x" !== o.axis && "rtl" === t.langDir ? " mCS-dir-rtl" : "";
                    o.setWidth && e.css("width", o.setWidth), o.setHeight && e.css("height", o.setHeight), o.setLeft = "y" !== o.axis && "rtl" === t.langDir ? "989999px" : o.setLeft, e.addClass(i + " _" + r + "_" + t.idx + h + d).wrapInner("<div id='mCSB_" + t.idx + "' class='mCustomScrollBox mCS-" + o.theme + " " + l + "'><div id='mCSB_" + t.idx + "_container' class='mCSB_container' style='position:relative; top:" + o.setTop + "; left:" + o.setLeft + ";' dir=" + t.langDir + " /></div>");
                    var p = n("#mCSB_" + t.idx),
                        m = n("#mCSB_" + t.idx + "_container");
                    "y" === o.axis || o.advanced.autoExpandHorizontalScroll || m.css("width", f._contentWidth(m.children())), "outside" === o.scrollbarPosition ? ("static" === e.css("position") && e.css("position", "relative"), e.css("overflow", "visible"), p.addClass("mCSB_outside").after(c)) : (p.addClass("mCSB_inside").append(c), m.wrap(u)), f._scrollButtons.call(this);
                    var g = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")];
                    g[0].css("min-height", g[0].height()), g[1].css("min-width", g[1].width())
                },
                _contentWidth: function(e) {
                    return Math.max.apply(Math, e.map(function() {
                        return n(this).outerWidth(!0)
                    }).get())
                },
                _expandContentHorizontally: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = t.opt,
                        o = n("#mCSB_" + t.idx + "_container");
                    i.advanced.autoExpandHorizontalScroll && "y" !== i.axis && o.css({
                        position: "absolute",
                        width: "auto"
                    }).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({
                        width: Math.ceil(o[0].getBoundingClientRect().right + .4) - Math.floor(o[0].getBoundingClientRect().left),
                        position: "relative"
                    }).unwrap()
                },
                _scrollButtons: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = t.opt,
                        o = n(".mCSB_" + t.idx + "_scrollbar:first"),
                        s = ["<a href='#' class='mCSB_buttonUp' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonDown' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonLeft' oncontextmenu='return false;' />", "<a href='#' class='mCSB_buttonRight' oncontextmenu='return false;' />"],
                        a = ["x" === i.axis ? s[2] : s[0], "x" === i.axis ? s[3] : s[1], s[2], s[3]];
                    i.scrollButtons.enable && o.prepend(a[0]).append(a[1]).next(".mCSB_scrollTools").prepend(a[2]).append(a[3])
                },
                _maxHeight: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = (t.opt, n("#mCSB_" + t.idx)),
                        o = e.css("max-height"),
                        s = -1 !== o.indexOf("%"),
                        a = e.css("box-sizing");
                    if ("none" !== o) {
                        var l = s ? e.parent().height() * parseInt(o) / 100 : parseInt(o);
                        "border-box" === a && (l -= e.innerHeight() - e.height() + (e.outerHeight() - e.innerHeight())), i.css("max-height", Math.round(l))
                    }
                },
                _setDraggerLength: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = n("#mCSB_" + t.idx),
                        o = n("#mCSB_" + t.idx + "_container"),
                        s = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")],
                        a = [i.height() / o.outerHeight(!1), i.width() / o.outerWidth(!1)],
                        l = [parseInt(s[0].css("min-height")), Math.round(a[0] * s[0].parent().height()), parseInt(s[1].css("min-width")), Math.round(a[1] * s[1].parent().width())],
                        c = u && l[1] < l[0] ? l[0] : l[1],
                        h = u && l[3] < l[2] ? l[2] : l[3];
                    s[0].css({
                        height: c,
                        "max-height": s[0].parent().height() - 10
                    }).find(".mCSB_dragger_bar").css({
                        "line-height": l[0] + "px"
                    }), s[1].css({
                        width: h,
                        "max-width": s[1].parent().width() - 10
                    })
                },
                _scrollRatio: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = n("#mCSB_" + t.idx),
                        o = n("#mCSB_" + t.idx + "_container"),
                        s = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")],
                        a = [o.outerHeight(!1) - i.height(), o.outerWidth(!1) - i.width()],
                        l = [a[0] / (s[0].parent().height() - s[0].height()), a[1] / (s[1].parent().width() - s[1].width())];
                    t.scrollRatio = {
                        y: l[0],
                        x: l[1]
                    }
                },
                _onDragClasses: function(e, t, n) {
                    var i = n ? "mCSB_dragger_onDrag_expanded" : "",
                        r = ["mCSB_dragger_onDrag", "mCSB_scrollTools_onDrag"],
                        o = e.closest(".mCSB_scrollTools");
                    "active" === t ? (e.toggleClass(r[0] + " " + i), o.toggleClass(r[1]), e[0]._draggable = e[0]._draggable ? 0 : 1) : e[0]._draggable || ("hide" === t ? (e.removeClass(r[0]), o.removeClass(r[1])) : (e.addClass(r[0]), o.addClass(r[1])))
                },
                _overflowed: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = n("#mCSB_" + t.idx),
                        o = n("#mCSB_" + t.idx + "_container"),
                        s = null == t.overflowed ? o.height() : o.outerHeight(!1),
                        a = null == t.overflowed ? o.width() : o.outerWidth(!1);
                    return [s > i.height(), a > i.width()]
                },
                _resetContentPosition: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = t.opt,
                        o = n("#mCSB_" + t.idx),
                        s = n("#mCSB_" + t.idx + "_container"),
                        a = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")];
                    if (f._stop(e), ("x" !== i.axis && !t.overflowed[0] || "y" === i.axis && t.overflowed[0]) && a[0].add(s).css("top", 0), "y" !== i.axis && !t.overflowed[1] || "x" === i.axis && t.overflowed[1]) {
                        var l = dx = 0;
                        "rtl" === t.langDir && (l = o.width() - s.outerWidth(!1), dx = Math.abs(l / t.scrollRatio.x)), s.css("left", l), a[1].css("left", dx)
                    }
                },
                _bindEvents: function() {
                    function e() {
                        s = setTimeout(function() {
                            n.event.special.mousewheel ? (clearTimeout(s), f._mousewheel.call(t[0])) : e()
                        }, 1e3)
                    }
                    var t = n(this),
                        i = t.data(r),
                        o = i.opt;
                    if (!i.bindEvents) {
                        if (f._draggable.call(this), o.contentTouchScroll && f._contentDraggable.call(this), o.mouseWheel.enable) {
                            var s;
                            e()
                        }
                        f._draggerRail.call(this), f._wrapperScroll.call(this), o.advanced.autoScrollOnFocus && f._focus.call(this), o.scrollButtons.enable && f._buttons.call(this), o.keyboard.enable && f._keyboard.call(this), i.bindEvents = !0
                    }
                },
                _unbindEvents: function() {
                    var e = n(this),
                        i = e.data(r),
                        o = r + "_" + i.idx,
                        s = ".mCSB_" + i.idx + "_scrollbar",
                        a = n("#mCSB_" + i.idx + ",#mCSB_" + i.idx + "_container,#mCSB_" + i.idx + "_container_wrapper," + s + " .mCSB_draggerContainer,#mCSB_" + i.idx + "_dragger_vertical,#mCSB_" + i.idx + "_dragger_horizontal," + s + ">a"),
                        l = n("#mCSB_" + i.idx + "_container");
                    i.bindEvents && (n(t).unbind("." + o), a.each(function() {
                        n(this).unbind("." + o)
                    }), clearTimeout(e[0]._focusTimeout), f._delete.call(null, e[0]._focusTimeout), clearTimeout(i.sequential.step), f._delete.call(null, i.sequential.step), clearTimeout(l[0].onCompleteTimeout), f._delete.call(null, l[0].onCompleteTimeout), i.bindEvents = !1)
                },
                _scrollbarVisibility: function(e) {
                    var t = n(this),
                        i = t.data(r),
                        o = i.opt,
                        s = n("#mCSB_" + i.idx + "_container_wrapper"),
                        a = s.length ? s : n("#mCSB_" + i.idx + "_container"),
                        l = [n("#mCSB_" + i.idx + "_scrollbar_vertical"), n("#mCSB_" + i.idx + "_scrollbar_horizontal")],
                        c = [l[0].find(".mCSB_dragger"), l[1].find(".mCSB_dragger")];
                    "x" !== o.axis && (i.overflowed[0] && !e ? (l[0].add(c[0]).add(l[0].children("a")).css("display", "block"), a.removeClass("mCS_no_scrollbar_y mCS_y_hidden")) : (o.alwaysShowScrollbar ? (2 !== o.alwaysShowScrollbar && c[0].add(l[0].children("a")).css("display", "none"), a.removeClass("mCS_y_hidden")) : (l[0].css("display", "none"), a.addClass("mCS_y_hidden")), a.addClass("mCS_no_scrollbar_y"))), "y" !== o.axis && (i.overflowed[1] && !e ? (l[1].add(c[1]).add(l[1].children("a")).css("display", "block"), a.removeClass("mCS_no_scrollbar_x mCS_x_hidden")) : (o.alwaysShowScrollbar ? (2 !== o.alwaysShowScrollbar && c[1].add(l[1].children("a")).css("display", "none"), a.removeClass("mCS_x_hidden")) : (l[1].css("display", "none"), a.addClass("mCS_x_hidden")), a.addClass("mCS_no_scrollbar_x"))), i.overflowed[0] || i.overflowed[1] ? t.removeClass("mCS_no_scrollbar") : t.addClass("mCS_no_scrollbar")
                },
                _coordinates: function(e) {
                    var t = e.type;
                    switch (t) {
                        case "pointerdown":
                        case "MSPointerDown":
                        case "pointermove":
                        case "MSPointerMove":
                        case "pointerup":
                        case "MSPointerUp":
                            return [e.originalEvent.pageY, e.originalEvent.pageX];
                        case "touchstart":
                        case "touchmove":
                        case "touchend":
                            var n = e.originalEvent.touches[0] || e.originalEvent.changedTouches[0];
                            return [n.pageY, n.pageX];
                        default:
                            return [e.pageY, e.pageX]
                    }
                },
                _draggable: function() {
                    function e(e) {
                        var t = g.find("iframe");
                        if (t.length) {
                            var n = e ? "auto" : "none";
                            t.css("pointer-events", n)
                        }
                    }

                    function i(e, t, n, i) {
                        if (g[0].idleTimer = d.scrollInertia < 233 ? 250 : 0, o.attr("id") === m[1]) var r = "x",
                            s = (o[0].offsetLeft - t + i) * c.scrollRatio.x;
                        else var r = "y",
                            s = (o[0].offsetTop - e + n) * c.scrollRatio.y;
                        f._scrollTo(l, s.toString(), {
                            dir: r,
                            drag: !0
                        })
                    }
                    var o, s, a, l = n(this),
                        c = l.data(r),
                        d = c.opt,
                        p = r + "_" + c.idx,
                        m = ["mCSB_" + c.idx + "_dragger_vertical", "mCSB_" + c.idx + "_dragger_horizontal"],
                        g = n("#mCSB_" + c.idx + "_container"),
                        v = n("#" + m[0] + ",#" + m[1]);
                    v.bind("mousedown." + p + " touchstart." + p + " pointerdown." + p + " MSPointerDown." + p, function(i) {
                        if (i.stopImmediatePropagation(), i.preventDefault(), f._mouseBtnLeft(i)) {
                            h = !0, u && (t.onselectstart = function() {
                                return !1
                            }), e(!1), f._stop(l), o = n(this);
                            var r = o.offset(),
                                c = f._coordinates(i)[0] - r.top,
                                p = f._coordinates(i)[1] - r.left,
                                m = o.height() + r.top,
                                g = o.width() + r.left;
                            m > c && c > 0 && g > p && p > 0 && (s = c, a = p), f._onDragClasses(o, "active", d.autoExpandScrollbar)
                        }
                    }).bind("touchmove." + p, function(e) {
                        e.stopImmediatePropagation(), e.preventDefault();
                        var t = o.offset(),
                            n = f._coordinates(e)[0] - t.top,
                            r = f._coordinates(e)[1] - t.left;
                        i(s, a, n, r)
                    }), n(t).bind("mousemove." + p + " pointermove." + p + " MSPointerMove." + p, function(e) {
                        if (o) {
                            var t = o.offset(),
                                n = f._coordinates(e)[0] - t.top,
                                r = f._coordinates(e)[1] - t.left;
                            if (s === n) return;
                            i(s, a, n, r)
                        }
                    }).add(v).bind("mouseup." + p + " touchend." + p + " pointerup." + p + " MSPointerUp." + p, function() {
                        o && (f._onDragClasses(o, "active", d.autoExpandScrollbar), o = null), h = !1, u && (t.onselectstart = null), e(!0)
                    })
                },
                _contentDraggable: function() {
                    function e(e, t) {
                        var n = [1.5 * t, 2 * t, t / 1.5, t / 2];
                        return e > 90 ? t > 4 ? n[0] : n[3] : e > 60 ? t > 3 ? n[3] : n[2] : e > 30 ? t > 8 ? n[1] : t > 6 ? n[0] : t > 4 ? t : n[2] : t > 8 ? t : n[3]
                    }

                    function t(e, t, n, i, r, o) {
                        e && f._scrollTo(v, e.toString(), {
                            dur: t,
                            scrollEasing: n,
                            dir: i,
                            overwrite: r,
                            drag: o
                        })
                    }
                    var i, o, s, a, l, c, u, d, p, m, g, v = n(this),
                        y = v.data(r),
                        b = y.opt,
                        w = r + "_" + y.idx,
                        _ = n("#mCSB_" + y.idx),
                        x = n("#mCSB_" + y.idx + "_container"),
                        $ = [n("#mCSB_" + y.idx + "_dragger_vertical"), n("#mCSB_" + y.idx + "_dragger_horizontal")],
                        C = [],
                        k = [],
                        S = 0,
                        T = "yx" === b.axis ? "none" : "all";
                    x.bind("touchstart." + w + " pointerdown." + w + " MSPointerDown." + w, function(e) {
                        if (f._pointerTouch(e) && !h) {
                            var t = x.offset();
                            i = f._coordinates(e)[0] - t.top, o = f._coordinates(e)[1] - t.left
                        }
                    }).bind("touchmove." + w + " pointermove." + w + " MSPointerMove." + w, function(e) {
                        if (f._pointerTouch(e) && !h) {
                            e.stopImmediatePropagation(), c = f._getTime();
                            var n = _.offset(),
                                r = f._coordinates(e)[0] - n.top,
                                s = f._coordinates(e)[1] - n.left,
                                a = "mcsLinearOut";
                            if (C.push(r), k.push(s), y.overflowed[0]) var l = $[0].parent().height() - $[0].height(),
                                u = i - r > 0 && r - i > -(l * y.scrollRatio.y);
                            if (y.overflowed[1]) var d = $[1].parent().width() - $[1].width(),
                                p = o - s > 0 && s - o > -(d * y.scrollRatio.x);
                            (u || p) && e.preventDefault(), m = "yx" === b.axis ? [i - r, o - s] : "x" === b.axis ? [null, o - s] : [i - r, null], x[0].idleTimer = 250, y.overflowed[0] && t(m[0], S, a, "y", "all", !0), y.overflowed[1] && t(m[1], S, a, "x", T, !0)
                        }
                    }), _.bind("touchstart." + w + " pointerdown." + w + " MSPointerDown." + w, function(e) {
                        if (f._pointerTouch(e) && !h) {
                            e.stopImmediatePropagation(), f._stop(v), l = f._getTime();
                            var t = _.offset();
                            s = f._coordinates(e)[0] - t.top, a = f._coordinates(e)[1] - t.left, C = [], k = []
                        }
                    }).bind("touchend." + w + " pointerup." + w + " MSPointerUp." + w, function(n) {
                        if (f._pointerTouch(n) && !h) {
                            n.stopImmediatePropagation(), u = f._getTime();
                            var i = _.offset(),
                                r = f._coordinates(n)[0] - i.top,
                                o = f._coordinates(n)[1] - i.left;
                            if (!(u - c > 30)) {
                                p = 1e3 / (u - l);
                                var v = "mcsEaseOut",
                                    w = 2.5 > p,
                                    $ = w ? [C[C.length - 2], k[k.length - 2]] : [0, 0];
                                d = w ? [r - $[0], o - $[1]] : [r - s, o - a];
                                var S = [Math.abs(d[0]), Math.abs(d[1])];
                                p = w ? [Math.abs(d[0] / 4), Math.abs(d[1] / 4)] : [p, p];
                                var E = [Math.abs(x[0].offsetTop) - d[0] * e(S[0] / p[0], p[0]), Math.abs(x[0].offsetLeft) - d[1] * e(S[1] / p[1], p[1])];
                                m = "yx" === b.axis ? [E[0], E[1]] : "x" === b.axis ? [null, E[1]] : [E[0], null], g = [4 * S[0] + b.scrollInertia, 4 * S[1] + b.scrollInertia];
                                var D = parseInt(b.contentTouchScroll) || 0;
                                m[0] = S[0] > D ? m[0] : 0, m[1] = S[1] > D ? m[1] : 0, y.overflowed[0] && t(m[0], g[0], v, "y", T, !1), y.overflowed[1] && t(m[1], g[1], v, "x", T, !1)
                            }
                        }
                    })
                },
                _mousewheel: function() {
                    var e = n(this),
                        t = e.data(r);
                    if (t) {
                        var i = t.opt,
                            o = r + "_" + t.idx,
                            s = n("#mCSB_" + t.idx),
                            a = [n("#mCSB_" + t.idx + "_dragger_vertical"), n("#mCSB_" + t.idx + "_dragger_horizontal")];
                        s.bind("mousewheel." + o, function(r, o) {
                            if (f._stop(e), !f._disableMousewheel(e, r.target)) {
                                var l = "auto" !== i.mouseWheel.deltaFactor ? parseInt(i.mouseWheel.deltaFactor) : u && r.deltaFactor < 100 ? 100 : r.deltaFactor < 40 ? 40 : r.deltaFactor || 100;
                                if ("x" === i.axis || "x" === i.mouseWheel.axis) var c = "x",
                                    h = [Math.round(l * t.scrollRatio.x), parseInt(i.mouseWheel.scrollAmount)],
                                    d = "auto" !== i.mouseWheel.scrollAmount ? h[1] : h[0] >= s.width() ? .9 * s.width() : h[0],
                                    p = Math.abs(n("#mCSB_" + t.idx + "_container")[0].offsetLeft),
                                    m = a[1][0].offsetLeft,
                                    g = a[1].parent().width() - a[1].width(),
                                    v = r.deltaX || r.deltaY || o;
                                else var c = "y",
                                    h = [Math.round(l * t.scrollRatio.y), parseInt(i.mouseWheel.scrollAmount)],
                                    d = "auto" !== i.mouseWheel.scrollAmount ? h[1] : h[0] >= s.height() ? .9 * s.height() : h[0],
                                    p = Math.abs(n("#mCSB_" + t.idx + "_container")[0].offsetTop),
                                    m = a[0][0].offsetTop,
                                    g = a[0].parent().height() - a[0].height(),
                                    v = r.deltaY || o;
                                "y" === c && !t.overflowed[0] || "x" === c && !t.overflowed[1] || (i.mouseWheel.invert && (v = -v), i.mouseWheel.normalizeDelta && (v = 0 > v ? -1 : 1), (v > 0 && 0 !== m || 0 > v && m !== g || i.mouseWheel.preventDefault) && (r.stopImmediatePropagation(), r.preventDefault()), f._scrollTo(e, (p - v * d).toString(), {
                                    dir: c
                                }))
                            }
                        })
                    }
                },
                _disableMousewheel: function(e, t) {
                    var i = t.nodeName.toLowerCase(),
                        o = e.data(r).opt.mouseWheel.disableOver,
                        s = ["select", "textarea"];
                    return n.inArray(i, o) > -1 && !(n.inArray(i, s) > -1 && !n(t).is(":focus"))
                },
                _draggerRail: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = r + "_" + t.idx,
                        o = n("#mCSB_" + t.idx + "_container"),
                        s = o.parent(),
                        a = n(".mCSB_" + t.idx + "_scrollbar .mCSB_draggerContainer");
                    a.bind("touchstart." + i + " pointerdown." + i + " MSPointerDown." + i, function() {
                        h = !0
                    }).bind("touchend." + i + " pointerup." + i + " MSPointerUp." + i, function() {
                        h = !1
                    }).bind("click." + i, function(i) {
                        if (n(i.target).hasClass("mCSB_draggerContainer") || n(i.target).hasClass("mCSB_draggerRail")) {
                            f._stop(e);
                            var r = n(this),
                                a = r.find(".mCSB_dragger");
                            if (r.parent(".mCSB_scrollTools_horizontal").length > 0) {
                                if (!t.overflowed[1]) return;
                                var l = "x",
                                    c = i.pageX > a.offset().left ? -1 : 1,
                                    u = Math.abs(o[0].offsetLeft) - .9 * c * s.width()
                            } else {
                                if (!t.overflowed[0]) return;
                                var l = "y",
                                    c = i.pageY > a.offset().top ? -1 : 1,
                                    u = Math.abs(o[0].offsetTop) - .9 * c * s.height()
                            }
                            f._scrollTo(e, u.toString(), {
                                dir: l,
                                scrollEasing: "mcsEaseInOut"
                            })
                        }
                    })
                },
                _focus: function() {
                    var e = n(this),
                        i = e.data(r),
                        o = i.opt,
                        s = r + "_" + i.idx,
                        a = n("#mCSB_" + i.idx + "_container"),
                        l = a.parent();
                    a.bind("focusin." + s, function() {
                        var i = n(t.activeElement),
                            r = a.find(".mCustomScrollBox").length,
                            s = 0;
                        i.is(o.advanced.autoScrollOnFocus) && (f._stop(e), clearTimeout(e[0]._focusTimeout), e[0]._focusTimer = r ? (s + 17) * r : 0, e[0]._focusTimeout = setTimeout(function() {
                            var t = [i.offset().top - a.offset().top, i.offset().left - a.offset().left],
                                n = [a[0].offsetTop, a[0].offsetLeft],
                                r = [n[0] + t[0] >= 0 && n[0] + t[0] < l.height() - i.outerHeight(!1), n[1] + t[1] >= 0 && n[0] + t[1] < l.width() - i.outerWidth(!1)],
                                c = "yx" !== o.axis || r[0] || r[1] ? "all" : "none";
                            "x" === o.axis || r[0] || f._scrollTo(e, t[0].toString(), {
                                dir: "y",
                                scrollEasing: "mcsEaseInOut",
                                overwrite: c,
                                dur: s
                            }), "y" === o.axis || r[1] || f._scrollTo(e, t[1].toString(), {
                                dir: "x",
                                scrollEasing: "mcsEaseInOut",
                                overwrite: c,
                                dur: s
                            })
                        }, e[0]._focusTimer))
                    })
                },
                _wrapperScroll: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = r + "_" + t.idx,
                        o = n("#mCSB_" + t.idx + "_container").parent();
                    o.bind("scroll." + i, function() {
                        o.scrollTop(0).scrollLeft(0)
                    })
                },
                _buttons: function() {
                    var e = n(this),
                        t = e.data(r),
                        i = t.opt,
                        o = t.sequential,
                        s = r + "_" + t.idx,
                        a = (n("#mCSB_" + t.idx + "_container"), ".mCSB_" + t.idx + "_scrollbar"),
                        l = n(a + ">a");
                    l.bind("mousedown." + s + " touchstart." + s + " pointerdown." + s + " MSPointerDown." + s + " mouseup." + s + " touchend." + s + " pointerup." + s + " MSPointerUp." + s + " mouseout." + s + " pointerout." + s + " MSPointerOut." + s + " click." + s, function(r) {
                        function s(t, n) {
                            o.scrollAmount = i.snapAmount || i.scrollButtons.scrollAmount, f._sequentialScroll.call(this, e, t, n)
                        }
                        if (r.preventDefault(), f._mouseBtnLeft(r)) {
                            var a = n(this).attr("class");
                            switch (o.type = i.scrollButtons.scrollType, r.type) {
                                case "mousedown":
                                case "touchstart":
                                case "pointerdown":
                                case "MSPointerDown":
                                    if ("stepped" === o.type) return;
                                    h = !0, t.tweenRunning = !1, s("on", a);
                                    break;
                                case "mouseup":
                                case "touchend":
                                case "pointerup":
                                case "MSPointerUp":
                                case "mouseout":
                                case "pointerout":
                                case "MSPointerOut":
                                    if ("stepped" === o.type) return;
                                    h = !1, o.dir && s("off", a);
                                    break;
                                case "click":
                                    if ("stepped" !== o.type || t.tweenRunning) return;
                                    s("on", a)
                            }
                        }
                    })
                },
                _keyboard: function() {
                    var e = n(this),
                        i = e.data(r),
                        o = i.opt,
                        s = i.sequential,
                        a = r + "_" + i.idx,
                        l = n("#mCSB_" + i.idx),
                        c = n("#mCSB_" + i.idx + "_container"),
                        u = c.parent(),
                        h = "input,textarea,select,datalist,keygen,[contenteditable='true']";
                    l.attr("tabindex", "0").bind("blur." + a + " keydown." + a + " keyup." + a, function(r) {
                        function a(t, n) {
                            s.type = o.keyboard.scrollType, s.scrollAmount = o.snapAmount || o.keyboard.scrollAmount, "stepped" === s.type && i.tweenRunning || f._sequentialScroll.call(this, e, t, n)
                        }
                        switch (r.type) {
                            case "blur":
                                i.tweenRunning && s.dir && a("off", null);
                                break;
                            case "keydown":
                            case "keyup":
                                var l = r.keyCode ? r.keyCode : r.which,
                                    d = "on";
                                if ("x" !== o.axis && (38 === l || 40 === l) || "y" !== o.axis && (37 === l || 39 === l)) {
                                    if ((38 === l || 40 === l) && !i.overflowed[0] || (37 === l || 39 === l) && !i.overflowed[1]) return;
                                    "keyup" === r.type && (d = "off"), n(t.activeElement).is(h) || (r.preventDefault(), r.stopImmediatePropagation(), a(d, l))
                                } else if (33 === l || 34 === l) {
                                    if ((i.overflowed[0] || i.overflowed[1]) && (r.preventDefault(), r.stopImmediatePropagation()), "keyup" === r.type) {
                                        f._stop(e);
                                        var p = 34 === l ? -1 : 1;
                                        if ("x" === o.axis || "yx" === o.axis && i.overflowed[1] && !i.overflowed[0]) var m = "x",
                                            g = Math.abs(c[0].offsetLeft) - .9 * p * u.width();
                                        else var m = "y",
                                            g = Math.abs(c[0].offsetTop) - .9 * p * u.height();
                                        f._scrollTo(e, g.toString(), {
                                            dir: m,
                                            scrollEasing: "mcsEaseInOut"
                                        })
                                    }
                                } else if ((35 === l || 36 === l) && !n(t.activeElement).is(h) && ((i.overflowed[0] || i.overflowed[1]) && (r.preventDefault(), r.stopImmediatePropagation()), "keyup" === r.type)) {
                                    if ("x" === o.axis || "yx" === o.axis && i.overflowed[1] && !i.overflowed[0]) var m = "x",
                                        g = 35 === l ? Math.abs(u.width() - c.outerWidth(!1)) : 0;
                                    else var m = "y",
                                        g = 35 === l ? Math.abs(u.height() - c.outerHeight(!1)) : 0;
                                    f._scrollTo(e, g.toString(), {
                                        dir: m,
                                        scrollEasing: "mcsEaseInOut"
                                    })
                                }
                        }
                    })
                },
                _sequentialScroll: function(e, t, i) {
                    function o(t) {
                        var n = "stepped" !== c.type,
                            i = t ? n ? l.scrollInertia / 1.5 : l.scrollInertia : 1e3 / 60,
                            r = t ? n ? 7.5 : 40 : 2.5,
                            s = [Math.abs(u[0].offsetTop), Math.abs(u[0].offsetLeft)],
                            h = [a.scrollRatio.y > 10 ? 10 : a.scrollRatio.y, a.scrollRatio.x > 10 ? 10 : a.scrollRatio.x],
                            d = "x" === c.dir[0] ? s[1] + c.dir[1] * h[1] * r : s[0] + c.dir[1] * h[0] * r,
                            p = "x" === c.dir[0] ? s[1] + c.dir[1] * parseInt(c.scrollAmount) : s[0] + c.dir[1] * parseInt(c.scrollAmount),
                            m = "auto" !== c.scrollAmount ? p : d,
                            g = t ? n ? "mcsLinearOut" : "mcsEaseInOut" : "mcsLinear",
                            v = t ? !0 : !1;
                        return t && 17 > i && (m = "x" === c.dir[0] ? s[1] : s[0]), f._scrollTo(e, m.toString(), {
                            dir: c.dir[0],
                            scrollEasing: g,
                            dur: i,
                            onComplete: v
                        }), t ? void(c.dir = !1) : (clearTimeout(c.step), void(c.step = setTimeout(function() {
                            o()
                        }, i)))
                    }

                    function s() {
                        clearTimeout(c.step), f._stop(e)
                    }
                    var a = e.data(r),
                        l = a.opt,
                        c = a.sequential,
                        u = n("#mCSB_" + a.idx + "_container"),
                        h = "stepped" === c.type ? !0 : !1;
                    switch (t) {
                        case "on":
                            if (c.dir = ["mCSB_buttonRight" === i || "mCSB_buttonLeft" === i || 39 === i || 37 === i ? "x" : "y", "mCSB_buttonUp" === i || "mCSB_buttonLeft" === i || 38 === i || 37 === i ? -1 : 1], f._stop(e), f._isNumeric(i) && "stepped" === c.type) return;
                            o(h);
                            break;
                        case "off":
                            s(), (h || a.tweenRunning && c.dir) && o(!0)
                    }
                },
                _arr: function(e) {
                    var t = n(this).data(r).opt,
                        i = [];
                    return "function" == typeof e && (e = e()), e instanceof Array ? i = e.length > 1 ? [e[0], e[1]] : "x" === t.axis ? [null, e[0]] : [e[0], null] : (i[0] = e.y ? e.y : e.x || "x" === t.axis ? null : e, i[1] = e.x ? e.x : e.y || "y" === t.axis ? null : e), "function" == typeof i[0] && (i[0] = i[0]()), "function" == typeof i[1] && (i[1] = i[1]()), i
                },
                _to: function(e, t) {
                    if (null != e && "undefined" != typeof e) {
                        var i = n(this),
                            o = i.data(r),
                            s = o.opt,
                            a = n("#mCSB_" + o.idx + "_container"),
                            l = a.parent(),
                            c = typeof e;
                        t || (t = "x" === s.axis ? "x" : "y");
                        var u = "x" === t ? a.outerWidth(!1) : a.outerHeight(!1),
                            h = "x" === t ? a.offset().left : a.offset().top,
                            p = "x" === t ? a[0].offsetLeft : a[0].offsetTop,
                            m = "x" === t ? "left" : "top";
                        switch (c) {
                            case "function":
                                return e();
                            case "object":
                                if (e.nodeType) var g = "x" === t ? n(e).offset().left : n(e).offset().top;
                                else if (e.jquery) {
                                    if (!e.length) return;
                                    var g = "x" === t ? e.offset().left : e.offset().top
                                }
                                return g - h;
                            case "string":
                            case "number":
                                if (f._isNumeric.call(null, e)) return Math.abs(e);
                                if (-1 !== e.indexOf("%")) return Math.abs(u * parseInt(e) / 100);
                                if (-1 !== e.indexOf("-=")) return Math.abs(p - parseInt(e.split("-=")[1]));
                                if (-1 !== e.indexOf("+=")) {
                                    var v = p + parseInt(e.split("+=")[1]);
                                    return v >= 0 ? 0 : Math.abs(v)
                                }
                                if (-1 !== e.indexOf("px") && f._isNumeric.call(null, e.split("px")[0])) return Math.abs(e.split("px")[0]);
                                if ("top" === e || "left" === e) return 0;
                                if ("bottom" === e) return Math.abs(l.height() - a.outerHeight(!1));
                                if ("right" === e) return Math.abs(l.width() - a.outerWidth(!1));
                                if ("first" === e || "last" === e) {
                                    var y = a.find(":" + e),
                                        g = "x" === t ? n(y).offset().left : n(y).offset().top;
                                    return g - h
                                }
                                if (n(e).length) {
                                    var g = "x" === t ? n(e).offset().left : n(e).offset().top;
                                    return g - h
                                }
                                return a.css(m, e), void d.update.call(null, i[0])
                        }
                    }
                },
                _autoUpdate: function(e) {
                    function t() {
                        clearTimeout(h[0].autoUpdate), h[0].autoUpdate = setTimeout(function() {
                            return u.advanced.updateOnSelectorChange && (p = s(), p !== w) ? (a(), void(w = p)) : (u.advanced.updateOnContentResize && (m = [h.outerHeight(!1), h.outerWidth(!1), v.height(), v.width(), b()[0], b()[1]], (m[0] !== _[0] || m[1] !== _[1] || m[2] !== _[2] || m[3] !== _[3] || m[4] !== _[4] || m[5] !== _[5]) && (a(), _ = m)), u.advanced.updateOnImageLoad && (g = i(), g !== x && (h.find("img").each(function() {
                                o(this.src)
                            }), x = g)), void((u.advanced.updateOnSelectorChange || u.advanced.updateOnContentResize || u.advanced.updateOnImageLoad) && t()))
                        }, 60)
                    }

                    function i() {
                        var e = 0;
                        return u.advanced.updateOnImageLoad && (e = h.find("img").length), e
                    }

                    function o(e) {
                        function t(e, t) {
                            return function() {
                                return t.apply(e, arguments)
                            }
                        }

                        function n() {
                            this.onload = null, a()
                        }
                        var i = new Image;
                        i.onload = t(i, n), i.src = e
                    }

                    function s() {
                        u.advanced.updateOnSelectorChange === !0 && (u.advanced.updateOnSelectorChange = "*");
                        var e = 0,
                            t = h.find(u.advanced.updateOnSelectorChange);
                        return u.advanced.updateOnSelectorChange && t.length > 0 && t.each(function() {
                            e += n(this).height() + n(this).width()
                        }), e
                    }

                    function a() {
                        clearTimeout(h[0].autoUpdate), d.update.call(null, l[0])
                    }
                    var l = n(this),
                        c = l.data(r),
                        u = c.opt,
                        h = n("#mCSB_" + c.idx + "_container");
                    if (e) return clearTimeout(h[0].autoUpdate), void f._delete.call(null, h[0].autoUpdate);
                    var p, m, g, v = h.parent(),
                        y = [n("#mCSB_" + c.idx + "_scrollbar_vertical"), n("#mCSB_" + c.idx + "_scrollbar_horizontal")],
                        b = function() {
                            return [y[0].is(":visible") ? y[0].outerHeight(!0) : 0, y[1].is(":visible") ? y[1].outerWidth(!0) : 0]
                        },
                        w = s(),
                        _ = [h.outerHeight(!1), h.outerWidth(!1), v.height(), v.width(), b()[0], b()[1]],
                        x = i();
                    t()
                },
                _snapAmount: function(e, t, n) {
                    return Math.round(e / t) * t - n
                },
                _stop: function(e) {
                    var t = e.data(r),
                        i = n("#mCSB_" + t.idx + "_container,#mCSB_" + t.idx + "_container_wrapper,#mCSB_" + t.idx + "_dragger_vertical,#mCSB_" + t.idx + "_dragger_horizontal");
                    i.each(function() {
                        f._stopTween.call(this)
                    })
                },
                _scrollTo: function(e, t, i) {
                    function o(e) {
                        return l && c.callbacks[e] && "function" == typeof c.callbacks[e]
                    }

                    function s() {
                        return [c.callbacks.alwaysTriggerOffsets || b >= w[0] + x, c.callbacks.alwaysTriggerOffsets || -$ >= b]
                    }

                    function a() {
                        var t = [p[0].offsetTop, p[0].offsetLeft],
                            n = [v[0].offsetTop, v[0].offsetLeft],
                            r = [p.outerHeight(!1), p.outerWidth(!1)],
                            o = [d.height(), d.width()];
                        e[0].mcs = {
                            content: p,
                            top: t[0],
                            left: t[1],
                            draggerTop: n[0],
                            draggerLeft: n[1],
                            topPct: Math.round(100 * Math.abs(t[0]) / (Math.abs(r[0]) - o[0])),
                            leftPct: Math.round(100 * Math.abs(t[1]) / (Math.abs(r[1]) - o[1])),
                            direction: i.dir
                        }
                    }
                    var l = e.data(r),
                        c = l.opt,
                        u = {
                            trigger: "internal",
                            dir: "y",
                            scrollEasing: "mcsEaseOut",
                            drag: !1,
                            dur: c.scrollInertia,
                            overwrite: "all",
                            callbacks: !0,
                            onStart: !0,
                            onUpdate: !0,
                            onComplete: !0
                        },
                        i = n.extend(u, i),
                        h = [i.dur, i.drag ? 0 : i.dur],
                        d = n("#mCSB_" + l.idx),
                        p = n("#mCSB_" + l.idx + "_container"),
                        m = c.callbacks.onTotalScrollOffset ? f._arr.call(e, c.callbacks.onTotalScrollOffset) : [0, 0],
                        g = c.callbacks.onTotalScrollBackOffset ? f._arr.call(e, c.callbacks.onTotalScrollBackOffset) : [0, 0];
                    switch (l.trigger = i.trigger, c.snapAmount && (t = f._snapAmount(t, c.snapAmount, c.snapOffset)), i.dir) {
                        case "x":
                            var v = n("#mCSB_" + l.idx + "_dragger_horizontal"),
                                y = "left",
                                b = p[0].offsetLeft,
                                w = [d.width() - p.outerWidth(!1), v.parent().width() - v.width()],
                                _ = [t, t / l.scrollRatio.x],
                                x = m[1],
                                $ = g[1],
                                C = x > 0 ? x / l.scrollRatio.x : 0,
                                k = $ > 0 ? $ / l.scrollRatio.x : 0;
                            break;
                        case "y":
                            var v = n("#mCSB_" + l.idx + "_dragger_vertical"),
                                y = "top",
                                b = p[0].offsetTop,
                                w = [d.height() - p.outerHeight(!1), v.parent().height() - v.height()],
                                _ = [t, t / l.scrollRatio.y],
                                x = m[0],
                                $ = g[0],
                                C = x > 0 ? x / l.scrollRatio.y : 0,
                                k = $ > 0 ? $ / l.scrollRatio.y : 0
                    }
                    _[1] < 0 ? _ = [0, 0] : _[1] >= w[1] ? _ = [w[0], w[1]] : _[0] = -_[0], clearTimeout(p[0].onCompleteTimeout), (l.tweenRunning || !(0 === b && _[0] >= 0 || b === w[0] && _[0] <= w[0])) && (f._tweenTo.call(null, v[0], y, Math.round(_[1]), h[1], i.scrollEasing), f._tweenTo.call(null, p[0], y, Math.round(_[0]), h[0], i.scrollEasing, i.overwrite, {
                        onStart: function() {
                            i.callbacks && i.onStart && !l.tweenRunning && (o("onScrollStart") && (a(), c.callbacks.onScrollStart.call(e[0])), l.tweenRunning = !0, f._onDragClasses(v), l.cbOffsets = s())
                        },
                        onUpdate: function() {
                            i.callbacks && i.onUpdate && o("whileScrolling") && (a(), c.callbacks.whileScrolling.call(e[0]))
                        },
                        onComplete: function() {
                            if (i.callbacks && i.onComplete) {
                                "yx" === c.axis && clearTimeout(p[0].onCompleteTimeout);
                                var t = p[0].idleTimer || 0;
                                p[0].onCompleteTimeout = setTimeout(function() {
                                    o("onScroll") && (a(), c.callbacks.onScroll.call(e[0])), o("onTotalScroll") && _[1] >= w[1] - C && l.cbOffsets[0] && (a(), c.callbacks.onTotalScroll.call(e[0])), o("onTotalScrollBack") && _[1] <= k && l.cbOffsets[1] && (a(), c.callbacks.onTotalScrollBack.call(e[0])), l.tweenRunning = !1, p[0].idleTimer = 0, f._onDragClasses(v, "hide")
                                }, t)
                            }
                        }
                    }))
                },
                _tweenTo: function(t, n, i, r, o, s, a) {
                    function l() {
                        t._mcsstop || (b || m.call(), b = f._getTime() - y, c(), b >= t._mcstime && (t._mcstime = b > t._mcstime ? b + p - (b - t._mcstime) : b + p - 1, t._mcstime < b + 1 && (t._mcstime = b + 1)), t._mcstime < r ? t._mcsid = _request(l) : v.call())
                    }

                    function c() {
                        r > 0 ? (t._mcscurrVal = d(t._mcstime, w, x, r, o), _[n] = Math.round(t._mcscurrVal) + "px") : _[n] = i + "px", g.call()
                    }

                    function u() {
                        p = 1e3 / 60, t._mcstime = b + p, _request = e.requestAnimationFrame ? e.requestAnimationFrame : function(e) {
                            return c(), setTimeout(e, .01)
                        }, t._mcsid = _request(l)
                    }

                    function h() {
                        null != t._mcsid && (e.requestAnimationFrame ? e.cancelAnimationFrame(t._mcsid) : clearTimeout(t._mcsid), t._mcsid = null)
                    }

                    function d(e, t, n, i, r) {
                        switch (r) {
                            case "linear":
                            case "mcsLinear":
                                return n * e / i + t;
                            case "mcsLinearOut":
                                return e /= i, e--, n * Math.sqrt(1 - e * e) + t;
                            case "easeInOutSmooth":
                                return e /= i / 2, 1 > e ? n / 2 * e * e + t : (e--, -n / 2 * (e * (e - 2) - 1) + t);
                            case "easeInOutStrong":
                                return e /= i / 2, 1 > e ? n / 2 * Math.pow(2, 10 * (e - 1)) + t : (e--, n / 2 * (-Math.pow(2, -10 * e) + 2) + t);
                            case "easeInOut":
                            case "mcsEaseInOut":
                                return e /= i / 2, 1 > e ? n / 2 * e * e * e + t : (e -= 2, n / 2 * (e * e * e + 2) + t);
                            case "easeOutSmooth":
                                return e /= i, e--, -n * (e * e * e * e - 1) + t;
                            case "easeOutStrong":
                                return n * (-Math.pow(2, -10 * e / i) + 1) + t;
                            case "easeOut":
                            case "mcsEaseOut":
                            default:
                                var o = (e /= i) * e,
                                    s = o * e;
                                return t + n * (.499999999999997 * s * o + -2.5 * o * o + 5.5 * s + -6.5 * o + 4 * e)
                        }
                    }
                    var p, a = a || {},
                        m = a.onStart || function() {},
                        g = a.onUpdate || function() {},
                        v = a.onComplete || function() {},
                        y = f._getTime(),
                        b = 0,
                        w = t.offsetTop,
                        _ = t.style;
                    "left" === n && (w = t.offsetLeft);
                    var x = i - w;
                    t._mcsstop = 0, "none" !== s && h(), u()
                },
                _getTime: function() {
                    return e.performance && e.performance.now ? e.performance.now() : e.performance && e.performance.webkitNow ? e.performance.webkitNow() : Date.now ? Date.now() : (new Date).getTime()
                },
                _stopTween: function() {
                    var t = this;
                    null != t._mcsid && (e.requestAnimationFrame ? e.cancelAnimationFrame(t._mcsid) : clearTimeout(t._mcsid), t._mcsid = null, t._mcsstop = 1)
                },
                _delete: function(e) {
                    try {
                        delete e
                    } catch (t) {
                        e = null
                    }
                },
                _mouseBtnLeft: function(e) {
                    return !(e.which && 1 !== e.which)
                },
                _pointerTouch: function(e) {
                    var t = e.originalEvent.pointerType;
                    return !(t && "touch" !== t && 2 !== t)
                },
                _isNumeric: function(e) {
                    return !isNaN(parseFloat(e)) && isFinite(e)
                }
            };
        n.fn[i] = function(e) {
            return d[e] ? d[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? void n.error("Method " + e + " does not exist") : d.init.apply(this, arguments)
        }, n[i] = function(e) {
            return d[e] ? d[e].apply(this, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? void n.error("Method " + e + " does not exist") : d.init.apply(this, arguments)
        }, n[i].defaults = s, e[i] = !0, n(e).load(function() {
            n(o)[i]()
        })
    })
}(window, document),
function(e) {
    function t(t) {
        var n = t || window.event,
            i = [].slice.call(arguments, 1),
            r = 0,
            o = 0,
            s = 0;
        return t = e.event.fix(n), t.type = "mousewheel", n.wheelDelta && (r = n.wheelDelta / 120), n.detail && (r = -n.detail / 3), s = r, void 0 !== n.axis && n.axis === n.HORIZONTAL_AXIS && (s = 0, o = -1 * r), void 0 !== n.wheelDeltaY && (s = n.wheelDeltaY / 120), void 0 !== n.wheelDeltaX && (o = -1 * n.wheelDeltaX / 120), i.unshift(t, r, o, s), (e.event.dispatch || e.event.handle).apply(this, i)
    }
    var n = ["DOMMouseScroll", "mousewheel"];
    if (e.event.fixHooks)
        for (var i = n.length; i;) e.event.fixHooks[n[--i]] = e.event.mouseHooks;
    e.event.special.mousewheel = {
        setup: function() {
            if (this.addEventListener)
                for (var e = n.length; e;) this.addEventListener(n[--e], t, !1);
            else this.onmousewheel = t
        },
        teardown: function() {
            if (this.removeEventListener)
                for (var e = n.length; e;) this.removeEventListener(n[--e], t, !1);
            else this.onmousewheel = null
        }
    }, e.fn.extend({
        mousewheel: function(e) {
            return e ? this.bind("mousewheel", e) : this.trigger("mousewheel")
        },
        unmousewheel: function(e) {
            return this.unbind("mousewheel", e)
        }
    })
}(jQuery),
function(e) {
    function t(t) {
        var n = e.Toggles = function(e, n) {
            if ("boolean" == typeof n && e.data("toggles")) e.data("toggles").toggle(n);
            else {
                for (var i = "on drag click width height animate easing type checkbox".split(" "), r = {}, o = 0; o < i.length; o++) {
                    var s = e.data("toggle-" + i[o]);
                    "undefined" != typeof s && (r[i[o]] = s)
                }
                n = this.b = t.extend({
                    drag: !0,
                    click: !0,
                    text: {
                        on: "ON",
                        off: "OFF"
                    },
                    on: !1,
                    animate: 250,
                    easing: "swing",
                    checkbox: null,
                    clicker: null,
                    width: 50,
                    height: 20,
                    type: "compact",
                    event: "toggle"
                }, n || {}, r), this.c = e, e.data("toggles", this), this.h = "select" === n.type, this.l = t(n.checkbox), n.clicker && (this.n = t(n.clicker)), this.m(), this.k(), this.active = !n.on, this.toggle(n.on, !0, !0)
            }
        };
        n.prototype.m = function() {
            function e(e) {
                return t('<div class="toggle-' + e + '">')
            }
            var n = this.c.height(),
                i = this.c.width();
            n || this.c.height(n = this.b.height), i || this.c.width(i = this.b.width), this.g = n, this.i = i, this.a = {
                f: e("slide"),
                e: e("inner"),
                on: e("on"),
                off: e("off"),
                d: e("blob")
            };
            var r = n / 2,
                o = i - r,
                s = this.h;
            this.a.on.css({
                height: n,
                width: o,
                textIndent: s ? "" : -r,
                lineHeight: n + "px"
            }).html(this.b.text.on), this.a.off.css({
                height: n,
                width: o,
                marginLeft: s ? "" : -r,
                textIndent: s ? "" : r,
                lineHeight: n + "px"
            }).html(this.b.text.off), this.a.d.css({
                height: n,
                width: n,
                marginLeft: -r
            }), this.a.e.css({
                width: 2 * i - n,
                marginLeft: s || this.active ? 0 : -i + n
            }), this.h && (this.a.f.addClass("toggle-select"), this.c.css("width", 2 * o), this.a.d.hide()), this.a.e.append(this.a.on, this.a.d, this.a.off), this.a.f.html(this.a.e), this.c.html(this.a.f)
        }, n.prototype.k = function() {
            function e(e) {
                e.target === t.a.d[0] && t.b.drag || t.toggle()
            }
            var t = this;
            !t.b.click || t.b.clicker && t.b.clicker.has(t.c).length || t.c.on("click", e), t.b.clicker && t.b.clicker.on("click", e), t.b.drag && !t.h && t.j()
        }, n.prototype.j = function() {
            function e(e) {
                n.c.off("mousemove"), n.a.f.off("mouseleave"), n.a.d.off("mouseup"), !t && n.b.click && "mouseleave" !== e.type ? n.toggle() : (n.active ? -i > t : t > i) ? n.toggle() : n.a.e.stop().animate({
                    marginLeft: n.active ? 0 : -n.i + n.g
                }, n.b.animate / 2)
            }
            var t, n = this,
                i = (n.i - n.g) / 4,
                r = -n.i + n.g;
            n.a.d.on("mousedown", function(i) {
                t = 0, n.a.d.off("mouseup"), n.a.f.off("mouseleave");
                var o = i.pageX;
                n.c.on("mousemove", n.a.d, function(e) {
                    t = e.pageX - o, n.active ? (e = t, t > 0 && (e = 0), r > t && (e = r)) : (e = t + r, 0 > t && (e = r), t > -r && (e = 0)), n.a.e.css("margin-left", e)
                }), n.a.d.on("mouseup", e), n.a.f.on("mouseleave", e)
            })
        }, n.prototype.toggle = function(e, t, n) {
            this.active !== e && (e = this.active = !this.active, this.c.data("toggle-active", e), this.a.off.toggleClass("active", !e), this.a.on.toggleClass("active", e), this.l.prop("checked", e), n || this.c.trigger(this.b.event, e), this.h || (n = e ? 0 : -this.i + this.g, this.a.e.stop().animate({
                marginLeft: n
            }, t ? 0 : this.b.animate)))
        }, t.fn.toggles = function(e) {
            return this.each(function() {
                new n(t(this), e)
            })
        }
    }
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(e.jQuery || e.Zepto || e.ender || e.$ || $)
}(this),
function(e, t) {
    "use strict";
    var n, i = e.document;
    n = function() {
        var n, r, o, s, a, l, c, u, h, d, f, p, m, g = {},
            v = {},
            y = !1,
            b = {
                ENTER: 13,
                ESC: 27,
                SPACE: 32
            },
            w = [];
        return v = {
            buttons: {
                holder: '<nav class="alertify-buttons">{{buttons}}</nav>',
                submit: '<button type="submit" class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',
                ok: '<button class="alertify-button alertify-button-ok" id="alertify-ok">{{ok}}</button>',
                cancel: '<button class="alertify-button alertify-button-cancel" id="alertify-cancel">{{cancel}}</button>'
            },
            input: '<div class="alertify-text-wrapper"><input type="text" class="alertify-text" id="alertify-text"></div>',
            message: '<p class="alertify-message">{{message}}</p>',
            log: '<article class="alertify-log{{class}}">{{message}}</article>'
        }, m = function() {
            var e, n, r = !1,
                o = i.createElement("fakeelement"),
                s = {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "otransitionend",
                    transition: "transitionend"
                };
            for (e in s)
                if (o.style[e] !== t) {
                    n = s[e], r = !0;
                    break
                }
            return {
                type: n,
                supported: r
            }
        }, n = function(e) {
            return i.getElementById(e)
        }, g = {
            labels: {
                ok: "OK",
                cancel: "Cancel"
            },
            delay: 5e3,
            buttonReverse: !1,
            buttonFocus: "ok",
            transition: t,
            addListeners: function(e) {
                var t, n, l, c, u, h = "undefined" != typeof o,
                    d = "undefined" != typeof r,
                    f = "undefined" != typeof p,
                    m = "",
                    g = this;
                t = function(t) {
                    return "undefined" != typeof t.preventDefault && t.preventDefault(), l(t), "undefined" != typeof p && (m = p.value), "function" == typeof e && ("undefined" != typeof p ? e(!0, m) : e(!0)), !1
                }, n = function(t) {
                    return "undefined" != typeof t.preventDefault && t.preventDefault(), l(t), "function" == typeof e && e(!1), !1
                }, l = function() {
                    g.hide(), g.unbind(i.body, "keyup", c), g.unbind(s, "focus", u), h && g.unbind(o, "click", t), d && g.unbind(r, "click", n)
                }, c = function(e) {
                    var i = e.keyCode;
                    (i === b.SPACE && !f || f && i === b.ENTER) && t(e), i === b.ESC && d && n(e)
                }, u = function() {
                    f ? p.focus() : !d || g.buttonReverse ? o.focus() : r.focus()
                }, this.bind(s, "focus", u), this.bind(a, "focus", u), h && this.bind(o, "click", t), d && this.bind(r, "click", n), this.bind(i.body, "keyup", c), this.transition.supported || this.setFocus()
            },
            bind: function(e, t, n) {
                "function" == typeof e.addEventListener ? e.addEventListener(t, n, !1) : e.attachEvent && e.attachEvent("on" + t, n)
            },
            handleErrors: function() {
                if ("undefined" != typeof e.onerror) {
                    var t = this;
                    return e.onerror = function(e, n, i) {
                        t.error("[" + e + " on line " + i + " of " + n + "]", 0)
                    }, !0
                }
                return !1
            },
            appendButtons: function(e, t) {
                return this.buttonReverse ? t + e : e + t
            },
            build: function(e) {
                var t = "",
                    n = e.type,
                    i = e.message,
                    r = e.cssClass || "";
                switch (t += '<div class="alertify-dialog">', t += '<a id="alertify-resetFocusBack" class="alertify-resetFocus" href="#">Reset Focus</a>', "none" === g.buttonFocus && (t += '<a href="#" id="alertify-noneFocus" class="alertify-hidden"></a>'), "prompt" === n && (t += '<div id="alertify-form">'), t += '<article class="alertify-inner">', t += v.message.replace("{{message}}", i), "prompt" === n && (t += v.input), t += v.buttons.holder, t += "</article>", "prompt" === n && (t += "</div>"), t += '<a id="alertify-resetFocus" class="alertify-resetFocus" href="#">Reset Focus</a>', t += "</div>", n) {
                    case "confirm":
                        t = t.replace("{{buttons}}", this.appendButtons(v.buttons.cancel, v.buttons.ok)), t = t.replace("{{ok}}", this.labels.ok).replace("{{cancel}}", this.labels.cancel);
                        break;
                    case "prompt":
                        t = t.replace("{{buttons}}", this.appendButtons(v.buttons.cancel, v.buttons.submit)), t = t.replace("{{ok}}", this.labels.ok).replace("{{cancel}}", this.labels.cancel);
                        break;
                    case "alert":
                        t = t.replace("{{buttons}}", v.buttons.ok), t = t.replace("{{ok}}", this.labels.ok)
                }
                return h.className = "alertify alertify-" + n + " " + r, u.className = "alertify-cover", t
            },
            close: function(e, t) {
                var n, i, r = t && !isNaN(t) ? +t : this.delay,
                    o = this;
                this.bind(e, "click", function() {
                    n(e)
                }), i = function(e) {
                    e.stopPropagation(), o.unbind(this, o.transition.type, i), d.removeChild(this), d.hasChildNodes() || (d.className += " alertify-logs-hidden")
                }, n = function(e) {
                    "undefined" != typeof e && e.parentNode === d && (o.transition.supported ? (o.bind(e, o.transition.type, i), e.className += " alertify-log-hide") : (d.removeChild(e), d.hasChildNodes() || (d.className += " alertify-logs-hidden")))
                }, 0 !== t && setTimeout(function() {
                    n(e)
                }, r)
            },
            dialog: function(e, t, n, r, o) {
                c = i.activeElement;
                var s = function() {
                    d && null !== d.scrollTop && u && null !== u.scrollTop || s()
                };
                if ("string" != typeof e) throw new Error("message must be a string");
                if ("string" != typeof t) throw new Error("type must be a string");
                if ("undefined" != typeof n && "function" != typeof n) throw new Error("fn must be a function");
                return this.init(), s(), w.push({
                    type: t,
                    message: e,
                    callback: n,
                    placeholder: r,
                    cssClass: o
                }), y || this.setup(), this
            },
            extend: function(e) {
                if ("string" != typeof e) throw new Error("extend method must have exactly one paramter");
                return function(t, n) {
                    return this.log(t, e, n), this
                }
            },
            hide: function() {
                var e, t = this;
                w.splice(0, 1), w.length > 0 ? this.setup(!0) : (y = !1, e = function(n) {
                    n.stopPropagation(), t.unbind(h, t.transition.type, e)
                }, this.transition.supported ? (this.bind(h, this.transition.type, e), h.className = "alertify alertify-hide alertify-hidden") : h.className = "alertify alertify-hide alertify-hidden alertify-isHidden", u.className = "alertify-cover alertify-cover-hidden", c.focus())
            },
            init: function() {
                i.createElement("nav"), i.createElement("article"), i.createElement("section"), null == n("alertify-cover") && (u = i.createElement("div"), u.setAttribute("id", "alertify-cover"), u.className = "alertify-cover alertify-cover-hidden", i.body.appendChild(u)), null == n("alertify") && (y = !1, w = [], h = i.createElement("section"), h.setAttribute("id", "alertify"), h.className = "alertify alertify-hidden", i.body.appendChild(h)), null == n("alertify-logs") && (d = i.createElement("section"), d.setAttribute("id", "alertify-logs"), d.className = "alertify-logs alertify-logs-hidden", i.body.appendChild(d)), i.body.setAttribute("tabindex", "0"), this.transition = m()
            },
            log: function(e, t, n) {
                var i = function() {
                    d && null !== d.scrollTop || i()
                };
                return this.init(), i(), d.className = "alertify-logs", this.notify(e, t, n), this
            },
            notify: function(e, t, n) {
                var r = i.createElement("article");
                r.className = "alertify-log" + ("string" == typeof t && "" !== t ? " alertify-log-" + t : ""), r.innerHTML = e, d.appendChild(r), setTimeout(function() {
                    r.className = r.className + " alertify-log-show"
                }, 50), this.close(r, n)
            },
            set: function(e) {
                var t;
                if ("object" != typeof e && e instanceof Array) throw new Error("args must be an object");
                for (t in e) e.hasOwnProperty(t) && (this[t] = e[t])
            },
            setFocus: function() {
                p ? (p.focus(), p.select()) : l.focus()
            },
            setup: function(e) {
                var i, c = w[0],
                    u = this;
                y = !0, i = function(e) {
                    e.stopPropagation(), u.setFocus(), u.unbind(h, u.transition.type, i)
                }, this.transition.supported && !e && this.bind(h, this.transition.type, i), h.innerHTML = this.build(c), s = n("alertify-resetFocus"), a = n("alertify-resetFocusBack"), o = n("alertify-ok") || t, r = n("alertify-cancel") || t, l = "cancel" === g.buttonFocus ? r : "none" === g.buttonFocus ? n("alertify-noneFocus") : o, p = n("alertify-text") || t, f = n("alertify-form") || t, "string" == typeof c.placeholder && "" !== c.placeholder && (p.value = c.placeholder), e && this.setFocus(), this.addListeners(c.callback)
            },
            unbind: function(e, t, n) {
                "function" == typeof e.removeEventListener ? e.removeEventListener(t, n, !1) : e.detachEvent && e.detachEvent("on" + t, n)
            }
        }, {
            alert: function(e, t, n) {
                return g.dialog(e, "alert", t, "", n), this
            },
            confirm: function(e, t, n) {
                return g.dialog(e, "confirm", t, "", n), this
            },
            extend: g.extend,
            init: g.init,
            log: function(e, t, n) {
                return g.log(e, t, n), this
            },
            prompt: function(e, t, n, i) {
                return g.dialog(e, "prompt", t, n, i), this
            },
            success: function(e, t) {
                return g.log(e, "success", t), this
            },
            error: function(e, t) {
                return g.log(e, "error", t), this
            },
            set: function(e) {
                g.set(e)
            },
            labels: g.labels,
            debug: g.handleErrors
        }
    }, "function" == typeof define ? define([], function() {
        return new n
    }) : "undefined" == typeof e.alertify && (e.alertify = new n)
}(this),
function(e, t) {
    "function" == typeof define && define.amd ? define(e) : "undefined" != typeof module && "object" == typeof exports ? module.exports = e() : t.rangy = e()
}(function() {
    function e(e, t) {
        var n = typeof e[t];
        return n == y || !(n != v || !e[t]) || "unknown" == n
    }

    function t(e, t) {
        return !(typeof e[t] != v || !e[t])
    }

    function n(e, t) {
        return typeof e[t] != b
    }

    function i(e) {
        return function(t, n) {
            for (var i = n.length; i--;)
                if (!e(t, n[i])) return !1;
            return !0
        }
    }

    function r(e) {
        return e && C(e, $) && S(e, x)
    }

    function o(e) {
        return t(e, "body") ? e.body : e.getElementsByTagName("body")[0]
    }

    function s(t) {
        typeof console != b && e(console, "log") && console.log(t)
    }

    function a(e, t) {
        E && t ? alert(e) : s(e)
    }

    function l(e) {
        A.initialized = !0, A.supported = !1, a("Rangy is not supported in this environment. Reason: " + e, A.config.alertOnFail)
    }

    function c(e) {
        a("Rangy warning: " + e, A.config.alertOnWarn)
    }

    function u(e) {
        return e.message || e.description || String(e)
    }

    function h() {
        if (E && !A.initialized) {
            var t, n = !1,
                i = !1;
            e(document, "createRange") && (t = document.createRange(), C(t, _) && S(t, w) && (n = !0));
            var a = o(document);
            if (!a || "body" != a.nodeName.toLowerCase()) return void l("No body element found");
            if (a && e(a, "createTextRange") && (t = a.createTextRange(), r(t) && (i = !0)), !n && !i) return void l("Neither Range nor TextRange are available");
            A.initialized = !0, A.features = {
                implementsDomRange: n,
                implementsTextRange: i
            };
            var c, h;
            for (var d in T)(c = T[d]) instanceof f && c.init(c, A);
            for (var p = 0, m = O.length; m > p; ++p) try {
                O[p](A)
            } catch (g) {
                h = "Rangy init listener threw an exception. Continuing. Detail: " + u(g), s(h)
            }
        }
    }

    function d(e) {
        e = e || window, h();
        for (var t = 0, n = I.length; n > t; ++t) I[t](e)
    }

    function f(e, t, n) {
        this.name = e, this.dependencies = t, this.initialized = !1, this.supported = !1, this.initializer = n
    }

    function p(e, t, n) {
        var i = new f(e, t, function(t) {
            if (!t.initialized) {
                t.initialized = !0;
                try {
                    n(A, t), t.supported = !0
                } catch (i) {
                    var r = "Module '" + e + "' failed to load: " + u(i);
                    s(r), i.stack && s(i.stack)
                }
            }
        });
        return T[e] = i, i
    }

    function m() {}

    function g() {}
    var v = "object",
        y = "function",
        b = "undefined",
        w = ["startContainer", "startOffset", "endContainer", "endOffset", "collapsed", "commonAncestorContainer"],
        _ = ["setStart", "setStartBefore", "setStartAfter", "setEnd", "setEndBefore", "setEndAfter", "collapse", "selectNode", "selectNodeContents", "compareBoundaryPoints", "deleteContents", "extractContents", "cloneContents", "insertNode", "surroundContents", "cloneRange", "toString", "detach"],
        x = ["boundingHeight", "boundingLeft", "boundingTop", "boundingWidth", "htmlText", "text"],
        $ = ["collapse", "compareEndPoints", "duplicate", "moveToElementText", "parentElement", "select", "setEndPoint", "getBoundingClientRect"],
        C = i(e),
        k = i(t),
        S = i(n),
        T = {},
        E = typeof window != b && typeof document != b,
        D = {
            isHostMethod: e,
            isHostObject: t,
            isHostProperty: n,
            areHostMethods: C,
            areHostObjects: k,
            areHostProperties: S,
            isTextRange: r,
            getBody: o
        },
        A = {
            version: "1.3.0-alpha.20140921",
            initialized: !1,
            isBrowser: E,
            supported: !0,
            util: D,
            features: {},
            modules: T,
            config: {
                alertOnFail: !0,
                alertOnWarn: !1,
                preferTextRange: !1,
                autoInitialize: typeof rangyAutoInitialize == b ? !0 : rangyAutoInitialize
            }
        };
    A.fail = l, A.warn = c;
    var P;
    ({}).hasOwnProperty ? (D.extend = P = function(e, t, n) {
            var i, r;
            for (var o in t) t.hasOwnProperty(o) && (i = e[o], r = t[o], n && null !== i && "object" == typeof i && null !== r && "object" == typeof r && P(i, r, !0), e[o] = r);
            return t.hasOwnProperty("toString") && (e.toString = t.toString), e
        }, D.createOptions = function(e, t) {
            var n = {};
            return P(n, t), e && P(n, e), n
        }) : l("hasOwnProperty not supported"), E || l("Rangy can only run in a browser"),
        function() {
            var e;
            if (E) {
                var t = document.createElement("div");
                t.appendChild(document.createElement("span"));
                var n = [].slice;
                try {
                    1 == n.call(t.childNodes, 0)[0].nodeType && (e = function(e) {
                        return n.call(e, 0)
                    })
                } catch (i) {}
            }
            e || (e = function(e) {
                for (var t = [], n = 0, i = e.length; i > n; ++n) t[n] = e[n];
                return t
            }), D.toArray = e
        }();
    var N;
    E && (e(document, "addEventListener") ? N = function(e, t, n) {
        e.addEventListener(t, n, !1)
    } : e(document, "attachEvent") ? N = function(e, t, n) {
        e.attachEvent("on" + t, n)
    } : l("Document does not have required addEventListener or attachEvent method"), D.addListener = N);
    var O = [];
    A.init = h, A.addInitListener = function(e) {
        A.initialized ? e(A) : O.push(e)
    };
    var I = [];
    A.addShimListener = function(e) {
        I.push(e)
    }, E && (A.shim = A.createMissingNativeApi = d), f.prototype = {
        init: function() {
            for (var e, t, n = this.dependencies || [], i = 0, r = n.length; r > i; ++i) {
                if (t = n[i], e = T[t], !(e && e instanceof f)) throw new Error("required module '" + t + "' not found");
                if (e.init(), !e.supported) throw new Error("required module '" + t + "' not supported")
            }
            this.initializer(this)
        },
        fail: function(e) {
            throw this.initialized = !0, this.supported = !1, new Error("Module '" + this.name + "' failed to load: " + e)
        },
        warn: function(e) {
            A.warn("Module " + this.name + ": " + e)
        },
        deprecationNotice: function(e, t) {
            A.warn("DEPRECATED: " + e + " in module " + this.name + "is deprecated. Please use " + t + " instead")
        },
        createError: function(e) {
            return new Error("Error in Rangy " + this.name + " module: " + e)
        }
    }, A.createModule = function(e) {
        var t, n;
        2 == arguments.length ? (t = arguments[1], n = []) : (t = arguments[2], n = arguments[1]);
        var i = p(e, n, t);
        A.initialized && A.supported && i.init()
    }, A.createCoreModule = function(e, t, n) {
        p(e, t, n)
    }, A.RangePrototype = m, A.rangePrototype = new m, A.selectionPrototype = new g, A.createCoreModule("DomUtil", [], function(e, t) {
        function n(e) {
            var t;
            return typeof e.namespaceURI == D || null === (t = e.namespaceURI) || "http://www.w3.org/1999/xhtml" == t
        }

        function i(e) {
            var t = e.parentNode;
            return 1 == t.nodeType ? t : null
        }

        function r(e) {
            for (var t = 0; e = e.previousSibling;) ++t;
            return t
        }

        function o(e) {
            switch (e.nodeType) {
                case 7:
                case 10:
                    return 0;
                case 3:
                case 8:
                    return e.length;
                default:
                    return e.childNodes.length
            }
        }

        function s(e, t) {
            var n, i = [];
            for (n = e; n; n = n.parentNode) i.push(n);
            for (n = t; n; n = n.parentNode)
                if (O(i, n)) return n;
            return null
        }

        function a(e, t, n) {
            for (var i = n ? t : t.parentNode; i;) {
                if (i === e) return !0;
                i = i.parentNode
            }
            return !1
        }

        function l(e, t) {
            return a(e, t, !0)
        }

        function c(e, t, n) {
            for (var i, r = n ? e : e.parentNode; r;) {
                if (i = r.parentNode, i === t) return r;
                r = i
            }
            return null
        }

        function u(e) {
            var t = e.nodeType;
            return 3 == t || 4 == t || 8 == t
        }

        function h(e) {
            if (!e) return !1;
            var t = e.nodeType;
            return 3 == t || 8 == t
        }

        function d(e, t) {
            var n = t.nextSibling,
                i = t.parentNode;
            return n ? i.insertBefore(e, n) : i.appendChild(e), e
        }

        function f(e, t, n) {
            var i = e.cloneNode(!1);
            if (i.deleteData(0, t), e.deleteData(t, e.length - t), d(i, e), n)
                for (var o, s = 0; o = n[s++];) o.node == e && o.offset > t ? (o.node = i, o.offset -= t) : o.node == e.parentNode && o.offset > r(e) && ++o.offset;
            return i
        }

        function p(e) {
            if (9 == e.nodeType) return e;
            if (typeof e.ownerDocument != D) return e.ownerDocument;
            if (typeof e.document != D) return e.document;
            if (e.parentNode) return p(e.parentNode);
            throw t.createError("getDocument: no document found for node")
        }

        function m(e) {
            var n = p(e);
            if (typeof n.defaultView != D) return n.defaultView;
            if (typeof n.parentWindow != D) return n.parentWindow;
            throw t.createError("Cannot get a window object for node")
        }

        function g(e) {
            if (typeof e.contentDocument != D) return e.contentDocument;
            if (typeof e.contentWindow != D) return e.contentWindow.document;
            throw t.createError("getIframeDocument: No Document object found for iframe element")
        }

        function v(e) {
            if (typeof e.contentWindow != D) return e.contentWindow;
            if (typeof e.contentDocument != D) return e.contentDocument.defaultView;
            throw t.createError("getIframeWindow: No Window object found for iframe element")
        }

        function y(e) {
            return e && A.isHostMethod(e, "setTimeout") && A.isHostObject(e, "document")
        }

        function b(e, t, n) {
            var i;
            if (e ? A.isHostProperty(e, "nodeType") ? i = 1 == e.nodeType && "iframe" == e.tagName.toLowerCase() ? g(e) : p(e) : y(e) && (i = e.document) : i = document, !i) throw t.createError(n + "(): Parameter must be a Window object or DOM node");
            return i
        }

        function w(e) {
            for (var t; t = e.parentNode;) e = t;
            return e
        }

        function _(e, n, i, o) {
            var a, l, u, h, d;
            if (e == i) return n === o ? 0 : o > n ? -1 : 1;
            if (a = c(i, e, !0)) return n <= r(a) ? -1 : 1;
            if (a = c(e, i, !0)) return r(a) < o ? -1 : 1;
            if (l = s(e, i), !l) throw new Error("comparePoints error: nodes have no common ancestor");
            if (u = e === l ? l : c(e, l, !0), h = i === l ? l : c(i, l, !0), u === h) throw t.createError("comparePoints got to case 4 and childA and childB are the same!");
            for (d = l.firstChild; d;) {
                if (d === u) return -1;
                if (d === h) return 1;
                d = d.nextSibling
            }
        }

        function x(e) {
            var t;
            try {
                return t = e.parentNode, !1
            } catch (n) {
                return !0
            }
        }

        function $(e) {
            if (!e) return "[No node]";
            if (I && x(e)) return "[Broken node]";
            if (u(e)) return '"' + e.data + '"';
            if (1 == e.nodeType) {
                var t = e.id ? ' id="' + e.id + '"' : "";
                return "<" + e.nodeName + t + ">[index:" + r(e) + ",length:" + e.childNodes.length + "][" + (e.innerHTML || "[innerHTML not supported]").slice(0, 25) + "]"
            }
            return e.nodeName
        }

        function C(e) {
            for (var t, n = p(e).createDocumentFragment(); t = e.firstChild;) n.appendChild(t);
            return n
        }

        function k(e) {
            this.root = e, this._next = e
        }

        function S(e) {
            return new k(e)
        }

        function T(e, t) {
            this.node = e, this.offset = t
        }

        function E(e) {
            this.code = this[e], this.codeName = e, this.message = "DOMException: " + this.codeName
        }
        var D = "undefined",
            A = e.util;
        A.areHostMethods(document, ["createDocumentFragment", "createElement", "createTextNode"]) || t.fail("document missing a Node creation method"), A.isHostMethod(document, "getElementsByTagName") || t.fail("document missing getElementsByTagName method");
        var P = document.createElement("div");
        A.areHostMethods(P, ["insertBefore", "appendChild", "cloneNode"] || !A.areHostObjects(P, ["previousSibling", "nextSibling", "childNodes", "parentNode"])) || t.fail("Incomplete Element implementation"), A.isHostProperty(P, "innerHTML") || t.fail("Element is missing innerHTML property");
        var N = document.createTextNode("test");
        A.areHostMethods(N, ["splitText", "deleteData", "insertData", "appendData", "cloneNode"] || !A.areHostObjects(P, ["previousSibling", "nextSibling", "childNodes", "parentNode"]) || !A.areHostProperties(N, ["data"])) || t.fail("Incomplete Text Node implementation");
        var O = function(e, t) {
                for (var n = e.length; n--;)
                    if (e[n] === t) return !0;
                return !1
            },
            I = !1;
        ! function() {
            var t = document.createElement("b");
            t.innerHTML = "1";
            var n = t.firstChild;
            t.innerHTML = "<br>", I = x(n), e.features.crashyTextNodes = I
        }();
        var M;
        typeof window.getComputedStyle != D ? M = function(e, t) {
            return m(e).getComputedStyle(e, null)[t]
        } : typeof document.documentElement.currentStyle != D ? M = function(e, t) {
            return e.currentStyle[t]
        } : t.fail("No means of obtaining computed style properties found"), k.prototype = {
            _current: null,
            hasNext: function() {
                return !!this._next
            },
            next: function() {
                var e, t, n = this._current = this._next;
                if (this._current)
                    if (e = n.firstChild) this._next = e;
                    else {
                        for (t = null; n !== this.root && !(t = n.nextSibling);) n = n.parentNode;
                        this._next = t
                    }
                return this._current
            },
            detach: function() {
                this._current = this._next = this.root = null
            }
        }, T.prototype = {
            equals: function(e) {
                return !!e && this.node === e.node && this.offset == e.offset
            },
            inspect: function() {
                return "[DomPosition(" + $(this.node) + ":" + this.offset + ")]"
            },
            toString: function() {
                return this.inspect()
            }
        }, E.prototype = {
            INDEX_SIZE_ERR: 1,
            HIERARCHY_REQUEST_ERR: 3,
            WRONG_DOCUMENT_ERR: 4,
            NO_MODIFICATION_ALLOWED_ERR: 7,
            NOT_FOUND_ERR: 8,
            NOT_SUPPORTED_ERR: 9,
            INVALID_STATE_ERR: 11,
            INVALID_NODE_TYPE_ERR: 24
        }, E.prototype.toString = function() {
            return this.message
        }, e.dom = {
            arrayContains: O,
            isHtmlNamespace: n,
            parentElement: i,
            getNodeIndex: r,
            getNodeLength: o,
            getCommonAncestor: s,
            isAncestorOf: a,
            isOrIsAncestorOf: l,
            getClosestAncestorIn: c,
            isCharacterDataNode: u,
            isTextOrCommentNode: h,
            insertAfter: d,
            splitDataNode: f,
            getDocument: p,
            getWindow: m,
            getIframeWindow: v,
            getIframeDocument: g,
            getBody: A.getBody,
            isWindow: y,
            getContentDocument: b,
            getRootContainer: w,
            comparePoints: _,
            isBrokenNode: x,
            inspectNode: $,
            getComputedStyleProperty: M,
            fragmentFromNodeChildren: C,
            createIterator: S,
            DomPosition: T
        }, e.DOMException = E
    }), A.createCoreModule("DomRange", ["DomUtil"], function(e) {
        function t(e, t) {
            return 3 != e.nodeType && (j(e, t.startContainer) || j(e, t.endContainer))
        }

        function n(e) {
            return e.document || L(e.startContainer)
        }

        function i(e) {
            return new R(e.parentNode, H(e))
        }

        function r(e) {
            return new R(e.parentNode, H(e) + 1)
        }

        function o(e, t, n) {
            var i = 11 == e.nodeType ? e.firstChild : e;
            return F(t) ? n == t.length ? I.insertAfter(e, t) : t.parentNode.insertBefore(e, 0 == n ? t : z(t, n)) : n >= t.childNodes.length ? t.appendChild(e) : t.insertBefore(e, t.childNodes[n]), i
        }

        function s(e, t, i) {
            if (C(e), C(t), n(t) != n(e)) throw new B("WRONG_DOCUMENT_ERR");
            var r = W(e.startContainer, e.startOffset, t.endContainer, t.endOffset),
                o = W(e.endContainer, e.endOffset, t.startContainer, t.startOffset);
            return i ? 0 >= r && o >= 0 : 0 > r && o > 0
        }

        function a(e) {
            for (var t, i, r, o = n(e.range).createDocumentFragment(); i = e.next();) {
                if (t = e.isPartiallySelectedSubtree(), i = i.cloneNode(!t), t && (r = e.getSubtreeIterator(), i.appendChild(a(r)), r.detach()), 10 == i.nodeType) throw new B("HIERARCHY_REQUEST_ERR");
                o.appendChild(i)
            }
            return o
        }

        function l(e, t, n) {
            var i, r;
            n = n || {
                stop: !1
            };
            for (var o, s; o = e.next();)
                if (e.isPartiallySelectedSubtree()) {
                    if (t(o) === !1) return void(n.stop = !0);
                    if (s = e.getSubtreeIterator(), l(s, t, n), s.detach(), n.stop) return
                } else
                    for (i = I.createIterator(o); r = i.next();)
                        if (t(r) === !1) return void(n.stop = !0)
        }

        function c(e) {
            for (var t; e.next();) e.isPartiallySelectedSubtree() ? (t = e.getSubtreeIterator(), c(t), t.detach()) : e.remove()
        }

        function u(e) {
            for (var t, i, r = n(e.range).createDocumentFragment(); t = e.next();) {
                if (e.isPartiallySelectedSubtree() ? (t = t.cloneNode(!1), i = e.getSubtreeIterator(), t.appendChild(u(i)), i.detach()) : e.remove(), 10 == t.nodeType) throw new B("HIERARCHY_REQUEST_ERR");
                r.appendChild(t)
            }
            return r
        }

        function h(e, t, n) {
            var i, r = !(!t || !t.length),
                o = !!n;
            r && (i = new RegExp("^(" + t.join("|") + ")$"));
            var s = [];
            return l(new f(e, !1), function(t) {
                if (!(r && !i.test(t.nodeType) || o && !n(t))) {
                    var a = e.startContainer;
                    if (t != a || !F(a) || e.startOffset != a.length) {
                        var l = e.endContainer;
                        t == l && F(l) && 0 == e.endOffset || s.push(t)
                    }
                }
            }), s
        }

        function d(e) {
            var t = "undefined" == typeof e.getName ? "Range" : e.getName();
            return "[" + t + "(" + I.inspectNode(e.startContainer) + ":" + e.startOffset + ", " + I.inspectNode(e.endContainer) + ":" + e.endOffset + ")]"
        }

        function f(e, t) {
            if (this.range = e, this.clonePartiallySelectedTextNodes = t, !e.collapsed) {
                this.sc = e.startContainer, this.so = e.startOffset, this.ec = e.endContainer, this.eo = e.endOffset;
                var n = e.commonAncestorContainer;
                this.sc === this.ec && F(this.sc) ? (this.isSingleCharacterDataNode = !0, this._first = this._last = this._next = this.sc) : (this._first = this._next = this.sc !== n || F(this.sc) ? q(this.sc, n, !0) : this.sc.childNodes[this.so], this._last = this.ec !== n || F(this.ec) ? q(this.ec, n, !0) : this.ec.childNodes[this.eo - 1])
            }
        }

        function p(e) {
            return function(t, n) {
                for (var i, r = n ? t : t.parentNode; r;) {
                    if (i = r.nodeType, V(e, i)) return r;
                    r = r.parentNode
                }
                return null
            }
        }

        function m(e, t) {
            if (nt(e, t)) throw new B("INVALID_NODE_TYPE_ERR")
        }

        function g(e, t) {
            if (!V(t, e.nodeType)) throw new B("INVALID_NODE_TYPE_ERR")
        }

        function v(e, t) {
            if (0 > t || t > (F(e) ? e.length : e.childNodes.length)) throw new B("INDEX_SIZE_ERR")
        }

        function y(e, t) {
            if (et(e, !0) !== et(t, !0)) throw new B("WRONG_DOCUMENT_ERR")
        }

        function b(e) {
            if (tt(e, !0)) throw new B("NO_MODIFICATION_ALLOWED_ERR")
        }

        function w(e, t) {
            if (!e) throw new B(t)
        }

        function _(e) {
            return G && I.isBrokenNode(e) || !V(K, e.nodeType) && !et(e, !0)
        }

        function x(e, t) {
            return t <= (F(e) ? e.length : e.childNodes.length)
        }

        function $(e) {
            return !!e.startContainer && !!e.endContainer && !_(e.startContainer) && !_(e.endContainer) && x(e.startContainer, e.startOffset) && x(e.endContainer, e.endOffset)
        }

        function C(e) {
            if (!$(e)) throw new Error("Range error: Range is no longer valid after DOM mutation (" + e.inspect() + ")")
        }

        function k(e, t) {
            C(e);
            var n = e.startContainer,
                i = e.startOffset,
                r = e.endContainer,
                o = e.endOffset,
                s = n === r;
            F(r) && o > 0 && o < r.length && z(r, o, t), F(n) && i > 0 && i < n.length && (n = z(n, i, t), s ? (o -= i, r = n) : r == n.parentNode && o >= H(n) && o++, i = 0), e.setStartAndEnd(n, i, r, o)
        }

        function S(e) {
            C(e);
            var t = e.commonAncestorContainer.parentNode.cloneNode(!1);
            return t.appendChild(e.cloneContents()), t.innerHTML
        }

        function T(e) {
            e.START_TO_START = lt, e.START_TO_END = ct, e.END_TO_END = ut, e.END_TO_START = ht, e.NODE_BEFORE = dt, e.NODE_AFTER = ft, e.NODE_BEFORE_AND_AFTER = pt, e.NODE_INSIDE = mt
        }

        function E(e) {
            T(e), T(e.prototype)
        }

        function D(e, t) {
            return function() {
                C(this);
                var n, i, o = this.startContainer,
                    s = this.startOffset,
                    a = this.commonAncestorContainer,
                    c = new f(this, !0);
                o !== a && (n = q(o, a, !0), i = r(n), o = i.node, s = i.offset), l(c, b), c.reset();
                var u = e(c);
                return c.detach(), t(this, o, s, o, s), u
            }
        }

        function A(n, o) {
            function s(e, t) {
                return function(n) {
                    g(n, X), g(Y(n), K);
                    var o = (e ? i : r)(n);
                    (t ? a : l)(this, o.node, o.offset)
                }
            }

            function a(e, t, n) {
                var i = e.endContainer,
                    r = e.endOffset;
                (t !== e.startContainer || n !== e.startOffset) && ((Y(t) != Y(i) || 1 == W(t, n, i, r)) && (i = t, r = n), o(e, t, n, i, r))
            }

            function l(e, t, n) {
                var i = e.startContainer,
                    r = e.startOffset;
                (t !== e.endContainer || n !== e.endOffset) && ((Y(t) != Y(i) || -1 == W(t, n, i, r)) && (i = t, r = n), o(e, i, r, t, n))
            }
            var h = function() {};
            h.prototype = e.rangePrototype, n.prototype = new h, M.extend(n.prototype, {
                setStart: function(e, t) {
                    m(e, !0), v(e, t), a(this, e, t)
                },
                setEnd: function(e, t) {
                    m(e, !0), v(e, t), l(this, e, t)
                },
                setStartAndEnd: function() {
                    var e = arguments,
                        t = e[0],
                        n = e[1],
                        i = t,
                        r = n;
                    switch (e.length) {
                        case 3:
                            r = e[2];
                            break;
                        case 4:
                            i = e[2], r = e[3]
                    }
                    o(this, t, n, i, r)
                },
                setBoundary: function(e, t, n) {
                    this["set" + (n ? "Start" : "End")](e, t)
                },
                setStartBefore: s(!0, !0),
                setStartAfter: s(!1, !0),
                setEndBefore: s(!0, !1),
                setEndAfter: s(!1, !1),
                collapse: function(e) {
                    C(this), e ? o(this, this.startContainer, this.startOffset, this.startContainer, this.startOffset) : o(this, this.endContainer, this.endOffset, this.endContainer, this.endOffset)
                },
                selectNodeContents: function(e) {
                    m(e, !0), o(this, e, 0, e, U(e))
                },
                selectNode: function(e) {
                    m(e, !1), g(e, X);
                    var t = i(e),
                        n = r(e);
                    o(this, t.node, t.offset, n.node, n.offset)
                },
                extractContents: D(u, o),
                deleteContents: D(c, o),
                canSurroundContents: function() {
                    C(this), b(this.startContainer), b(this.endContainer);
                    var e = new f(this, !0),
                        n = e._first && t(e._first, this) || e._last && t(e._last, this);
                    return e.detach(), !n
                },
                splitBoundaries: function() {
                    k(this)
                },
                splitBoundariesPreservingPositions: function(e) {
                    k(this, e)
                },
                normalizeBoundaries: function() {
                    C(this);
                    var e = this.startContainer,
                        t = this.startOffset,
                        n = this.endContainer,
                        i = this.endOffset,
                        r = function(e) {
                            var t = e.nextSibling;
                            t && t.nodeType == e.nodeType && (n = e, i = e.length, e.appendData(t.data), t.parentNode.removeChild(t))
                        },
                        s = function(r) {
                            var o = r.previousSibling;
                            if (o && o.nodeType == r.nodeType) {
                                e = r;
                                var s = r.length;
                                if (t = o.length, r.insertData(0, o.data), o.parentNode.removeChild(o), e == n) i += t, n = e;
                                else if (n == r.parentNode) {
                                    var a = H(r);
                                    i == a ? (n = r, i = s) : i > a && i--
                                }
                            }
                        },
                        a = !0;
                    if (F(n)) n.length == i && r(n);
                    else {
                        if (i > 0) {
                            var l = n.childNodes[i - 1];
                            l && F(l) && r(l)
                        }
                        a = !this.collapsed
                    }
                    if (a) {
                        if (F(e)) 0 == t && s(e);
                        else if (t < e.childNodes.length) {
                            var c = e.childNodes[t];
                            c && F(c) && s(c)
                        }
                    } else e = n, t = i;
                    o(this, e, t, n, i)
                },
                collapseToPoint: function(e, t) {
                    m(e, !0), v(e, t), this.setStartAndEnd(e, t)
                }
            }), E(n)
        }

        function P(e) {
            e.collapsed = e.startContainer === e.endContainer && e.startOffset === e.endOffset, e.commonAncestorContainer = e.collapsed ? e.startContainer : I.getCommonAncestor(e.startContainer, e.endContainer)
        }

        function N(e, t, n, i, r) {
            e.startContainer = t, e.startOffset = n, e.endContainer = i, e.endOffset = r, e.document = I.getDocument(t), P(e)
        }

        function O(e) {
            this.startContainer = e, this.startOffset = 0, this.endContainer = e, this.endOffset = 0, this.document = e, P(this)
        }
        var I = e.dom,
            M = e.util,
            R = I.DomPosition,
            B = e.DOMException,
            F = I.isCharacterDataNode,
            H = I.getNodeIndex,
            j = I.isOrIsAncestorOf,
            L = I.getDocument,
            W = I.comparePoints,
            z = I.splitDataNode,
            q = I.getClosestAncestorIn,
            U = I.getNodeLength,
            V = I.arrayContains,
            Y = I.getRootContainer,
            G = e.features.crashyTextNodes;
        f.prototype = {
            _current: null,
            _next: null,
            _first: null,
            _last: null,
            isSingleCharacterDataNode: !1,
            reset: function() {
                this._current = null, this._next = this._first
            },
            hasNext: function() {
                return !!this._next
            },
            next: function() {
                var e = this._current = this._next;
                return e && (this._next = e !== this._last ? e.nextSibling : null, F(e) && this.clonePartiallySelectedTextNodes && (e === this.ec && (e = e.cloneNode(!0)).deleteData(this.eo, e.length - this.eo), this._current === this.sc && (e = e.cloneNode(!0)).deleteData(0, this.so))), e
            },
            remove: function() {
                var e, t, n = this._current;
                !F(n) || n !== this.sc && n !== this.ec ? n.parentNode && n.parentNode.removeChild(n) : (e = n === this.sc ? this.so : 0, t = n === this.ec ? this.eo : n.length, e != t && n.deleteData(e, t - e))
            },
            isPartiallySelectedSubtree: function() {
                var e = this._current;
                return t(e, this.range)
            },
            getSubtreeIterator: function() {
                var e;
                if (this.isSingleCharacterDataNode) e = this.range.cloneRange(), e.collapse(!1);
                else {
                    e = new O(n(this.range));
                    var t = this._current,
                        i = t,
                        r = 0,
                        o = t,
                        s = U(t);
                    j(t, this.sc) && (i = this.sc, r = this.so), j(t, this.ec) && (o = this.ec, s = this.eo), N(e, i, r, o, s)
                }
                return new f(e, this.clonePartiallySelectedTextNodes)
            },
            detach: function() {
                this.range = this._current = this._next = this._first = this._last = this.sc = this.so = this.ec = this.eo = null
            }
        };
        var X = [1, 3, 4, 5, 7, 8, 10],
            K = [2, 9, 11],
            Z = [5, 6, 10, 12],
            Q = [1, 3, 4, 5, 7, 8, 10, 11],
            J = [1, 3, 4, 5, 7, 8],
            et = p([9, 11]),
            tt = p(Z),
            nt = p([6, 10, 12]),
            it = document.createElement("style"),
            rt = !1;
        try {
            it.innerHTML = "<b>x</b>", rt = 3 == it.firstChild.nodeType
        } catch (ot) {}
        e.features.htmlParsingConforms = rt;
        var st = rt ? function(e) {
                var t = this.startContainer,
                    n = L(t);
                if (!t) throw new B("INVALID_STATE_ERR");
                var i = null;
                return 1 == t.nodeType ? i = t : F(t) && (i = I.parentElement(t)), i = null === i || "HTML" == i.nodeName && I.isHtmlNamespace(L(i).documentElement) && I.isHtmlNamespace(i) ? n.createElement("body") : i.cloneNode(!1), i.innerHTML = e, I.fragmentFromNodeChildren(i)
            } : function(e) {
                var t = n(this),
                    i = t.createElement("body");
                return i.innerHTML = e, I.fragmentFromNodeChildren(i)
            },
            at = ["startContainer", "startOffset", "endContainer", "endOffset", "collapsed", "commonAncestorContainer"],
            lt = 0,
            ct = 1,
            ut = 2,
            ht = 3,
            dt = 0,
            ft = 1,
            pt = 2,
            mt = 3;
        M.extend(e.rangePrototype, {
            compareBoundaryPoints: function(e, t) {
                C(this), y(this.startContainer, t.startContainer);
                var n, i, r, o, s = e == ht || e == lt ? "start" : "end",
                    a = e == ct || e == lt ? "start" : "end";
                return n = this[s + "Container"], i = this[s + "Offset"], r = t[a + "Container"], o = t[a + "Offset"], W(n, i, r, o)
            },
            insertNode: function(e) {
                if (C(this), g(e, Q), b(this.startContainer), j(e, this.startContainer)) throw new B("HIERARCHY_REQUEST_ERR");
                var t = o(e, this.startContainer, this.startOffset);
                this.setStartBefore(t)
            },
            cloneContents: function() {
                C(this);
                var e, t;
                if (this.collapsed) return n(this).createDocumentFragment();
                if (this.startContainer === this.endContainer && F(this.startContainer)) return e = this.startContainer.cloneNode(!0), e.data = e.data.slice(this.startOffset, this.endOffset), t = n(this).createDocumentFragment(), t.appendChild(e), t;
                var i = new f(this, !0);
                return e = a(i), i.detach(), e
            },
            canSurroundContents: function() {
                C(this), b(this.startContainer), b(this.endContainer);
                var e = new f(this, !0),
                    n = e._first && t(e._first, this) || e._last && t(e._last, this);
                return e.detach(), !n
            },
            surroundContents: function(e) {
                if (g(e, J), !this.canSurroundContents()) throw new B("INVALID_STATE_ERR");
                var t = this.extractContents();
                if (e.hasChildNodes())
                    for (; e.lastChild;) e.removeChild(e.lastChild);
                o(e, this.startContainer, this.startOffset), e.appendChild(t), this.selectNode(e)
            },
            cloneRange: function() {
                C(this);
                for (var e, t = new O(n(this)), i = at.length; i--;) e = at[i], t[e] = this[e];
                return t
            },
            toString: function() {
                C(this);
                var e = this.startContainer;
                if (e === this.endContainer && F(e)) return 3 == e.nodeType || 4 == e.nodeType ? e.data.slice(this.startOffset, this.endOffset) : "";
                var t = [],
                    n = new f(this, !0);
                return l(n, function(e) {
                    (3 == e.nodeType || 4 == e.nodeType) && t.push(e.data)
                }), n.detach(), t.join("")
            },
            compareNode: function(e) {
                C(this);
                var t = e.parentNode,
                    n = H(e);
                if (!t) throw new B("NOT_FOUND_ERR");
                var i = this.comparePoint(t, n),
                    r = this.comparePoint(t, n + 1);
                return 0 > i ? r > 0 ? pt : dt : r > 0 ? ft : mt
            },
            comparePoint: function(e, t) {
                return C(this), w(e, "HIERARCHY_REQUEST_ERR"), y(e, this.startContainer), W(e, t, this.startContainer, this.startOffset) < 0 ? -1 : W(e, t, this.endContainer, this.endOffset) > 0 ? 1 : 0
            },
            createContextualFragment: st,
            toHtml: function() {
                return S(this)
            },
            intersectsNode: function(e, t) {
                if (C(this), w(e, "NOT_FOUND_ERR"), L(e) !== n(this)) return !1;
                var i = e.parentNode,
                    r = H(e);
                w(i, "NOT_FOUND_ERR");
                var o = W(i, r, this.endContainer, this.endOffset),
                    s = W(i, r + 1, this.startContainer, this.startOffset);
                return t ? 0 >= o && s >= 0 : 0 > o && s > 0
            },
            isPointInRange: function(e, t) {
                return C(this), w(e, "HIERARCHY_REQUEST_ERR"), y(e, this.startContainer), W(e, t, this.startContainer, this.startOffset) >= 0 && W(e, t, this.endContainer, this.endOffset) <= 0
            },
            intersectsRange: function(e) {
                return s(this, e, !1)
            },
            intersectsOrTouchesRange: function(e) {
                return s(this, e, !0)
            },
            intersection: function(e) {
                if (this.intersectsRange(e)) {
                    var t = W(this.startContainer, this.startOffset, e.startContainer, e.startOffset),
                        n = W(this.endContainer, this.endOffset, e.endContainer, e.endOffset),
                        i = this.cloneRange();
                    return -1 == t && i.setStart(e.startContainer, e.startOffset), 1 == n && i.setEnd(e.endContainer, e.endOffset), i
                }
                return null
            },
            union: function(e) {
                if (this.intersectsOrTouchesRange(e)) {
                    var t = this.cloneRange();
                    return -1 == W(e.startContainer, e.startOffset, this.startContainer, this.startOffset) && t.setStart(e.startContainer, e.startOffset), 1 == W(e.endContainer, e.endOffset, this.endContainer, this.endOffset) && t.setEnd(e.endContainer, e.endOffset), t
                }
                throw new B("Ranges do not intersect")
            },
            containsNode: function(e, t) {
                return t ? this.intersectsNode(e, !1) : this.compareNode(e) == mt
            },
            containsNodeContents: function(e) {
                return this.comparePoint(e, 0) >= 0 && this.comparePoint(e, U(e)) <= 0
            },
            containsRange: function(e) {
                var t = this.intersection(e);
                return null !== t && e.equals(t)
            },
            containsNodeText: function(e) {
                var t = this.cloneRange();
                t.selectNode(e);
                var n = t.getNodes([3]);
                if (n.length > 0) {
                    t.setStart(n[0], 0);
                    var i = n.pop();
                    return t.setEnd(i, i.length), this.containsRange(t)
                }
                return this.containsNodeContents(e)
            },
            getNodes: function(e, t) {
                return C(this), h(this, e, t)
            },
            getDocument: function() {
                return n(this)
            },
            collapseBefore: function(e) {
                this.setEndBefore(e), this.collapse(!1)
            },
            collapseAfter: function(e) {
                this.setStartAfter(e), this.collapse(!0)
            },
            getBookmark: function(t) {
                var i = n(this),
                    r = e.createRange(i);
                t = t || I.getBody(i), r.selectNodeContents(t);
                var o = this.intersection(r),
                    s = 0,
                    a = 0;
                return o && (r.setEnd(o.startContainer, o.startOffset), s = r.toString().length, a = s + o.toString().length), {
                    start: s,
                    end: a,
                    containerNode: t
                }
            },
            moveToBookmark: function(e) {
                var t = e.containerNode,
                    n = 0;
                this.setStart(t, 0), this.collapse(!0);
                for (var i, r, o, s, a = [t], l = !1, c = !1; !c && (i = a.pop());)
                    if (3 == i.nodeType) r = n + i.length, !l && e.start >= n && e.start <= r && (this.setStart(i, e.start - n), l = !0), l && e.end >= n && e.end <= r && (this.setEnd(i, e.end - n), c = !0), n = r;
                    else
                        for (s = i.childNodes, o = s.length; o--;) a.push(s[o])
            },
            getName: function() {
                return "DomRange"
            },
            equals: function(e) {
                return O.rangesEqual(this, e)
            },
            isValid: function() {
                return $(this)
            },
            inspect: function() {
                return d(this)
            },
            detach: function() {}
        }), A(O, N), M.extend(O, {
            rangeProperties: at,
            RangeIterator: f,
            copyComparisonConstants: E,
            createPrototypeRange: A,
            inspect: d,
            toHtml: S,
            getRangeDocument: n,
            rangesEqual: function(e, t) {
                return e.startContainer === t.startContainer && e.startOffset === t.startOffset && e.endContainer === t.endContainer && e.endOffset === t.endOffset
            }
        }), e.DomRange = O
    }), A.createCoreModule("WrappedRange", ["DomRange"], function(e, t) {
        var n, i, r = e.dom,
            o = e.util,
            s = r.DomPosition,
            a = e.DomRange,
            l = r.getBody,
            c = r.getContentDocument,
            u = r.isCharacterDataNode;
        if (e.features.implementsDomRange && ! function() {
                function i(e) {
                    for (var t, n = d.length; n--;) t = d[n], e[t] = e.nativeRange[t];
                    e.collapsed = e.startContainer === e.endContainer && e.startOffset === e.endOffset
                }

                function s(e, t, n, i, r) {
                    var o = e.startContainer !== t || e.startOffset != n,
                        s = e.endContainer !== i || e.endOffset != r,
                        a = !e.equals(e.nativeRange);
                    (o || s || a) && (e.setEnd(i, r), e.setStart(t, n))
                }
                var u, h, d = a.rangeProperties;
                n = function(e) {
                    if (!e) throw t.createError("WrappedRange: Range must be specified");
                    this.nativeRange = e, i(this)
                }, a.createPrototypeRange(n, s), u = n.prototype, u.selectNode = function(e) {
                    this.nativeRange.selectNode(e), i(this)
                }, u.cloneContents = function() {
                    return this.nativeRange.cloneContents()
                }, u.surroundContents = function(e) {
                    this.nativeRange.surroundContents(e), i(this)
                }, u.collapse = function(e) {
                    this.nativeRange.collapse(e), i(this)
                }, u.cloneRange = function() {
                    return new n(this.nativeRange.cloneRange())
                }, u.refresh = function() {
                    i(this)
                }, u.toString = function() {
                    return this.nativeRange.toString()
                };
                var f = document.createTextNode("test");
                l(document).appendChild(f);
                var p = document.createRange();
                p.setStart(f, 0), p.setEnd(f, 0);
                try {
                    p.setStart(f, 1), u.setStart = function(e, t) {
                        this.nativeRange.setStart(e, t), i(this)
                    }, u.setEnd = function(e, t) {
                        this.nativeRange.setEnd(e, t), i(this)
                    }, h = function(e) {
                        return function(t) {
                            this.nativeRange[e](t), i(this)
                        }
                    }
                } catch (m) {
                    u.setStart = function(e, t) {
                        try {
                            this.nativeRange.setStart(e, t)
                        } catch (n) {
                            this.nativeRange.setEnd(e, t), this.nativeRange.setStart(e, t)
                        }
                        i(this)
                    }, u.setEnd = function(e, t) {
                        try {
                            this.nativeRange.setEnd(e, t)
                        } catch (n) {
                            this.nativeRange.setStart(e, t), this.nativeRange.setEnd(e, t)
                        }
                        i(this)
                    }, h = function(e, t) {
                        return function(n) {
                            try {
                                this.nativeRange[e](n)
                            } catch (r) {
                                this.nativeRange[t](n), this.nativeRange[e](n)
                            }
                            i(this)
                        }
                    }
                }
                u.setStartBefore = h("setStartBefore", "setEndBefore"), u.setStartAfter = h("setStartAfter", "setEndAfter"), u.setEndBefore = h("setEndBefore", "setStartBefore"), u.setEndAfter = h("setEndAfter", "setStartAfter"), u.selectNodeContents = function(e) {
                    this.setStartAndEnd(e, 0, r.getNodeLength(e))
                }, p.selectNodeContents(f), p.setEnd(f, 3);
                var g = document.createRange();
                g.selectNodeContents(f), g.setEnd(f, 4), g.setStart(f, 2), u.compareBoundaryPoints = -1 == p.compareBoundaryPoints(p.START_TO_END, g) && 1 == p.compareBoundaryPoints(p.END_TO_START, g) ? function(e, t) {
                    return t = t.nativeRange || t, e == t.START_TO_END ? e = t.END_TO_START : e == t.END_TO_START && (e = t.START_TO_END), this.nativeRange.compareBoundaryPoints(e, t)
                } : function(e, t) {
                    return this.nativeRange.compareBoundaryPoints(e, t.nativeRange || t)
                };
                var v = document.createElement("div");
                v.innerHTML = "123";
                var y = v.firstChild,
                    b = l(document);
                b.appendChild(v), p.setStart(y, 1), p.setEnd(y, 2), p.deleteContents(), "13" == y.data && (u.deleteContents = function() {
                    this.nativeRange.deleteContents(), i(this)
                }, u.extractContents = function() {
                    var e = this.nativeRange.extractContents();
                    return i(this), e
                }), b.removeChild(v), b = null, o.isHostMethod(p, "createContextualFragment") && (u.createContextualFragment = function(e) {
                    return this.nativeRange.createContextualFragment(e)
                }), l(document).removeChild(f), u.getName = function() {
                    return "WrappedRange"
                }, e.WrappedRange = n, e.createNativeRange = function(e) {
                    return e = c(e, t, "createNativeRange"), e.createRange()
                }
            }(), e.features.implementsTextRange) {
            var h = function(e) {
                    var t = e.parentElement(),
                        n = e.duplicate();
                    n.collapse(!0);
                    var i = n.parentElement();
                    n = e.duplicate(), n.collapse(!1);
                    var o = n.parentElement(),
                        s = i == o ? i : r.getCommonAncestor(i, o);
                    return s == t ? s : r.getCommonAncestor(t, s)
                },
                d = function(e) {
                    return 0 == e.compareEndPoints("StartToEnd", e)
                },
                f = function(e, t, n, i, o) {
                    var a = e.duplicate();
                    a.collapse(n);
                    var l = a.parentElement();
                    if (r.isOrIsAncestorOf(t, l) || (l = t), !l.canHaveHTML) {
                        var c = new s(l.parentNode, r.getNodeIndex(l));
                        return {
                            boundaryPosition: c,
                            nodeInfo: {
                                nodeIndex: c.offset,
                                containerElement: c.node
                            }
                        }
                    }
                    var h = r.getDocument(l).createElement("span");
                    h.parentNode && h.parentNode.removeChild(h);
                    for (var d, f, p, m, g, v = n ? "StartToStart" : "StartToEnd", y = o && o.containerElement == l ? o.nodeIndex : 0, b = l.childNodes.length, w = b, _ = w;;) {
                        if (_ == b ? l.appendChild(h) : l.insertBefore(h, l.childNodes[_]), a.moveToElementText(h), d = a.compareEndPoints(v, e), 0 == d || y == w) break;
                        if (-1 == d) {
                            if (w == y + 1) break;
                            y = _
                        } else w = w == y + 1 ? y : _;
                        _ = Math.floor((y + w) / 2), l.removeChild(h)
                    }
                    if (g = h.nextSibling, -1 == d && g && u(g)) {
                        a.setEndPoint(n ? "EndToStart" : "EndToEnd", e);
                        var x;
                        if (/[\r\n]/.test(g.data)) {
                            var $ = a.duplicate(),
                                C = $.text.replace(/\r\n/g, "\r").length;
                            for (x = $.moveStart("character", C); - 1 == (d = $.compareEndPoints("StartToEnd", $));) x++, $.moveStart("character", 1)
                        } else x = a.text.length;
                        m = new s(g, x)
                    } else f = (i || !n) && h.previousSibling, p = (i || n) && h.nextSibling, m = p && u(p) ? new s(p, 0) : f && u(f) ? new s(f, f.data.length) : new s(l, r.getNodeIndex(h));
                    return h.parentNode.removeChild(h), {
                        boundaryPosition: m,
                        nodeInfo: {
                            nodeIndex: _,
                            containerElement: l
                        }
                    }
                },
                p = function(e, t) {
                    var n, i, o, s, a = e.offset,
                        c = r.getDocument(e.node),
                        h = l(c).createTextRange(),
                        d = u(e.node);
                    return d ? (n = e.node, i = n.parentNode) : (s = e.node.childNodes, n = a < s.length ? s[a] : null, i = e.node), o = c.createElement("span"), o.innerHTML = "&#feff;", n ? i.insertBefore(o, n) : i.appendChild(o), h.moveToElementText(o), h.collapse(!t), i.removeChild(o), d && h[t ? "moveStart" : "moveEnd"]("character", a), h
                };
            i = function(e) {
                this.textRange = e, this.refresh()
            }, i.prototype = new a(document), i.prototype.refresh = function() {
                var e, t, n, i = h(this.textRange);
                d(this.textRange) ? t = e = f(this.textRange, i, !0, !0).boundaryPosition : (n = f(this.textRange, i, !0, !1), e = n.boundaryPosition, t = f(this.textRange, i, !1, !1, n.nodeInfo).boundaryPosition), this.setStart(e.node, e.offset), this.setEnd(t.node, t.offset)
            }, i.prototype.getName = function() {
                return "WrappedTextRange"
            }, a.copyComparisonConstants(i);
            var m = function(e) {
                if (e.collapsed) return p(new s(e.startContainer, e.startOffset), !0);
                var t = p(new s(e.startContainer, e.startOffset), !0),
                    n = p(new s(e.endContainer, e.endOffset), !1),
                    i = l(a.getRangeDocument(e)).createTextRange();
                return i.setEndPoint("StartToStart", t), i.setEndPoint("EndToEnd", n), i
            };
            if (i.rangeToTextRange = m, i.prototype.toTextRange = function() {
                    return m(this)
                }, e.WrappedTextRange = i, !e.features.implementsDomRange || e.config.preferTextRange) {
                var g = function(e) {
                    return e("return this;")()
                }(Function);
                "undefined" == typeof g.Range && (g.Range = i), e.createNativeRange = function(e) {
                    return e = c(e, t, "createNativeRange"), l(e).createTextRange()
                }, e.WrappedRange = i
            }
        }
        e.createRange = function(n) {
            return n = c(n, t, "createRange"), new e.WrappedRange(e.createNativeRange(n))
        }, e.createRangyRange = function(e) {
            return e = c(e, t, "createRangyRange"), new a(e)
        }, e.createIframeRange = function(n) {
            return t.deprecationNotice("createIframeRange()", "createRange(iframeEl)"), e.createRange(n)
        }, e.createIframeRangyRange = function(n) {
            return t.deprecationNotice("createIframeRangyRange()", "createRangyRange(iframeEl)"), e.createRangyRange(n)
        }, e.addShimListener(function(t) {
            var n = t.document;
            "undefined" == typeof n.createRange && (n.createRange = function() {
                return e.createRange(n)
            }), n = t = null
        })
    }), A.createCoreModule("WrappedSelection", ["DomRange", "WrappedRange"], function(e, t) {
        function n(e) {
            return "string" == typeof e ? /^backward(s)?$/i.test(e) : !!e
        }

        function i(e, n) {
            if (e) {
                if (E.isWindow(e)) return e;
                if (e instanceof v) return e.win;
                var i = E.getContentDocument(e, t, n);
                return E.getWindow(i)
            }
            return window
        }

        function r(e) {
            return i(e, "getWinSelection").getSelection()
        }

        function o(e) {
            return i(e, "getDocSelection").document.selection
        }

        function s(e) {
            var t = !1;
            return e.anchorNode && (t = 1 == E.comparePoints(e.anchorNode, e.anchorOffset, e.focusNode, e.focusOffset)), t
        }

        function a(e, t, n) {
            var i = n ? "end" : "start",
                r = n ? "start" : "end";
            e.anchorNode = t[i + "Container"], e.anchorOffset = t[i + "Offset"], e.focusNode = t[r + "Container"], e.focusOffset = t[r + "Offset"]
        }

        function l(e) {
            var t = e.nativeSelection;
            e.anchorNode = t.anchorNode, e.anchorOffset = t.anchorOffset, e.focusNode = t.focusNode, e.focusOffset = t.focusOffset
        }

        function c(e) {
            e.anchorNode = e.focusNode = null, e.anchorOffset = e.focusOffset = 0, e.rangeCount = 0, e.isCollapsed = !0, e._ranges.length = 0
        }

        function u(t) {
            var n;
            return t instanceof P ? (n = e.createNativeRange(t.getDocument()), n.setEnd(t.endContainer, t.endOffset), n.setStart(t.startContainer, t.startOffset)) : t instanceof N ? n = t.nativeRange : M.implementsDomRange && t instanceof E.getWindow(t.startContainer).Range && (n = t), n
        }

        function h(e) {
            if (!e.length || 1 != e[0].nodeType) return !1;
            for (var t = 1, n = e.length; n > t; ++t)
                if (!E.isAncestorOf(e[0], e[t])) return !1;
            return !0
        }

        function d(e) {
            var n = e.getNodes();
            if (!h(n)) throw t.createError("getSingleElementFromRange: range " + e.inspect() + " did not consist of a single element");
            return n[0]
        }

        function f(e) {
            return !!e && "undefined" != typeof e.text
        }

        function p(e, t) {
            var n = new N(t);
            e._ranges = [n], a(e, n, !1), e.rangeCount = 1, e.isCollapsed = n.collapsed
        }

        function m(t) {
            if (t._ranges.length = 0, "None" == t.docSelection.type) c(t);
            else {
                var n = t.docSelection.createRange();
                if (f(n)) p(t, n);
                else {
                    t.rangeCount = n.length;
                    for (var i, r = B(n.item(0)), o = 0; o < t.rangeCount; ++o) i = e.createRange(r), i.selectNode(n.item(o)), t._ranges.push(i);
                    t.isCollapsed = 1 == t.rangeCount && t._ranges[0].collapsed, a(t, t._ranges[t.rangeCount - 1], !1)
                }
            }
        }

        function g(e, n) {
            for (var i = e.docSelection.createRange(), r = d(n), o = B(i.item(0)), s = F(o).createControlRange(), a = 0, l = i.length; l > a; ++a) s.add(i.item(a));
            try {
                s.add(r)
            } catch (c) {
                throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")
            }
            s.select(), m(e)
        }

        function v(e, t, n) {
            this.nativeSelection = e, this.docSelection = t, this._ranges = [], this.win = n, this.refresh()
        }

        function y(e) {
            e.win = e.anchorNode = e.focusNode = e._ranges = null, e.rangeCount = e.anchorOffset = e.focusOffset = 0, e.detached = !0
        }

        function b(e, t) {
            for (var n, i, r = tt.length; r--;)
                if (n = tt[r], i = n.selection, "deleteAll" == t) y(i);
                else if (n.win == e) return "delete" == t ? (tt.splice(r, 1), !0) : i;
            return "deleteAll" == t && (tt.length = 0), null
        }

        function w(e, n) {
            for (var i, r = B(n[0].startContainer), o = F(r).createControlRange(), s = 0, a = n.length; a > s; ++s) {
                i = d(n[s]);
                try {
                    o.add(i)
                } catch (l) {
                    throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")
                }
            }
            o.select(), m(e)
        }

        function _(e, t) {
            if (e.win.document != B(t)) throw new O("WRONG_DOCUMENT_ERR")
        }

        function x(t) {
            return function(n, i) {
                var r;
                this.rangeCount ? (r = this.getRangeAt(0), r["set" + (t ? "Start" : "End")](n, i)) : (r = e.createRange(this.win.document), r.setStartAndEnd(n, i)), this.setSingleRange(r, this.isBackward())
            }
        }

        function $(e) {
            var t = [],
                n = new I(e.anchorNode, e.anchorOffset),
                i = new I(e.focusNode, e.focusOffset),
                r = "function" == typeof e.getName ? e.getName() : "Selection";
            if ("undefined" != typeof e.rangeCount)
                for (var o = 0, s = e.rangeCount; s > o; ++o) t[o] = P.inspect(e.getRangeAt(o));
            return "[" + r + "(Ranges: " + t.join(", ") + ")(anchor: " + n.inspect() + ", focus: " + i.inspect() + "]"
        }
        e.config.checkSelectionRanges = !0;
        var C, k, S = "boolean",
            T = "number",
            E = e.dom,
            D = e.util,
            A = D.isHostMethod,
            P = e.DomRange,
            N = e.WrappedRange,
            O = e.DOMException,
            I = E.DomPosition,
            M = e.features,
            R = "Control",
            B = E.getDocument,
            F = E.getBody,
            H = P.rangesEqual,
            j = A(window, "getSelection"),
            L = D.isHostObject(document, "selection");
        M.implementsWinGetSelection = j, M.implementsDocSelection = L;
        var W = L && (!j || e.config.preferTextRange);
        W ? (C = o, e.isSelectionValid = function(e) {
            var t = i(e, "isSelectionValid").document,
                n = t.selection;
            return "None" != n.type || B(n.createRange().parentElement()) == t
        }) : j ? (C = r, e.isSelectionValid = function() {
            return !0
        }) : t.fail("Neither document.selection or window.getSelection() detected."), e.getNativeSelection = C;
        var z = C(),
            q = e.createNativeRange(document),
            U = F(document),
            V = D.areHostProperties(z, ["anchorNode", "focusNode", "anchorOffset", "focusOffset"]);
        M.selectionHasAnchorAndFocus = V;
        var Y = A(z, "extend");
        M.selectionHasExtend = Y;
        var G = typeof z.rangeCount == T;
        M.selectionHasRangeCount = G;
        var X = !1,
            K = !0,
            Z = Y ? function(t, n) {
                var i = P.getRangeDocument(n),
                    r = e.createRange(i);
                r.collapseToPoint(n.endContainer, n.endOffset), t.addRange(u(r)), t.extend(n.startContainer, n.startOffset)
            } : null;
        D.areHostMethods(z, ["addRange", "getRangeAt", "removeAllRanges"]) && typeof z.rangeCount == T && M.implementsDomRange && ! function() {
            var t = window.getSelection();
            if (t) {
                for (var n = t.rangeCount, i = n > 1, r = [], o = s(t), a = 0; n > a; ++a) r[a] = t.getRangeAt(a);
                var l = F(document),
                    c = l.appendChild(document.createElement("div"));
                c.contentEditable = "false";
                var u = c.appendChild(document.createTextNode("Â Â Â ")),
                    h = document.createRange();
                if (h.setStart(u, 1), h.collapse(!0), t.addRange(h), K = 1 == t.rangeCount, t.removeAllRanges(), !i) {
                    var d = window.navigator.appVersion.match(/Chrome\/(.*?) /);
                    if (d && parseInt(d[1]) >= 36) X = !1;
                    else {
                        var f = h.cloneRange();
                        h.setStart(u, 0), f.setEnd(u, 3), f.setStart(u, 2), t.addRange(h), t.addRange(f), X = 2 == t.rangeCount
                    }
                }
                for (l.removeChild(c), t.removeAllRanges(), a = 0; n > a; ++a) 0 == a && o ? Z ? Z(t, r[a]) : (e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"), t.addRange(r[a])) : t.addRange(r[a])
            }
        }(), M.selectionSupportsMultipleRanges = X, M.collapsedNonEditableSelectionsSupported = K;
        var Q, J = !1;
        U && A(U, "createControlRange") && (Q = U.createControlRange(), D.areHostProperties(Q, ["item", "add"]) && (J = !0)), M.implementsControlRange = J, k = V ? function(e) {
            return e.anchorNode === e.focusNode && e.anchorOffset === e.focusOffset
        } : function(e) {
            return e.rangeCount ? e.getRangeAt(e.rangeCount - 1).collapsed : !1
        };
        var et;
        A(z, "getRangeAt") ? et = function(e, t) {
            try {
                return e.getRangeAt(t)
            } catch (n) {
                return null
            }
        } : V && (et = function(t) {
            var n = B(t.anchorNode),
                i = e.createRange(n);
            return i.setStartAndEnd(t.anchorNode, t.anchorOffset, t.focusNode, t.focusOffset), i.collapsed !== this.isCollapsed && i.setStartAndEnd(t.focusNode, t.focusOffset, t.anchorNode, t.anchorOffset), i
        }), v.prototype = e.selectionPrototype;
        var tt = [],
            nt = function(e) {
                if (e && e instanceof v) return e.refresh(), e;
                e = i(e, "getNativeSelection");
                var t = b(e),
                    n = C(e),
                    r = L ? o(e) : null;
                return t ? (t.nativeSelection = n, t.docSelection = r, t.refresh()) : (t = new v(n, r, e), tt.push({
                    win: e,
                    selection: t
                })), t
            };
        e.getSelection = nt, e.getIframeSelection = function(n) {
            return t.deprecationNotice("getIframeSelection()", "getSelection(iframeEl)"), e.getSelection(E.getIframeWindow(n))
        };
        var it = v.prototype;
        if (!W && V && D.areHostMethods(z, ["removeAllRanges", "addRange"])) {
            it.removeAllRanges = function() {
                this.nativeSelection.removeAllRanges(), c(this)
            };
            var rt = function(e, t) {
                Z(e.nativeSelection, t), e.refresh()
            };
            it.addRange = G ? function(t, i) {
                if (J && L && this.docSelection.type == R) g(this, t);
                else if (n(i) && Y) rt(this, t);
                else {
                    var r;
                    X ? r = this.rangeCount : (this.removeAllRanges(), r = 0);
                    var o = u(t).cloneRange();
                    try {
                        this.nativeSelection.addRange(o)
                    } catch (s) {}
                    if (this.rangeCount = this.nativeSelection.rangeCount, this.rangeCount == r + 1) {
                        if (e.config.checkSelectionRanges) {
                            var l = et(this.nativeSelection, this.rangeCount - 1);
                            l && !H(l, t) && (t = new N(l))
                        }
                        this._ranges[this.rangeCount - 1] = t, a(this, t, at(this.nativeSelection)), this.isCollapsed = k(this)
                    } else this.refresh()
                }
            } : function(e, t) {
                n(t) && Y ? rt(this, e) : (this.nativeSelection.addRange(u(e)), this.refresh())
            }, it.setRanges = function(e) {
                if (J && L && e.length > 1) w(this, e);
                else {
                    this.removeAllRanges();
                    for (var t = 0, n = e.length; n > t; ++t) this.addRange(e[t])
                }
            }
        } else {
            if (!(A(z, "empty") && A(q, "select") && J && W)) return t.fail("No means of selecting a Range or TextRange was found"), !1;
            it.removeAllRanges = function() {
                try {
                    if (this.docSelection.empty(), "None" != this.docSelection.type) {
                        var e;
                        if (this.anchorNode) e = B(this.anchorNode);
                        else if (this.docSelection.type == R) {
                            var t = this.docSelection.createRange();
                            t.length && (e = B(t.item(0)))
                        }
                        if (e) {
                            var n = F(e).createTextRange();
                            n.select(), this.docSelection.empty()
                        }
                    }
                } catch (i) {}
                c(this)
            }, it.addRange = function(t) {
                this.docSelection.type == R ? g(this, t) : (e.WrappedTextRange.rangeToTextRange(t).select(), this._ranges[0] = t, this.rangeCount = 1, this.isCollapsed = this._ranges[0].collapsed, a(this, t, !1))
            }, it.setRanges = function(e) {
                this.removeAllRanges();
                var t = e.length;
                t > 1 ? w(this, e) : t && this.addRange(e[0])
            }
        }
        it.getRangeAt = function(e) {
            if (0 > e || e >= this.rangeCount) throw new O("INDEX_SIZE_ERR");
            return this._ranges[e].cloneRange()
        };
        var ot;
        if (W) ot = function(t) {
            var n;
            e.isSelectionValid(t.win) ? n = t.docSelection.createRange() : (n = F(t.win.document).createTextRange(), n.collapse(!0)), t.docSelection.type == R ? m(t) : f(n) ? p(t, n) : c(t)
        };
        else if (A(z, "getRangeAt") && typeof z.rangeCount == T) ot = function(t) {
            if (J && L && t.docSelection.type == R) m(t);
            else if (t._ranges.length = t.rangeCount = t.nativeSelection.rangeCount, t.rangeCount) {
                for (var n = 0, i = t.rangeCount; i > n; ++n) t._ranges[n] = new e.WrappedRange(t.nativeSelection.getRangeAt(n));
                a(t, t._ranges[t.rangeCount - 1], at(t.nativeSelection)), t.isCollapsed = k(t)
            } else c(t)
        };
        else {
            if (!V || typeof z.isCollapsed != S || typeof q.collapsed != S || !M.implementsDomRange) return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"), !1;
            ot = function(e) {
                var t, n = e.nativeSelection;
                n.anchorNode ? (t = et(n, 0), e._ranges = [t], e.rangeCount = 1, l(e), e.isCollapsed = k(e)) : c(e)
            }
        }
        it.refresh = function(e) {
            var t = e ? this._ranges.slice(0) : null,
                n = this.anchorNode,
                i = this.anchorOffset;
            if (ot(this), e) {
                var r = t.length;
                if (r != this._ranges.length) return !0;
                if (this.anchorNode != n || this.anchorOffset != i) return !0;
                for (; r--;)
                    if (!H(t[r], this._ranges[r])) return !0;
                return !1
            }
        };
        var st = function(e, t) {
            var n = e.getAllRanges();
            e.removeAllRanges();
            for (var i = 0, r = n.length; r > i; ++i) H(t, n[i]) || e.addRange(n[i]);
            e.rangeCount || c(e)
        };
        it.removeRange = J && L ? function(e) {
            if (this.docSelection.type == R) {
                for (var t, n = this.docSelection.createRange(), i = d(e), r = B(n.item(0)), o = F(r).createControlRange(), s = !1, a = 0, l = n.length; l > a; ++a) t = n.item(a), t !== i || s ? o.add(n.item(a)) : s = !0;
                o.select(), m(this)
            } else st(this, e)
        } : function(e) {
            st(this, e)
        };
        var at;
        !W && V && M.implementsDomRange ? (at = s, it.isBackward = function() {
            return at(this)
        }) : at = it.isBackward = function() {
            return !1
        }, it.isBackwards = it.isBackward, it.toString = function() {
            for (var e = [], t = 0, n = this.rangeCount; n > t; ++t) e[t] = "" + this._ranges[t];
            return e.join("")
        }, it.collapse = function(t, n) {
            _(this, t);
            var i = e.createRange(t);
            i.collapseToPoint(t, n), this.setSingleRange(i), this.isCollapsed = !0
        }, it.collapseToStart = function() {
            if (!this.rangeCount) throw new O("INVALID_STATE_ERR");
            var e = this._ranges[0];
            this.collapse(e.startContainer, e.startOffset)
        }, it.collapseToEnd = function() {
            if (!this.rangeCount) throw new O("INVALID_STATE_ERR");
            var e = this._ranges[this.rangeCount - 1];
            this.collapse(e.endContainer, e.endOffset)
        }, it.selectAllChildren = function(t) {
            _(this, t);
            var n = e.createRange(t);
            n.selectNodeContents(t), this.setSingleRange(n)
        }, it.deleteFromDocument = function() {
            if (J && L && this.docSelection.type == R) {
                for (var e, t = this.docSelection.createRange(); t.length;) e = t.item(0), t.remove(e), e.parentNode.removeChild(e);
                this.refresh()
            } else if (this.rangeCount) {
                var n = this.getAllRanges();
                if (n.length) {
                    this.removeAllRanges();
                    for (var i = 0, r = n.length; r > i; ++i) n[i].deleteContents();
                    this.addRange(n[r - 1])
                }
            }
        }, it.eachRange = function(e, t) {
            for (var n = 0, i = this._ranges.length; i > n; ++n)
                if (e(this.getRangeAt(n))) return t
        }, it.getAllRanges = function() {
            var e = [];
            return this.eachRange(function(t) {
                e.push(t)
            }), e
        }, it.setSingleRange = function(e, t) {
            this.removeAllRanges(), this.addRange(e, t)
        }, it.callMethodOnEachRange = function(e, t) {
            var n = [];
            return this.eachRange(function(i) {
                n.push(i[e].apply(i, t))
            }), n
        }, it.setStart = x(!0), it.setEnd = x(!1), e.rangePrototype.select = function(e) {
            nt(this.getDocument()).setSingleRange(this, e)
        }, it.changeEachRange = function(e) {
            var t = [],
                n = this.isBackward();
            this.eachRange(function(n) {
                e(n), t.push(n)
            }), this.removeAllRanges(), n && 1 == t.length ? this.addRange(t[0], "backward") : this.setRanges(t)
        }, it.containsNode = function(e, t) {
            return this.eachRange(function(n) {
                return n.containsNode(e, t)
            }, !0) || !1
        }, it.getBookmark = function(e) {
            return {
                backward: this.isBackward(),
                rangeBookmarks: this.callMethodOnEachRange("getBookmark", [e])
            }
        }, it.moveToBookmark = function(t) {
            for (var n, i, r = [], o = 0; n = t.rangeBookmarks[o++];) i = e.createRange(this.win), i.moveToBookmark(n), r.push(i);
            t.backward ? this.setSingleRange(r[0], "backward") : this.setRanges(r)
        }, it.toHtml = function() {
            var e = [];
            return this.eachRange(function(t) {
                e.push(P.toHtml(t))
            }), e.join("")
        }, M.implementsTextRange && (it.getNativeTextRange = function() {
            var n;
            if (n = this.docSelection) {
                var i = n.createRange();
                if (f(i)) return i;
                throw t.createError("getNativeTextRange: selection is a control selection")
            }
            if (this.rangeCount > 0) return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));
            throw t.createError("getNativeTextRange: selection contains no range")
        }), it.getName = function() {
            return "WrappedSelection"
        }, it.inspect = function() {
            return $(this)
        }, it.detach = function() {
            b(this.win, "delete"), y(this)
        }, v.detachAll = function() {
            b(null, "deleteAll")
        }, v.inspect = $, v.isDirectionBackward = n, e.Selection = v, e.selectionPrototype = it, e.addShimListener(function(e) {
            "undefined" == typeof e.getSelection && (e.getSelection = function() {
                return nt(e)
            }), e = null
        })
    });
    var M = !1,
        R = function() {
            M || (M = !0, !A.initialized && A.config.autoInitialize && h())
        };
    return E && ("complete" == document.readyState ? R() : (e(document, "addEventListener") && document.addEventListener("DOMContentLoaded", R, !1), N(window, "load", R))), A
}, this),
function(e, t) {
    "function" == typeof define && define.amd ? define(["./rangy-core"], e) : "undefined" != typeof module && "object" == typeof exports ? module.exports = e(require("rangy")) : e(t.rangy)
}(function(e) {
    e.createModule("ClassApplier", ["WrappedSelection"], function(e, t) {
        function n(e, t) {
            for (var n in e)
                if (e.hasOwnProperty(n) && t(n, e[n]) === !1) return !1;
            return !0
        }

        function i(e) {
            return e.replace(/^\s\s*/, "").replace(/\s\s*$/, "")
        }

        function r(e, t) {
            return e.className && new RegExp("(?:^|\\s)" + t + "(?:\\s|$)").test(e.className)
        }

        function o(e, t) {
            e.className ? r(e, t) || (e.className += " " + t) : e.className = t
        }

        function s(e) {
            return e && e.split(/\s+/).sort().join(" ")
        }

        function a(e) {
            return s(e.className)
        }

        function l(e, t) {
            return a(e) == a(t)
        }

        function c(e, t, n, i, r) {
            var o = e.node,
                s = e.offset,
                a = o,
                l = s;
            o == i && s > r && ++l, o != t || s != n && s != n + 1 || (a = i, l += r - n), o == t && s > n + 1 && --l, e.node = a, e.offset = l
        }

        function u(e, t, n) {
            e.node == t && e.offset > n && --e.offset
        }

        function h(e, t, n, i) {
            -1 == n && (n = t.childNodes.length);
            for (var r, o = e.parentNode, s = O.getNodeIndex(e), a = 0; r = i[a++];) c(r, o, s, t, n);
            t.childNodes.length == n ? t.appendChild(e) : t.insertBefore(e, t.childNodes[n])
        }

        function d(e, t) {
            for (var n, i = e.parentNode, r = O.getNodeIndex(e), o = 0; n = t[o++];) u(n, i, r);
            e.parentNode.removeChild(e)
        }

        function f(e, t, n, i, r) {
            for (var o, s = []; o = e.firstChild;) h(o, t, n++, r), s.push(o);
            return i && d(e, r), s
        }

        function p(e, t) {
            return f(e, e.parentNode, O.getNodeIndex(e), !0, t)
        }

        function m(e, t) {
            var n = e.cloneRange();
            n.selectNodeContents(t);
            var i = n.intersection(e),
                r = i ? i.toString() : "";
            return "" != r
        }

        function g(e) {
            for (var t, n = e.getNodes([3]), i = 0;
                (t = n[i]) && !m(e, t);) ++i;
            for (var r = n.length - 1;
                (t = n[r]) && !m(e, t);) --r;
            return n.slice(i, r + 1)
        }

        function v(e, t) {
            if (e.attributes.length != t.attributes.length) return !1;
            for (var n, i, r, o = 0, s = e.attributes.length; s > o; ++o)
                if (n = e.attributes[o], r = n.name, "class" != r) {
                    if (i = t.attributes.getNamedItem(r), null === n != (null === i)) return !1;
                    if (n.specified != i.specified) return !1;
                    if (n.specified && n.nodeValue !== i.nodeValue) return !1
                }
            return !0
        }

        function y(e, t) {
            for (var n, i = 0, r = e.attributes.length; r > i; ++i)
                if (n = e.attributes[i].name, (!t || !M(t, n)) && e.attributes[i].specified && "class" != n) return !0;
            return !1
        }

        function b(e, t) {
            return n(t, function(t, n) {
                if ("object" == typeof n) {
                    if (!b(e[t], n)) return !1
                } else if (e[t] !== n) return !1
            })
        }

        function w(e) {
            var t;
            return e && 1 == e.nodeType && ((t = e.parentNode) && 9 == t.nodeType && "on" == t.designMode || j(e) && !j(e.parentNode))
        }

        function _(e) {
            return (j(e) || 1 != e.nodeType && j(e.parentNode)) && !w(e)
        }

        function x(e) {
            return e && 1 == e.nodeType && !L.test(H(e, "display"))
        }

        function $(e) {
            if (0 == e.data.length) return !0;
            if (W.test(e.data)) return !1;
            var t = H(e.parentNode, "whiteSpace");
            switch (t) {
                case "pre":
                case "pre-wrap":
                case "-moz-pre-wrap":
                    return !1;
                case "pre-line":
                    if (/[\r\n]/.test(e.data)) return !1
            }
            return x(e.previousSibling) || x(e.nextSibling)
        }

        function C(e) {
            var t, n, i = [];
            for (t = 0; n = e[t++];) i.push(new I(n.startContainer, n.startOffset), new I(n.endContainer, n.endOffset));
            return i
        }

        function k(e, t) {
            for (var n, i, r, o = 0, s = e.length; s > o; ++o) n = e[o], i = t[2 * o], r = t[2 * o + 1], n.setStartAndEnd(i.node, i.offset, r.node, r.offset)
        }

        function S(e, t) {
            return O.isCharacterDataNode(e) ? 0 == t ? !!e.previousSibling : t == e.length ? !!e.nextSibling : !0 : t > 0 && t < e.childNodes.length
        }

        function T(e, n, i, r) {
            var o, s, a = 0 == i;
            if (O.isAncestorOf(n, e)) return e;
            if (O.isCharacterDataNode(n)) {
                var l = O.getNodeIndex(n);
                if (0 == i) i = l;
                else {
                    if (i != n.length) throw t.createError("splitNodeAt() should not be called with offset in the middle of a data node (" + i + " in " + n.data);
                    i = l + 1
                }
                n = n.parentNode
            }
            if (S(n, i)) {
                o = n.cloneNode(!1), s = n.parentNode, o.id && o.removeAttribute("id");
                for (var c, u = 0; c = n.childNodes[i];) h(c, o, u++, r);
                return h(o, s, O.getNodeIndex(n) + 1, r), n == e ? o : T(e, s, O.getNodeIndex(o), r)
            }
            if (e != n) {
                o = n.parentNode;
                var d = O.getNodeIndex(n);
                return a || d++, T(e, o, d, r)
            }
            return e
        }

        function E(e, t) {
            return e.namespaceURI == t.namespaceURI && e.tagName.toLowerCase() == t.tagName.toLowerCase() && l(e, t) && v(e, t) && "inline" == H(e, "display") && "inline" == H(t, "display")
        }

        function D(e) {
            var t = e ? "nextSibling" : "previousSibling";
            return function(n, i) {
                var r = n.parentNode,
                    o = n[t];
                if (o) {
                    if (o && 3 == o.nodeType) return o
                } else if (i && (o = r[t], o && 1 == o.nodeType && E(r, o))) {
                    var s = o[e ? "firstChild" : "lastChild"];
                    if (s && 3 == s.nodeType) return s
                }
                return null
            }
        }

        function A(e) {
            this.isElementMerge = 1 == e.nodeType, this.textNodes = [];
            var t = this.isElementMerge ? e.lastChild : e;
            t && (this.textNodes[0] = t)
        }

        function P(e, t, r) {
            var o, s, a, l, c = this;
            c.cssClass = c.className = e;
            var u = null,
                h = {};
            if ("object" == typeof t && null !== t) {
                for (r = t.tagNames, u = t.elementProperties, h = t.elementAttributes, s = 0; l = U[s++];) t.hasOwnProperty(l) && (c[l] = t[l]);
                o = t.normalize
            } else o = t;
            c.normalize = "undefined" == typeof o ? !0 : o, c.attrExceptions = [];
            var d = document.createElement(c.elementTagName);
            c.elementProperties = c.copyPropertiesToElement(u, d, !0), n(h, function(e) {
                c.attrExceptions.push(e)
            }), c.elementAttributes = h, c.elementSortedClassName = c.elementProperties.hasOwnProperty("className") ? c.elementProperties.className : e, c.applyToAnyTagName = !1;
            var f = typeof r;
            if ("string" == f) "*" == r ? c.applyToAnyTagName = !0 : c.tagNames = i(r.toLowerCase()).split(/\s*,\s*/);
            else if ("object" == f && "number" == typeof r.length)
                for (c.tagNames = [], s = 0, a = r.length; a > s; ++s) "*" == r[s] ? c.applyToAnyTagName = !0 : c.tagNames.push(r[s].toLowerCase());
            else c.tagNames = [c.elementTagName]
        }

        function N(e, t, n) {
            return new P(e, t, n)
        }
        var O = e.dom,
            I = O.DomPosition,
            M = O.arrayContains,
            R = O.isHtmlNamespace,
            B = "span",
            F = function() {
                function e(e, t, n) {
                    return t && n ? " " : ""
                }
                return function(t, n) {
                    t.className && (t.className = t.className.replace(new RegExp("(^|\\s)" + n + "(\\s|$)"), e))
                }
            }(),
            H = O.getComputedStyleProperty,
            j = function() {
                var e = document.createElement("div");
                return "boolean" == typeof e.isContentEditable ? function(e) {
                    return e && 1 == e.nodeType && e.isContentEditable
                } : function(e) {
                    return e && 1 == e.nodeType && "false" != e.contentEditable ? "true" == e.contentEditable || j(e.parentNode) : !1
                }
            }(),
            L = /^inline(-block|-table)?$/i,
            W = /[^\r\n\t\f \u200B]/,
            z = D(!1),
            q = D(!0);
        A.prototype = {
            doMerge: function(e) {
                var t = this.textNodes,
                    n = t[0];
                if (t.length > 1) {
                    for (var i, r, o, s, a = O.getNodeIndex(n), l = [], c = 0, u = 0, h = t.length; h > u; ++u) {
                        if (i = t[u], r = i.parentNode, u > 0 && (r.removeChild(i), r.hasChildNodes() || r.parentNode.removeChild(r), e))
                            for (o = 0; s = e[o++];) s.node == i && (s.node = n, s.offset += c), s.node == r && s.offset > a && (--s.offset, s.offset == a + 1 && h - 1 > u && (s.node = n, s.offset = c));
                        l[u] = i.data, c += i.data.length
                    }
                    n.data = l.join("")
                }
                return n.data
            },
            getLength: function() {
                for (var e = this.textNodes.length, t = 0; e--;) t += this.textNodes[e].length;
                return t
            },
            toString: function() {
                for (var e = [], t = 0, n = this.textNodes.length; n > t; ++t) e[t] = "'" + this.textNodes[t].data + "'";
                return "[Merge(" + e.join(",") + ")]"
            }
        };
        var U = ["elementTagName", "ignoreWhiteSpace", "applyToEditableOnly", "useExistingElements", "removeEmptyElements", "onElementCreate"],
            V = {};
        P.prototype = {
            elementTagName: B,
            elementProperties: {},
            elementAttributes: {},
            ignoreWhiteSpace: !0,
            applyToEditableOnly: !1,
            useExistingElements: !0,
            removeEmptyElements: !0,
            onElementCreate: null,
            copyPropertiesToElement: function(e, t, n) {
                var i, r, a, l, c, u, h = {};
                for (var d in e)
                    if (e.hasOwnProperty(d))
                        if (l = e[d], c = t[d], "className" == d) o(t, l), o(t, this.className), t[d] = s(t[d]), n && (h[d] = t[d]);
                        else if ("style" == d) {
                    r = c, n && (h[d] = a = {});
                    for (i in e[d]) r[i] = l[i], n && (a[i] = r[i]);
                    this.attrExceptions.push(d)
                } else t[d] = l, n && (h[d] = t[d], u = V.hasOwnProperty(d) ? V[d] : d, this.attrExceptions.push(u));
                return n ? h : ""
            },
            copyAttributesToElement: function(e, t) {
                for (var n in e) e.hasOwnProperty(n) && t.setAttribute(n, e[n])
            },
            hasClass: function(e) {
                return 1 == e.nodeType && M(this.tagNames, e.tagName.toLowerCase()) && r(e, this.className)
            },
            getSelfOrAncestorWithClass: function(e) {
                for (; e;) {
                    if (this.hasClass(e)) return e;
                    e = e.parentNode
                }
                return null
            },
            isModifiable: function(e) {
                return !this.applyToEditableOnly || _(e)
            },
            isIgnorableWhiteSpaceNode: function(e) {
                return this.ignoreWhiteSpace && e && 3 == e.nodeType && $(e)
            },
            postApply: function(e, t, n, i) {
                for (var r, o, s, a = e[0], l = e[e.length - 1], c = [], u = a, h = l, d = 0, f = l.length, p = 0, m = e.length; m > p; ++p) o = e[p], s = z(o, !i), s ? (r || (r = new A(s), c.push(r)), r.textNodes.push(o), o === a && (u = r.textNodes[0], d = u.length), o === l && (h = r.textNodes[0], f = r.getLength())) : r = null;
                var g = q(l, !i);
                if (g && (r || (r = new A(l), c.push(r)), r.textNodes.push(g)), c.length) {
                    for (p = 0, m = c.length; m > p; ++p) c[p].doMerge(n);
                    t.setStartAndEnd(u, d, h, f)
                }
            },
            createContainer: function(e) {
                var t = e.createElement(this.elementTagName);
                return this.copyPropertiesToElement(this.elementProperties, t, !1), this.copyAttributesToElement(this.elementAttributes, t), o(t, this.className), this.onElementCreate && this.onElementCreate(t, this), t
            },
            applyToTextNode: function(e) {
                var t = e.parentNode;
                if (1 == t.childNodes.length && this.useExistingElements && R(t) && M(this.tagNames, t.tagName.toLowerCase()) && b(t, this.elementProperties)) o(t, this.className);
                else {
                    var n = this.createContainer(O.getDocument(e));
                    e.parentNode.insertBefore(n, e), n.appendChild(e)
                }
            },
            isRemovable: function(e) {
                return R(e) && e.tagName.toLowerCase() == this.elementTagName && a(e) == this.elementSortedClassName && b(e, this.elementProperties) && !y(e, this.attrExceptions) && this.isModifiable(e)
            },
            isEmptyContainer: function(e) {
                var t = e.childNodes.length;
                return 1 == e.nodeType && this.isRemovable(e) && (0 == t || 1 == t && this.isEmptyContainer(e.firstChild))
            },
            removeEmptyContainers: function(e) {
                for (var t, n = this, i = e.getNodes([1], function(e) {
                        return n.isEmptyContainer(e)
                    }), r = [e], o = C(r), s = 0; t = i[s++];) d(t, o);
                k(r, o)
            },
            undoToTextNode: function(e, t, n, i) {
                if (!t.containsNode(n)) {
                    var r = t.cloneRange();
                    r.selectNode(n), r.isPointInRange(t.endContainer, t.endOffset) && (T(n, t.endContainer, t.endOffset, i), t.setEndAfter(n)), r.isPointInRange(t.startContainer, t.startOffset) && (n = T(n, t.startContainer, t.startOffset, i))
                }
                this.isRemovable(n) ? p(n, i) : F(n, this.className)
            },
            applyToRange: function(e, t) {
                t = t || [];
                var n = C(t || []);
                e.splitBoundariesPreservingPositions(n), this.removeEmptyElements && this.removeEmptyContainers(e);
                var i = g(e);
                if (i.length) {
                    for (var r, o = 0; r = i[o++];) this.isIgnorableWhiteSpaceNode(r) || this.getSelfOrAncestorWithClass(r) || !this.isModifiable(r) || this.applyToTextNode(r, n);
                    r = i[i.length - 1], e.setStartAndEnd(i[0], 0, r, r.length), this.normalize && this.postApply(i, e, n, !1), k(t, n)
                }
            },
            applyToRanges: function(e) {
                for (var t = e.length; t--;) this.applyToRange(e[t], e);
                return e
            },
            applyToSelection: function(t) {
                var n = e.getSelection(t);
                n.setRanges(this.applyToRanges(n.getAllRanges()))
            },
            undoToRange: function(e, t) {
                t = t || [];
                var n = C(t);
                e.splitBoundariesPreservingPositions(n), this.removeEmptyElements && this.removeEmptyContainers(e, n);
                var i, r, o = g(e),
                    s = o[o.length - 1];
                if (o.length) {
                    for (var a = 0, l = o.length; l > a; ++a) i = o[a], r = this.getSelfOrAncestorWithClass(i), r && this.isModifiable(i) && this.undoToTextNode(i, e, r, n), e.setStartAndEnd(o[0], 0, s, s.length);
                    this.normalize && this.postApply(o, e, n, !0), k(t, n)
                }
            },
            undoToRanges: function(e) {
                for (var t = e.length; t--;) this.undoToRange(e[t], e);
                return e
            },
            undoToSelection: function(t) {
                var n = e.getSelection(t),
                    i = e.getSelection(t).getAllRanges();
                this.undoToRanges(i), n.setRanges(i)
            },
            isAppliedToRange: function(e) {
                if (e.collapsed || "" == e.toString()) return !!this.getSelfOrAncestorWithClass(e.commonAncestorContainer);
                var t = e.getNodes([3]);
                if (t.length)
                    for (var n, i = 0; n = t[i++];)
                        if (!this.isIgnorableWhiteSpaceNode(n) && m(e, n) && this.isModifiable(n) && !this.getSelfOrAncestorWithClass(n)) return !1;
                return !0
            },
            isAppliedToRanges: function(e) {
                var t = e.length;
                if (0 == t) return !1;
                for (; t--;)
                    if (!this.isAppliedToRange(e[t])) return !1;
                return !0
            },
            isAppliedToSelection: function(t) {
                var n = e.getSelection(t);
                return this.isAppliedToRanges(n.getAllRanges())
            },
            toggleRange: function(e) {
                this.isAppliedToRange(e) ? this.undoToRange(e) : this.applyToRange(e)
            },
            toggleSelection: function(e) {
                this.isAppliedToSelection(e) ? this.undoToSelection(e) : this.applyToSelection(e)
            },
            getElementsWithClassIntersectingRange: function(e) {
                var t = [],
                    n = this;
                return e.getNodes([3], function(e) {
                    var i = n.getSelfOrAncestorWithClass(e);
                    i && !M(t, i) && t.push(i)
                }), t
            },
            detach: function() {}
        }, P.util = {
            hasClass: r,
            addClass: o,
            removeClass: F,
            hasSameClasses: l,
            replaceWithOwnChildren: p,
            elementsHaveSameNonClassAttributes: v,
            elementHasNonClassAttributes: y,
            splitNodeAt: T,
            isEditableElement: j,
            isEditingHost: w,
            isEditable: _
        }, e.CssClassApplier = e.ClassApplier = P, e.createCssClassApplier = e.createClassApplier = N
    })
}, this),
function(e, t, n) {
    "use strict";

    function i(e, n, i, r) {
        for (var o = [], s = 0; s < e.length; s++) {
            var a = e[s];
            if (a) {
                var l = tinycolor(a),
                    c = l.toHsl().l < .5 ? "sp-thumb-el sp-thumb-dark" : "sp-thumb-el sp-thumb-light";
                c += tinycolor.equals(n, a) ? " sp-thumb-active" : "";
                var u = l.toString(r.preferredFormat || "rgb"),
                    h = g ? "background-color:" + l.toRgbString() : "filter:" + l.toFilter();
                o.push('<span title="' + u + '" data-color="' + l.toRgbString() + '" class="' + c + '"><span class="sp-thumb-inner" style="' + h + ';" /></span>')
            } else {
                var d = "sp-clear-display";
                o.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="' + d + '"></span>').attr("title", r.noColorSelectedText)).html())
            }
        }
        return "<div class='sp-cf " + i + "'>" + o.join("") + "</div>"
    }

    function r() {
        for (var e = 0; e < p.length; e++) p[e] && p[e].hide()
    }

    function o(e, n) {
        var i = t.extend({}, f, e);
        return i.callbacks = {
            move: u(i.move, n),
            change: u(i.change, n),
            show: u(i.show, n),
            hide: u(i.hide, n),
            beforeShow: u(i.beforeShow, n)
        }, i
    }

    function s(s, l) {
        function u() {
            if (q.showPaletteOnly && (q.showPalette = !0), Mt.text(q.showPaletteOnly ? q.togglePaletteMoreText : q.togglePaletteLessText), q.palette) {
                ut = q.palette.slice(0), ht = t.isArray(ut[0]) ? ut : [ut], dt = {};
                for (var e = 0; e < ht.length; e++)
                    for (var n = 0; n < ht[e].length; n++) {
                        var i = tinycolor(ht[e][n]).toRgbString();
                        dt[i] = !0
                    }
            }
            wt.toggleClass("sp-flat", U), wt.toggleClass("sp-input-disabled", !q.showInput), wt.toggleClass("sp-alpha-enabled", q.showAlpha), wt.toggleClass("sp-clear-enabled", Gt), wt.toggleClass("sp-buttons-disabled", !q.showButtons), wt.toggleClass("sp-palette-buttons-disabled", !q.togglePaletteOnly), wt.toggleClass("sp-palette-disabled", !q.showPalette), wt.toggleClass("sp-palette-only", q.showPaletteOnly), wt.toggleClass("sp-initial-disabled", !q.showInitial), wt.addClass(q.className).addClass(q.containerClassName), H()
        }

        function f() {
            function e(e) {
                return e.data && e.data.ignore ? (N(t(e.target).closest(".sp-thumb-el").data("color")), M()) : (N(t(e.target).closest(".sp-thumb-el").data("color")), M(), F(!0), A()), !1
            }
            if (m && wt.find("*:not(input)").attr("unselectable", "on"), u(), Ft && yt.after(Ht).hide(), Gt || Ot.hide(), U) yt.after(wt).hide();
            else {
                var n = "parent" === q.appendTo ? yt.parent() : t(q.appendTo);
                1 !== n.length && (n = t("body")), n.append(wt)
            }
            w(), jt.bind("click.spectrum touchstart.spectrum", function(e) {
                bt || E(), e.stopPropagation(), t(e.target).is("input") || e.preventDefault()
            }), (yt.is(":disabled") || q.disabled === !0) && z(), wt.click(c), Dt.change(T), Dt.bind("paste", function() {
                setTimeout(T, 1)
            }), Dt.keydown(function(e) {
                13 == e.keyCode && T()
            }), Nt.text(q.cancelText), Nt.bind("click.spectrum", function(e) {
                e.stopPropagation(), e.preventDefault(), A("cancel")
            }), Ot.attr("title", q.clearText), Ot.bind("click.spectrum", function(e) {
                e.stopPropagation(), e.preventDefault(), Yt = !0, M(), U && F(!0)
            }), It.text(q.chooseText), It.bind("click.spectrum", function(e) {
                e.stopPropagation(), e.preventDefault(), I() && (F(!0), A())
            }), Mt.text(q.showPaletteOnly ? q.togglePaletteMoreText : q.togglePaletteLessText), Mt.bind("click.spectrum", function(e) {
                e.stopPropagation(), e.preventDefault(), q.showPaletteOnly = !q.showPaletteOnly, q.showPaletteOnly || U || wt.css("left", "-=" + (_t.outerWidth(!0) + 5)), u()
            }), h(Tt, function(e, t, n) {
                ct = e / it, Yt = !1, n.shiftKey && (ct = Math.round(10 * ct) / 10), M()
            }, k, S), h(Ct, function(e, t) {
                st = parseFloat(t / tt), Yt = !1, q.showAlpha || (ct = 1), M()
            }, k, S), h(xt, function(e, t, n) {
                if (n.shiftKey) {
                    if (!gt) {
                        var i = at * Q,
                            r = J - lt * J,
                            o = Math.abs(e - i) > Math.abs(t - r);
                        gt = o ? "x" : "y"
                    }
                } else gt = null;
                var s = !gt || "x" === gt,
                    a = !gt || "y" === gt;
                s && (at = parseFloat(e / Q)), a && (lt = parseFloat((J - t) / J)), Yt = !1, q.showAlpha || (ct = 1), M()
            }, k, S), Wt ? (N(Wt), R(), Ut = qt || tinycolor(Wt).format, _(Wt)) : R(), U && D();
            var i = m ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum";
            At.delegate(".sp-thumb-el", i, e), Pt.delegate(".sp-thumb-el:nth-child(1)", i, {
                ignore: !0
            }, e)
        }

        function w() {
            if (Y && e.localStorage) {
                try {
                    var n = e.localStorage[Y].split(",#");
                    n.length > 1 && (delete e.localStorage[Y], t.each(n, function(e, t) {
                        _(t)
                    }))
                } catch (i) {}
                try {
                    ft = e.localStorage[Y].split(";")
                } catch (i) {}
            }
        }

        function _(n) {
            if (V) {
                var i = tinycolor(n).toRgbString();
                if (!dt[i] && -1 === t.inArray(i, ft))
                    for (ft.push(i); ft.length > pt;) ft.shift();
                if (Y && e.localStorage) try {
                    e.localStorage[Y] = ft.join(";")
                } catch (r) {}
            }
        }

        function x() {
            var e = [];
            if (q.showPalette)
                for (var t = 0; t < ft.length; t++) {
                    var n = tinycolor(ft[t]).toRgbString();
                    dt[n] || e.push(ft[t])
                }
            return e.reverse().slice(0, q.maxSelectionSize)
        }

        function $() {
            var e = O(),
                n = t.map(ht, function(t, n) {
                    return i(t, e, "sp-palette-row sp-palette-row-" + n, q)
                });
            w(), ft && n.push(i(x(), e, "sp-palette-row sp-palette-row-selection", q)), At.html(n.join(""))
        }

        function C() {
            if (q.showInitial) {
                var e = zt,
                    t = O();
                Pt.html(i([e, t], t, "sp-palette-row-initial", q))
            }
        }

        function k() {
            (0 >= J || 0 >= Q || 0 >= tt) && H(), wt.addClass(mt), gt = null, yt.trigger("dragstart.spectrum", [O()])
        }

        function S() {
            wt.removeClass(mt), yt.trigger("dragstop.spectrum", [O()])
        }

        function T() {
            var e = Dt.val();
            if (null !== e && "" !== e || !Gt) {
                var t = tinycolor(e);
                t.isValid() ? (N(t), F(!0)) : Dt.addClass("sp-validation-error")
            } else N(null), F(!0)
        }

        function E() {
            Z ? A() : D()
        }

        function D() {
            var n = t.Event("beforeShow.spectrum");
            return Z ? void H() : (yt.trigger(n, [O()]), void(X.beforeShow(O()) === !1 || n.isDefaultPrevented() || (r(), Z = !0, t(vt).bind("click.spectrum", A), t(e).bind("resize.spectrum", K), Ht.addClass("sp-active"), wt.removeClass("sp-hidden"), H(), R(), zt = O(), C(), X.show(zt), yt.trigger("show.spectrum", [zt]))))
        }

        function A(n) {
            if ((!n || "click" != n.type || 2 != n.button) && Z && !U) {
                Z = !1, t(vt).unbind("click.spectrum", A), t(e).unbind("resize.spectrum", K), Ht.removeClass("sp-active"), wt.addClass("sp-hidden");
                var i = !tinycolor.equals(O(), zt);
                i && (Vt && "cancel" !== n ? F(!0) : P()), X.hide(O()), yt.trigger("hide.spectrum", [O()])
            }
        }

        function P() {
            N(zt, !0)
        }

        function N(e, t) {
            if (tinycolor.equals(e, O())) return void R();
            var n, i;
            !e && Gt ? Yt = !0 : (Yt = !1, n = tinycolor(e), i = n.toHsv(), st = i.h % 360 / 360, at = i.s, lt = i.v, ct = i.a), R(), n && n.isValid() && !t && (Ut = qt || n.getFormat())
        }

        function O(e) {
            return e = e || {}, Gt && Yt ? null : tinycolor.fromRatio({
                h: st,
                s: at,
                v: lt,
                a: Math.round(100 * ct) / 100
            }, {
                format: e.format || Ut
            })
        }

        function I() {
            return !Dt.hasClass("sp-validation-error")
        }

        function M() {
            R(), X.move(O()), yt.trigger("move.spectrum", [O()])
        }

        function R() {
            Dt.removeClass("sp-validation-error"), B();
            var e = tinycolor.fromRatio({
                h: st,
                s: 1,
                v: 1
            });
            xt.css("background-color", e.toHexString());
            var t = Ut;
            1 > ct && (0 !== ct || "name" !== t) && ("hex" === t || "hex3" === t || "hex6" === t || "name" === t) && (t = "rgb");
            var n = O({
                    format: t
                }),
                i = "";
            if (Lt.removeClass("sp-clear-display"), Lt.css("background-color", "transparent"), !n && Gt) Lt.addClass("sp-clear-display");
            else {
                var r = n.toHexString(),
                    o = n.toRgbString();
                if (g || 1 === n.alpha ? Lt.css("background-color", o) : (Lt.css("background-color", "transparent"), Lt.css("filter", n.toFilter())), q.showAlpha) {
                    var s = n.toRgb();
                    s.a = 0;
                    var a = tinycolor(s).toRgbString(),
                        l = "linear-gradient(left, " + a + ", " + r + ")";
                    m ? St.css("filter", tinycolor(a).toFilter({
                        gradientType: 1
                    }, r)) : (St.css("background", "-webkit-" + l), St.css("background", "-moz-" + l), St.css("background", "-ms-" + l), St.css("background", "linear-gradient(to right, " + a + ", " + r + ")"))
                }
                i = n.toString(t)
            }
            q.showInput && Dt.val(i), q.showPalette && $(), C()
        }

        function B() {
            var e = at,
                t = lt;
            if (Gt && Yt) Et.hide(), kt.hide(), $t.hide();
            else {
                Et.show(), kt.show(), $t.show();
                var n = e * Q,
                    i = J - t * J;
                n = Math.max(-et, Math.min(Q - et, n - et)), i = Math.max(-et, Math.min(J - et, i - et)), $t.css({
                    top: i + "px",
                    left: n + "px"
                });
                var r = ct * it;
                Et.css({
                    left: r - rt / 2 + "px"
                });
                var o = st * tt;
                kt.css({
                    top: o - ot + "px"
                })
            }
        }

        function F(e) {
            var t = O(),
                n = "",
                i = !tinycolor.equals(t, zt);
            t && (n = t.toString(Ut), _(t)), Rt && yt.val(n), zt = t, e && i && (X.change(t), yt.trigger("change", [t]))
        }

        function H() {
            Q = xt.width(), J = xt.height(), et = $t.height(), nt = Ct.width(), tt = Ct.height(), ot = kt.height(), it = Tt.width(), rt = Et.width(), U || (wt.css("position", "absolute"), wt.offset(a(wt, jt))), B(), q.showPalette && $(), yt.trigger("reflow.spectrum")
        }

        function j() {
            yt.show(), jt.unbind("click.spectrum touchstart.spectrum"), wt.remove(), Ht.remove(), p[Xt.id] = null
        }

        function L(e, i) {
            return e === n ? t.extend({}, q) : i === n ? q[e] : (q[e] = i, void u())
        }

        function W() {
            bt = !1, yt.attr("disabled", !1), jt.removeClass("sp-disabled")
        }

        function z() {
            A(), bt = !0, yt.attr("disabled", !0), jt.addClass("sp-disabled")
        }
        var q = o(l, s),
            U = q.flat,
            V = q.showSelectionPalette,
            Y = q.localStorageKey,
            G = q.theme,
            X = q.callbacks,
            K = d(H, 10),
            Z = !1,
            Q = 0,
            J = 0,
            et = 0,
            tt = 0,
            nt = 0,
            it = 0,
            rt = 0,
            ot = 0,
            st = 0,
            at = 0,
            lt = 0,
            ct = 1,
            ut = [],
            ht = [],
            dt = {},
            ft = q.selectionPalette.slice(0),
            pt = q.maxSelectionSize,
            mt = "sp-dragging",
            gt = null,
            vt = s.ownerDocument,
            yt = (vt.body, t(s)),
            bt = !1,
            wt = t(b, vt).addClass(G),
            _t = wt.find(".sp-picker-container"),
            xt = wt.find(".sp-color"),
            $t = wt.find(".sp-dragger"),
            Ct = wt.find(".sp-hue"),
            kt = wt.find(".sp-slider"),
            St = wt.find(".sp-alpha-inner"),
            Tt = wt.find(".sp-alpha"),
            Et = wt.find(".sp-alpha-handle"),
            Dt = wt.find(".sp-input"),
            At = wt.find(".sp-palette"),
            Pt = wt.find(".sp-initial"),
            Nt = wt.find(".sp-cancel"),
            Ot = wt.find(".sp-clear"),
            It = wt.find(".sp-choose"),
            Mt = wt.find(".sp-palette-toggle"),
            Rt = yt.is("input"),
            Bt = Rt && v && "color" === yt.attr("type"),
            Ft = Rt && !U,
            Ht = Ft ? t(y).addClass(G).addClass(q.className).addClass(q.replacerClassName) : t([]),
            jt = Ft ? Ht : yt,
            Lt = Ht.find(".sp-preview-inner"),
            Wt = q.color || Rt && yt.val(),
            zt = !1,
            qt = q.preferredFormat,
            Ut = qt,
            Vt = !q.showButtons || q.clickoutFiresChange,
            Yt = !Wt,
            Gt = q.allowEmpty && !Bt;
        f();
        var Xt = {
            show: D,
            hide: A,
            toggle: E,
            reflow: H,
            option: L,
            enable: W,
            disable: z,
            set: function(e) {
                N(e), F()
            },
            get: O,
            destroy: j,
            container: wt
        };
        return Xt.id = p.push(Xt) - 1, Xt
    }

    function a(e, n) {
        var i = 0,
            r = e.outerWidth(),
            o = e.outerHeight(),
            s = n.outerHeight(),
            a = e[0].ownerDocument,
            l = a.documentElement,
            c = l.clientWidth + t(a).scrollLeft(),
            u = l.clientHeight + t(a).scrollTop(),
            h = n.offset();
        return h.top += s, h.left -= Math.min(h.left, h.left + r > c && c > r ? Math.abs(h.left + r - c) : 0), h.top -= Math.min(h.top, h.top + o > u && u > o ? Math.abs(o + s - i) : i), h
    }

    function l() {}

    function c(e) {
        e.stopPropagation()
    }

    function u(e, t) {
        var n = Array.prototype.slice,
            i = n.call(arguments, 2);
        return function() {
            return e.apply(t, i.concat(n.call(arguments)))
        }
    }

    function h(n, i, r, o) {
        function s(e) {
            e.stopPropagation && e.stopPropagation(), e.preventDefault && e.preventDefault(), e.returnValue = !1
        }

        function a(e) {
            if (h) {
                if (m && document.documentMode < 9 && !e.button) return c();
                var t = e.originalEvent.touches,
                    r = t ? t[0].pageX : e.pageX,
                    o = t ? t[0].pageY : e.pageY,
                    a = Math.max(0, Math.min(r - d.left, p)),
                    l = Math.max(0, Math.min(o - d.top, f));
                g && s(e), i.apply(n, [a, l, e])
            }
        }

        function l(e) {
            {
                var i = e.which ? 3 == e.which : 2 == e.button;
                e.originalEvent.touches
            }
            i || h || r.apply(n, arguments) !== !1 && (h = !0, f = t(n).height(), p = t(n).width(), d = t(n).offset(), t(u).bind(v), t(u.body).addClass("sp-dragging"), g || a(e), s(e))
        }

        function c() {
            h && (t(u).unbind(v), t(u.body).removeClass("sp-dragging"), o.apply(n, arguments)), h = !1
        }
        i = i || function() {}, r = r || function() {}, o = o || function() {};
        var u = n.ownerDocument || document,
            h = !1,
            d = {},
            f = 0,
            p = 0,
            g = "ontouchstart" in e,
            v = {};
        v.selectstart = s, v.dragstart = s, v["touchmove mousemove"] = a, v["touchend mouseup"] = c, t(n).bind("touchstart mousedown", l)
    }

    function d(e, t, n) {
        var i;
        return function() {
            var r = this,
                o = arguments,
                s = function() {
                    i = null, e.apply(r, o)
                };
            n && clearTimeout(i), (n || !i) && (i = setTimeout(s, t))
        }
    }
    var f = {
            beforeShow: l,
            move: l,
            change: l,
            show: l,
            hide: l,
            color: !1,
            flat: !1,
            showInput: !1,
            allowEmpty: !1,
            showButtons: !0,
            clickoutFiresChange: !1,
            showInitial: !1,
            showPalette: !1,
            showPaletteOnly: !1,
            togglePaletteOnly: !1,
            showSelectionPalette: !0,
            localStorageKey: !1,
            appendTo: "body",
            maxSelectionSize: 7,
            cancelText: "cancel",
            chooseText: "choose",
            togglePaletteMoreText: "more",
            togglePaletteLessText: "less",
            clearText: "Clear Color Selection",
            noColorSelectedText: "No Color Selected",
            preferredFormat: !1,
            className: "",
            containerClassName: "",
            replacerClassName: "",
            showAlpha: !1,
            theme: "sp-light",
            palette: [
                ["#ffffff", "#000000", "#ff0000", "#ff8000", "#ffff00", "#008000", "#0000ff", "#4b0082", "#9400d3"]
            ],
            selectionPalette: [],
            disabled: !1
        },
        p = [],
        m = !!/msie/i.exec(e.navigator.userAgent),
        g = function() {
            function e(e, t) {
                return !!~("" + e).indexOf(t)
            }
            var t = document.createElement("div"),
                n = t.style;
            return n.cssText = "background-color:rgba(0,0,0,.5)", e(n.backgroundColor, "rgba") || e(n.backgroundColor, "hsla")
        }(),
        v = function() {
            var e = t("<input type='color' value='!' />")[0];
            return "color" === e.type && "!" !== e.value
        }(),
        y = ["<div class='sp-replacer'>", "<div class='sp-preview'><div class='sp-preview-inner'></div></div>", "<div class='sp-dd'>&#9660;</div>", "</div>"].join(""),
        b = function() {
            var e = "";
            if (m)
                for (var t = 1; 6 >= t; t++) e += "<div class='sp-" + t + "'></div>";
            return ["<div class='sp-container sp-hidden'>", "<div class='sp-palette-container'>", "<div class='sp-palette sp-thumb sp-cf'></div>", "<div class='sp-palette-button-container sp-cf'>", "<button type='button' class='sp-palette-toggle'></button>", "</div>", "</div>", "<div class='sp-picker-container'>", "<div class='sp-top sp-cf'>", "<div class='sp-fill'></div>", "<div class='sp-top-inner'>", "<div class='sp-color'>", "<div class='sp-sat'>", "<div class='sp-val'>", "<div class='sp-dragger'></div>", "</div>", "</div>", "</div>", "<div class='sp-clear sp-clear-display'>", "</div>", "<div class='sp-hue'>", "<div class='sp-slider'></div>", e, "</div>", "</div>", "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>", "</div>", "<div class='sp-input-container sp-cf'>", "<input class='sp-input' type='text' spellcheck='false'  />", "</div>", "<div class='sp-initial sp-thumb sp-cf'></div>", "<div class='sp-button-container sp-cf'>", "<a class='sp-cancel' href='#'></a>", "<button type='button' class='sp-choose'></button>", "</div>", "</div>", "</div>"].join("")
        }(),
        w = "spectrum.id";
    t.fn.spectrum = function(e) {
            if ("string" == typeof e) {
                var n = this,
                    i = Array.prototype.slice.call(arguments, 1);
                return this.each(function() {
                    var r = p[t(this).data(w)];
                    if (r) {
                        var o = r[e];
                        if (!o) throw new Error("Spectrum: no such method: '" + e + "'");
                        "get" == e ? n = r.get() : "container" == e ? n = r.container : "option" == e ? n = r.option.apply(r, i) : "destroy" == e ? (r.destroy(), t(this).removeData(w)) : o.apply(r, i)
                    }
                }), n
            }
            return this.spectrum("destroy").each(function() {
                var n = t.extend({}, e, t(this).data()),
                    i = s(this, n);
                t(this).data(w, i.id)
            })
        }, t.fn.spectrum.load = !0, t.fn.spectrum.loadOpts = {}, t.fn.spectrum.draggable = h, t.fn.spectrum.defaults = f, t.spectrum = {}, t.spectrum.localization = {}, t.spectrum.palettes = {}, t.fn.spectrum.processNativeColorInputs = function() {
            v || t("input[type=color]").spectrum({
                preferredFormat: "hex6"
            })
        },
        function() {
            function t(e) {
                var t = {
                        r: 0,
                        g: 0,
                        b: 0
                    },
                    i = 1,
                    o = !1,
                    a = !1;
                return "string" == typeof e && (e = O(e)), "object" == typeof e && (e.hasOwnProperty("r") && e.hasOwnProperty("g") && e.hasOwnProperty("b") ? (t = n(e.r, e.g, e.b), o = !0, a = "%" === String(e.r).substr(-1) ? "prgb" : "rgb") : e.hasOwnProperty("h") && e.hasOwnProperty("s") && e.hasOwnProperty("v") ? (e.s = A(e.s), e.v = A(e.v), t = s(e.h, e.s, e.v), o = !0, a = "hsv") : e.hasOwnProperty("h") && e.hasOwnProperty("s") && e.hasOwnProperty("l") && (e.s = A(e.s), e.l = A(e.l), t = r(e.h, e.s, e.l), o = !0, a = "hsl"), e.hasOwnProperty("a") && (i = e.a)), i = $(i), {
                    ok: o,
                    format: e.format || a,
                    r: H(255, j(t.r, 0)),
                    g: H(255, j(t.g, 0)),
                    b: H(255, j(t.b, 0)),
                    a: i
                }
            }

            function n(e, t, n) {
                return {
                    r: 255 * C(e, 255),
                    g: 255 * C(t, 255),
                    b: 255 * C(n, 255)
                }
            }

            function i(e, t, n) {
                e = C(e, 255), t = C(t, 255), n = C(n, 255);
                var i, r, o = j(e, t, n),
                    s = H(e, t, n),
                    a = (o + s) / 2;
                if (o == s) i = r = 0;
                else {
                    var l = o - s;
                    switch (r = a > .5 ? l / (2 - o - s) : l / (o + s), o) {
                        case e:
                            i = (t - n) / l + (n > t ? 6 : 0);
                            break;
                        case t:
                            i = (n - e) / l + 2;
                            break;
                        case n:
                            i = (e - t) / l + 4
                    }
                    i /= 6
                }
                return {
                    h: i,
                    s: r,
                    l: a
                }
            }

            function r(e, t, n) {
                function i(e, t, n) {
                    return 0 > n && (n += 1), n > 1 && (n -= 1), 1 / 6 > n ? e + 6 * (t - e) * n : .5 > n ? t : 2 / 3 > n ? e + (t - e) * (2 / 3 - n) * 6 : e
                }
                var r, o, s;
                if (e = C(e, 360), t = C(t, 100), n = C(n, 100), 0 === t) r = o = s = n;
                else {
                    var a = .5 > n ? n * (1 + t) : n + t - n * t,
                        l = 2 * n - a;
                    r = i(l, a, e + 1 / 3), o = i(l, a, e), s = i(l, a, e - 1 / 3)
                }
                return {
                    r: 255 * r,
                    g: 255 * o,
                    b: 255 * s
                }
            }

            function o(e, t, n) {
                e = C(e, 255), t = C(t, 255), n = C(n, 255);
                var i, r, o = j(e, t, n),
                    s = H(e, t, n),
                    a = o,
                    l = o - s;
                if (r = 0 === o ? 0 : l / o, o == s) i = 0;
                else {
                    switch (o) {
                        case e:
                            i = (t - n) / l + (n > t ? 6 : 0);
                            break;
                        case t:
                            i = (n - e) / l + 2;
                            break;
                        case n:
                            i = (e - t) / l + 4
                    }
                    i /= 6
                }
                return {
                    h: i,
                    s: r,
                    v: a
                }
            }

            function s(e, t, n) {
                e = 6 * C(e, 360), t = C(t, 100), n = C(n, 100);
                var i = B.floor(e),
                    r = e - i,
                    o = n * (1 - t),
                    s = n * (1 - r * t),
                    a = n * (1 - (1 - r) * t),
                    l = i % 6,
                    c = [n, s, o, o, a, n][l],
                    u = [a, n, n, s, o, o][l],
                    h = [o, o, a, n, n, s][l];
                return {
                    r: 255 * c,
                    g: 255 * u,
                    b: 255 * h
                }
            }

            function a(e, t, n, i) {
                var r = [D(F(e).toString(16)), D(F(t).toString(16)), D(F(n).toString(16))];
                return i && r[0].charAt(0) == r[0].charAt(1) && r[1].charAt(0) == r[1].charAt(1) && r[2].charAt(0) == r[2].charAt(1) ? r[0].charAt(0) + r[1].charAt(0) + r[2].charAt(0) : r.join("")
            }

            function l(e, t, n, i) {
                var r = [D(P(i)), D(F(e).toString(16)), D(F(t).toString(16)), D(F(n).toString(16))];
                return r.join("")
            }

            function c(e, t) {
                t = 0 === t ? 0 : t || 10;
                var n = W(e).toHsl();
                return n.s -= t / 100, n.s = k(n.s), W(n)
            }

            function u(e, t) {
                t = 0 === t ? 0 : t || 10;
                var n = W(e).toHsl();
                return n.s += t / 100, n.s = k(n.s), W(n)
            }

            function h(e) {
                return W(e).desaturate(100)
            }

            function d(e, t) {
                t = 0 === t ? 0 : t || 10;
                var n = W(e).toHsl();
                return n.l += t / 100, n.l = k(n.l), W(n)
            }

            function f(e, t) {
                t = 0 === t ? 0 : t || 10;
                var n = W(e).toRgb();
                return n.r = j(0, H(255, n.r - F(255 * -(t / 100)))), n.g = j(0, H(255, n.g - F(255 * -(t / 100)))), n.b = j(0, H(255, n.b - F(255 * -(t / 100)))), W(n)
            }

            function p(e, t) {
                t = 0 === t ? 0 : t || 10;
                var n = W(e).toHsl();
                return n.l -= t / 100, n.l = k(n.l), W(n)
            }

            function m(e, t) {
                var n = W(e).toHsl(),
                    i = (F(n.h) + t) % 360;
                return n.h = 0 > i ? 360 + i : i, W(n)
            }

            function g(e) {
                var t = W(e).toHsl();
                return t.h = (t.h + 180) % 360, W(t)
            }

            function v(e) {
                var t = W(e).toHsl(),
                    n = t.h;
                return [W(e), W({
                    h: (n + 120) % 360,
                    s: t.s,
                    l: t.l
                }), W({
                    h: (n + 240) % 360,
                    s: t.s,
                    l: t.l
                })]
            }

            function y(e) {
                var t = W(e).toHsl(),
                    n = t.h;
                return [W(e), W({
                    h: (n + 90) % 360,
                    s: t.s,
                    l: t.l
                }), W({
                    h: (n + 180) % 360,
                    s: t.s,
                    l: t.l
                }), W({
                    h: (n + 270) % 360,
                    s: t.s,
                    l: t.l
                })]
            }

            function b(e) {
                var t = W(e).toHsl(),
                    n = t.h;
                return [W(e), W({
                    h: (n + 72) % 360,
                    s: t.s,
                    l: t.l
                }), W({
                    h: (n + 216) % 360,
                    s: t.s,
                    l: t.l
                })]
            }

            function w(e, t, n) {
                t = t || 6, n = n || 30;
                var i = W(e).toHsl(),
                    r = 360 / n,
                    o = [W(e)];
                for (i.h = (i.h - (r * t >> 1) + 720) % 360; --t;) i.h = (i.h + r) % 360, o.push(W(i));
                return o
            }

            function _(e, t) {
                t = t || 6;
                for (var n = W(e).toHsv(), i = n.h, r = n.s, o = n.v, s = [], a = 1 / t; t--;) s.push(W({
                    h: i,
                    s: r,
                    v: o
                })), o = (o + a) % 1;
                return s
            }

            function x(e) {
                var t = {};
                for (var n in e) e.hasOwnProperty(n) && (t[e[n]] = n);
                return t
            }

            function $(e) {
                return e = parseFloat(e), (isNaN(e) || 0 > e || e > 1) && (e = 1), e
            }

            function C(e, t) {
                T(e) && (e = "100%");
                var n = E(e);
                return e = H(t, j(0, parseFloat(e))), n && (e = parseInt(e * t, 10) / 100), B.abs(e - t) < 1e-6 ? 1 : e % t / parseFloat(t)
            }

            function k(e) {
                return H(1, j(0, e))
            }

            function S(e) {
                return parseInt(e, 16)
            }

            function T(e) {
                return "string" == typeof e && -1 != e.indexOf(".") && 1 === parseFloat(e)
            }

            function E(e) {
                return "string" == typeof e && -1 != e.indexOf("%")
            }

            function D(e) {
                return 1 == e.length ? "0" + e : "" + e
            }

            function A(e) {
                return 1 >= e && (e = 100 * e + "%"), e
            }

            function P(e) {
                return Math.round(255 * parseFloat(e)).toString(16)
            }

            function N(e) {
                return S(e) / 255
            }

            function O(e) {
                e = e.replace(I, "").replace(M, "").toLowerCase();
                var t = !1;
                if (z[e]) e = z[e], t = !0;
                else if ("transparent" == e) return {
                    r: 0,
                    g: 0,
                    b: 0,
                    a: 0,
                    format: "name"
                };
                var n;
                return (n = U.rgb.exec(e)) ? {
                    r: n[1],
                    g: n[2],
                    b: n[3]
                } : (n = U.rgba.exec(e)) ? {
                    r: n[1],
                    g: n[2],
                    b: n[3],
                    a: n[4]
                } : (n = U.hsl.exec(e)) ? {
                    h: n[1],
                    s: n[2],
                    l: n[3]
                } : (n = U.hsla.exec(e)) ? {
                    h: n[1],
                    s: n[2],
                    l: n[3],
                    a: n[4]
                } : (n = U.hsv.exec(e)) ? {
                    h: n[1],
                    s: n[2],
                    v: n[3]
                } : (n = U.hex8.exec(e)) ? {
                    a: N(n[1]),
                    r: S(n[2]),
                    g: S(n[3]),
                    b: S(n[4]),
                    format: t ? "name" : "hex8"
                } : (n = U.hex6.exec(e)) ? {
                    r: S(n[1]),
                    g: S(n[2]),
                    b: S(n[3]),
                    format: t ? "name" : "hex"
                } : (n = U.hex3.exec(e)) ? {
                    r: S(n[1] + "" + n[1]),
                    g: S(n[2] + "" + n[2]),
                    b: S(n[3] + "" + n[3]),
                    format: t ? "name" : "hex"
                } : !1
            }
            var I = /^[\s,#]+/,
                M = /\s+$/,
                R = 0,
                B = Math,
                F = B.round,
                H = B.min,
                j = B.max,
                L = B.random,
                W = function V(e, n) {
                    if (e = e ? e : "", n = n || {}, e instanceof V) return e;
                    if (!(this instanceof V)) return new V(e, n);
                    var i = t(e);
                    this._r = i.r, this._g = i.g, this._b = i.b, this._a = i.a, this._roundA = F(100 * this._a) / 100, this._format = n.format || i.format, this._gradientType = n.gradientType, this._r < 1 && (this._r = F(this._r)), this._g < 1 && (this._g = F(this._g)), this._b < 1 && (this._b = F(this._b)), this._ok = i.ok, this._tc_id = R++
                };
            W.prototype = {
                isDark: function() {
                    return this.getBrightness() < 128
                },
                isLight: function() {
                    return !this.isDark()
                },
                isValid: function() {
                    return this._ok
                },
                getFormat: function() {
                    return this._format
                },
                getAlpha: function() {
                    return this._a
                },
                getBrightness: function() {
                    var e = this.toRgb();
                    return (299 * e.r + 587 * e.g + 114 * e.b) / 1e3
                },
                setAlpha: function(e) {
                    return this._a = $(e), this._roundA = F(100 * this._a) / 100, this
                },
                toHsv: function() {
                    var e = o(this._r, this._g, this._b);
                    return {
                        h: 360 * e.h,
                        s: e.s,
                        v: e.v,
                        a: this._a
                    }
                },
                toHsvString: function() {
                    var e = o(this._r, this._g, this._b),
                        t = F(360 * e.h),
                        n = F(100 * e.s),
                        i = F(100 * e.v);
                    return 1 == this._a ? "hsv(" + t + ", " + n + "%, " + i + "%)" : "hsva(" + t + ", " + n + "%, " + i + "%, " + this._roundA + ")"
                },
                toHsl: function() {
                    var e = i(this._r, this._g, this._b);
                    return {
                        h: 360 * e.h,
                        s: e.s,
                        l: e.l,
                        a: this._a
                    }
                },
                toHslString: function() {
                    var e = i(this._r, this._g, this._b),
                        t = F(360 * e.h),
                        n = F(100 * e.s),
                        r = F(100 * e.l);
                    return 1 == this._a ? "hsl(" + t + ", " + n + "%, " + r + "%)" : "hsla(" + t + ", " + n + "%, " + r + "%, " + this._roundA + ")"
                },
                toHex: function(e) {
                    return a(this._r, this._g, this._b, e)
                },
                toHexString: function(e) {
                    return "#" + this.toHex(e)
                },
                toHex8: function() {
                    return l(this._r, this._g, this._b, this._a)
                },
                toHex8String: function() {
                    return "#" + this.toHex8()
                },
                toRgb: function() {
                    return {
                        r: F(this._r),
                        g: F(this._g),
                        b: F(this._b),
                        a: this._a
                    }
                },
                toRgbString: function() {
                    return 1 == this._a ? "rgb(" + F(this._r) + ", " + F(this._g) + ", " + F(this._b) + ")" : "rgba(" + F(this._r) + ", " + F(this._g) + ", " + F(this._b) + ", " + this._roundA + ")"
                },
                toPercentageRgb: function() {
                    return {
                        r: F(100 * C(this._r, 255)) + "%",
                        g: F(100 * C(this._g, 255)) + "%",
                        b: F(100 * C(this._b, 255)) + "%",
                        a: this._a
                    }
                },
                toPercentageRgbString: function() {
                    return 1 == this._a ? "rgb(" + F(100 * C(this._r, 255)) + "%, " + F(100 * C(this._g, 255)) + "%, " + F(100 * C(this._b, 255)) + "%)" : "rgba(" + F(100 * C(this._r, 255)) + "%, " + F(100 * C(this._g, 255)) + "%, " + F(100 * C(this._b, 255)) + "%, " + this._roundA + ")"
                },
                toName: function() {
                    return 0 === this._a ? "transparent" : this._a < 1 ? !1 : q[a(this._r, this._g, this._b, !0)] || !1
                },
                toFilter: function(e) {
                    var t = "#" + l(this._r, this._g, this._b, this._a),
                        n = t,
                        i = this._gradientType ? "GradientType = 1, " : "";
                    if (e) {
                        var r = W(e);
                        n = r.toHex8String()
                    }
                    return "progid:DXImageTransform.Microsoft.gradient(" + i + "startColorstr=" + t + ",endColorstr=" + n + ")"
                },
                toString: function(e) {
                    var t = !!e;
                    e = e || this._format;
                    var n = !1,
                        i = this._a < 1 && this._a >= 0,
                        r = !t && i && ("hex" === e || "hex6" === e || "hex3" === e || "name" === e);
                    return r ? "name" === e && 0 === this._a ? this.toName() : this.toRgbString() : ("rgb" === e && (n = this.toRgbString()), "prgb" === e && (n = this.toPercentageRgbString()), ("hex" === e || "hex6" === e) && (n = this.toHexString()), "hex3" === e && (n = this.toHexString(!0)), "hex8" === e && (n = this.toHex8String()), "name" === e && (n = this.toName()), "hsl" === e && (n = this.toHslString()), "hsv" === e && (n = this.toHsvString()), n || this.toHexString())
                },
                _applyModification: function(e, t) {
                    var n = e.apply(null, [this].concat([].slice.call(t)));
                    return this._r = n._r, this._g = n._g, this._b = n._b, this.setAlpha(n._a), this
                },
                lighten: function() {
                    return this._applyModification(d, arguments)
                },
                brighten: function() {
                    return this._applyModification(f, arguments)
                },
                darken: function() {
                    return this._applyModification(p, arguments)
                },
                desaturate: function() {
                    return this._applyModification(c, arguments)
                },
                saturate: function() {
                    return this._applyModification(u, arguments)
                },
                greyscale: function() {
                    return this._applyModification(h, arguments)
                },
                spin: function() {
                    return this._applyModification(m, arguments)
                },
                _applyCombination: function(e, t) {
                    return e.apply(null, [this].concat([].slice.call(t)))
                },
                analogous: function() {
                    return this._applyCombination(w, arguments)
                },
                complement: function() {
                    return this._applyCombination(g, arguments)
                },
                monochromatic: function() {
                    return this._applyCombination(_, arguments)
                },
                splitcomplement: function() {
                    return this._applyCombination(b, arguments)
                },
                triad: function() {
                    return this._applyCombination(v, arguments)
                },
                tetrad: function() {
                    return this._applyCombination(y, arguments)
                }
            }, W.fromRatio = function(e, t) {
                if ("object" == typeof e) {
                    var n = {};
                    for (var i in e) e.hasOwnProperty(i) && (n[i] = "a" === i ? e[i] : A(e[i]));
                    e = n
                }
                return W(e, t)
            }, W.equals = function(e, t) {
                return e && t ? W(e).toRgbString() == W(t).toRgbString() : !1
            }, W.random = function() {
                return W.fromRatio({
                    r: L(),
                    g: L(),
                    b: L()
                })
            }, W.mix = function(e, t, n) {
                n = 0 === n ? 0 : n || 50;
                var i, r = W(e).toRgb(),
                    o = W(t).toRgb(),
                    s = n / 100,
                    a = 2 * s - 1,
                    l = o.a - r.a;
                i = a * l == -1 ? a : (a + l) / (1 + a * l), i = (i + 1) / 2;
                var c = 1 - i,
                    u = {
                        r: o.r * i + r.r * c,
                        g: o.g * i + r.g * c,
                        b: o.b * i + r.b * c,
                        a: o.a * s + r.a * (1 - s)
                    };
                return W(u)
            }, W.readability = function(e, t) {
                var n = W(e),
                    i = W(t),
                    r = n.toRgb(),
                    o = i.toRgb(),
                    s = n.getBrightness(),
                    a = i.getBrightness(),
                    l = Math.max(r.r, o.r) - Math.min(r.r, o.r) + Math.max(r.g, o.g) - Math.min(r.g, o.g) + Math.max(r.b, o.b) - Math.min(r.b, o.b);
                return {
                    brightness: Math.abs(s - a),
                    color: l
                }
            }, W.isReadable = function(e, t) {
                var n = W.readability(e, t);
                return n.brightness > 125 && n.color > 500
            }, W.mostReadable = function(e, t) {
                for (var n = null, i = 0, r = !1, o = 0; o < t.length; o++) {
                    var s = W.readability(e, t[o]),
                        a = s.brightness > 125 && s.color > 500,
                        l = 3 * (s.brightness / 125) + s.color / 500;
                    (a && !r || a && r && l > i || !a && !r && l > i) && (r = a, i = l, n = W(t[o]))
                }
                return n
            };
            var z = W.names = {
                    aliceblue: "f0f8ff",
                    antiquewhite: "faebd7",
                    aqua: "0ff",
                    aquamarine: "7fffd4",
                    azure: "f0ffff",
                    beige: "f5f5dc",
                    bisque: "ffe4c4",
                    black: "000",
                    blanchedalmond: "ffebcd",
                    blue: "00f",
                    blueviolet: "8a2be2",
                    brown: "a52a2a",
                    burlywood: "deb887",
                    burntsienna: "ea7e5d",
                    cadetblue: "5f9ea0",
                    chartreuse: "7fff00",
                    chocolate: "d2691e",
                    coral: "ff7f50",
                    cornflowerblue: "6495ed",
                    cornsilk: "fff8dc",
                    crimson: "dc143c",
                    cyan: "0ff",
                    darkblue: "00008b",
                    darkcyan: "008b8b",
                    darkgoldenrod: "b8860b",
                    darkgray: "a9a9a9",
                    darkgreen: "006400",
                    darkgrey: "a9a9a9",
                    darkkhaki: "bdb76b",
                    darkmagenta: "8b008b",
                    darkolivegreen: "556b2f",
                    darkorange: "ff8c00",
                    darkorchid: "9932cc",
                    darkred: "8b0000",
                    darksalmon: "e9967a",
                    darkseagreen: "8fbc8f",
                    darkslateblue: "483d8b",
                    darkslategray: "2f4f4f",
                    darkslategrey: "2f4f4f",
                    darkturquoise: "00ced1",
                    darkviolet: "9400d3",
                    deeppink: "ff1493",
                    deepskyblue: "00bfff",
                    dimgray: "696969",
                    dimgrey: "696969",
                    dodgerblue: "1e90ff",
                    firebrick: "b22222",
                    floralwhite: "fffaf0",
                    forestgreen: "228b22",
                    fuchsia: "f0f",
                    gainsboro: "dcdcdc",
                    ghostwhite: "f8f8ff",
                    gold: "ffd700",
                    goldenrod: "daa520",
                    gray: "808080",
                    green: "008000",
                    greenyellow: "adff2f",
                    grey: "808080",
                    honeydew: "f0fff0",
                    hotpink: "ff69b4",
                    indianred: "cd5c5c",
                    indigo: "4b0082",
                    ivory: "fffff0",
                    khaki: "f0e68c",
                    lavender: "e6e6fa",
                    lavenderblush: "fff0f5",
                    lawngreen: "7cfc00",
                    lemonchiffon: "fffacd",
                    lightblue: "add8e6",
                    lightcoral: "f08080",
                    lightcyan: "e0ffff",
                    lightgoldenrodyellow: "fafad2",
                    lightgray: "d3d3d3",
                    lightgreen: "90ee90",
                    lightgrey: "d3d3d3",
                    lightpink: "ffb6c1",
                    lightsalmon: "ffa07a",
                    lightseagreen: "20b2aa",
                    lightskyblue: "87cefa",
                    lightslategray: "789",
                    lightslategrey: "789",
                    lightsteelblue: "b0c4de",
                    lightyellow: "ffffe0",
                    lime: "0f0",
                    limegreen: "32cd32",
                    linen: "faf0e6",
                    magenta: "f0f",
                    maroon: "800000",
                    mediumaquamarine: "66cdaa",
                    mediumblue: "0000cd",
                    mediumorchid: "ba55d3",
                    mediumpurple: "9370db",
                    mediumseagreen: "3cb371",
                    mediumslateblue: "7b68ee",
                    mediumspringgreen: "00fa9a",
                    mediumturquoise: "48d1cc",
                    mediumvioletred: "c71585",
                    midnightblue: "191970",
                    mintcream: "f5fffa",
                    mistyrose: "ffe4e1",
                    moccasin: "ffe4b5",
                    navajowhite: "ffdead",
                    navy: "000080",
                    oldlace: "fdf5e6",
                    olive: "808000",
                    olivedrab: "6b8e23",
                    orange: "ffa500",
                    orangered: "ff4500",
                    orchid: "da70d6",
                    palegoldenrod: "eee8aa",
                    palegreen: "98fb98",
                    paleturquoise: "afeeee",
                    palevioletred: "db7093",
                    papayawhip: "ffefd5",
                    peachpuff: "ffdab9",
                    peru: "cd853f",
                    pink: "ffc0cb",
                    plum: "dda0dd",
                    powderblue: "b0e0e6",
                    purple: "800080",
                    red: "f00",
                    rosybrown: "bc8f8f",
                    royalblue: "4169e1",
                    saddlebrown: "8b4513",
                    salmon: "fa8072",
                    sandybrown: "f4a460",
                    seagreen: "2e8b57",
                    seashell: "fff5ee",
                    sienna: "a0522d",
                    silver: "c0c0c0",
                    skyblue: "87ceeb",
                    slateblue: "6a5acd",
                    slategray: "708090",
                    slategrey: "708090",
                    snow: "fffafa",
                    springgreen: "00ff7f",
                    steelblue: "4682b4",
                    tan: "d2b48c",
                    teal: "008080",
                    thistle: "d8bfd8",
                    tomato: "ff6347",
                    turquoise: "40e0d0",
                    violet: "ee82ee",
                    wheat: "f5deb3",
                    white: "fff",
                    whitesmoke: "f5f5f5",
                    yellow: "ff0",
                    yellowgreen: "9acd32"
                },
                q = W.hexNames = x(z),
                U = function() {
                    var e = "[-\\+]?\\d+%?",
                        t = "[-\\+]?\\d*\\.\\d+%?",
                        n = "(?:" + t + ")|(?:" + e + ")",
                        i = "[\\s|\\(]+(" + n + ")[,|\\s]+(" + n + ")[,|\\s]+(" + n + ")\\s*\\)?",
                        r = "[\\s|\\(]+(" + n + ")[,|\\s]+(" + n + ")[,|\\s]+(" + n + ")[,|\\s]+(" + n + ")\\s*\\)?";
                    return {
                        rgb: new RegExp("rgb" + i),
                        rgba: new RegExp("rgba" + r),
                        hsl: new RegExp("hsl" + i),
                        hsla: new RegExp("hsla" + r),
                        hsv: new RegExp("hsv" + i),
                        hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
                        hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
                        hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
                    }
                }();
            e.tinycolor = W
        }(), t(function() {
            t.fn.spectrum.load && t.fn.spectrum.processNativeColorInputs()
        })
}(window, jQuery),
function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : e(jQuery)
}(function(e) {
    "use strict";
    var t = {},
        n = Math.max,
        i = Math.min;
    t.c = {}, t.c.d = e(document), t.c.t = function(e) {
        return e.originalEvent.touches.length - 1
    }, t.o = function() {
        var n = this;
        this.o = null, this.$ = null, this.i = null, this.g = null, this.v = null, this.cv = null, this.x = 0, this.y = 0, this.w = 0, this.h = 0, this.$c = null, this.c = null, this.t = 0, this.isInit = !1, this.fgColor = null, this.pColor = null, this.dH = null, this.cH = null, this.eH = null, this.rH = null, this.scale = 1, this.relative = !1, this.relativeWidth = !1, this.relativeHeight = !1, this.$div = null, this.run = function() {
            var t = function(e, t) {
                var i;
                for (i in t) n.o[i] = t[i];
                n._carve().init(), n._configure()._draw()
            };
            if (!this.$.data("kontroled")) {
                if (this.$.data("kontroled", !0), this.extend(), this.o = e.extend({
                        min: void 0 !== this.$.data("min") ? this.$.data("min") : 0,
                        max: void 0 !== this.$.data("max") ? this.$.data("max") : 100,
                        stopper: !0,
                        readOnly: this.$.data("readonly") || "readonly" === this.$.attr("readonly"),
                        cursor: this.$.data("cursor") === !0 && 30 || this.$.data("cursor") || 0,
                        thickness: this.$.data("thickness") && Math.max(Math.min(this.$.data("thickness"), 1), .01) || .35,
                        lineCap: this.$.data("linecap") || "butt",
                        width: this.$.data("width") || 200,
                        height: this.$.data("height") || 200,
                        displayInput: null == this.$.data("displayinput") || this.$.data("displayinput"),
                        displayPrevious: this.$.data("displayprevious"),
                        fgColor: this.$.data("fgcolor") || "#87CEEB",
                        inputColor: this.$.data("inputcolor"),
                        font: this.$.data("font") || "Arial",
                        fontWeight: this.$.data("font-weight") || "bold",
                        inline: !1,
                        step: this.$.data("step") || 1,
                        rotation: this.$.data("rotation"),
                        draw: null,
                        change: null,
                        cancel: null,
                        release: null,
                        format: function(e) {
                            return e
                        },
                        parse: function(e) {
                            return parseFloat(e)
                        }
                    }, this.o), this.o.flip = "anticlockwise" === this.o.rotation || "acw" === this.o.rotation, this.o.inputColor || (this.o.inputColor = this.o.fgColor), this.$.is("fieldset") ? (this.v = {}, this.i = this.$.find("input"), this.i.each(function(t) {
                        var i = e(this);
                        n.i[t] = i, n.v[t] = n.o.parse(i.val()), i.bind("change blur", function() {
                            var e = {};
                            e[t] = i.val(), n.val(n._validate(e))
                        })
                    }), this.$.find("legend").remove()) : (this.i = this.$, this.v = this.o.parse(this.$.val()), "" === this.v && (this.v = this.o.min), this.$.bind("change blur", function() {
                        n.val(n._validate(n.o.parse(n.$.val())))
                    })), !this.o.displayInput && this.$.hide(), this.$c = e(document.createElement("canvas")).attr({
                        width: this.o.width,
                        height: this.o.height
                    }), this.$div = e('<div style="' + (this.o.inline ? "display:inline;" : "") + "width:" + this.o.width + "px;height:" + this.o.height + 'px;"></div>'), this.$.wrap(this.$div).before(this.$c), this.$div = this.$.parent(), "undefined" != typeof G_vmlCanvasManager && G_vmlCanvasManager.initElement(this.$c[0]), this.c = this.$c[0].getContext ? this.$c[0].getContext("2d") : null, !this.c) throw {
                    name: "CanvasNotSupportedException",
                    message: "Canvas not supported. Please use excanvas on IE8.0.",
                    toString: function() {
                        return this.name + ": " + this.message
                    }
                };
                return this.scale = (window.devicePixelRatio || 1) / (this.c.webkitBackingStorePixelRatio || this.c.mozBackingStorePixelRatio || this.c.msBackingStorePixelRatio || this.c.oBackingStorePixelRatio || this.c.backingStorePixelRatio || 1), this.relativeWidth = this.o.width % 1 !== 0 && this.o.width.indexOf("%"), this.relativeHeight = this.o.height % 1 !== 0 && this.o.height.indexOf("%"), this.relative = this.relativeWidth || this.relativeHeight, this._carve(), this.v instanceof Object ? (this.cv = {}, this.copy(this.v, this.cv)) : this.cv = this.v, this.$.bind("configure", t).parent().bind("configure", t), this._listen()._configure()._xy().init(), this.isInit = !0, this.$.val(this.o.format(this.v)), this._draw(), this
            }
        }, this._carve = function() {
            if (this.relative) {
                var e = this.relativeWidth ? this.$div.parent().width() * parseInt(this.o.width) / 100 : this.$div.parent().width(),
                    t = this.relativeHeight ? this.$div.parent().height() * parseInt(this.o.height) / 100 : this.$div.parent().height();
                this.w = this.h = Math.min(e, t)
            } else this.w = this.o.width, this.h = this.o.height;
            return this.$div.css({
                width: this.w + "px",
                height: this.h + "px"
            }), this.$c.attr({
                width: this.w,
                height: this.h
            }), 1 !== this.scale && (this.$c[0].width = this.$c[0].width * this.scale, this.$c[0].height = this.$c[0].height * this.scale, this.$c.width(this.w), this.$c.height(this.h)), this
        }, this._draw = function() {
            var e = !0;
            n.g = n.c, n.clear(), n.dH && (e = n.dH()), e !== !1 && n.draw()
        }, this._touch = function(e) {
            var i = function(e) {
                var t = n.xy2val(e.originalEvent.touches[n.t].pageX, e.originalEvent.touches[n.t].pageY);
                t != n.cv && (n.cH && n.cH(t) === !1 || (n.change(n._validate(t)), n._draw()))
            };
            return this.t = t.c.t(e), i(e), t.c.d.bind("touchmove.k", i).bind("touchend.k", function() {
                t.c.d.unbind("touchmove.k touchend.k"), n.val(n.cv)
            }), this
        }, this._mouse = function(e) {
            var i = function(e) {
                var t = n.xy2val(e.pageX, e.pageY);
                t != n.cv && (n.cH && n.cH(t) === !1 || (n.change(n._validate(t)), n._draw()))
            };
            return i(e), t.c.d.bind("mousemove.k", i).bind("keyup.k", function(e) {
                if (27 === e.keyCode) {
                    if (t.c.d.unbind("mouseup.k mousemove.k keyup.k"), n.eH && n.eH() === !1) return;
                    n.cancel()
                }
            }).bind("mouseup.k", function() {
                t.c.d.unbind("mousemove.k mouseup.k keyup.k"), n.val(n.cv)
            }), this
        }, this._xy = function() {
            var e = this.$c.offset();
            return this.x = e.left, this.y = e.top, this
        }, this._listen = function() {
            return this.o.readOnly ? this.$.attr("readonly", "readonly") : (this.$c.bind("mousedown", function(e) {
                e.preventDefault(), n._xy()._mouse(e)
            }).bind("touchstart", function(e) {
                e.preventDefault(), n._xy()._touch(e)
            }), this.listen()), this.relative && e(window).resize(function() {
                n._carve().init(), n._draw()
            }), this
        }, this._configure = function() {
            return this.o.draw && (this.dH = this.o.draw), this.o.change && (this.cH = this.o.change), this.o.cancel && (this.eH = this.o.cancel), this.o.release && (this.rH = this.o.release), this.o.displayPrevious ? (this.pColor = this.h2rgba(this.o.fgColor, "0.4"), this.fgColor = this.h2rgba(this.o.fgColor, "0.6")) : this.fgColor = this.o.fgColor, this
        }, this._clear = function() {
            this.$c[0].width = this.$c[0].width
        }, this._validate = function(e) {
            var t = ~~((0 > e ? -.5 : .5) + e / this.o.step) * this.o.step;
            return Math.round(100 * t) / 100
        }, this.listen = function() {}, this.extend = function() {}, this.init = function() {}, this.change = function() {}, this.val = function() {}, this.xy2val = function() {}, this.draw = function() {}, this.clear = function() {
            this._clear()
        }, this.h2rgba = function(e, t) {
            var n;
            return e = e.substring(1, 7), n = [parseInt(e.substring(0, 2), 16), parseInt(e.substring(2, 4), 16), parseInt(e.substring(4, 6), 16)], "rgba(" + n[0] + "," + n[1] + "," + n[2] + "," + t + ")"
        }, this.copy = function(e, t) {
            for (var n in e) t[n] = e[n]
        }
    }, t.Dial = function() {
        t.o.call(this), this.startAngle = null, this.xy = null, this.radius = null, this.lineWidth = null, this.cursorExt = null, this.w2 = null, this.PI2 = 2 * Math.PI, this.extend = function() {
            this.o = e.extend({
                bgColor: this.$.data("bgcolor") || "#EEEEEE",
                angleOffset: this.$.data("angleoffset") || 0,
                angleArc: this.$.data("anglearc") || 360,
                inline: !0
            }, this.o)
        }, this.val = function(e, t) {
            return null == e ? this.v : (e = this.o.parse(e), void(t !== !1 && e != this.v && this.rH && this.rH(e) === !1 || (this.cv = this.o.stopper ? n(i(e, this.o.max), this.o.min) : e, this.v = this.cv, this.$.val(this.o.format(this.v)), this._draw())))
        }, this.xy2val = function(e, t) {
            var r, o;
            return r = Math.atan2(e - (this.x + this.w2), -(t - this.y - this.w2)) - this.angleOffset, this.o.flip && (r = this.angleArc - r - this.PI2), this.angleArc != this.PI2 && 0 > r && r > -.5 ? r = 0 : 0 > r && (r += this.PI2), o = r * (this.o.max - this.o.min) / this.angleArc + this.o.min, this.o.stopper && (o = n(i(o, this.o.max), this.o.min)), o
        }, this.listen = function() {
            var t, r, o, s, a = this,
                l = function(e) {
                    e.preventDefault();
                    var o = e.originalEvent,
                        s = o.detail || o.wheelDeltaX,
                        l = o.detail || o.wheelDeltaY,
                        c = a._validate(a.o.parse(a.$.val())) + (s > 0 || l > 0 ? a.o.step : 0 > s || 0 > l ? -a.o.step : 0);
                    c = n(i(c, a.o.max), a.o.min), a.val(c, !1), a.rH && (clearTimeout(t), t = setTimeout(function() {
                        a.rH(c), t = null
                    }, 100), r || (r = setTimeout(function() {
                        t && a.rH(c), r = null
                    }, 200)))
                },
                c = 1,
                u = {
                    37: -a.o.step,
                    38: a.o.step,
                    39: a.o.step,
                    40: -a.o.step
                };
            this.$.bind("keydown", function(t) {
                var r = t.keyCode;
                if (r >= 96 && 105 >= r && (r = t.keyCode = r - 48), o = parseInt(String.fromCharCode(r)), isNaN(o) && (13 !== r && 8 !== r && 9 !== r && 189 !== r && (190 !== r || a.$.val().match(/\./)) && t.preventDefault(), e.inArray(r, [37, 38, 39, 40]) > -1)) {
                    t.preventDefault();
                    var l = a.o.parse(a.$.val()) + u[r] * c;
                    a.o.stopper && (l = n(i(l, a.o.max), a.o.min)), a.change(a._validate(l)), a._draw(), s = window.setTimeout(function() {
                        c *= 2
                    }, 30)
                }
            }).bind("keyup", function() {
                isNaN(o) ? s && (window.clearTimeout(s), s = null, c = 1, a.val(a.$.val())) : a.$.val() > a.o.max && a.$.val(a.o.max) || a.$.val() < a.o.min && a.$.val(a.o.min)
            }), this.$c.bind("mousewheel DOMMouseScroll", l), this.$.bind("mousewheel DOMMouseScroll", l)
        }, this.init = function() {
            (this.v < this.o.min || this.v > this.o.max) && (this.v = this.o.min), this.$.val(this.v), this.w2 = this.w / 2, this.cursorExt = this.o.cursor / 100, this.xy = this.w2 * this.scale, this.lineWidth = this.xy * this.o.thickness, this.lineCap = this.o.lineCap, this.radius = this.xy - this.lineWidth / 2, this.o.angleOffset && (this.o.angleOffset = isNaN(this.o.angleOffset) ? 0 : this.o.angleOffset), this.o.angleArc && (this.o.angleArc = isNaN(this.o.angleArc) ? this.PI2 : this.o.angleArc), this.angleOffset = this.o.angleOffset * Math.PI / 180, this.angleArc = this.o.angleArc * Math.PI / 180, this.startAngle = 1.5 * Math.PI + this.angleOffset, this.endAngle = 1.5 * Math.PI + this.angleOffset + this.angleArc;
            var e = n(String(Math.abs(this.o.max)).length, String(Math.abs(this.o.min)).length, 2) + 2;
            this.o.displayInput && this.i.css({
                width: (this.w / 2 + 4 >> 0) + "px",
                height: (this.w / 3 >> 0) + "px",
                position: "absolute",
                "vertical-align": "middle",
                "margin-top": (this.w / 3 >> 0) + "px",
                "margin-left": "-" + (3 * this.w / 4 + 2 >> 0) + "px",
                border: 0,
                background: "none",
                font: this.o.fontWeight + " " + (this.w / e >> 0) + "px " + this.o.font,
                "text-align": "center",
                color: this.o.inputColor || this.o.fgColor,
                padding: "0px",
                "-webkit-appearance": "none"
            }) || this.i.css({
                width: "0px",
                visibility: "hidden"
            })
        }, this.change = function(e) {
            this.cv = e, this.$.val(this.o.format(e))
        }, this.angle = function(e) {
            return (e - this.o.min) * this.angleArc / (this.o.max - this.o.min)
        }, this.arc = function(e) {
            var t, n;
            return e = this.angle(e), this.o.flip ? (t = this.endAngle + 1e-5, n = t - e - 1e-5) : (t = this.startAngle - 1e-5, n = t + e + 1e-5), this.o.cursor && (t = n - this.cursorExt) && (n += this.cursorExt), {
                s: t,
                e: n,
                d: this.o.flip && !this.o.cursor
            }
        }, this.draw = function() {
            var e, t = this.g,
                n = this.arc(this.cv),
                i = 1;
            t.lineWidth = this.lineWidth, t.lineCap = this.lineCap, "none" !== this.o.bgColor && (t.beginPath(), t.strokeStyle = this.o.bgColor, t.arc(this.xy, this.xy, this.radius, this.endAngle - 1e-5, this.startAngle + 1e-5, !0), t.stroke()), this.o.displayPrevious && (e = this.arc(this.v), t.beginPath(), t.strokeStyle = this.pColor, t.arc(this.xy, this.xy, this.radius, e.s, e.e, e.d), t.stroke(), i = this.cv == this.v), t.beginPath(), t.strokeStyle = i ? this.o.fgColor : this.fgColor, t.arc(this.xy, this.xy, this.radius, n.s, n.e, n.d), t.stroke()
        }, this.cancel = function() {
            this.val(this.v)
        }
    }, e.fn.dial = e.fn.knob = function(n) {
        return this.each(function() {
            var i = new t.Dial;
            i.o = n, i.$ = e(this), i.run()
        }).parent()
    }
}), ! function(e, t) {
    "use strict";
    var n, i, r = e,
        o = r.document,
        s = r.navigator,
        a = r.setTimeout,
        l = r.encodeURIComponent,
        c = r.ActiveXObject,
        u = r.Error,
        h = r.Number.parseInt || r.parseInt,
        d = r.Number.parseFloat || r.parseFloat,
        f = r.Number.isNaN || r.isNaN,
        p = r.Math.round,
        m = r.Date.now,
        g = r.Object.keys,
        v = r.Object.defineProperty,
        y = r.Object.prototype.hasOwnProperty,
        b = r.Array.prototype.slice,
        w = function() {
            var e = function(e) {
                return e
            };
            if ("function" == typeof r.wrap && "function" == typeof r.unwrap) try {
                var t = o.createElement("div"),
                    n = r.unwrap(t);
                1 === t.nodeType && n && 1 === n.nodeType && (e = r.unwrap)
            } catch (i) {}
            return e
        }(),
        _ = function(e) {
            return b.call(e, 0)
        },
        x = function() {
            var e, n, i, r, o, s, a = _(arguments),
                l = a[0] || {};
            for (e = 1, n = a.length; n > e; e++)
                if (null != (i = a[e]))
                    for (r in i) y.call(i, r) && (o = l[r], s = i[r], l !== s && s !== t && (l[r] = s));
            return l
        },
        $ = function(e) {
            var t, n, i, r;
            if ("object" != typeof e || null == e) t = e;
            else if ("number" == typeof e.length)
                for (t = [], n = 0, i = e.length; i > n; n++) y.call(e, n) && (t[n] = $(e[n]));
            else {
                t = {};
                for (r in e) y.call(e, r) && (t[r] = $(e[r]))
            }
            return t
        },
        C = function(e, t) {
            for (var n = {}, i = 0, r = t.length; r > i; i++) t[i] in e && (n[t[i]] = e[t[i]]);
            return n
        },
        k = function(e, t) {
            var n = {};
            for (var i in e) - 1 === t.indexOf(i) && (n[i] = e[i]);
            return n
        },
        S = function(e) {
            if (e)
                for (var t in e) y.call(e, t) && delete e[t];
            return e
        },
        T = function(e, t) {
            if (e && 1 === e.nodeType && e.ownerDocument && t && (1 === t.nodeType && t.ownerDocument && t.ownerDocument === e.ownerDocument || 9 === t.nodeType && !t.ownerDocument && t === e.ownerDocument))
                do {
                    if (e === t) return !0;
                    e = e.parentNode
                } while (e);
            return !1
        },
        E = function(e) {
            var t;
            return "string" == typeof e && e && (t = e.split("#")[0].split("?")[0], t = e.slice(0, e.lastIndexOf("/") + 1)), t
        },
        D = function(e) {
            var t, n;
            return "string" == typeof e && e && (n = e.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/), n && n[1] ? t = n[1] : (n = e.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/), n && n[1] && (t = n[1]))), t
        },
        A = function() {
            var e, t;
            try {
                throw new u
            } catch (n) {
                t = n
            }
            return t && (e = t.sourceURL || t.fileName || D(t.stack)), e
        },
        P = function() {
            var e, n, i;
            if (o.currentScript && (e = o.currentScript.src)) return e;
            if (n = o.getElementsByTagName("script"), 1 === n.length) return n[0].src || t;
            if ("readyState" in n[0])
                for (i = n.length; i--;)
                    if ("interactive" === n[i].readyState && (e = n[i].src)) return e;
            return "loading" === o.readyState && (e = n[n.length - 1].src) ? e : (e = A()) ? e : t
        },
        N = function() {
            var e, n, i, r = o.getElementsByTagName("script");
            for (e = r.length; e--;) {
                if (!(i = r[e].src)) {
                    n = null;
                    break
                }
                if (i = E(i), null == n) n = i;
                else if (n !== i) {
                    n = null;
                    break
                }
            }
            return n || t
        },
        O = function() {
            var e = E(P()) || N() || "";
            return e + "ZeroClipboard.swf"
        },
        I = {
            bridge: null,
            version: "0.0.0",
            pluginType: "unknown",
            disabled: null,
            outdated: null,
            unavailable: null,
            deactivated: null,
            overdue: null,
            ready: null
        },
        M = "11.0.0",
        R = {},
        B = {},
        F = null,
        H = {
            ready: "Flash communication is established",
            error: {
                "flash-disabled": "Flash is disabled or not installed",
                "flash-outdated": "Flash is too outdated to support ZeroClipboard",
                "flash-unavailable": "Flash is unable to communicate bidirectionally with JavaScript",
                "flash-deactivated": "Flash is too outdated for your browser and/or is configured as click-to-activate",
                "flash-overdue": "Flash communication was established but NOT within the acceptable time limit"
            }
        },
        j = {
            swfPath: O(),
            trustedDomains: e.location.host ? [e.location.host] : [],
            cacheBust: !0,
            forceEnhancedClipboard: !1,
            flashLoadTimeout: 3e4,
            autoActivate: !0,
            bubbleEvents: !0,
            containerId: "global-zeroclipboard-html-bridge",
            containerClass: "global-zeroclipboard-container",
            swfObjectId: "global-zeroclipboard-flash-bridge",
            hoverClass: "zeroclipboard-is-hover",
            activeClass: "zeroclipboard-is-active",
            forceHandCursor: !1,
            title: null,
            zIndex: 999999999
        },
        L = function(e) {
            if ("object" == typeof e && null !== e)
                for (var t in e)
                    if (y.call(e, t))
                        if (/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t)) j[t] = e[t];
                        else if (null == I.bridge)
                if ("containerId" === t || "swfObjectId" === t) {
                    if (!nt(e[t])) throw new Error("The specified `" + t + "` value is not valid as an HTML4 Element ID");
                    j[t] = e[t]
                } else j[t] = e[t];
            return "string" == typeof e && e ? y.call(j, e) ? j[e] : void 0 : $(j)
        },
        W = function() {
            return {
                browser: C(s, ["userAgent", "platform", "appName"]),
                flash: k(I, ["bridge"]),
                zeroclipboard: {
                    version: Pt.version,
                    config: Pt.config()
                }
            }
        },
        z = function() {
            return !!(I.disabled || I.outdated || I.unavailable || I.deactivated)
        },
        q = function(e, t) {
            var n, i, r, o = {};
            if ("string" == typeof e && e) r = e.toLowerCase().split(/\s+/);
            else if ("object" == typeof e && e && "undefined" == typeof t)
                for (n in e) y.call(e, n) && "string" == typeof n && n && "function" == typeof e[n] && Pt.on(n, e[n]);
            if (r && r.length) {
                for (n = 0, i = r.length; i > n; n++) e = r[n].replace(/^on/, ""), o[e] = !0, R[e] || (R[e] = []), R[e].push(t);
                if (o.ready && I.ready && Pt.emit({
                        type: "ready"
                    }), o.error) {
                    var s = ["disabled", "outdated", "unavailable", "deactivated", "overdue"];
                    for (n = 0, i = s.length; i > n; n++)
                        if (I[s[n]] === !0) {
                            Pt.emit({
                                type: "error",
                                name: "flash-" + s[n]
                            });
                            break
                        }
                }
            }
            return Pt
        },
        U = function(e, t) {
            var n, i, r, o, s;
            if (0 === arguments.length) o = g(R);
            else if ("string" == typeof e && e) o = e.split(/\s+/);
            else if ("object" == typeof e && e && "undefined" == typeof t)
                for (n in e) y.call(e, n) && "string" == typeof n && n && "function" == typeof e[n] && Pt.off(n, e[n]);
            if (o && o.length)
                for (n = 0, i = o.length; i > n; n++)
                    if (e = o[n].toLowerCase().replace(/^on/, ""), s = R[e], s && s.length)
                        if (t)
                            for (r = s.indexOf(t); - 1 !== r;) s.splice(r, 1), r = s.indexOf(t, r);
                        else s.length = 0;
            return Pt
        },
        V = function(e) {
            var t;
            return t = "string" == typeof e && e ? $(R[e]) || null : $(R)
        },
        Y = function(e) {
            var t, n, i;
            return e = it(e), e && !ct(e) ? "ready" === e.type && I.overdue === !0 ? Pt.emit({
                type: "error",
                name: "flash-overdue"
            }) : (t = x({}, e), lt.call(this, t), "copy" === e.type && (i = mt(B), n = i.data, F = i.formatMap), n) : void 0
        },
        G = function() {
            if ("boolean" != typeof I.ready && (I.ready = !1), !Pt.isFlashUnusable() && null === I.bridge) {
                var e = j.flashLoadTimeout;
                "number" == typeof e && e >= 0 && a(function() {
                    "boolean" != typeof I.deactivated && (I.deactivated = !0), I.deactivated === !0 && Pt.emit({
                        type: "error",
                        name: "flash-deactivated"
                    })
                }, e), I.overdue = !1, ft()
            }
        },
        X = function() {
            Pt.clearData(), Pt.blur(), Pt.emit("destroy"), pt(), Pt.off()
        },
        K = function(e, t) {
            var n;
            if ("object" == typeof e && e && "undefined" == typeof t) n = e, Pt.clearData();
            else {
                if ("string" != typeof e || !e) return;
                n = {}, n[e] = t
            }
            for (var i in n) "string" == typeof i && i && y.call(n, i) && "string" == typeof n[i] && n[i] && (B[i] = n[i])
        },
        Z = function(e) {
            "undefined" == typeof e ? (S(B), F = null) : "string" == typeof e && y.call(B, e) && delete B[e]
        },
        Q = function(e) {
            return "undefined" == typeof e ? $(B) : "string" == typeof e && y.call(B, e) ? B[e] : void 0
        },
        J = function(e) {
            if (e && 1 === e.nodeType) {
                n && ($t(n, j.activeClass), n !== e && $t(n, j.hoverClass)), n = e, xt(e, j.hoverClass);
                var t = e.getAttribute("title") || j.title;
                if ("string" == typeof t && t) {
                    var i = dt(I.bridge);
                    i && i.setAttribute("title", t)
                }
                var r = j.forceHandCursor === !0 || "pointer" === Ct(e, "cursor");
                Et(r), Tt()
            }
        },
        et = function() {
            var e = dt(I.bridge);
            e && (e.removeAttribute("title"), e.style.left = "0px", e.style.top = "-9999px", e.style.width = "1px", e.style.top = "1px"), n && ($t(n, j.hoverClass), $t(n, j.activeClass), n = null)
        },
        tt = function() {
            return n || null
        },
        nt = function(e) {
            return "string" == typeof e && e && /^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)
        },
        it = function(e) {
            var t;
            if ("string" == typeof e && e ? (t = e, e = {}) : "object" == typeof e && e && "string" == typeof e.type && e.type && (t = e.type), t) {
                !e.target && /^(copy|aftercopy|_click)$/.test(t.toLowerCase()) && (e.target = i), x(e, {
                    type: t.toLowerCase(),
                    target: e.target || n || null,
                    relatedTarget: e.relatedTarget || null,
                    currentTarget: I && I.bridge || null,
                    timeStamp: e.timeStamp || m() || null
                });
                var r = H[e.type];
                return "error" === e.type && e.name && r && (r = r[e.name]), r && (e.message = r), "ready" === e.type && x(e, {
                    target: null,
                    version: I.version
                }), "error" === e.type && (/^flash-(disabled|outdated|unavailable|deactivated|overdue)$/.test(e.name) && x(e, {
                    target: null,
                    minimumVersion: M
                }), /^flash-(outdated|unavailable|deactivated|overdue)$/.test(e.name) && x(e, {
                    version: I.version
                })), "copy" === e.type && (e.clipboardData = {
                    setData: Pt.setData,
                    clearData: Pt.clearData
                }), "aftercopy" === e.type && (e = gt(e, F)), e.target && !e.relatedTarget && (e.relatedTarget = rt(e.target)), e = ot(e)
            }
        },
        rt = function(e) {
            var t = e && e.getAttribute && e.getAttribute("data-clipboard-target");
            return t ? o.getElementById(t) : null
        },
        ot = function(e) {
            if (e && /^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)) {
                var n = e.target,
                    i = "_mouseover" === e.type && e.relatedTarget ? e.relatedTarget : t,
                    s = "_mouseout" === e.type && e.relatedTarget ? e.relatedTarget : t,
                    a = St(n),
                    l = r.screenLeft || r.screenX || 0,
                    c = r.screenTop || r.screenY || 0,
                    u = o.body.scrollLeft + o.documentElement.scrollLeft,
                    h = o.body.scrollTop + o.documentElement.scrollTop,
                    d = a.left + ("number" == typeof e._stageX ? e._stageX : 0),
                    f = a.top + ("number" == typeof e._stageY ? e._stageY : 0),
                    p = d - u,
                    m = f - h,
                    g = l + p,
                    v = c + m,
                    y = "number" == typeof e.movementX ? e.movementX : 0,
                    b = "number" == typeof e.movementY ? e.movementY : 0;
                delete e._stageX, delete e._stageY, x(e, {
                    srcElement: n,
                    fromElement: i,
                    toElement: s,
                    screenX: g,
                    screenY: v,
                    pageX: d,
                    pageY: f,
                    clientX: p,
                    clientY: m,
                    x: p,
                    y: m,
                    movementX: y,
                    movementY: b,
                    offsetX: 0,
                    offsetY: 0,
                    layerX: 0,
                    layerY: 0
                })
            }
            return e
        },
        st = function(e) {
            var t = e && "string" == typeof e.type && e.type || "";
            return !/^(?:(?:before)?copy|destroy)$/.test(t)
        },
        at = function(e, t, n, i) {
            i ? a(function() {
                e.apply(t, n)
            }, 0) : e.apply(t, n)
        },
        lt = function(e) {
            if ("object" == typeof e && e && e.type) {
                var t = st(e),
                    n = R["*"] || [],
                    i = R[e.type] || [],
                    o = n.concat(i);
                if (o && o.length) {
                    var s, a, l, c, u, h = this;
                    for (s = 0, a = o.length; a > s; s++) l = o[s], c = h, "string" == typeof l && "function" == typeof r[l] && (l = r[l]), "object" == typeof l && l && "function" == typeof l.handleEvent && (c = l, l = l.handleEvent), "function" == typeof l && (u = x({}, e), at(l, c, [u], t))
                }
                return this
            }
        },
        ct = function(e) {
            var t = e.target || n || null,
                r = "swf" === e._source;
            delete e._source;
            var o = ["flash-disabled", "flash-outdated", "flash-unavailable", "flash-deactivated", "flash-overdue"];
            switch (e.type) {
                case "error":
                    -1 !== o.indexOf(e.name) && x(I, {
                        disabled: "flash-disabled" === e.name,
                        outdated: "flash-outdated" === e.name,
                        unavailable: "flash-unavailable" === e.name,
                        deactivated: "flash-deactivated" === e.name,
                        overdue: "flash-overdue" === e.name,
                        ready: !1
                    });
                    break;
                case "ready":
                    var s = I.deactivated === !0;
                    x(I, {
                        disabled: !1,
                        outdated: !1,
                        unavailable: !1,
                        deactivated: !1,
                        overdue: s,
                        ready: !s
                    });
                    break;
                case "beforecopy":
                    i = t;
                    break;
                case "copy":
                    var a, l, c = e.relatedTarget;
                    !B["text/html"] && !B["text/plain"] && c && (l = c.value || c.outerHTML || c.innerHTML) && (a = c.value || c.textContent || c.innerText) ? (e.clipboardData.clearData(), e.clipboardData.setData("text/plain", a), l !== a && e.clipboardData.setData("text/html", l)) : !B["text/plain"] && e.target && (a = e.target.getAttribute("data-clipboard-text")) && (e.clipboardData.clearData(), e.clipboardData.setData("text/plain", a));
                    break;
                case "aftercopy":
                    Pt.clearData(), t && t !== _t() && t.focus && t.focus();
                    break;
                case "_mouseover":
                    Pt.focus(t), j.bubbleEvents === !0 && r && (t && t !== e.relatedTarget && !T(e.relatedTarget, t) && ut(x({}, e, {
                        type: "mouseenter",
                        bubbles: !1,
                        cancelable: !1
                    })), ut(x({}, e, {
                        type: "mouseover"
                    })));
                    break;
                case "_mouseout":
                    Pt.blur(), j.bubbleEvents === !0 && r && (t && t !== e.relatedTarget && !T(e.relatedTarget, t) && ut(x({}, e, {
                        type: "mouseleave",
                        bubbles: !1,
                        cancelable: !1
                    })), ut(x({}, e, {
                        type: "mouseout"
                    })));
                    break;
                case "_mousedown":
                    xt(t, j.activeClass), j.bubbleEvents === !0 && r && ut(x({}, e, {
                        type: e.type.slice(1)
                    }));
                    break;
                case "_mouseup":
                    $t(t, j.activeClass), j.bubbleEvents === !0 && r && ut(x({}, e, {
                        type: e.type.slice(1)
                    }));
                    break;
                case "_click":
                    i = null, j.bubbleEvents === !0 && r && ut(x({}, e, {
                        type: e.type.slice(1)
                    }));
                    break;
                case "_mousemove":
                    j.bubbleEvents === !0 && r && ut(x({}, e, {
                        type: e.type.slice(1)
                    }))
            }
            return /^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type) ? !0 : void 0
        },
        ut = function(e) {
            if (e && "string" == typeof e.type && e) {
                var t, n = e.target || null,
                    i = n && n.ownerDocument || o,
                    s = {
                        view: i.defaultView || r,
                        canBubble: !0,
                        cancelable: !0,
                        detail: "click" === e.type ? 1 : 0,
                        button: "number" == typeof e.which ? e.which - 1 : "number" == typeof e.button ? e.button : i.createEvent ? 0 : 1
                    },
                    a = x(s, e);
                n && i.createEvent && n.dispatchEvent && (a = [a.type, a.canBubble, a.cancelable, a.view, a.detail, a.screenX, a.screenY, a.clientX, a.clientY, a.ctrlKey, a.altKey, a.shiftKey, a.metaKey, a.button, a.relatedTarget], t = i.createEvent("MouseEvents"), t.initMouseEvent && (t.initMouseEvent.apply(t, a), t._source = "js", n.dispatchEvent(t)))
            }
        },
        ht = function() {
            var e = o.createElement("div");
            return e.id = j.containerId, e.className = j.containerClass, e.style.position = "absolute", e.style.left = "0px", e.style.top = "-9999px", e.style.width = "1px", e.style.height = "1px", e.style.zIndex = "" + Dt(j.zIndex), e
        },
        dt = function(e) {
            for (var t = e && e.parentNode; t && "OBJECT" === t.nodeName && t.parentNode;) t = t.parentNode;
            return t || null
        },
        ft = function() {
            var e, t = I.bridge,
                n = dt(t);
            if (!t) {
                var i = wt(r.location.host, j),
                    s = "never" === i ? "none" : "all",
                    a = yt(j),
                    l = j.swfPath + vt(j.swfPath, j);
                n = ht();
                var c = o.createElement("div");
                n.appendChild(c), o.body.appendChild(n);
                var u = o.createElement("div"),
                    h = "activex" === I.pluginType;
                u.innerHTML = '<object id="' + j.swfObjectId + '" name="' + j.swfObjectId + '" width="100%" height="100%" ' + (h ? 'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"' : 'type="application/x-shockwave-flash" data="' + l + '"') + ">" + (h ? '<param name="movie" value="' + l + '"/>' : "") + '<param name="allowScriptAccess" value="' + i + '"/><param name="allowNetworking" value="' + s + '"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="' + a + '"/></object>', t = u.firstChild, u = null, w(t).ZeroClipboard = Pt, n.replaceChild(t, c)
            }
            return t || (t = o[j.swfObjectId], t && (e = t.length) && (t = t[e - 1]), !t && n && (t = n.firstChild)), I.bridge = t || null, t
        },
        pt = function() {
            var e = I.bridge;
            if (e) {
                var t = dt(e);
                t && ("activex" === I.pluginType && "readyState" in e ? (e.style.display = "none", function n() {
                    if (4 === e.readyState) {
                        for (var i in e) "function" == typeof e[i] && (e[i] = null);
                        e.parentNode && e.parentNode.removeChild(e), t.parentNode && t.parentNode.removeChild(t)
                    } else a(n, 10)
                }()) : (e.parentNode && e.parentNode.removeChild(e), t.parentNode && t.parentNode.removeChild(t))), I.ready = null, I.bridge = null, I.deactivated = null
            }
        },
        mt = function(e) {
            var t = {},
                n = {};
            if ("object" == typeof e && e) {
                for (var i in e)
                    if (i && y.call(e, i) && "string" == typeof e[i] && e[i]) switch (i.toLowerCase()) {
                        case "text/plain":
                        case "text":
                        case "air:text":
                        case "flash:text":
                            t.text = e[i], n.text = i;
                            break;
                        case "text/html":
                        case "html":
                        case "air:html":
                        case "flash:html":
                            t.html = e[i], n.html = i;
                            break;
                        case "application/rtf":
                        case "text/rtf":
                        case "rtf":
                        case "richtext":
                        case "air:rtf":
                        case "flash:rtf":
                            t.rtf = e[i], n.rtf = i
                    }
                    return {
                        data: t,
                        formatMap: n
                    }
            }
        },
        gt = function(e, t) {
            if ("object" != typeof e || !e || "object" != typeof t || !t) return e;
            var n = {};
            for (var i in e)
                if (y.call(e, i)) {
                    if ("success" !== i && "data" !== i) {
                        n[i] = e[i];
                        continue
                    }
                    n[i] = {};
                    var r = e[i];
                    for (var o in r) o && y.call(r, o) && y.call(t, o) && (n[i][t[o]] = r[o])
                }
            return n
        },
        vt = function(e, t) {
            var n = null == t || t && t.cacheBust === !0;
            return n ? (-1 === e.indexOf("?") ? "?" : "&") + "noCache=" + m() : ""
        },
        yt = function(e) {
            var t, n, i, o, s = "",
                a = [];
            if (e.trustedDomains && ("string" == typeof e.trustedDomains ? o = [e.trustedDomains] : "object" == typeof e.trustedDomains && "length" in e.trustedDomains && (o = e.trustedDomains)), o && o.length)
                for (t = 0, n = o.length; n > t; t++)
                    if (y.call(o, t) && o[t] && "string" == typeof o[t]) {
                        if (i = bt(o[t]), !i) continue;
                        if ("*" === i) {
                            a.length = 0, a.push(i);
                            break
                        }
                        a.push.apply(a, [i, "//" + i, r.location.protocol + "//" + i])
                    }
            return a.length && (s += "trustedOrigins=" + l(a.join(","))), e.forceEnhancedClipboard === !0 && (s += (s ? "&" : "") + "forceEnhancedClipboard=true"), "string" == typeof e.swfObjectId && e.swfObjectId && (s += (s ? "&" : "") + "swfObjectId=" + l(e.swfObjectId)), s
        },
        bt = function(e) {
            if (null == e || "" === e) return null;
            if (e = e.replace(/^\s+|\s+$/g, ""), "" === e) return null;
            var t = e.indexOf("//");
            e = -1 === t ? e : e.slice(t + 2);
            var n = e.indexOf("/");
            return e = -1 === n ? e : -1 === t || 0 === n ? null : e.slice(0, n), e && ".swf" === e.slice(-4).toLowerCase() ? null : e || null
        },
        wt = function() {
            var e = function(e) {
                var t, n, i, r = [];
                if ("string" == typeof e && (e = [e]), "object" != typeof e || !e || "number" != typeof e.length) return r;
                for (t = 0, n = e.length; n > t; t++)
                    if (y.call(e, t) && (i = bt(e[t]))) {
                        if ("*" === i) {
                            r.length = 0, r.push("*");
                            break
                        } - 1 === r.indexOf(i) && r.push(i)
                    }
                return r
            };
            return function(t, n) {
                var i = bt(n.swfPath);
                null === i && (i = t);
                var r = e(n.trustedDomains),
                    o = r.length;
                if (o > 0) {
                    if (1 === o && "*" === r[0]) return "always";
                    if (-1 !== r.indexOf(t)) return 1 === o && t === i ? "sameDomain" : "always"
                }
                return "never"
            }
        }(),
        _t = function() {
            try {
                return o.activeElement
            } catch (e) {
                return null
            }
        },
        xt = function(e, t) {
            if (!e || 1 !== e.nodeType) return e;
            if (e.classList) return e.classList.contains(t) || e.classList.add(t), e;
            if (t && "string" == typeof t) {
                var n = (t || "").split(/\s+/);
                if (1 === e.nodeType)
                    if (e.className) {
                        for (var i = " " + e.className + " ", r = e.className, o = 0, s = n.length; s > o; o++) i.indexOf(" " + n[o] + " ") < 0 && (r += " " + n[o]);
                        e.className = r.replace(/^\s+|\s+$/g, "")
                    } else e.className = t
            }
            return e
        },
        $t = function(e, t) {
            if (!e || 1 !== e.nodeType) return e;
            if (e.classList) return e.classList.contains(t) && e.classList.remove(t), e;
            if ("string" == typeof t && t) {
                var n = t.split(/\s+/);
                if (1 === e.nodeType && e.className) {
                    for (var i = (" " + e.className + " ").replace(/[\n\t]/g, " "), r = 0, o = n.length; o > r; r++) i = i.replace(" " + n[r] + " ", " ");
                    e.className = i.replace(/^\s+|\s+$/g, "")
                }
            }
            return e
        },
        Ct = function(e, t) {
            var n = r.getComputedStyle(e, null).getPropertyValue(t);
            return "cursor" !== t || n && "auto" !== n || "A" !== e.nodeName ? n : "pointer"
        },
        kt = function() {
            var e, t, n, i = 1;
            return "function" == typeof o.body.getBoundingClientRect && (e = o.body.getBoundingClientRect(), t = e.right - e.left, n = o.body.offsetWidth, i = p(t / n * 100) / 100), i
        },
        St = function(e) {
            var t = {
                left: 0,
                top: 0,
                width: 0,
                height: 0
            };
            if (e.getBoundingClientRect) {
                var n, i, s, a = e.getBoundingClientRect();
                "pageXOffset" in r && "pageYOffset" in r ? (n = r.pageXOffset, i = r.pageYOffset) : (s = kt(), n = p(o.documentElement.scrollLeft / s), i = p(o.documentElement.scrollTop / s));
                var l = o.documentElement.clientLeft || 0,
                    c = o.documentElement.clientTop || 0;
                t.left = a.left + n - l, t.top = a.top + i - c, t.width = "width" in a ? a.width : a.right - a.left, t.height = "height" in a ? a.height : a.bottom - a.top
            }
            return t
        },
        Tt = function() {
            var e;
            if (n && (e = dt(I.bridge))) {
                var t = St(n);
                x(e.style, {
                    width: t.width + "px",
                    height: t.height + "px",
                    top: t.top + "px",
                    left: t.left + "px",
                    zIndex: "" + Dt(j.zIndex)
                })
            }
        },
        Et = function(e) {
            I.ready === !0 && (I.bridge && "function" == typeof I.bridge.setHandCursor ? I.bridge.setHandCursor(e) : I.ready = !1)
        },
        Dt = function(e) {
            if (/^(?:auto|inherit)$/.test(e)) return e;
            var t;
            return "number" != typeof e || f(e) ? "string" == typeof e && (t = Dt(h(e, 10))) : t = e, "number" == typeof t ? t : "auto"
        },
        At = function(e) {
            function t(e) {
                var t = e.match(/[\d]+/g);
                return t.length = 3, t.join(".")
            }

            function n(e) {
                return !!e && (e = e.toLowerCase()) && (/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(e) || "chrome.plugin" === e.slice(-13))
            }

            function i(e) {
                e && (l = !0, e.version && (h = t(e.version)), !h && e.description && (h = t(e.description)), e.filename && (u = n(e.filename)))
            }
            var r, o, a, l = !1,
                c = !1,
                u = !1,
                h = "";
            if (s.plugins && s.plugins.length) r = s.plugins["Shockwave Flash"], i(r), s.plugins["Shockwave Flash 2.0"] && (l = !0, h = "2.0.0.11");
            else if (s.mimeTypes && s.mimeTypes.length) a = s.mimeTypes["application/x-shockwave-flash"], r = a && a.enabledPlugin, i(r);
            else if ("undefined" != typeof e) {
                c = !0;
                try {
                    o = new e("ShockwaveFlash.ShockwaveFlash.7"), l = !0, h = t(o.GetVariable("$version"))
                } catch (f) {
                    try {
                        o = new e("ShockwaveFlash.ShockwaveFlash.6"), l = !0, h = "6.0.21"
                    } catch (p) {
                        try {
                            o = new e("ShockwaveFlash.ShockwaveFlash"), l = !0, h = t(o.GetVariable("$version"))
                        } catch (m) {
                            c = !1
                        }
                    }
                }
            }
            I.disabled = l !== !0, I.outdated = h && d(h) < d(M), I.version = h || "0.0.0", I.pluginType = u ? "pepper" : c ? "activex" : l ? "netscape" : "unknown"
        };
    At(c);
    var Pt = function() {
        return this instanceof Pt ? void("function" == typeof Pt._createClient && Pt._createClient.apply(this, _(arguments))) : new Pt
    };
    v(Pt, "version", {
        value: "2.1.6",
        writable: !1,
        configurable: !0,
        enumerable: !0
    }), Pt.config = function() {
        return L.apply(this, _(arguments))
    }, Pt.state = function() {
        return W.apply(this, _(arguments))
    }, Pt.isFlashUnusable = function() {
        return z.apply(this, _(arguments))
    }, Pt.on = function() {
        return q.apply(this, _(arguments))
    }, Pt.off = function() {
        return U.apply(this, _(arguments))
    }, Pt.handlers = function() {
        return V.apply(this, _(arguments))
    }, Pt.emit = function() {
        return Y.apply(this, _(arguments))
    }, Pt.create = function() {
        return G.apply(this, _(arguments))
    }, Pt.destroy = function() {
        return X.apply(this, _(arguments))
    }, Pt.setData = function() {
        return K.apply(this, _(arguments))
    }, Pt.clearData = function() {
        return Z.apply(this, _(arguments))
    }, Pt.getData = function() {
        return Q.apply(this, _(arguments))
    }, Pt.focus = Pt.activate = function() {
        return J.apply(this, _(arguments))
    }, Pt.blur = Pt.deactivate = function() {
        return et.apply(this, _(arguments))
    }, Pt.activeElement = function() {
        return tt.apply(this, _(arguments))
    };
    var Nt = 0,
        Ot = {},
        It = 0,
        Mt = {},
        Rt = {};
    x(j, {
        autoActivate: !0
    });
    var Bt = function(e) {
            var t = this;
            t.id = "" + Nt++, Ot[t.id] = {
                instance: t,
                elements: [],
                handlers: {}
            }, e && t.clip(e), Pt.on("*", function(e) {
                return t.emit(e)
            }), Pt.on("destroy", function() {
                t.destroy()
            }), Pt.create()
        },
        Ft = function(e, t) {
            var n, i, r, o = {},
                s = Ot[this.id] && Ot[this.id].handlers;
            if ("string" == typeof e && e) r = e.toLowerCase().split(/\s+/);
            else if ("object" == typeof e && e && "undefined" == typeof t)
                for (n in e) y.call(e, n) && "string" == typeof n && n && "function" == typeof e[n] && this.on(n, e[n]);
            if (r && r.length) {
                for (n = 0, i = r.length; i > n; n++) e = r[n].replace(/^on/, ""), o[e] = !0, s[e] || (s[e] = []), s[e].push(t);
                if (o.ready && I.ready && this.emit({
                        type: "ready",
                        client: this
                    }), o.error) {
                    var a = ["disabled", "outdated", "unavailable", "deactivated", "overdue"];
                    for (n = 0, i = a.length; i > n; n++)
                        if (I[a[n]]) {
                            this.emit({
                                type: "error",
                                name: "flash-" + a[n],
                                client: this
                            });
                            break
                        }
                }
            }
            return this
        },
        Ht = function(e, t) {
            var n, i, r, o, s, a = Ot[this.id] && Ot[this.id].handlers;
            if (0 === arguments.length) o = g(a);
            else if ("string" == typeof e && e) o = e.split(/\s+/);
            else if ("object" == typeof e && e && "undefined" == typeof t)
                for (n in e) y.call(e, n) && "string" == typeof n && n && "function" == typeof e[n] && this.off(n, e[n]);
            if (o && o.length)
                for (n = 0, i = o.length; i > n; n++)
                    if (e = o[n].toLowerCase().replace(/^on/, ""), s = a[e], s && s.length)
                        if (t)
                            for (r = s.indexOf(t); - 1 !== r;) s.splice(r, 1), r = s.indexOf(t, r);
                        else s.length = 0;
            return this
        },
        jt = function(e) {
            var t = null,
                n = Ot[this.id] && Ot[this.id].handlers;
            return n && (t = "string" == typeof e && e ? n[e] ? n[e].slice(0) : [] : $(n)), t
        },
        Lt = function(e) {
            if (Vt.call(this, e)) {
                "object" == typeof e && e && "string" == typeof e.type && e.type && (e = x({}, e));
                var t = x({}, it(e), {
                    client: this
                });
                Yt.call(this, t)
            }
            return this
        },
        Wt = function(e) {
            e = Gt(e);
            for (var t = 0; t < e.length; t++)
                if (y.call(e, t) && e[t] && 1 === e[t].nodeType) {
                    e[t].zcClippingId ? -1 === Mt[e[t].zcClippingId].indexOf(this.id) && Mt[e[t].zcClippingId].push(this.id) : (e[t].zcClippingId = "zcClippingId_" + It++, Mt[e[t].zcClippingId] = [this.id], j.autoActivate === !0 && Xt(e[t]));
                    var n = Ot[this.id] && Ot[this.id].elements; - 1 === n.indexOf(e[t]) && n.push(e[t])
                }
            return this
        },
        zt = function(e) {
            var t = Ot[this.id];
            if (!t) return this;
            var n, i = t.elements;
            e = "undefined" == typeof e ? i.slice(0) : Gt(e);
            for (var r = e.length; r--;)
                if (y.call(e, r) && e[r] && 1 === e[r].nodeType) {
                    for (n = 0; - 1 !== (n = i.indexOf(e[r], n));) i.splice(n, 1);
                    var o = Mt[e[r].zcClippingId];
                    if (o) {
                        for (n = 0; - 1 !== (n = o.indexOf(this.id, n));) o.splice(n, 1);
                        0 === o.length && (j.autoActivate === !0 && Kt(e[r]), delete e[r].zcClippingId)
                    }
                }
            return this
        },
        qt = function() {
            var e = Ot[this.id];
            return e && e.elements ? e.elements.slice(0) : []
        },
        Ut = function() {
            this.unclip(), this.off(), delete Ot[this.id]
        },
        Vt = function(e) {
            if (!e || !e.type) return !1;
            if (e.client && e.client !== this) return !1;
            var t = Ot[this.id] && Ot[this.id].elements,
                n = !!t && t.length > 0,
                i = !e.target || n && -1 !== t.indexOf(e.target),
                r = e.relatedTarget && n && -1 !== t.indexOf(e.relatedTarget),
                o = e.client && e.client === this;
            return i || r || o ? !0 : !1
        },
        Yt = function(e) {
            if ("object" == typeof e && e && e.type) {
                var t = st(e),
                    n = Ot[this.id] && Ot[this.id].handlers["*"] || [],
                    i = Ot[this.id] && Ot[this.id].handlers[e.type] || [],
                    o = n.concat(i);
                if (o && o.length) {
                    var s, a, l, c, u, h = this;
                    for (s = 0, a = o.length; a > s; s++) l = o[s], c = h, "string" == typeof l && "function" == typeof r[l] && (l = r[l]), "object" == typeof l && l && "function" == typeof l.handleEvent && (c = l, l = l.handleEvent), "function" == typeof l && (u = x({}, e), at(l, c, [u], t))
                }
                return this
            }
        },
        Gt = function(e) {
            return "string" == typeof e && (e = []), "number" != typeof e.length ? [e] : e
        },
        Xt = function(e) {
            if (e && 1 === e.nodeType) {
                var t = function(e) {
                        (e || (e = r.event)) && ("js" !== e._source && (e.stopImmediatePropagation(), e.preventDefault()), delete e._source)
                    },
                    n = function(n) {
                        (n || (n = r.event)) && (t(n), Pt.focus(e))
                    };
                e.addEventListener("mouseover", n, !1), e.addEventListener("mouseout", t, !1), e.addEventListener("mouseenter", t, !1), e.addEventListener("mouseleave", t, !1), e.addEventListener("mousemove", t, !1), Rt[e.zcClippingId] = {
                    mouseover: n,
                    mouseout: t,
                    mouseenter: t,
                    mouseleave: t,
                    mousemove: t
                }
            }
        },
        Kt = function(e) {
            if (e && 1 === e.nodeType) {
                var t = Rt[e.zcClippingId];
                if ("object" == typeof t && t) {
                    for (var n, i, r = ["move", "leave", "enter", "out", "over"], o = 0, s = r.length; s > o; o++) n = "mouse" + r[o], i = t[n], "function" == typeof i && e.removeEventListener(n, i, !1);
                    delete Rt[e.zcClippingId]
                }
            }
        };
    Pt._createClient = function() {
        Bt.apply(this, _(arguments))
    }, Pt.prototype.on = function() {
        return Ft.apply(this, _(arguments))
    }, Pt.prototype.off = function() {
        return Ht.apply(this, _(arguments))
    }, Pt.prototype.handlers = function() {
        return jt.apply(this, _(arguments))
    }, Pt.prototype.emit = function() {
        return Lt.apply(this, _(arguments))
    }, Pt.prototype.clip = function() {
        return Wt.apply(this, _(arguments))
    }, Pt.prototype.unclip = function() {
        return zt.apply(this, _(arguments))
    }, Pt.prototype.elements = function() {
        return qt.apply(this, _(arguments))
    }, Pt.prototype.destroy = function() {
        return Ut.apply(this, _(arguments))
    }, Pt.prototype.setText = function(e) {
        return Pt.setData("text/plain", e), this
    }, Pt.prototype.setHtml = function(e) {
        return Pt.setData("text/html", e), this
    }, Pt.prototype.setRichText = function(e) {
        return Pt.setData("application/rtf", e), this
    }, Pt.prototype.setData = function() {
        return Pt.setData.apply(this, _(arguments)), this
    }, Pt.prototype.clearData = function() {
        return Pt.clearData.apply(this, _(arguments)), this
    }, Pt.prototype.getData = function() {
        return Pt.getData.apply(this, _(arguments))
    }, "function" == typeof define && define.amd ? define(function() {
        return Pt
    }) : "object" == typeof module && module && "object" == typeof module.exports && module.exports ? module.exports = Pt : e.ZeroClipboard = Pt
}(function() {
    return this || window
}()),
function(e, t, n) {
    "use strict";

    function i(e) {
        return function() {
            var t, n = arguments[0];
            for (t = "[" + (e ? e + ":" : "") + n + "] http://errors.angularjs.org/1.4.1/" + (e ? e + "/" : "") + n, n = 1; n < arguments.length; n++) {
                t = t + (1 == n ? "?" : "&") + "p" + (n - 1) + "=";
                var i, r = encodeURIComponent;
                i = arguments[n], i = "function" == typeof i ? i.toString().replace(/ \{[\s\S]*$/, "") : "undefined" == typeof i ? "undefined" : "string" != typeof i ? JSON.stringify(i) : i, t += r(i)
            }
            return Error(t)
        }
    }

    function r(e) {
        if (null == e || T(e)) return !1;
        var t = "length" in Object(e) && e.length;
        return e.nodeType === hr && t ? !0 : x(e) || nr(e) || 0 === t || "number" == typeof t && t > 0 && t - 1 in e
    }

    function o(e, t, n) {
        var i, s;
        if (e)
            if (k(e))
                for (i in e) "prototype" == i || "length" == i || "name" == i || e.hasOwnProperty && !e.hasOwnProperty(i) || t.call(n, e[i], i, e);
            else if (nr(e) || r(e)) {
            var a = "object" != typeof e;
            for (i = 0, s = e.length; s > i; i++)(a || i in e) && t.call(n, e[i], i, e)
        } else if (e.forEach && e.forEach !== o) e.forEach(t, n, e);
        else if (_(e))
            for (i in e) t.call(n, e[i], i, e);
        else if ("function" == typeof e.hasOwnProperty)
            for (i in e) e.hasOwnProperty(i) && t.call(n, e[i], i, e);
        else
            for (i in e) Ui.call(e, i) && t.call(n, e[i], i, e);
        return e
    }

    function s(e, t, n) {
        for (var i = Object.keys(e).sort(), r = 0; r < i.length; r++) t.call(n, e[i[r]], i[r]);
        return i
    }

    function a(e) {
        return function(t, n) {
            e(n, t)
        }
    }

    function l() {
        return ++er
    }

    function c(e, t) {
        t ? e.$$hashKey = t : delete e.$$hashKey
    }

    function u(e, t, n) {
        for (var i = e.$$hashKey, r = 0, o = t.length; o > r; ++r) {
            var s = t[r];
            if (w(s) || k(s))
                for (var a = Object.keys(s), l = 0, h = a.length; h > l; l++) {
                    var d = a[l],
                        f = s[d];
                    n && w(f) ? (w(e[d]) || (e[d] = nr(f) ? [] : {}), u(e[d], [f], !0)) : e[d] = f
                }
        }
        return c(e, i), e
    }

    function h(e) {
        return u(e, Yi.call(arguments, 1), !1)
    }

    function d(e) {
        return u(e, Yi.call(arguments, 1), !0)
    }

    function f(e) {
        return parseInt(e, 10)
    }

    function p(e, t) {
        return h(Object.create(e), t)
    }

    function m() {}

    function g(e) {
        return e
    }

    function v(e) {
        return function() {
            return e
        }
    }

    function y(e) {
        return "undefined" == typeof e
    }

    function b(e) {
        return "undefined" != typeof e
    }

    function w(e) {
        return null !== e && "object" == typeof e
    }

    function _(e) {
        return null !== e && "object" == typeof e && !Zi(e)
    }

    function x(e) {
        return "string" == typeof e
    }

    function $(e) {
        return "number" == typeof e
    }

    function C(e) {
        return "[object Date]" === Ki.call(e)
    }

    function k(e) {
        return "function" == typeof e
    }

    function S(e) {
        return "[object RegExp]" === Ki.call(e)
    }

    function T(e) {
        return e && e.window === e
    }

    function E(e) {
        return e && e.$evalAsync && e.$watch
    }

    function D(e) {
        return "boolean" == typeof e
    }

    function A(e) {
        return !(!e || !(e.nodeName || e.prop && e.attr && e.find))
    }

    function P(e) {
        var t = {};
        e = e.split(",");
        var n;
        for (n = 0; n < e.length; n++) t[e[n]] = !0;
        return t
    }

    function N(e) {
        return qi(e.nodeName || e[0] && e[0].nodeName)
    }

    function O(e, t) {
        var n = e.indexOf(t);
        return n >= 0 && e.splice(n, 1), n
    }

    function I(e, t, n, i) {
        if (T(e) || E(e)) throw Qi("cpws");
        if (ir.test(Ki.call(t))) throw Qi("cpta");
        if (t) {
            if (e === t) throw Qi("cpi");
            n = n || [], i = i || [], w(e) && (n.push(e), i.push(t));
            var r;
            if (nr(e))
                for (r = t.length = 0; r < e.length; r++) t.push(I(e[r], null, n, i));
            else {
                var s = t.$$hashKey;
                if (nr(t) ? t.length = 0 : o(t, function(e, n) {
                        delete t[n]
                    }), _(e))
                    for (r in e) t[r] = I(e[r], null, n, i);
                else if (e && "function" == typeof e.hasOwnProperty)
                    for (r in e) e.hasOwnProperty(r) && (t[r] = I(e[r], null, n, i));
                else
                    for (r in e) Ui.call(e, r) && (t[r] = I(e[r], null, n, i));
                c(t, s)
            }
        } else if (t = e, w(e)) {
            if (n && -1 !== (s = n.indexOf(e))) return i[s];
            if (nr(e)) return I(e, [], n, i);
            if (ir.test(Ki.call(e))) t = new e.constructor(e);
            else if (C(e)) t = new Date(e.getTime());
            else {
                if (!S(e)) return r = Object.create(Zi(e)), I(e, r, n, i);
                t = new RegExp(e.source, e.toString().match(/[^\/]*$/)[0]), t.lastIndex = e.lastIndex
            }
            i && (n.push(e), i.push(t))
        }
        return t
    }

    function M(e, t) {
        if (nr(e)) {
            t = t || [];
            for (var n = 0, i = e.length; i > n; n++) t[n] = e[n]
        } else if (w(e))
            for (n in t = t || {}, e)("$" !== n.charAt(0) || "$" !== n.charAt(1)) && (t[n] = e[n]);
        return t || e
    }

    function R(e, t) {
        if (e === t) return !0;
        if (null === e || null === t) return !1;
        if (e !== e && t !== t) return !0;
        var i, r = typeof e;
        if (r == typeof t && "object" == r) {
            if (!nr(e)) {
                if (C(e)) return C(t) ? R(e.getTime(), t.getTime()) : !1;
                if (S(e)) return S(t) ? e.toString() == t.toString() : !1;
                if (E(e) || E(t) || T(e) || T(t) || nr(t) || C(t) || S(t)) return !1;
                r = lt();
                for (i in e)
                    if ("$" !== i.charAt(0) && !k(e[i])) {
                        if (!R(e[i], t[i])) return !1;
                        r[i] = !0
                    }
                for (i in t)
                    if (!(i in r || "$" === i.charAt(0) || t[i] === n || k(t[i]))) return !1;
                return !0
            }
            if (!nr(t)) return !1;
            if ((r = e.length) == t.length) {
                for (i = 0; r > i; i++)
                    if (!R(e[i], t[i])) return !1;
                return !0
            }
        }
        return !1
    }

    function B(e, t, n) {
        return e.concat(Yi.call(t, n))
    }

    function F(e, t) {
        var n = 2 < arguments.length ? Yi.call(arguments, 2) : [];
        return !k(t) || t instanceof RegExp ? t : n.length ? function() {
            return arguments.length ? t.apply(e, B(n, arguments, 0)) : t.apply(e, n)
        } : function() {
            return arguments.length ? t.apply(e, arguments) : t.call(e)
        }
    }

    function H(e, i) {
        var r = i;
        return "string" == typeof e && "$" === e.charAt(0) && "$" === e.charAt(1) ? r = n : T(i) ? r = "$WINDOW" : i && t === i ? r = "$DOCUMENT" : E(i) && (r = "$SCOPE"), r
    }

    function j(e, t) {
        return "undefined" == typeof e ? n : ($(t) || (t = t ? 2 : null), JSON.stringify(e, H, t))
    }

    function L(e) {
        return x(e) ? JSON.parse(e) : e
    }

    function W(e, t) {
        var n = Date.parse("Jan 01, 1970 00:00:00 " + e) / 6e4;
        return isNaN(n) ? t : n
    }

    function z(e, t, n) {
        n = n ? -1 : 1;
        var i = W(t, e.getTimezoneOffset());
        return t = e, e = n * (i - e.getTimezoneOffset()), t = new Date(t.getTime()), t.setMinutes(t.getMinutes() + e), t
    }

    function q(e) {
        e = ji(e).clone();
        try {
            e.empty()
        } catch (t) {}
        var n = ji("<div>").append(e).html();
        try {
            return e[0].nodeType === dr ? qi(n) : n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/, function(e, t) {
                return "<" + qi(t)
            })
        } catch (i) {
            return qi(n)
        }
    }

    function U(e) {
        try {
            return decodeURIComponent(e)
        } catch (t) {}
    }

    function V(e) {
        var t, n, i = {};
        return o((e || "").split("&"), function(e) {
            e && (t = e.replace(/\+/g, "%20").split("="), n = U(t[0]), b(n) && (e = b(t[1]) ? U(t[1]) : !0, Ui.call(i, n) ? nr(i[n]) ? i[n].push(e) : i[n] = [i[n], e] : i[n] = e))
        }), i
    }

    function Y(e) {
        var t = [];
        return o(e, function(e, n) {
            nr(e) ? o(e, function(e) {
                t.push(X(n, !0) + (!0 === e ? "" : "=" + X(e, !0)))
            }) : t.push(X(n, !0) + (!0 === e ? "" : "=" + X(e, !0)))
        }), t.length ? t.join("&") : ""
    }

    function G(e) {
        return X(e, !0).replace(/%26/gi, "&").replace(/%3D/gi, "=").replace(/%2B/gi, "+")
    }

    function X(e, t) {
        return encodeURIComponent(e).replace(/%40/gi, "@").replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%3B/gi, ";").replace(/%20/g, t ? "%20" : "+")
    }

    function K(e, t) {
        var n, i, r = lr.length;
        for (i = 0; r > i; ++i)
            if (n = lr[i] + t, x(n = e.getAttribute(n))) return n;
        return null
    }

    function Z(e, t) {
        var n, i, r = {};
        o(lr, function(t) {
            t += "app", !n && e.hasAttribute && e.hasAttribute(t) && (n = e, i = e.getAttribute(t))
        }), o(lr, function(t) {
            t += "app";
            var r;
            !n && (r = e.querySelector("[" + t.replace(":", "\\:") + "]")) && (n = r, i = r.getAttribute(t))
        }), n && (r.strictDi = null !== K(n, "strict-di"), t(n, i ? [i] : [], r))
    }

    function Q(n, i, r) {
        w(r) || (r = {}), r = h({
            strictDi: !1
        }, r);
        var s = function() {
                if (n = ji(n), n.injector()) {
                    var e = n[0] === t ? "document" : q(n);
                    throw Qi("btstrpd", e.replace(/</, "&lt;").replace(/>/, "&gt;"))
                }
                return i = i || [], i.unshift(["$provide", function(e) {
                    e.value("$rootElement", n)
                }]), r.debugInfoEnabled && i.push(["$compileProvider", function(e) {
                    e.debugInfoEnabled(!0)
                }]), i.unshift("ng"), e = Bt(i, r.strictDi), e.invoke(["$rootScope", "$rootElement", "$compile", "$injector", function(e, t, n, i) {
                    e.$apply(function() {
                        t.data("$injector", i), n(t)(e)
                    })
                }]), e
            },
            a = /^NG_ENABLE_DEBUG_INFO!/,
            l = /^NG_DEFER_BOOTSTRAP!/;
        return e && a.test(e.name) && (r.debugInfoEnabled = !0, e.name = e.name.replace(a, "")), e && !l.test(e.name) ? s() : (e.name = e.name.replace(l, ""), Ji.resumeBootstrap = function(e) {
            return o(e, function(e) {
                i.push(e)
            }), s()
        }, void(k(Ji.resumeDeferredBootstrap) && Ji.resumeDeferredBootstrap()))
    }

    function J() {
        e.name = "NG_ENABLE_DEBUG_INFO!" + e.name, e.location.reload()
    }

    function et(e) {
        if (e = Ji.element(e).injector(), !e) throw Qi("test");
        return e.get("$$testability")
    }

    function tt(e, t) {
        return t = t || "_", e.replace(cr, function(e, n) {
            return (n ? t : "") + e.toLowerCase()
        })
    }

    function nt() {
        var t;
        if (!ur) {
            var i = ar();
            Li = e.jQuery, b(i) && (Li = null === i ? n : e[i]), Li && Li.fn.on ? (ji = Li, h(Li.fn, {
                scope: kr.scope,
                isolateScope: kr.isolateScope,
                controller: kr.controller,
                injector: kr.injector,
                inheritedData: kr.inheritedData
            }), t = Li.cleanData, Li.cleanData = function(e) {
                var n;
                if (tr) tr = !1;
                else
                    for (var i, r = 0; null != (i = e[r]); r++)(n = Li._data(i, "events")) && n.$destroy && Li(i).triggerHandler("$destroy");
                t(e)
            }) : ji = pt, Ji.element = ji, ur = !0
        }
    }

    function it(e, t, n) {
        if (!e) throw Qi("areq", t || "?", n || "required");
        return e
    }

    function rt(e, t, n) {
        return n && nr(e) && (e = e[e.length - 1]), it(k(e), t, "not a function, got " + (e && "object" == typeof e ? e.constructor.name || "Object" : typeof e)), e
    }

    function ot(e, t) {
        if ("hasOwnProperty" === e) throw Qi("badname", t)
    }

    function st(e, t, n) {
        if (!t) return e;
        t = t.split(".");
        for (var i, r = e, o = t.length, s = 0; o > s; s++) i = t[s], e && (e = (r = e)[i]);
        return !n && k(e) ? F(r, e) : e
    }

    function at(e) {
        var t = e[0];
        e = e[e.length - 1];
        var n = [t];
        do {
            if (t = t.nextSibling, !t) break;
            n.push(t)
        } while (t !== e);
        return ji(n)
    }

    function lt() {
        return Object.create(null)
    }

    function ct(e) {
        function t(e, t, n) {
            return e[t] || (e[t] = n())
        }
        var n = i("$injector"),
            r = i("ng");
        return e = t(e, "angular", Object), e.$$minErr = e.$$minErr || i, t(e, "module", function() {
            var e = {};
            return function(i, o, s) {
                if ("hasOwnProperty" === i) throw r("badname", "module");
                return o && e.hasOwnProperty(i) && (e[i] = null), t(e, i, function() {
                    function e(e, t, n, i) {
                        return i || (i = r),
                            function() {
                                return i[n || "push"]([e, t, arguments]), u
                            }
                    }

                    function t(e, t) {
                        return function(n, o) {
                            return o && k(o) && (o.$$moduleName = i), r.push([e, t, arguments]), u
                        }
                    }
                    if (!o) throw n("nomod", i);
                    var r = [],
                        a = [],
                        l = [],
                        c = e("$injector", "invoke", "push", a),
                        u = {
                            _invokeQueue: r,
                            _configBlocks: a,
                            _runBlocks: l,
                            requires: o,
                            name: i,
                            provider: t("$provide", "provider"),
                            factory: t("$provide", "factory"),
                            service: t("$provide", "service"),
                            value: e("$provide", "value"),
                            constant: e("$provide", "constant", "unshift"),
                            decorator: t("$provide", "decorator"),
                            animation: t("$animateProvider", "register"),
                            filter: t("$filterProvider", "register"),
                            controller: t("$controllerProvider", "register"),
                            directive: t("$compileProvider", "directive"),
                            config: c,
                            run: function(e) {
                                return l.push(e), this
                            }
                        };
                    return s && c(s), u
                })
            }
        })
    }

    function ut(t) {
        h(t, {
            bootstrap: Q,
            copy: I,
            extend: h,
            merge: d,
            equals: R,
            element: ji,
            forEach: o,
            injector: Bt,
            noop: m,
            bind: F,
            toJson: j,
            fromJson: L,
            identity: g,
            isUndefined: y,
            isDefined: b,
            isString: x,
            isFunction: k,
            isObject: w,
            isNumber: $,
            isElement: A,
            isArray: nr,
            version: fr,
            isDate: C,
            lowercase: qi,
            uppercase: Vi,
            callbacks: {
                counter: 0
            },
            getTestability: et,
            $$minErr: i,
            $$csp: sr,
            reloadWithDebugInfo: J
        }), Wi = ct(e);
        try {
            Wi("ngLocale")
        } catch (n) {
            Wi("ngLocale", []).provider("$locale", pn)
        }
        Wi("ng", ["ngLocale"], ["$provide", function(e) {
            e.provider({
                $$sanitizeUri: Kn
            }), e.provider("$compile", Yt).directive({
                a: wo,
                input: Ro,
                textarea: Ro,
                form: Co,
                script: Cs,
                select: Ts,
                style: Ds,
                option: Es,
                ngBind: Ho,
                ngBindHtml: Lo,
                ngBindTemplate: jo,
                ngClass: zo,
                ngClassEven: Uo,
                ngClassOdd: qo,
                ngCloak: Vo,
                ngController: Yo,
                ngForm: ko,
                ngHide: ys,
                ngIf: Ko,
                ngInclude: Zo,
                ngInit: Jo,
                ngNonBindable: hs,
                ngPluralize: ms,
                ngRepeat: gs,
                ngShow: vs,
                ngStyle: bs,
                ngSwitch: ws,
                ngSwitchWhen: _s,
                ngSwitchDefault: xs,
                ngOptions: ps,
                ngTransclude: $s,
                ngModel: ls,
                ngList: es,
                ngChange: Wo,
                pattern: Ps,
                ngPattern: Ps,
                required: As,
                ngRequired: As,
                minlength: Os,
                ngMinlength: Os,
                maxlength: Ns,
                ngMaxlength: Ns,
                ngValue: Fo,
                ngModelOptions: us
            }).directive({
                ngInclude: Qo
            }).directive(_o).directive(Go), e.provider({
                $anchorScroll: Ft,
                $animate: Fr,
                $$animateQueue: Br,
                $$AnimateRunner: Rr,
                $browser: qt,
                $cacheFactory: Ut,
                $controller: Zt,
                $document: Qt,
                $exceptionHandler: Jt,
                $filter: ui,
                $interpolate: dn,
                $interval: fn,
                $http: ln,
                $httpParamSerializer: tn,
                $httpParamSerializerJQLike: nn,
                $httpBackend: un,
                $location: Tn,
                $log: En,
                $parse: qn,
                $rootScope: Xn,
                $q: Un,
                $$q: Vn,
                $sce: ei,
                $sceDelegate: Jn,
                $sniffer: ti,
                $templateCache: Vt,
                $templateRequest: ni,
                $$testability: ii,
                $timeout: ri,
                $window: ai,
                $$rAF: Gn,
                $$asyncCallback: Wt,
                $$jqLite: Ot,
                $$HashMap: Dr,
                $$cookieReader: ci
            })
        }])
    }

    function ht(e) {
        return e.replace(gr, function(e, t, n, i) {
            return i ? n.toUpperCase() : n
        }).replace(vr, "Moz$1")
    }

    function dt(e) {
        return e = e.nodeType, e === hr || !e || 9 === e
    }

    function ft(e, t) {
        var n, i, r = t.createDocumentFragment(),
            s = [];
        if (_r.test(e)) {
            for (n = n || r.appendChild(t.createElement("div")), i = (xr.exec(e) || ["", ""])[1].toLowerCase(), i = Cr[i] || Cr._default, n.innerHTML = i[1] + e.replace($r, "<$1></$2>") + i[2], i = i[0]; i--;) n = n.lastChild;
            s = B(s, n.childNodes), n = r.firstChild, n.textContent = ""
        } else s.push(t.createTextNode(e));
        return r.textContent = "", r.innerHTML = "", o(s, function(e) {
            r.appendChild(e)
        }), r
    }

    function pt(e) {
        if (e instanceof pt) return e;
        var n;
        if (x(e) && (e = rr(e), n = !0), !(this instanceof pt)) {
            if (n && "<" != e.charAt(0)) throw br("nosel");
            return new pt(e)
        }
        if (n) {
            n = t;
            var i;
            e = (i = wr.exec(e)) ? [n.createElement(i[1])] : (i = ft(e, n)) ? i.childNodes : []
        }
        Ct(this, e)
    }

    function mt(e) {
        return e.cloneNode(!0)
    }

    function gt(e, t) {
        if (t || yt(e), e.querySelectorAll)
            for (var n = e.querySelectorAll("*"), i = 0, r = n.length; r > i; i++) yt(n[i])
    }

    function vt(e, t, n, i) {
        if (b(i)) throw br("offargs");
        var r = (i = bt(e)) && i.events,
            s = i && i.handle;
        if (s)
            if (t) o(t.split(" "), function(t) {
                if (b(n)) {
                    var i = r[t];
                    if (O(i || [], n), i && 0 < i.length) return
                }
                e.removeEventListener(t, s, !1), delete r[t]
            });
            else
                for (t in r) "$destroy" !== t && e.removeEventListener(t, s, !1), delete r[t]
    }

    function yt(e, t) {
        var i = e.ng339,
            r = i && pr[i];
        r && (t ? delete r.data[t] : (r.handle && (r.events.$destroy && r.handle({}, "$destroy"), vt(e)), delete pr[i], e.ng339 = n))
    }

    function bt(e, t) {
        var i = e.ng339,
            i = i && pr[i];
        return t && !i && (e.ng339 = i = ++mr, i = pr[i] = {
            events: {},
            data: {},
            handle: n
        }), i
    }

    function wt(e, t, n) {
        if (dt(e)) {
            var i = b(n),
                r = !i && t && !w(t),
                o = !t;
            if (e = (e = bt(e, !r)) && e.data, i) e[t] = n;
            else {
                if (o) return e;
                if (r) return e && e[t];
                h(e, t)
            }
        }
    }

    function _t(e, t) {
        return e.getAttribute ? -1 < (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").indexOf(" " + t + " ") : !1
    }

    function xt(e, t) {
        t && e.setAttribute && o(t.split(" "), function(t) {
            e.setAttribute("class", rr((" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ").replace(" " + rr(t) + " ", " ")))
        })
    }

    function $t(e, t) {
        if (t && e.setAttribute) {
            var n = (" " + (e.getAttribute("class") || "") + " ").replace(/[\n\t]/g, " ");
            o(t.split(" "), function(e) {
                e = rr(e), -1 === n.indexOf(" " + e + " ") && (n += e + " ")
            }), e.setAttribute("class", rr(n))
        }
    }

    function Ct(e, t) {
        if (t)
            if (t.nodeType) e[e.length++] = t;
            else {
                var n = t.length;
                if ("number" == typeof n && t.window !== t) {
                    if (n)
                        for (var i = 0; n > i; i++) e[e.length++] = t[i]
                } else e[e.length++] = t
            }
    }

    function kt(e, t) {
        return St(e, "$" + (t || "ngController") + "Controller")
    }

    function St(e, t, i) {
        for (9 == e.nodeType && (e = e.documentElement), t = nr(t) ? t : [t]; e;) {
            for (var r = 0, o = t.length; o > r; r++)
                if ((i = ji.data(e, t[r])) !== n) return i;
            e = e.parentNode || 11 === e.nodeType && e.host
        }
    }

    function Tt(e) {
        for (gt(e, !0); e.firstChild;) e.removeChild(e.firstChild)
    }

    function Et(e, t) {
        t || gt(e);
        var n = e.parentNode;
        n && n.removeChild(e)
    }

    function Dt(t, n) {
        n = n || e, "complete" === n.document.readyState ? n.setTimeout(t) : ji(n).on("load", t)
    }

    function At(e, t) {
        var n = Sr[t.toLowerCase()];
        return n && Tr[N(e)] && n
    }

    function Pt(e, t) {
        var n = e.nodeName;
        return ("INPUT" === n || "TEXTAREA" === n) && Er[t]
    }

    function Nt(e, t) {
        var n = function(n, i) {
            n.isDefaultPrevented = function() {
                return n.defaultPrevented
            };
            var r = t[i || n.type],
                o = r ? r.length : 0;
            if (o) {
                if (y(n.immediatePropagationStopped)) {
                    var s = n.stopImmediatePropagation;
                    n.stopImmediatePropagation = function() {
                        n.immediatePropagationStopped = !0, n.stopPropagation && n.stopPropagation(), s && s.call(n)
                    }
                }
                n.isImmediatePropagationStopped = function() {
                    return !0 === n.immediatePropagationStopped
                }, o > 1 && (r = M(r));
                for (var a = 0; o > a; a++) n.isImmediatePropagationStopped() || r[a].call(e, n)
            }
        };
        return n.elem = e, n
    }

    function Ot() {
        this.$get = function() {
            return h(pt, {
                hasClass: function(e, t) {
                    return e.attr && (e = e[0]), _t(e, t)
                },
                addClass: function(e, t) {
                    return e.attr && (e = e[0]), $t(e, t)
                },
                removeClass: function(e, t) {
                    return e.attr && (e = e[0]), xt(e, t)
                }
            })
        }
    }

    function It(e, t) {
        var n = e && e.$$hashKey;
        return n ? ("function" == typeof n && (n = e.$$hashKey()), n) : (n = typeof e, n = "function" == n || "object" == n && null !== e ? e.$$hashKey = n + ":" + (t || l)() : n + ":" + e)
    }

    function Mt(e, t) {
        if (t) {
            var n = 0;
            this.nextUid = function() {
                return ++n
            }
        }
        o(e, this.put, this)
    }

    function Rt(e) {
        return (e = e.toString().replace(Or, "").match(Ar)) ? "function(" + (e[1] || "").replace(/[\s\r\n]+/, " ") + ")" : "fn"
    }

    function Bt(e, t) {
        function i(e) {
            return function(t, n) {
                return w(t) ? void o(t, a(e)) : e(t, n)
            }
        }

        function r(e, t) {
            if (ot(e, "service"), (k(t) || nr(t)) && (t = m.instantiate(t)), !t.$get) throw Ir("pget", e);
            return p[e + "Provider"] = t
        }

        function s(e, t) {
            return function() {
                var n = b.invoke(t, this);
                if (y(n)) throw Ir("undef", e);
                return n
            }
        }

        function l(e, t, n) {
            return r(e, {
                $get: !1 !== n ? s(e, t) : t
            })
        }

        function c(e) {
            var t, n = [];
            return o(e, function(e) {
                function i(e) {
                    var t, n;
                    for (t = 0, n = e.length; n > t; t++) {
                        var i = e[t],
                            r = m.get(i[0]);
                        r[i[1]].apply(r, i[2])
                    }
                }
                if (!f.get(e)) {
                    f.put(e, !0);
                    try {
                        x(e) ? (t = Wi(e), n = n.concat(c(t.requires)).concat(t._runBlocks), i(t._invokeQueue), i(t._configBlocks)) : k(e) ? n.push(m.invoke(e)) : nr(e) ? n.push(m.invoke(e)) : rt(e, "module")
                    } catch (r) {
                        throw nr(e) && (e = e[e.length - 1]), r.message && r.stack && -1 == r.stack.indexOf(r.message) && (r = r.message + "\n" + r.stack), Ir("modulerr", e, r.stack || r.message || r)
                    }
                }
            }), n
        }

        function u(e, n) {
            function i(t, i) {
                if (e.hasOwnProperty(t)) {
                    if (e[t] === h) throw Ir("cdep", t + " <- " + d.join(" <- "));
                    return e[t]
                }
                try {
                    return d.unshift(t), e[t] = h, e[t] = n(t, i)
                } catch (r) {
                    throw e[t] === h && delete e[t], r
                } finally {
                    d.shift()
                }
            }

            function r(e, n, r, o) {
                "string" == typeof r && (o = r, r = null);
                var s, a, l, c = [],
                    u = Bt.$$annotate(e, t, o);
                for (a = 0, s = u.length; s > a; a++) {
                    if (l = u[a], "string" != typeof l) throw Ir("itkn", l);
                    c.push(r && r.hasOwnProperty(l) ? r[l] : i(l, o))
                }
                return nr(e) && (e = e[s]), e.apply(n, c)
            }
            return {
                invoke: r,
                instantiate: function(e, t, n) {
                    var i = Object.create((nr(e) ? e[e.length - 1] : e).prototype || null);
                    return e = r(e, i, t, n), w(e) || k(e) ? e : i
                },
                get: i,
                annotate: Bt.$$annotate,
                has: function(t) {
                    return p.hasOwnProperty(t + "Provider") || e.hasOwnProperty(t)
                }
            }
        }
        t = !0 === t;
        var h = {},
            d = [],
            f = new Mt([], !0),
            p = {
                $provide: {
                    provider: i(r),
                    factory: i(l),
                    service: i(function(e, t) {
                        return l(e, ["$injector", function(e) {
                            return e.instantiate(t)
                        }])
                    }),
                    value: i(function(e, t) {
                        return l(e, v(t), !1)
                    }),
                    constant: i(function(e, t) {
                        ot(e, "constant"), p[e] = t, g[e] = t
                    }),
                    decorator: function(e, t) {
                        var n = m.get(e + "Provider"),
                            i = n.$get;
                        n.$get = function() {
                            var e = b.invoke(i, n);
                            return b.invoke(t, null, {
                                $delegate: e
                            })
                        }
                    }
                }
            },
            m = p.$injector = u(p, function(e, t) {
                throw Ji.isString(t) && d.push(t), Ir("unpr", d.join(" <- "))
            }),
            g = {},
            b = g.$injector = u(g, function(e, t) {
                var i = m.get(e + "Provider", t);
                return b.invoke(i.$get, i, n, e)
            });
        return o(c(e), function(e) {
            e && b.invoke(e)
        }), b
    }

    function Ft() {
        var e = !0;
        this.disableAutoScrolling = function() {
            e = !1
        }, this.$get = ["$window", "$location", "$rootScope", function(t, n, i) {
            function r(e) {
                var t = null;
                return Array.prototype.some.call(e, function(e) {
                    return "a" === N(e) ? (t = e, !0) : void 0
                }), t
            }

            function o(e) {
                if (e) {
                    e.scrollIntoView();
                    var n;
                    n = s.yOffset, k(n) ? n = n() : A(n) ? (n = n[0], n = "fixed" !== t.getComputedStyle(n).position ? 0 : n.getBoundingClientRect().bottom) : $(n) || (n = 0), n && (e = e.getBoundingClientRect().top, t.scrollBy(0, e - n))
                } else t.scrollTo(0, 0)
            }

            function s(e) {
                e = x(e) ? e : n.hash();
                var t;
                e ? (t = a.getElementById(e)) ? o(t) : (t = r(a.getElementsByName(e))) ? o(t) : "top" === e && o(null) : o(null)
            }
            var a = t.document;
            return e && i.$watch(function() {
                return n.hash()
            }, function(e, t) {
                e === t && "" === e || Dt(function() {
                    i.$evalAsync(s)
                })
            }), s
        }]
    }

    function Ht(e, t) {
        return e || t ? e ? t ? (nr(e) && (e = e.join(" ")), nr(t) && (t = t.join(" ")), e + " " + t) : e : t : ""
    }

    function jt(e) {
        x(e) && (e = e.split(" "));
        var t = lt();
        return o(e, function(e) {
            e.length && (t[e] = !0)
        }), t
    }

    function Lt(e) {
        return w(e) ? e : {}
    }

    function Wt() {
        this.$get = ["$$rAF", "$timeout", function(e, t) {
            return e.supported ? function(t) {
                return e(t)
            } : function(e) {
                return t(e, 0, !1)
            }
        }]
    }

    function zt(e, t, n, i) {
        function r(e) {
            try {
                e.apply(null, Yi.call(arguments, 1))
            } finally {
                if (g--, 0 === g)
                    for (; v.length;) try {
                        v.pop()()
                    } catch (t) {
                        n.error(t)
                    }
            }
        }

        function s() {
            a(), l()
        }

        function a() {
            e: {
                try {
                    b = h.state;
                    break e
                } catch (e) {}
                b = void 0
            }
            b = y(b) ? null : b,
            R(b, S) && (b = S),
            S = b
        }

        function l() {
            (_ !== c.url() || w !== b) && (_ = c.url(), w = b, o(C, function(e) {
                e(c.url(), b)
            }))
        }
        var c = this,
            u = e.location,
            h = e.history,
            d = e.setTimeout,
            f = e.clearTimeout,
            p = {};
        c.isMock = !1;
        var g = 0,
            v = [];
        c.$$completeOutstandingRequest = r, c.$$incOutstandingRequestCount = function() {
            g++
        }, c.notifyWhenNoOutstandingRequests = function(e) {
            0 === g ? e() : v.push(e)
        };
        var b, w, _ = u.href,
            x = t.find("base"),
            $ = null;
        a(), w = b, c.url = function(t, n, r) {
            if (y(r) && (r = null), u !== e.location && (u = e.location), h !== e.history && (h = e.history), t) {
                var o = w === r;
                if (_ === t && (!i.history || o)) return c;
                var s = _ && bn(_) === bn(t);
                return _ = t, w = r, !i.history || s && o ? ((!s || $) && ($ = t), n ? u.replace(t) : s ? (n = u, r = t.indexOf("#"), t = -1 === r ? "" : t.substr(r + 1), n.hash = t) : u.href = t) : (h[n ? "replaceState" : "pushState"](r, "", t), a(), w = b), c
            }
            return $ || u.href.replace(/%27/g, "'")
        }, c.state = function() {
            return b
        };
        var C = [],
            k = !1,
            S = null;
        c.onUrlChange = function(t) {
            return k || (i.history && ji(e).on("popstate", s), ji(e).on("hashchange", s), k = !0), C.push(t), t
        }, c.$$applicationDestroyed = function() {
            ji(e).off("hashchange popstate", s)
        }, c.$$checkUrlChange = l, c.baseHref = function() {
            var e = x.attr("href");
            return e ? e.replace(/^(https?\:)?\/\/[^\/]*/, "") : ""
        }, c.defer = function(e, t) {
            var n;
            return g++, n = d(function() {
                delete p[n], r(e)
            }, t || 0), p[n] = !0, n
        }, c.defer.cancel = function(e) {
            return p[e] ? (delete p[e], f(e), r(m), !0) : !1
        }
    }

    function qt() {
        this.$get = ["$window", "$log", "$sniffer", "$document", function(e, t, n, i) {
            return new zt(e, i, t, n)
        }]
    }

    function Ut() {
        this.$get = function() {
            function e(e, n) {
                function r(e) {
                    e != d && (f ? f == e && (f = e.n) : f = e, o(e.n, e.p), o(e, d), d = e, d.n = null)
                }

                function o(e, t) {
                    e != t && (e && (e.p = t), t && (t.n = e))
                }
                if (e in t) throw i("$cacheFactory")("iid", e);
                var s = 0,
                    a = h({}, n, {
                        id: e
                    }),
                    l = {},
                    c = n && n.capacity || Number.MAX_VALUE,
                    u = {},
                    d = null,
                    f = null;
                return t[e] = {
                    put: function(e, t) {
                        if (!y(t)) {
                            if (c < Number.MAX_VALUE) {
                                var n = u[e] || (u[e] = {
                                    key: e
                                });
                                r(n)
                            }
                            return e in l || s++, l[e] = t, s > c && this.remove(f.key), t
                        }
                    },
                    get: function(e) {
                        if (c < Number.MAX_VALUE) {
                            var t = u[e];
                            if (!t) return;
                            r(t)
                        }
                        return l[e]
                    },
                    remove: function(e) {
                        if (c < Number.MAX_VALUE) {
                            var t = u[e];
                            if (!t) return;
                            t == d && (d = t.p), t == f && (f = t.n), o(t.n, t.p), delete u[e]
                        }
                        delete l[e], s--
                    },
                    removeAll: function() {
                        l = {}, s = 0, u = {}, d = f = null
                    },
                    destroy: function() {
                        u = a = l = null, delete t[e]
                    },
                    info: function() {
                        return h({}, a, {
                            size: s
                        })
                    }
                }
            }
            var t = {};
            return e.info = function() {
                var e = {};
                return o(t, function(t, n) {
                    e[n] = t.info()
                }), e
            }, e.get = function(e) {
                return t[e]
            }, e
        }
    }

    function Vt() {
        this.$get = ["$cacheFactory", function(e) {
            return e("templates")
        }]
    }

    function Yt(e, i) {
        function r(e, t, n) {
            var i = /^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,
                r = {};
            return o(e, function(e, o) {
                var s = e.match(i);
                if (!s) throw Hr("iscp", t, o, e, n ? "controller bindings definition" : "isolate scope definition");
                r[o] = {
                    mode: s[1][0],
                    collection: "*" === s[2],
                    optional: "?" === s[3],
                    attrName: s[4] || o
                }
            }), r
        }

        function s(e) {
            var t = e.charAt(0);
            if (!t || t !== qi(t)) throw Hr("baddir", e);
            if (e !== e.trim()) throw Hr("baddir", e)
        }
        var l = {},
            c = /^\s*directive\:\s*([\w\-]+)\s+(.*)$/,
            u = /(([\w\-]+)(?:\:([^;]+))?;?)/,
            d = P("ngSrc,ngSrcset,src,srcset"),
            f = /^(?:(\^\^?)?(\?)?(\^\^?)?)?/,
            y = /^(on[a-z]+|formaction)$/;
        this.directive = function $(t, n) {
            return ot(t, "directive"), x(t) ? (s(t), it(n, "directiveFactory"), l.hasOwnProperty(t) || (l[t] = [], e.factory(t + "Directive", ["$injector", "$exceptionHandler", function(e, n) {
                var i = [];
                return o(l[t], function(o, s) {
                    try {
                        var a = e.invoke(o);
                        k(a) ? a = {
                            compile: v(a)
                        } : !a.compile && a.link && (a.compile = v(a.link)), a.priority = a.priority || 0, a.index = s, a.name = a.name || t, a.require = a.require || a.controller && a.name, a.restrict = a.restrict || "EA";
                        var l = a,
                            c = a,
                            u = a.name,
                            h = {
                                isolateScope: null,
                                bindToController: null
                            };
                        if (w(c.scope) && (!0 === c.bindToController ? (h.bindToController = r(c.scope, u, !0), h.isolateScope = {}) : h.isolateScope = r(c.scope, u, !1)), w(c.bindToController) && (h.bindToController = r(c.bindToController, u, !0)), w(h.bindToController)) {
                            var d = c.controller,
                                f = c.controllerAs;
                            if (!d) throw Hr("noctrl", u);
                            var p;
                            e: if (f && x(f)) p = f;
                                else {
                                    if (x(d)) {
                                        var m = Wr.exec(d);
                                        if (m) {
                                            p = m[3];
                                            break e
                                        }
                                    }
                                    p = void 0
                                }
                            if (!p) throw Hr("noident", u)
                        }
                        var g = l.$$bindings = h;
                        w(g.isolateScope) && (a.$$isolateBindings = g.isolateScope), a.$$moduleName = o.$$moduleName, i.push(a)
                    } catch (y) {
                        n(y)
                    }
                }), i
            }])), l[t].push(n)) : o(t, a($)), this
        }, this.aHrefSanitizationWhitelist = function(e) {
            return b(e) ? (i.aHrefSanitizationWhitelist(e), this) : i.aHrefSanitizationWhitelist()
        }, this.imgSrcSanitizationWhitelist = function(e) {
            return b(e) ? (i.imgSrcSanitizationWhitelist(e), this) : i.imgSrcSanitizationWhitelist()
        };
        var _ = !0;
        this.debugInfoEnabled = function(e) {
            return b(e) ? (_ = e, this) : _
        }, this.$get = ["$injector", "$interpolate", "$exceptionHandler", "$templateRequest", "$parse", "$controller", "$rootScope", "$document", "$sce", "$animate", "$$sanitizeUri", function(e, i, r, s, a, v, b, $, C, S, T) {
            function D(e, t) {
                try {
                    e.addClass(t)
                } catch (n) {}
            }

            function A(e, t, n, i, r) {
                e instanceof ji || (e = ji(e)), o(e, function(t, n) {
                    t.nodeType == dr && t.nodeValue.match(/\S+/) && (e[n] = ji(t).wrap("<span></span>").parent()[0])
                });
                var s = P(e, t, e, n, i, r);
                A.$$addScopeClass(e);
                var a = null;
                return function(t, n, i) {
                    it(t, "scope"), i = i || {};
                    var r = i.parentBoundTranscludeFn,
                        o = i.transcludeControllers;
                    if (i = i.futureParentElement, r && r.$$boundTransclude && (r = r.$$boundTransclude), a || (a = (i = i && i[0]) && "foreignobject" !== N(i) && i.toString().match(/SVG/) ? "svg" : "html"), i = "html" !== a ? ji(X(a, ji("<div>").append(e).html())) : n ? kr.clone.call(e) : e, o)
                        for (var l in o) i.data("$" + l + "Controller", o[l].instance);
                    return A.$$addScopeInfo(i, t), n && n(i, t), s && s(t, i, i, r), i
                }
            }

            function P(e, t, i, r, o, s) {
                function a(e, i, r, o) {
                    var s, a, l, c, u, h, p;
                    if (d)
                        for (p = Array(i.length), c = 0; c < f.length; c += 3) s = f[c], p[s] = i[s];
                    else p = i;
                    for (c = 0, u = f.length; u > c;) a = p[f[c++]], i = f[c++], s = f[c++], i ? (i.scope ? (l = e.$new(), A.$$addScopeInfo(ji(a), l), (h = i.$$destroyBindings) && (i.$$destroyBindings = null, l.$on("$destroyed", h))) : l = e, h = i.transcludeOnThisElement ? I(e, i.transclude, o) : !i.templateOnThisElement && o ? o : !o && t ? I(e, t) : null, i(s, l, a, r, h, i)) : s && s(e, a.childNodes, n, o)
                }
                for (var l, c, u, h, d, f = [], p = 0; p < e.length; p++) l = new rt, c = M(e[p], [], l, 0 === p ? r : n, o), (s = c.length ? H(c, e[p], l, t, i, null, [], [], s) : null) && s.scope && A.$$addScopeClass(l.$$element), l = s && s.terminal || !(u = e[p].childNodes) || !u.length ? null : P(u, s ? (s.transcludeOnThisElement || !s.templateOnThisElement) && s.transclude : t), (s || l) && (f.push(p, s, l), h = !0, d = d || s), s = null;
                return h ? a : null
            }

            function I(e, t, n) {
                return function(i, r, o, s, a) {
                    return i || (i = e.$new(!1, a), i.$$transcluded = !0), t(i, r, {
                        parentBoundTranscludeFn: n,
                        transcludeControllers: o,
                        futureParentElement: s
                    })
                }
            }

            function M(e, t, n, i, r) {
                var o, s = n.$attr;
                switch (e.nodeType) {
                    case hr:
                        L(t, Gt(N(e)), "E", i, r);
                        for (var a, l, h, d = e.attributes, f = 0, p = d && d.length; p > f; f++) {
                            var m = !1,
                                g = !1;
                            a = d[f], o = a.name, l = rr(a.value), a = Gt(o), (h = ct.test(a)) && (o = o.replace(jr, "").substr(8).replace(/_(.)/g, function(e, t) {
                                return t.toUpperCase()
                            }));
                            var v = a.replace(/(Start|End)$/, "");
                            W(v) && a === v + "Start" && (m = o, g = o.substr(0, o.length - 5) + "end", o = o.substr(0, o.length - 6)), a = Gt(o.toLowerCase()), s[a] = o, (h || !n.hasOwnProperty(a)) && (n[a] = l, At(e, a) && (n[a] = !0)), Z(e, t, l, a, h), L(t, a, "A", i, r, m, g)
                        }
                        if (e = e.className, w(e) && (e = e.animVal), x(e) && "" !== e)
                            for (; o = u.exec(e);) a = Gt(o[2]), L(t, a, "C", i, r) && (n[a] = rr(o[3])), e = e.substr(o.index + o[0].length);
                        break;
                    case dr:
                        if (11 === Hi)
                            for (; e.parentNode && e.nextSibling && e.nextSibling.nodeType === dr;) e.nodeValue += e.nextSibling.nodeValue, e.parentNode.removeChild(e.nextSibling);
                        G(t, e.nodeValue);
                        break;
                    case 8:
                        try {
                            (o = c.exec(e.nodeValue)) && (a = Gt(o[1]), L(t, a, "M", i, r) && (n[a] = rr(o[2])))
                        } catch (y) {}
                }
                return t.sort(V), t
            }

            function B(e, t, n) {
                var i = [],
                    r = 0;
                if (t && e.hasAttribute && e.hasAttribute(t)) {
                    do {
                        if (!e) throw Hr("uterdir", t, n);
                        e.nodeType == hr && (e.hasAttribute(t) && r++, e.hasAttribute(n) && r--), i.push(e), e = e.nextSibling
                    } while (r > 0)
                } else i.push(e);
                return ji(i)
            }

            function F(e, t, n) {
                return function(i, r, o, s, a) {
                    return r = B(r[0], t, n), e(i, r, o, s, a)
                }
            }

            function H(e, i, o, s, a, l, c, u, h) {
                function d(e, t, n, i) {
                    e && (n && (e = F(e, n, i)), e.require = b.require, e.directiveName = _, (D === b || b.$$isolateScope) && (e = J(e, {
                        isolateScope: !0
                    })), c.push(e)), t && (n && (t = F(t, n, i)), t.require = b.require, t.directiveName = _, (D === b || b.$$isolateScope) && (t = J(t, {
                        isolateScope: !0
                    })), u.push(t))
                }

                function p(e, t, n, i) {
                    var r;
                    if (x(t)) {
                        var o = t.match(f);
                        t = t.substring(o[0].length);
                        var s = o[1] || o[3],
                            o = "?" === o[2];
                        if ("^^" === s ? n = n.parent() : r = (r = i && i[t]) && r.instance, r || (i = "$" + t + "Controller", r = s ? n.inheritedData(i) : n.data(i)), !r && !o) throw Hr("ctreq", t, e)
                    } else if (nr(t))
                        for (r = [], s = 0, o = t.length; o > s; s++) r[s] = p(e, t[s], n, i);
                    return r || null
                }

                function m(e, t, n, i, r, o) {
                    var s, a = lt();
                    for (s in i) {
                        var l = i[s],
                            c = {
                                $scope: l === D || l.$$isolateScope ? r : o,
                                $element: e,
                                $attrs: t,
                                $transclude: n
                            },
                            u = l.controller;
                        "@" == u && (u = t[l.name]), c = v(u, c, !0, l.controllerAs), a[l.name] = c, R || e.data("$" + l.name + "Controller", c.instance)
                    }
                    return a
                }

                function g(e, t, r, s, a, l) {
                    function h(e, t, i) {
                        var r;
                        return E(e) || (i = t, t = e, e = n), R && (r = b), i || (i = R ? _.parent() : _), a(e, t, r, i, k)
                    }
                    var d, f, g, v, b, w, _;
                    if (i === r ? (s = o, _ = o.$$element) : (_ = ji(r), s = new rt(_, o)), D && (v = t.$new(!0)), a && (w = h, w.$$boundTransclude = a), T && (b = m(_, s, w, T, v, t)), D && (A.$$addScopeInfo(_, v, !0, !(P && (P === D || P === D.$$originalDirective))), A.$$addScopeClass(_, !0), v.$$isolateBindings = D.$$isolateBindings, nt(t, s, v, v.$$isolateBindings, D, v)), b) {
                        var x, $ = D || y;
                        $ && b[$.name] && (f = $.$$bindings.bindToController, (g = b[$.name]) && g.identifier && f && (x = g, l.$$destroyBindings = nt(t, s, g.instance, f, $)));
                        for (d in b) {
                            g = b[d];
                            var C = g();
                            C !== g.instance && (g.instance = C, _.data("$" + d + "Controller", C), g === x && (l.$$destroyBindings(), l.$$destroyBindings = nt(t, s, C, f, $)))
                        }
                    }
                    for (d = 0, l = c.length; l > d; d++) f = c[d], et(f, f.isolateScope ? v : t, _, s, f.require && p(f.directiveName, f.require, _, b), w);
                    var k = t;
                    for (D && (D.template || null === D.templateUrl) && (k = v), e && e(k, r.childNodes, n, a), d = u.length - 1; d >= 0; d--) f = u[d], et(f, f.isolateScope ? v : t, _, s, f.require && p(f.directiveName, f.require, _, b), w)
                }
                h = h || {};
                for (var y, b, _, $, C, S = -Number.MAX_VALUE, T = h.controllerDirectives, D = h.newIsolateScopeDirective, P = h.templateDirective, N = h.nonTlbTranscludeDirective, O = !1, I = !1, R = h.hasElementTranscludeDirective, H = o.$$element = ji(i), L = s, W = 0, V = e.length; V > W; W++) {
                    b = e[W];
                    var G = b.$$start,
                        K = b.$$end;
                    if (G && (H = B(i, G, K)), $ = n, S > b.priority) break;
                    if (($ = b.scope) && (b.templateUrl || (w($) ? (Y("new/isolated scope", D || y, b, H), D = b) : Y("new/isolated scope", D, b, H)), y = y || b), _ = b.name, !b.templateUrl && b.controller && ($ = b.controller, T = T || lt(), Y("'" + _ + "' controller", T[_], b, H), T[_] = b), ($ = b.transclude) && (O = !0, b.$$tlb || (Y("transclusion", N, b, H), N = b), "element" == $ ? (R = !0, S = b.priority, $ = H, H = o.$$element = ji(t.createComment(" " + _ + ": " + o[_] + " ")), i = H[0], Q(a, Yi.call($, 0), i), L = A($, s, S, l && l.name, {
                            nonTlbTranscludeDirective: N
                        })) : ($ = ji(mt(i)).contents(), H.empty(), L = A($, s))), b.template)
                        if (I = !0, Y("template", P, b, H), P = b, $ = k(b.template) ? b.template(H, o) : b.template, $ = at($), b.replace) {
                            if (l = b, $ = _r.test($) ? Kt(X(b.templateNamespace, rr($))) : [], i = $[0], 1 != $.length || i.nodeType !== hr) throw Hr("tplrt", _, "");
                            Q(a, H, i), V = {
                                $attr: {}
                            }, $ = M(i, [], V);
                            var Z = e.splice(W + 1, e.length - (W + 1));
                            D && j($), e = e.concat($).concat(Z), z(o, V), V = e.length
                        } else H.html($);
                    if (b.templateUrl) I = !0, Y("template", P, b, H), P = b, b.replace && (l = b), g = U(e.splice(W, e.length - W), H, o, a, O && L, c, u, {
                        controllerDirectives: T,
                        newIsolateScopeDirective: D,
                        templateDirective: P,
                        nonTlbTranscludeDirective: N
                    }), V = e.length;
                    else if (b.compile) try {
                        C = b.compile(H, o, L), k(C) ? d(null, C, G, K) : C && d(C.pre, C.post, G, K)
                    } catch (tt) {
                        r(tt, q(H))
                    }
                    b.terminal && (g.terminal = !0, S = Math.max(S, b.priority))
                }
                return g.scope = y && !0 === y.scope, g.transcludeOnThisElement = O, g.templateOnThisElement = I, g.transclude = L, h.hasElementTranscludeDirective = R, g
            }

            function j(e) {
                for (var t = 0, n = e.length; n > t; t++) e[t] = p(e[t], {
                    $$isolateScope: !0
                })
            }

            function L(t, i, o, s, a, c, u) {
                if (i === a) return null;
                if (a = null, l.hasOwnProperty(i)) {
                    var h;
                    i = e.get(i + "Directive");
                    for (var d = 0, f = i.length; f > d; d++) try {
                        h = i[d], (s === n || s > h.priority) && -1 != h.restrict.indexOf(o) && (c && (h = p(h, {
                            $$start: c,
                            $$end: u
                        })), t.push(h), a = h)
                    } catch (m) {
                        r(m)
                    }
                }
                return a
            }

            function W(t) {
                if (l.hasOwnProperty(t))
                    for (var n = e.get(t + "Directive"), i = 0, r = n.length; r > i; i++)
                        if (t = n[i], t.multiElement) return !0;
                return !1
            }

            function z(e, t) {
                var n = t.$attr,
                    i = e.$attr,
                    r = e.$$element;
                o(e, function(i, r) {
                    "$" != r.charAt(0) && (t[r] && t[r] !== i && (i += ("style" === r ? ";" : " ") + t[r]), e.$set(r, i, !0, n[r]))
                }), o(t, function(t, o) {
                    "class" == o ? (D(r, t), e["class"] = (e["class"] ? e["class"] + " " : "") + t) : "style" == o ? (r.attr("style", r.attr("style") + ";" + t), e.style = (e.style ? e.style + ";" : "") + t) : "$" == o.charAt(0) || e.hasOwnProperty(o) || (e[o] = t, i[o] = n[o])
                })
            }

            function U(e, t, n, i, r, a, l, c) {
                var u, h, d = [],
                    f = t[0],
                    m = e.shift(),
                    g = p(m, {
                        templateUrl: null,
                        transclude: null,
                        replace: null,
                        $$originalDirective: m
                    }),
                    v = k(m.templateUrl) ? m.templateUrl(t, n) : m.templateUrl,
                    y = m.templateNamespace;
                return t.empty(), s(C.getTrustedResourceUrl(v)).then(function(s) {
                        var p, b;
                        if (s = at(s), m.replace) {
                            if (s = _r.test(s) ? Kt(X(y, rr(s))) : [], p = s[0], 1 != s.length || p.nodeType !== hr) throw Hr("tplrt", m.name, v);
                            s = {
                                $attr: {}
                            }, Q(i, t, p);
                            var _ = M(p, [], s);
                            w(m.scope) && j(_), e = _.concat(e), z(n, s)
                        } else p = f, t.html(s);
                        for (e.unshift(g), u = H(e, p, n, r, t, m, a, l, c), o(i, function(e, n) {
                                e == p && (i[n] = t[0])
                            }), h = P(t[0].childNodes, r); d.length;) {
                            s = d.shift(), b = d.shift();
                            var x = d.shift(),
                                $ = d.shift(),
                                _ = t[0];
                            if (!s.$$destroyed) {
                                if (b !== f) {
                                    var C = b.className;
                                    c.hasElementTranscludeDirective && m.replace || (_ = mt(p)), Q(x, ji(b), _), D(ji(_), C)
                                }
                                b = u.transcludeOnThisElement ? I(s, u.transclude, $) : $, u(h, s, _, i, b, u)
                            }
                        }
                        d = null
                    }),
                    function(e, t, n, i, r) {
                        e = r, t.$$destroyed || (d ? d.push(t, n, i, e) : (u.transcludeOnThisElement && (e = I(t, u.transclude, r)), u(h, t, n, i, e, u)))
                    }
            }

            function V(e, t) {
                var n = t.priority - e.priority;
                return 0 !== n ? n : e.name !== t.name ? e.name < t.name ? -1 : 1 : e.index - t.index
            }

            function Y(e, t, n, i) {
                function r(e) {
                    return e ? " (module: " + e + ")" : ""
                }
                if (t) throw Hr("multidir", t.name, r(t.$$moduleName), n.name, r(n.$$moduleName), e, q(i))
            }

            function G(e, t) {
                var n = i(t, !0);
                n && e.push({
                    priority: 0,
                    compile: function(e) {
                        e = e.parent();
                        var t = !!e.length;
                        return t && A.$$addBindingClass(e),
                            function(e, i) {
                                var r = i.parent();
                                t || A.$$addBindingClass(r), A.$$addBindingInfo(r, n.expressions), e.$watch(n, function(e) {
                                    i[0].nodeValue = e
                                })
                            }
                    }
                })
            }

            function X(e, n) {
                switch (e = qi(e || "html")) {
                    case "svg":
                    case "math":
                        var i = t.createElement("div");
                        return i.innerHTML = "<" + e + ">" + n + "</" + e + ">", i.childNodes[0].childNodes;
                    default:
                        return n
                }
            }

            function K(e, t) {
                if ("srcdoc" == t) return C.HTML;
                var n = N(e);
                return "xlinkHref" == t || "form" == n && "action" == t || "img" != n && ("src" == t || "ngSrc" == t) ? C.RESOURCE_URL : void 0
            }

            function Z(e, t, n, r, o) {
                var s = K(e, r);
                o = d[r] || o;
                var a = i(n, !0, s, o);
                if (a) {
                    if ("multiple" === r && "select" === N(e)) throw Hr("selmulti", q(e));
                    t.push({
                        priority: 100,
                        compile: function() {
                            return {
                                pre: function(e, t, l) {
                                    if (t = l.$$observers || (l.$$observers = {}), y.test(r)) throw Hr("nodomevents");
                                    var c = l[r];
                                    c !== n && (a = c && i(c, !0, s, o), n = c), a && (l[r] = a(e), (t[r] || (t[r] = [])).$$inter = !0, (l.$$observers && l.$$observers[r].$$scope || e).$watch(a, function(e, t) {
                                        "class" === r && e != t ? l.$updateClass(e, t) : l.$set(r, e)
                                    }))
                                }
                            }
                        }
                    })
                }
            }

            function Q(e, n, i) {
                var r, o, s = n[0],
                    a = n.length,
                    l = s.parentNode;
                if (e)
                    for (r = 0, o = e.length; o > r; r++)
                        if (e[r] == s) {
                            e[r++] = i, o = r + a - 1;
                            for (var c = e.length; c > r; r++, o++) c > o ? e[r] = e[o] : delete e[r];
                            e.length -= a - 1, e.context === s && (e.context = i);
                            break
                        }
                for (l && l.replaceChild(i, s), e = t.createDocumentFragment(), e.appendChild(s), ji.hasData(s) && (ji(i).data(ji(s).data()), Li ? (tr = !0, Li.cleanData([s])) : delete ji.cache[s[ji.expando]]), s = 1, a = n.length; a > s; s++) l = n[s], ji(l).remove(), e.appendChild(l), delete n[s];
                n[0] = i, n.length = 1
            }

            function J(e, t) {
                return h(function() {
                    return e.apply(null, arguments)
                }, e, t)
            }

            function et(e, t, n, i, o, s) {
                try {
                    e(t, n, i, o, s)
                } catch (a) {
                    r(a, q(n))
                }
            }

            function nt(e, t, r, s, l, c) {
                var u;
                return o(s, function(o, s) {
                    var c, h, d, f, p = o.attrName,
                        g = o.optional,
                        v = o.mode;
                    switch (Ui.call(t, p) || (t[p] = n), v) {
                        case "@":
                            t[p] || g || (r[s] = n), t.$observe(p, function(e) {
                                r[s] = e
                            }), t.$$observers[p].$$scope = e, t[p] && (r[s] = i(t[p])(e));
                            break;
                        case "=":
                            if (g && !t[p]) break;
                            h = a(t[p]), f = h.literal ? R : function(e, t) {
                                return e === t || e !== e && t !== t
                            }, d = h.assign || function() {
                                throw c = r[s] = h(e), Hr("nonassign", t[p], l.name)
                            }, c = r[s] = h(e), g = function(t) {
                                return f(t, r[s]) || (f(t, c) ? d(e, t = r[s]) : r[s] = t), c = t
                            }, g.$stateful = !0, g = o.collection ? e.$watchCollection(t[p], g) : e.$watch(a(t[p], g), null, h.literal), u = u || [], u.push(g);
                            break;
                        case "&":
                            if (h = a(t[p]), h === m && g) break;
                            r[s] = function(t) {
                                return h(e, t)
                            }
                    }
                }), s = u ? function() {
                    for (var e = 0, t = u.length; t > e; ++e) u[e]()
                } : m, c && s !== m ? (c.$on("$destroy", s), m) : s
            }
            var rt = function(e, t) {
                if (t) {
                    var n, i, r, o = Object.keys(t);
                    for (n = 0, i = o.length; i > n; n++) r = o[n], this[r] = t[r]
                } else this.$attr = {};
                this.$$element = e
            };
            rt.prototype = {
                $normalize: Gt,
                $addClass: function(e) {
                    e && 0 < e.length && S.addClass(this.$$element, e)
                },
                $removeClass: function(e) {
                    e && 0 < e.length && S.removeClass(this.$$element, e)
                },
                $updateClass: function(e, t) {
                    var n = Xt(e, t);
                    n && n.length && S.addClass(this.$$element, n), (n = Xt(t, e)) && n.length && S.removeClass(this.$$element, n)
                },
                $set: function(e, t, i, s) {
                    var a = this.$$element[0],
                        l = At(a, e),
                        c = Pt(a, e),
                        a = e;
                    if (l ? (this.$$element.prop(e, t), s = l) : c && (this[c] = t, a = c), this[e] = t, s ? this.$attr[e] = s : (s = this.$attr[e]) || (this.$attr[e] = s = tt(e, "-")), l = N(this.$$element), "a" === l && "href" === e || "img" === l && "src" === e) this[e] = t = T(t, "src" === e);
                    else if ("img" === l && "srcset" === e) {
                        for (var l = "", c = rr(t), u = /(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/, u = /\s/.test(c) ? u : /(,)/, c = c.split(u), u = Math.floor(c.length / 2), h = 0; u > h; h++) var d = 2 * h,
                            l = l + T(rr(c[d]), !0),
                            l = l + (" " + rr(c[d + 1]));
                        c = rr(c[2 * h]).split(/\s/), l += T(rr(c[0]), !0), 2 === c.length && (l += " " + rr(c[1])), this[e] = t = l
                    }!1 !== i && (null === t || t === n ? this.$$element.removeAttr(s) : this.$$element.attr(s, t)), (e = this.$$observers) && o(e[a], function(e) {
                        try {
                            e(t)
                        } catch (n) {
                            r(n)
                        }
                    })
                },
                $observe: function(e, t) {
                    var n = this,
                        i = n.$$observers || (n.$$observers = lt()),
                        r = i[e] || (i[e] = []);
                    return r.push(t), b.$evalAsync(function() {
                            !r.$$inter && n.hasOwnProperty(e) && t(n[e])
                        }),
                        function() {
                            O(r, t)
                        }
                }
            };
            var ot = i.startSymbol(),
                st = i.endSymbol(),
                at = "{{" == ot || "}}" == st ? g : function(e) {
                    return e.replace(/\{\{/g, ot).replace(/}}/g, st)
                },
                ct = /^ngAttr[A-Z]/;
            return A.$$addBindingInfo = _ ? function(e, t) {
                var n = e.data("$binding") || [];
                nr(t) ? n = n.concat(t) : n.push(t), e.data("$binding", n)
            } : m, A.$$addBindingClass = _ ? function(e) {
                D(e, "ng-binding")
            } : m, A.$$addScopeInfo = _ ? function(e, t, n, i) {
                e.data(n ? i ? "$isolateScopeNoTemplate" : "$isolateScope" : "$scope", t)
            } : m, A.$$addScopeClass = _ ? function(e, t) {
                D(e, t ? "ng-isolate-scope" : "ng-scope")
            } : m, A
        }]
    }

    function Gt(e) {
        return ht(e.replace(jr, ""))
    }

    function Xt(e, t) {
        var n = "",
            i = e.split(/\s+/),
            r = t.split(/\s+/),
            o = 0;
        e: for (; o < i.length; o++) {
            for (var s = i[o], a = 0; a < r.length; a++)
                if (s == r[a]) continue e;
            n += (0 < n.length ? " " : "") + s
        }
        return n
    }

    function Kt(e) {
        e = ji(e);
        var t = e.length;
        if (1 >= t) return e;
        for (; t--;) 8 === e[t].nodeType && Gi.call(e, t, 1);
        return e
    }

    function Zt() {
        var e = {},
            t = !1;
        this.register = function(t, n) {
            ot(t, "controller"), w(t) ? h(e, t) : e[t] = n
        }, this.allowGlobals = function() {
            t = !0
        }, this.$get = ["$injector", "$window", function(r, o) {
            function s(e, t, n, r) {
                if (!e || !w(e.$scope)) throw i("$controller")("noscp", r, t);
                e.$scope[t] = n
            }
            return function(i, a, l, c) {
                var u, d, f;
                if (l = !0 === l, c && x(c) && (f = c), x(i)) {
                    if (c = i.match(Wr), !c) throw Lr("ctrlfmt", i);
                    d = c[1], f = f || c[3], i = e.hasOwnProperty(d) ? e[d] : st(a.$scope, d, !0) || (t ? st(o, d, !0) : n), rt(i, d, !0)
                }
                return l ? (l = (nr(i) ? i[i.length - 1] : i).prototype, u = Object.create(l || null), f && s(a, f, u, d || i.name), h(function() {
                    var e = r.invoke(i, u, a, d);
                    return e !== u && (w(e) || k(e)) && (u = e, f && s(a, f, u, d || i.name)), u
                }, {
                    instance: u,
                    identifier: f
                })) : (u = r.instantiate(i, a, d), f && s(a, f, u, d || i.name), u)
            }
        }]
    }

    function Qt() {
        this.$get = ["$window", function(e) {
            return ji(e.document)
        }]
    }

    function Jt() {
        this.$get = ["$log", function(e) {
            return function() {
                e.error.apply(e, arguments)
            }
        }]
    }

    function en(e) {
        return w(e) ? C(e) ? e.toISOString() : j(e) : e
    }

    function tn() {
        this.$get = function() {
            return function(e) {
                if (!e) return "";
                var t = [];
                return s(e, function(e, n) {
                    null === e || y(e) || (nr(e) ? o(e, function(e) {
                        t.push(X(n) + "=" + X(en(e)))
                    }) : t.push(X(n) + "=" + X(en(e))))
                }), t.join("&")
            }
        }
    }

    function nn() {
        this.$get = function() {
            return function(e) {
                function t(e, i, r) {
                    null === e || y(e) || (nr(e) ? o(e, function(e) {
                        t(e, i + "[]")
                    }) : w(e) && !C(e) ? s(e, function(e, n) {
                        t(e, i + (r ? "" : "[") + n + (r ? "" : "]"))
                    }) : n.push(X(i) + "=" + X(en(e))))
                }
                if (!e) return "";
                var n = [];
                return t(e, "", !0), n.join("&")
            }
        }
    }

    function rn(e, t) {
        if (x(e)) {
            var n = e.replace(Yr, "").trim();
            if (n) {
                var i = t("Content-Type");
                (i = i && 0 === i.indexOf(zr)) || (i = (i = n.match(Ur)) && Vr[i[0]].test(n)), i && (e = L(n))
            }
        }
        return e
    }

    function on(e) {
        var t, n = lt();
        return x(e) ? o(e.split("\n"), function(e) {
            t = e.indexOf(":");
            var i = qi(rr(e.substr(0, t)));
            e = rr(e.substr(t + 1)), i && (n[i] = n[i] ? n[i] + ", " + e : e)
        }) : w(e) && o(e, function(e, t) {
            var i = qi(t),
                r = rr(e);
            i && (n[i] = n[i] ? n[i] + ", " + r : r)
        }), n
    }

    function sn(e) {
        var t;
        return function(n) {
            return t || (t = on(e)), n ? (n = t[qi(n)], void 0 === n && (n = null), n) : t
        }
    }

    function an(e, t, n, i) {
        return k(i) ? i(e, t, n) : (o(i, function(i) {
            e = i(e, t, n)
        }), e)
    }

    function ln() {
        var e = this.defaults = {
                transformResponse: [rn],
                transformRequest: [function(e) {
                    return w(e) && "[object File]" !== Ki.call(e) && "[object Blob]" !== Ki.call(e) && "[object FormData]" !== Ki.call(e) ? j(e) : e
                }],
                headers: {
                    common: {
                        Accept: "application/json, text/plain, */*"
                    },
                    post: M(qr),
                    put: M(qr),
                    patch: M(qr)
                },
                xsrfCookieName: "XSRF-TOKEN",
                xsrfHeaderName: "X-XSRF-TOKEN",
                paramSerializer: "$httpParamSerializer"
            },
            t = !1;
        this.useApplyAsync = function(e) {
            return b(e) ? (t = !!e, this) : t
        };
        var r = this.interceptors = [];
        this.$get = ["$httpBackend", "$$cookieReader", "$cacheFactory", "$rootScope", "$q", "$injector", function(s, a, l, c, u, d) {
            function f(t) {
                function r(e) {
                    var t = h({}, e);
                    return t.data = e.data ? an(e.data, e.headers, e.status, a.transformResponse) : e.data, e = e.status, e >= 200 && 300 > e ? t : u.reject(t)
                }

                function s(e, t) {
                    var n, i = {};
                    return o(e, function(e, r) {
                        k(e) ? (n = e(t), null != n && (i[r] = n)) : i[r] = e
                    }), i
                }
                if (!Ji.isObject(t)) throw i("$http")("badreq", t);
                var a = h({
                    method: "get",
                    transformRequest: e.transformRequest,
                    transformResponse: e.transformResponse,
                    paramSerializer: e.paramSerializer
                }, t);
                a.headers = function(t) {
                    var n, i, r, o = e.headers,
                        a = h({}, t.headers),
                        o = h({}, o.common, o[qi(t.method)]);
                    e: for (n in o) {
                        i = qi(n);
                        for (r in a)
                            if (qi(r) === i) continue e;
                        a[n] = o[n]
                    }
                    return s(a, M(t))
                }(t), a.method = Vi(a.method), a.paramSerializer = x(a.paramSerializer) ? d.get(a.paramSerializer) : a.paramSerializer;
                var l = [function(t) {
                        var i = t.headers,
                            s = an(t.data, sn(i), n, t.transformRequest);
                        return y(s) && o(i, function(e, t) {
                            "content-type" === qi(t) && delete i[t]
                        }), y(t.withCredentials) && !y(e.withCredentials) && (t.withCredentials = e.withCredentials), p(t, s).then(r, r)
                    }, n],
                    c = u.when(a);
                for (o(v, function(e) {
                        (e.request || e.requestError) && l.unshift(e.request, e.requestError), (e.response || e.responseError) && l.push(e.response, e.responseError)
                    }); l.length;) {
                    t = l.shift();
                    var f = l.shift(),
                        c = c.then(t, f)
                }
                return c.success = function(e) {
                    return rt(e, "fn"), c.then(function(t) {
                        e(t.data, t.status, t.headers, a)
                    }), c
                }, c.error = function(e) {
                    return rt(e, "fn"), c.then(null, function(t) {
                        e(t.data, t.status, t.headers, a)
                    }), c
                }, c
            }

            function p(i, r) {
                function o(e, n, i, r) {
                    function o() {
                        l(n, e, i, r)
                    }
                    p && (e >= 200 && 300 > e ? p.put(C, [e, n, on(i), r]) : p.remove(C)), t ? c.$applyAsync(o) : (o(), c.$$phase || c.$apply())
                }

                function l(e, t, n, r) {
                    t = Math.max(t, 0), (t >= 200 && 300 > t ? _.resolve : _.reject)({
                        data: e,
                        status: t,
                        headers: sn(n),
                        config: i,
                        statusText: r
                    })
                }

                function h(e) {
                    l(e.data, e.status, M(e.headers()), e.statusText)
                }

                function d() {
                    var e = f.pendingRequests.indexOf(i); - 1 !== e && f.pendingRequests.splice(e, 1)
                }
                var p, v, _ = u.defer(),
                    x = _.promise,
                    $ = i.headers,
                    C = m(i.url, i.paramSerializer(i.params));
                return f.pendingRequests.push(i), x.then(d, d), !i.cache && !e.cache || !1 === i.cache || "GET" !== i.method && "JSONP" !== i.method || (p = w(i.cache) ? i.cache : w(e.cache) ? e.cache : g), p && (v = p.get(C), b(v) ? v && k(v.then) ? v.then(h, h) : nr(v) ? l(v[1], v[0], M(v[2]), v[3]) : l(v, 200, {}, "OK") : p.put(C, x)), y(v) && ((v = si(i.url) ? a()[i.xsrfCookieName || e.xsrfCookieName] : n) && ($[i.xsrfHeaderName || e.xsrfHeaderName] = v), s(i.method, C, r, o, $, i.timeout, i.withCredentials, i.responseType)), x
            }

            function m(e, t) {
                return 0 < t.length && (e += (-1 == e.indexOf("?") ? "?" : "&") + t), e
            }
            var g = l("$http");
            e.paramSerializer = x(e.paramSerializer) ? d.get(e.paramSerializer) : e.paramSerializer;
            var v = [];
            return o(r, function(e) {
                    v.unshift(x(e) ? d.get(e) : d.invoke(e))
                }), f.pendingRequests = [],
                function() {
                    o(arguments, function(e) {
                        f[e] = function(t, n) {
                            return f(h({}, n || {}, {
                                method: e,
                                url: t
                            }))
                        }
                    })
                }("get", "delete", "head", "jsonp"),
                function() {
                    o(arguments, function(e) {
                        f[e] = function(t, n, i) {
                            return f(h({}, i || {}, {
                                method: e,
                                url: t,
                                data: n
                            }))
                        }
                    })
                }("post", "put", "patch"), f.defaults = e, f
        }]
    }

    function cn() {
        return new e.XMLHttpRequest
    }

    function un() {
        this.$get = ["$browser", "$window", "$document", function(e, t, n) {
            return hn(e, cn, e.defer, t.angular.callbacks, n[0])
        }]
    }

    function hn(e, t, i, r, s) {
        function a(e, t, n) {
            var i = s.createElement("script"),
                o = null;
            return i.type = "text/javascript", i.src = e, i.async = !0, o = function(e) {
                i.removeEventListener("load", o, !1), i.removeEventListener("error", o, !1), s.body.removeChild(i), i = null;
                var a = -1,
                    l = "unknown";
                e && ("load" !== e.type || r[t].called || (e = {
                    type: "error"
                }), l = e.type, a = "error" === e.type ? 404 : 200), n && n(a, l)
            }, i.addEventListener("load", o, !1), i.addEventListener("error", o, !1), s.body.appendChild(i), o
        }
        return function(s, l, c, u, h, d, f, p) {
            function g() {
                w && w(), _ && _.abort()
            }

            function v(t, r, o, s, a) {
                $ !== n && i.cancel($), w = _ = null, t(r, o, s, a), e.$$completeOutstandingRequest(m)
            }
            if (e.$$incOutstandingRequestCount(), l = l || e.url(), "jsonp" == qi(s)) {
                var y = "_" + (r.counter++).toString(36);
                r[y] = function(e) {
                    r[y].data = e, r[y].called = !0
                };
                var w = a(l.replace("JSON_CALLBACK", "angular.callbacks." + y), y, function(e, t) {
                    v(u, e, r[y].data, "", t), r[y] = m
                })
            } else {
                var _ = t();
                if (_.open(s, l, !0), o(h, function(e, t) {
                        b(e) && _.setRequestHeader(t, e)
                    }), _.onload = function() {
                        var e = _.statusText || "",
                            t = "response" in _ ? _.response : _.responseText,
                            n = 1223 === _.status ? 204 : _.status;
                        0 === n && (n = t ? 200 : "file" == oi(l).protocol ? 404 : 0), v(u, n, t, _.getAllResponseHeaders(), e)
                    }, s = function() {
                        v(u, -1, null, null, "")
                    }, _.onerror = s, _.onabort = s, f && (_.withCredentials = !0), p) try {
                    _.responseType = p
                } catch (x) {
                    if ("json" !== p) throw x
                }
                _.send(c)
            }
            if (d > 0) var $ = i(g, d);
            else d && k(d.then) && d.then(g)
        }
    }

    function dn() {
        var e = "{{",
            t = "}}";
        this.startSymbol = function(t) {
            return t ? (e = t, this) : e
        }, this.endSymbol = function(e) {
            return e ? (t = e, this) : t
        }, this.$get = ["$parse", "$exceptionHandler", "$sce", function(n, i, r) {
            function o(e) {
                return "\\\\\\" + e
            }

            function s(n) {
                return n.replace(u, e).replace(d, t)
            }

            function a(o, a, u, d) {
                function f(e) {
                    try {
                        var t = e;
                        e = u ? r.getTrusted(u, t) : r.valueOf(t);
                        var n;
                        if (d && !b(e)) n = e;
                        else if (null == e) n = "";
                        else {
                            switch (typeof e) {
                                case "string":
                                    break;
                                case "number":
                                    e = "" + e;
                                    break;
                                default:
                                    e = j(e)
                            }
                            n = e
                        }
                        return n
                    } catch (s) {
                        i(Gr.interr(o, s))
                    }
                }
                d = !!d;
                for (var p, m, g = 0, v = [], w = [], _ = o.length, x = [], $ = []; _ > g;) {
                    if (-1 == (p = o.indexOf(e, g)) || -1 == (m = o.indexOf(t, p + l))) {
                        g !== _ && x.push(s(o.substring(g)));
                        break
                    }
                    g !== p && x.push(s(o.substring(g, p))), g = o.substring(p + l, m), v.push(g), w.push(n(g, f)), g = m + c, $.push(x.length), x.push("")
                }
                if (u && 1 < x.length && Gr.throwNoconcat(o), !a || v.length) {
                    var C = function(e) {
                        for (var t = 0, n = v.length; n > t; t++) {
                            if (d && y(e[t])) return;
                            x[$[t]] = e[t]
                        }
                        return x.join("")
                    };
                    return h(function(e) {
                        var t = 0,
                            n = v.length,
                            r = Array(n);
                        try {
                            for (; n > t; t++) r[t] = w[t](e);
                            return C(r)
                        } catch (s) {
                            i(Gr.interr(o, s))
                        }
                    }, {
                        exp: o,
                        expressions: v,
                        $$watchDelegate: function(e, t) {
                            var n;
                            return e.$watchGroup(w, function(i, r) {
                                var o = C(i);
                                k(t) && t.call(this, o, i !== r ? n : o, e), n = o
                            })
                        }
                    })
                }
            }
            var l = e.length,
                c = t.length,
                u = new RegExp(e.replace(/./g, o), "g"),
                d = new RegExp(t.replace(/./g, o), "g");
            return a.startSymbol = function() {
                return e
            }, a.endSymbol = function() {
                return t
            }, a
        }]
    }

    function fn() {
        this.$get = ["$rootScope", "$window", "$q", "$$q", function(e, t, n, i) {
            function r(r, s, a, l) {
                var c = 4 < arguments.length,
                    u = c ? Yi.call(arguments, 4) : [],
                    h = t.setInterval,
                    d = t.clearInterval,
                    f = 0,
                    p = b(l) && !l,
                    m = (p ? i : n).defer(),
                    g = m.promise;
                return a = b(a) ? a : 0, g.then(null, null, c ? function() {
                    r.apply(null, u)
                } : r), g.$$intervalId = h(function() {
                    m.notify(f++), a > 0 && f >= a && (m.resolve(f), d(g.$$intervalId), delete o[g.$$intervalId]), p || e.$apply()
                }, s), o[g.$$intervalId] = m, g
            }
            var o = {};
            return r.cancel = function(e) {
                return e && e.$$intervalId in o ? (o[e.$$intervalId].reject("canceled"), t.clearInterval(e.$$intervalId), delete o[e.$$intervalId], !0) : !1
            }, r
        }]
    }

    function pn() {
        this.$get = function() {
            return {
                id: "en-us",
                NUMBER_FORMATS: {
                    DECIMAL_SEP: ".",
                    GROUP_SEP: ",",
                    PATTERNS: [{
                        minInt: 1,
                        minFrac: 0,
                        maxFrac: 3,
                        posPre: "",
                        posSuf: "",
                        negPre: "-",
                        negSuf: "",
                        gSize: 3,
                        lgSize: 3
                    }, {
                        minInt: 1,
                        minFrac: 2,
                        maxFrac: 2,
                        posPre: "Â¤",
                        posSuf: "",
                        negPre: "(Â¤",
                        negSuf: ")",
                        gSize: 3,
                        lgSize: 3
                    }],
                    CURRENCY_SYM: "$"
                },
                DATETIME_FORMATS: {
                    MONTH: "January February March April May June July August September October November December".split(" "),
                    SHORTMONTH: "Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
                    DAY: "Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
                    SHORTDAY: "Sun Mon Tue Wed Thu Fri Sat".split(" "),
                    AMPMS: ["AM", "PM"],
                    medium: "MMM d, y h:mm:ss a",
                    "short": "M/d/yy h:mm a",
                    fullDate: "EEEE, MMMM d, y",
                    longDate: "MMMM d, y",
                    mediumDate: "MMM d, y",
                    shortDate: "M/d/yy",
                    mediumTime: "h:mm:ss a",
                    shortTime: "h:mm a",
                    ERANAMES: ["Before Christ", "Anno Domini"],
                    ERAS: ["BC", "AD"]
                },
                pluralCat: function(e) {
                    return 1 === e ? "one" : "other"
                }
            }
        }
    }

    function mn(e) {
        e = e.split("/");
        for (var t = e.length; t--;) e[t] = G(e[t]);
        return e.join("/")
    }

    function gn(e, t) {
        var n = oi(e);
        t.$$protocol = n.protocol, t.$$host = n.hostname, t.$$port = f(n.port) || Kr[n.protocol] || null
    }

    function vn(e, t) {
        var n = "/" !== e.charAt(0);
        n && (e = "/" + e);
        var i = oi(e);
        t.$$path = decodeURIComponent(n && "/" === i.pathname.charAt(0) ? i.pathname.substring(1) : i.pathname), t.$$search = V(i.search), t.$$hash = decodeURIComponent(i.hash), t.$$path && "/" != t.$$path.charAt(0) && (t.$$path = "/" + t.$$path)
    }

    function yn(e, t) {
        return 0 === t.indexOf(e) ? t.substr(e.length) : void 0
    }

    function bn(e) {
        var t = e.indexOf("#");
        return -1 == t ? e : e.substr(0, t)
    }

    function wn(e) {
        return e.replace(/(#.+)|#$/, "$1")
    }

    function _n(e) {
        return e.substr(0, bn(e).lastIndexOf("/") + 1)
    }

    function xn(e, t) {
        this.$$html5 = !0, t = t || "";
        var i = _n(e);
        gn(e, this), this.$$parse = function(e) {
            var t = yn(i, e);
            if (!x(t)) throw Zr("ipthprfx", e, i);
            vn(t, this), this.$$path || (this.$$path = "/"), this.$$compose()
        }, this.$$compose = function() {
            var e = Y(this.$$search),
                t = this.$$hash ? "#" + G(this.$$hash) : "";
            this.$$url = mn(this.$$path) + (e ? "?" + e : "") + t, this.$$absUrl = i + this.$$url.substr(1)
        }, this.$$parseLinkUrl = function(r, o) {
            if (o && "#" === o[0]) return this.hash(o.slice(1)), !0;
            var s, a;
            return (s = yn(e, r)) !== n ? (a = s, a = (s = yn(t, s)) !== n ? i + (yn("/", s) || s) : e + a) : (s = yn(i, r)) !== n ? a = i + s : i == r + "/" && (a = i), a && this.$$parse(a), !!a
        }
    }

    function $n(e, t) {
        var n = _n(e);
        gn(e, this), this.$$parse = function(i) {
            i = yn(e, i) || yn(n, i);
            var r;
            "#" === i.charAt(0) ? (r = yn(t, i), y(r) && (r = i)) : r = this.$$html5 ? i : "", vn(r, this), i = this.$$path;
            var o = /^\/[A-Z]:(\/.*)/;
            0 === r.indexOf(e) && (r = r.replace(e, "")), o.exec(r) || (i = (r = o.exec(i)) ? r[1] : i), this.$$path = i, this.$$compose()
        }, this.$$compose = function() {
            var n = Y(this.$$search),
                i = this.$$hash ? "#" + G(this.$$hash) : "";
            this.$$url = mn(this.$$path) + (n ? "?" + n : "") + i, this.$$absUrl = e + (this.$$url ? t + this.$$url : "")
        }, this.$$parseLinkUrl = function(t) {
            return bn(e) == bn(t) ? (this.$$parse(t), !0) : !1
        }
    }

    function Cn(e, t) {
        this.$$html5 = !0, $n.apply(this, arguments);
        var n = _n(e);
        this.$$parseLinkUrl = function(i, r) {
            if (r && "#" === r[0]) return this.hash(r.slice(1)), !0;
            var o, s;
            return e == bn(i) ? o = i : (s = yn(n, i)) ? o = e + t + s : n === i + "/" && (o = n), o && this.$$parse(o), !!o
        }, this.$$compose = function() {
            var n = Y(this.$$search),
                i = this.$$hash ? "#" + G(this.$$hash) : "";
            this.$$url = mn(this.$$path) + (n ? "?" + n : "") + i, this.$$absUrl = e + t + this.$$url
        }
    }

    function kn(e) {
        return function() {
            return this[e]
        }
    }

    function Sn(e, t) {
        return function(n) {
            return y(n) ? this[e] : (this[e] = t(n), this.$$compose(), this)
        }
    }

    function Tn() {
        var e = "",
            t = {
                enabled: !1,
                requireBase: !0,
                rewriteLinks: !0
            };
        this.hashPrefix = function(t) {
            return b(t) ? (e = t, this) : e
        }, this.html5Mode = function(e) {
            return D(e) ? (t.enabled = e, this) : w(e) ? (D(e.enabled) && (t.enabled = e.enabled), D(e.requireBase) && (t.requireBase = e.requireBase), D(e.rewriteLinks) && (t.rewriteLinks = e.rewriteLinks), this) : t
        }, this.$get = ["$rootScope", "$browser", "$sniffer", "$rootElement", "$window", function(n, i, r, o, s) {
            function a(e, t, n) {
                var r = c.url(),
                    o = c.$$state;
                try {
                    i.url(e, t, n), c.$$state = i.state()
                } catch (s) {
                    throw c.url(r), c.$$state = o, s
                }
            }

            function l(e, t) {
                n.$broadcast("$locationChangeSuccess", c.absUrl(), e, c.$$state, t)
            }
            var c, u;
            u = i.baseHref();
            var h, d = i.url();
            if (t.enabled) {
                if (!u && t.requireBase) throw Zr("nobase");
                h = d.substring(0, d.indexOf("/", d.indexOf("//") + 2)) + (u || "/"), u = r.history ? xn : Cn
            } else h = bn(d), u = $n;
            c = new u(h, "#" + e), c.$$parseLinkUrl(d, d), c.$$state = i.state();
            var f = /^\s*(javascript|mailto):/i;
            o.on("click", function(e) {
                if (t.rewriteLinks && !e.ctrlKey && !e.metaKey && !e.shiftKey && 2 != e.which && 2 != e.button) {
                    for (var r = ji(e.target);
                        "a" !== N(r[0]);)
                        if (r[0] === o[0] || !(r = r.parent())[0]) return;
                    var a = r.prop("href"),
                        l = r.attr("href") || r.attr("xlink:href");
                    w(a) && "[object SVGAnimatedString]" === a.toString() && (a = oi(a.animVal).href), f.test(a) || !a || r.attr("target") || e.isDefaultPrevented() || !c.$$parseLinkUrl(a, l) || (e.preventDefault(), c.absUrl() != i.url() && (n.$apply(), s.angular["ff-684208-preventDefault"] = !0))
                }
            }), wn(c.absUrl()) != wn(d) && i.url(c.absUrl(), !0);
            var p = !0;
            return i.onUrlChange(function(e, t) {
                n.$evalAsync(function() {
                    var i, r = c.absUrl(),
                        o = c.$$state;
                    c.$$parse(e), c.$$state = t, i = n.$broadcast("$locationChangeStart", e, r, t, o).defaultPrevented, c.absUrl() === e && (i ? (c.$$parse(r), c.$$state = o, a(r, !1, o)) : (p = !1, l(r, o)))
                }), n.$$phase || n.$digest()
            }), n.$watch(function() {
                var e = wn(i.url()),
                    t = wn(c.absUrl()),
                    o = i.state(),
                    s = c.$$replace,
                    u = e !== t || c.$$html5 && r.history && o !== c.$$state;
                (p || u) && (p = !1, n.$evalAsync(function() {
                    var t = c.absUrl(),
                        i = n.$broadcast("$locationChangeStart", t, e, c.$$state, o).defaultPrevented;
                    c.absUrl() === t && (i ? (c.$$parse(e), c.$$state = o) : (u && a(t, s, o === c.$$state ? null : c.$$state), l(e, o)))
                })), c.$$replace = !1
            }), c
        }]
    }

    function En() {
        var e = !0,
            t = this;
        this.debugEnabled = function(t) {
            return b(t) ? (e = t, this) : e
        }, this.$get = ["$window", function(n) {
            function i(e) {
                return e instanceof Error && (e.stack ? e = e.message && -1 === e.stack.indexOf(e.message) ? "Error: " + e.message + "\n" + e.stack : e.stack : e.sourceURL && (e = e.message + "\n" + e.sourceURL + ":" + e.line)), e
            }

            function r(e) {
                var t = n.console || {},
                    r = t[e] || t.log || m;
                e = !1;
                try {
                    e = !!r.apply
                } catch (s) {}
                return e ? function() {
                    var e = [];
                    return o(arguments, function(t) {
                        e.push(i(t))
                    }), r.apply(t, e)
                } : function(e, t) {
                    r(e, null == t ? "" : t)
                }
            }
            return {
                log: r("log"),
                info: r("info"),
                warn: r("warn"),
                error: r("error"),
                debug: function() {
                    var n = r("debug");
                    return function() {
                        e && n.apply(t, arguments)
                    }
                }()
            }
        }]
    }

    function Dn(e, t) {
        if ("__defineGetter__" === e || "__defineSetter__" === e || "__lookupGetter__" === e || "__lookupSetter__" === e || "__proto__" === e) throw Jr("isecfld", t);
        return e
    }

    function An(e, t) {
        if (e) {
            if (e.constructor === e) throw Jr("isecfn", t);
            if (e.window === e) throw Jr("isecwindow", t);
            if (e.children && (e.nodeName || e.prop && e.attr && e.find)) throw Jr("isecdom", t);
            if (e === Object) throw Jr("isecobj", t)
        }
        return e
    }

    function Pn(e, t) {
        if (e) {
            if (e.constructor === e) throw Jr("isecfn", t);
            if (e === eo || e === to || e === no) throw Jr("isecff", t)
        }
    }

    function Nn(e, t) {
        return "undefined" != typeof e ? e : t
    }

    function On(e, t) {
        return "undefined" == typeof e ? t : "undefined" == typeof t ? e : e + t
    }

    function In(e, t) {
        var n, i;
        switch (e.type) {
            case so.Program:
                n = !0, o(e.body, function(e) {
                    In(e.expression, t), n = n && e.expression.constant
                }), e.constant = n;
                break;
            case so.Literal:
                e.constant = !0, e.toWatch = [];
                break;
            case so.UnaryExpression:
                In(e.argument, t), e.constant = e.argument.constant, e.toWatch = e.argument.toWatch;
                break;
            case so.BinaryExpression:
                In(e.left, t), In(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = e.left.toWatch.concat(e.right.toWatch);
                break;
            case so.LogicalExpression:
                In(e.left, t), In(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = e.constant ? [] : [e];
                break;
            case so.ConditionalExpression:
                In(e.test, t), In(e.alternate, t), In(e.consequent, t), e.constant = e.test.constant && e.alternate.constant && e.consequent.constant, e.toWatch = e.constant ? [] : [e];
                break;
            case so.Identifier:
                e.constant = !1, e.toWatch = [e];
                break;
            case so.MemberExpression:
                In(e.object, t), e.computed && In(e.property, t), e.constant = e.object.constant && (!e.computed || e.property.constant), e.toWatch = [e];
                break;
            case so.CallExpression:
                n = e.filter ? !t(e.callee.name).$stateful : !1, i = [], o(e.arguments, function(e) {
                    In(e, t), n = n && e.constant, e.constant || i.push.apply(i, e.toWatch)
                }), e.constant = n, e.toWatch = e.filter && !t(e.callee.name).$stateful ? i : [e];
                break;
            case so.AssignmentExpression:
                In(e.left, t), In(e.right, t), e.constant = e.left.constant && e.right.constant, e.toWatch = [e];
                break;
            case so.ArrayExpression:
                n = !0, i = [], o(e.elements, function(e) {
                    In(e, t), n = n && e.constant, e.constant || i.push.apply(i, e.toWatch)
                }), e.constant = n, e.toWatch = i;
                break;
            case so.ObjectExpression:
                n = !0, i = [], o(e.properties, function(e) {
                    In(e.value, t), n = n && e.value.constant, e.value.constant || i.push.apply(i, e.value.toWatch)
                }), e.constant = n, e.toWatch = i;
                break;
            case so.ThisExpression:
                e.constant = !1, e.toWatch = []
        }
    }

    function Mn(e) {
        if (1 == e.length) {
            e = e[0].expression;
            var t = e.toWatch;
            return 1 !== t.length ? t : t[0] !== e ? t : n
        }
    }

    function Rn(e) {
        return e.type === so.Identifier || e.type === so.MemberExpression
    }

    function Bn(e) {
        return 1 === e.body.length && Rn(e.body[0].expression) ? {
            type: so.AssignmentExpression,
            left: e.body[0].expression,
            right: {
                type: so.NGValueParameter
            },
            operator: "="
        } : void 0
    }

    function Fn(e) {
        return 0 === e.body.length || 1 === e.body.length && (e.body[0].expression.type === so.Literal || e.body[0].expression.type === so.ArrayExpression || e.body[0].expression.type === so.ObjectExpression)
    }

    function Hn(e, t) {
        this.astBuilder = e, this.$filter = t
    }

    function jn(e, t) {
        this.astBuilder = e, this.$filter = t
    }

    function Ln(e, t, n, i) {
        An(e, i), t = t.split(".");
        for (var r, o = 0; 1 < t.length; o++) {
            r = Dn(t.shift(), i);
            var s = An(e[r], i);
            s || (s = {}, e[r] = s), e = s
        }
        return r = Dn(t.shift(), i), An(e[r], i), e[r] = n
    }

    function Wn(e) {
        return "constructor" == e
    }

    function zn(e) {
        return k(e.valueOf) ? e.valueOf() : lo.call(e)
    }

    function qn() {
        var e = lt(),
            t = lt();
        this.$get = ["$filter", "$sniffer", function(i, r) {
            function s(e, t) {
                return null == e || null == t ? e === t : "object" == typeof e && (e = zn(e), "object" == typeof e) ? !1 : e === t || e !== e && t !== t
            }

            function a(e, t, i, r, o) {
                var a, l = r.inputs;
                if (1 === l.length) {
                    var c = s,
                        l = l[0];
                    return e.$watch(function(e) {
                        var t = l(e);
                        return s(t, c) || (a = r(e, n, n, [t]), c = t && zn(t)), a
                    }, t, i, o)
                }
                for (var u = [], h = [], d = 0, f = l.length; f > d; d++) u[d] = s, h[d] = null;
                return e.$watch(function(e) {
                    for (var t = !1, i = 0, o = l.length; o > i; i++) {
                        var c = l[i](e);
                        (t || (t = !s(c, u[i]))) && (h[i] = c, u[i] = c && zn(c))
                    }
                    return t && (a = r(e, n, n, h)), a
                }, t, i, o)
            }

            function l(e, t, n, i) {
                var r, o;
                return r = e.$watch(function(e) {
                    return i(e)
                }, function(e, n, i) {
                    o = e, k(t) && t.apply(this, arguments), b(e) && i.$$postDigest(function() {
                        b(o) && r()
                    })
                }, n)
            }

            function c(e, t, n, i) {
                function r(e) {
                    var t = !0;
                    return o(e, function(e) {
                        b(e) || (t = !1)
                    }), t
                }
                var s, a;
                return s = e.$watch(function(e) {
                    return i(e)
                }, function(e, n, i) {
                    a = e, k(t) && t.call(this, e, n, i), r(e) && i.$$postDigest(function() {
                        r(a) && s()
                    })
                }, n)
            }

            function u(e, t, n, i) {
                var r;
                return r = e.$watch(function(e) {
                    return i(e)
                }, function() {
                    k(t) && t.apply(this, arguments), r()
                }, n)
            }

            function h(e, t) {
                if (!t) return e;
                var n = e.$$watchDelegate,
                    n = n !== c && n !== l ? function(n, i, r, o) {
                        return r = e(n, i, r, o), t(r, n, i)
                    } : function(n, i, r, o) {
                        return r = e(n, i, r, o), n = t(r, n, i), b(r) ? n : r
                    };
                return e.$$watchDelegate && e.$$watchDelegate !== a ? n.$$watchDelegate = e.$$watchDelegate : t.$stateful || (n.$$watchDelegate = a, n.inputs = e.inputs ? e.inputs : [e]), n
            }
            var d = {
                    csp: r.csp,
                    expensiveChecks: !1
                },
                f = {
                    csp: r.csp,
                    expensiveChecks: !0
                };
            return function(n, r, o) {
                var s, p, g;
                switch (typeof n) {
                    case "string":
                        g = n = n.trim();
                        var v = o ? t : e;
                        return s = v[g], s || (":" === n.charAt(0) && ":" === n.charAt(1) && (p = !0, n = n.substring(2)), o = o ? f : d, s = new oo(o), s = new ao(s, i, o).parse(n), s.constant ? s.$$watchDelegate = u : p ? s.$$watchDelegate = s.literal ? c : l : s.inputs && (s.$$watchDelegate = a), v[g] = s), h(s, r);
                    case "function":
                        return h(n, r);
                    default:
                        return m
                }
            }
        }]
    }

    function Un() {
        this.$get = ["$rootScope", "$exceptionHandler", function(e, t) {
            return Yn(function(t) {
                e.$evalAsync(t)
            }, t)
        }]
    }

    function Vn() {
        this.$get = ["$browser", "$exceptionHandler", function(e, t) {
            return Yn(function(t) {
                e.defer(t)
            }, t)
        }]
    }

    function Yn(e, t) {
        function r(e, t, n) {
            function i(t) {
                return function(n) {
                    r || (r = !0, t.call(e, n))
                }
            }
            var r = !1;
            return [i(t), i(n)]
        }

        function s() {
            this.$$state = {
                status: 0
            }
        }

        function a(e, t) {
            return function(n) {
                t.call(e, n)
            }
        }

        function l(i) {
            !i.processScheduled && i.pending && (i.processScheduled = !0, e(function() {
                var e, r, o;
                o = i.pending, i.processScheduled = !1, i.pending = n;
                for (var s = 0, a = o.length; a > s; ++s) {
                    r = o[s][0], e = o[s][i.status];
                    try {
                        k(e) ? r.resolve(e(i.value)) : 1 === i.status ? r.resolve(i.value) : r.reject(i.value)
                    } catch (l) {
                        r.reject(l), t(l)
                    }
                }
            }))
        }

        function c() {
            this.promise = new s, this.resolve = a(this, this.resolve), this.reject = a(this, this.reject), this.notify = a(this, this.notify)
        }
        var u = i("$q", TypeError);
        s.prototype = {
            then: function(e, t, n) {
                var i = new c;
                return this.$$state.pending = this.$$state.pending || [], this.$$state.pending.push([i, e, t, n]), 0 < this.$$state.status && l(this.$$state), i.promise
            },
            "catch": function(e) {
                return this.then(null, e)
            },
            "finally": function(e, t) {
                return this.then(function(t) {
                    return d(t, !0, e)
                }, function(t) {
                    return d(t, !1, e)
                }, t)
            }
        }, c.prototype = {
            resolve: function(e) {
                this.promise.$$state.status || (e === this.promise ? this.$$reject(u("qcycle", e)) : this.$$resolve(e))
            },
            $$resolve: function(e) {
                var n, i;
                i = r(this, this.$$resolve, this.$$reject);
                try {
                    (w(e) || k(e)) && (n = e && e.then), k(n) ? (this.promise.$$state.status = -1, n.call(e, i[0], i[1], this.notify)) : (this.promise.$$state.value = e, this.promise.$$state.status = 1, l(this.promise.$$state))
                } catch (o) {
                    i[1](o), t(o)
                }
            },
            reject: function(e) {
                this.promise.$$state.status || this.$$reject(e)
            },
            $$reject: function(e) {
                this.promise.$$state.value = e, this.promise.$$state.status = 2, l(this.promise.$$state)
            },
            notify: function(n) {
                var i = this.promise.$$state.pending;
                0 >= this.promise.$$state.status && i && i.length && e(function() {
                    for (var e, r, o = 0, s = i.length; s > o; o++) {
                        r = i[o][0], e = i[o][3];
                        try {
                            r.notify(k(e) ? e(n) : n)
                        } catch (a) {
                            t(a)
                        }
                    }
                })
            }
        };
        var h = function(e, t) {
                var n = new c;
                return t ? n.resolve(e) : n.reject(e), n.promise
            },
            d = function(e, t, n) {
                var i = null;
                try {
                    k(n) && (i = n())
                } catch (r) {
                    return h(r, !1)
                }
                return i && k(i.then) ? i.then(function() {
                    return h(e, t)
                }, function(e) {
                    return h(e, !1)
                }) : h(e, t)
            },
            f = function(e, t, n, i) {
                var r = new c;
                return r.resolve(e), r.promise.then(t, n, i)
            },
            p = function m(e) {
                if (!k(e)) throw u("norslvr", e);
                if (!(this instanceof m)) return new m(e);
                var t = new c;
                return e(function(e) {
                    t.resolve(e)
                }, function(e) {
                    t.reject(e)
                }), t.promise
            };
        return p.defer = function() {
            return new c
        }, p.reject = function(e) {
            var t = new c;
            return t.reject(e), t.promise
        }, p.when = f, p.resolve = f, p.all = function(e) {
            var t = new c,
                n = 0,
                i = nr(e) ? [] : {};
            return o(e, function(e, r) {
                n++, f(e).then(function(e) {
                    i.hasOwnProperty(r) || (i[r] = e, --n || t.resolve(i))
                }, function(e) {
                    i.hasOwnProperty(r) || t.reject(e)
                })
            }), 0 === n && t.resolve(i), t.promise
        }, p
    }

    function Gn() {
        this.$get = ["$window", "$timeout", function(e, t) {
            function n() {
                for (var e = 0; e < u.length; e++) {
                    var t = u[e];
                    t && (u[e] = null, t())
                }
                c = u.length = 0
            }

            function i(e) {
                var t = u.length;
                return c++, u.push(e), 0 === t && (l = a(n)),
                    function() {
                        t >= 0 && (t = u[t] = null, 0 === --c && l && (l(), l = null, u.length = 0))
                    }
            }
            var r = e.requestAnimationFrame || e.webkitRequestAnimationFrame,
                o = e.cancelAnimationFrame || e.webkitCancelAnimationFrame || e.webkitCancelRequestAnimationFrame,
                s = !!r,
                a = s ? function(e) {
                    var t = r(e);
                    return function() {
                        o(t)
                    }
                } : function(e) {
                    var n = t(e, 16.66, !1);
                    return function() {
                        t.cancel(n)
                    }
                };
            i.supported = s;
            var l, c = 0,
                u = [];
            return i
        }]
    }

    function Xn() {
        function e(e) {
            function t() {
                this.$$watchers = this.$$nextSibling = this.$$childHead = this.$$childTail = null, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$id = ++er, this.$$ChildScope = null
            }
            return t.prototype = e, t
        }
        var t = 10,
            n = i("$rootScope"),
            s = null,
            a = null;
        this.digestTtl = function(e) {
            return arguments.length && (t = e), t
        }, this.$get = ["$injector", "$exceptionHandler", "$parse", "$browser", function(i, l, c, u) {
            function h(e) {
                e.currentScope.$$destroyed = !0
            }

            function d() {
                this.$id = ++er, this.$$phase = this.$parent = this.$$watchers = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = null, this.$root = this, this.$$destroyed = !1, this.$$listeners = {}, this.$$listenerCount = {}, this.$$watchersCount = 0, this.$$isolateBindings = null
            }

            function f(e) {
                if (x.$$phase) throw n("inprog", x.$$phase);
                x.$$phase = e
            }

            function p(e, t) {
                do e.$$watchersCount += t; while (e = e.$parent)
            }

            function g(e, t, n) {
                do e.$$listenerCount[n] -= t, 0 === e.$$listenerCount[n] && delete e.$$listenerCount[n]; while (e = e.$parent)
            }

            function v() {}

            function b() {
                for (; S.length;) try {
                    S.shift()()
                } catch (e) {
                    l(e)
                }
                a = null
            }

            function _() {
                null === a && (a = u.defer(function() {
                    x.$apply(b)
                }))
            }
            d.prototype = {
                constructor: d,
                $new: function(t, n) {
                    var i;
                    return n = n || this, t ? (i = new d, i.$root = this.$root) : (this.$$ChildScope || (this.$$ChildScope = e(this)), i = new this.$$ChildScope), i.$parent = n, i.$$prevSibling = n.$$childTail, n.$$childHead ? (n.$$childTail.$$nextSibling = i, n.$$childTail = i) : n.$$childHead = n.$$childTail = i, (t || n != this) && i.$on("$destroy", h), i
                },
                $watch: function(e, t, n, i) {
                    var r = c(e);
                    if (r.$$watchDelegate) return r.$$watchDelegate(this, t, n, r, e);
                    var o = this,
                        a = o.$$watchers,
                        l = {
                            fn: t,
                            last: v,
                            get: r,
                            exp: i || e,
                            eq: !!n
                        };
                    return s = null, k(t) || (l.fn = m), a || (a = o.$$watchers = []), a.unshift(l), p(this, 1),
                        function() {
                            0 <= O(a, l) && p(o, -1), s = null
                        }
                },
                $watchGroup: function(e, t) {
                    function n() {
                        l = !1, c ? (c = !1, t(r, r, a)) : t(r, i, a)
                    }
                    var i = Array(e.length),
                        r = Array(e.length),
                        s = [],
                        a = this,
                        l = !1,
                        c = !0;
                    if (!e.length) {
                        var u = !0;
                        return a.$evalAsync(function() {
                                u && t(r, r, a)
                            }),
                            function() {
                                u = !1
                            }
                    }
                    return 1 === e.length ? this.$watch(e[0], function(e, n, o) {
                        r[0] = e, i[0] = n, t(r, e === n ? r : i, o)
                    }) : (o(e, function(e, t) {
                        var o = a.$watch(e, function(e, o) {
                            r[t] = e, i[t] = o, l || (l = !0, a.$evalAsync(n))
                        });
                        s.push(o)
                    }), function() {
                        for (; s.length;) s.shift()()
                    })
                },
                $watchCollection: function(e, t) {
                    function n(e) {
                        i = e;
                        var t, n, s, a;
                        if (!y(i)) {
                            if (w(i))
                                if (r(i))
                                    for (o !== d && (o = d, m = o.length = 0, u++), e = i.length, m !== e && (u++, o.length = m = e), t = 0; e > t; t++) a = o[t], s = i[t], n = a !== a && s !== s, n || a === s || (u++, o[t] = s);
                                else {
                                    o !== f && (o = f = {}, m = 0, u++), e = 0;
                                    for (t in i) i.hasOwnProperty(t) && (e++, s = i[t], a = o[t], t in o ? (n = a !== a && s !== s, n || a === s || (u++, o[t] = s)) : (m++, o[t] = s, u++));
                                    if (m > e)
                                        for (t in u++, o) i.hasOwnProperty(t) || (m--, delete o[t])
                                } else o !== i && (o = i, u++);
                            return u
                        }
                    }
                    n.$stateful = !0;
                    var i, o, s, a = this,
                        l = 1 < t.length,
                        u = 0,
                        h = c(e, n),
                        d = [],
                        f = {},
                        p = !0,
                        m = 0;
                    return this.$watch(h, function() {
                        if (p ? (p = !1, t(i, i, a)) : t(i, s, a), l)
                            if (w(i))
                                if (r(i)) {
                                    s = Array(i.length);
                                    for (var e = 0; e < i.length; e++) s[e] = i[e]
                                } else
                                    for (e in s = {}, i) Ui.call(i, e) && (s[e] = i[e]);
                        else s = i
                    })
                },
                $digest: function() {
                    var e, i, r, o, c, h, d, p, m, g = t,
                        y = [];
                    f("$digest"), u.$$checkUrlChange(), this === x && null !== a && (u.defer.cancel(a), b()), s = null;
                    do {
                        for (h = !1, d = this; $.length;) {
                            try {
                                m = $.shift(), m.scope.$eval(m.expression, m.locals)
                            } catch (w) {
                                l(w)
                            }
                            s = null
                        }
                        e: do {
                            if (o = d.$$watchers)
                                for (c = o.length; c--;) try {
                                    if (e = o[c])
                                        if ((i = e.get(d)) === (r = e.last) || (e.eq ? R(i, r) : "number" == typeof i && "number" == typeof r && isNaN(i) && isNaN(r))) {
                                            if (e === s) {
                                                h = !1;
                                                break e
                                            }
                                        } else h = !0, s = e, e.last = e.eq ? I(i, null) : i, e.fn(i, r === v ? i : r, d), 5 > g && (p = 4 - g, y[p] || (y[p] = []), y[p].push({
                                            msg: k(e.exp) ? "fn: " + (e.exp.name || e.exp.toString()) : e.exp,
                                            newVal: i,
                                            oldVal: r
                                        }))
                                } catch (_) {
                                    l(_)
                                }
                            if (!(o = d.$$watchersCount && d.$$childHead || d !== this && d.$$nextSibling))
                                for (; d !== this && !(o = d.$$nextSibling);) d = d.$parent
                        } while (d = o);
                        if ((h || $.length) && !g--) throw x.$$phase = null, n("infdig", t, y)
                    } while (h || $.length);
                    for (x.$$phase = null; C.length;) try {
                        C.shift()()
                    } catch (S) {
                        l(S)
                    }
                },
                $destroy: function() {
                    if (!this.$$destroyed) {
                        var e = this.$parent;
                        this.$broadcast("$destroy"), this.$$destroyed = !0, this === x && u.$$applicationDestroyed(), p(this, -this.$$watchersCount);
                        for (var t in this.$$listenerCount) g(this, this.$$listenerCount[t], t);
                        e && e.$$childHead == this && (e.$$childHead = this.$$nextSibling), e && e.$$childTail == this && (e.$$childTail = this.$$prevSibling), this.$$prevSibling && (this.$$prevSibling.$$nextSibling = this.$$nextSibling), this.$$nextSibling && (this.$$nextSibling.$$prevSibling = this.$$prevSibling), this.$destroy = this.$digest = this.$apply = this.$evalAsync = this.$applyAsync = m, this.$on = this.$watch = this.$watchGroup = function() {
                            return m
                        }, this.$$listeners = {}, this.$parent = this.$$nextSibling = this.$$prevSibling = this.$$childHead = this.$$childTail = this.$root = this.$$watchers = null
                    }
                },
                $eval: function(e, t) {
                    return c(e)(this, t)
                },
                $evalAsync: function(e, t) {
                    x.$$phase || $.length || u.defer(function() {
                        $.length && x.$digest()
                    }), $.push({
                        scope: this,
                        expression: e,
                        locals: t
                    })
                },
                $$postDigest: function(e) {
                    C.push(e)
                },
                $apply: function(e) {
                    try {
                        return f("$apply"), this.$eval(e)
                    } catch (t) {
                        l(t)
                    } finally {
                        x.$$phase = null;
                        try {
                            x.$digest()
                        } catch (n) {
                            throw l(n), n
                        }
                    }
                },
                $applyAsync: function(e) {
                    function t() {
                        n.$eval(e)
                    }
                    var n = this;
                    e && S.push(t), _()
                },
                $on: function(e, t) {
                    var n = this.$$listeners[e];
                    n || (this.$$listeners[e] = n = []), n.push(t);
                    var i = this;
                    do i.$$listenerCount[e] || (i.$$listenerCount[e] = 0), i.$$listenerCount[e] ++; while (i = i.$parent);
                    var r = this;
                    return function() {
                        var i = n.indexOf(t); - 1 !== i && (n[i] = null, g(r, 1, e))
                    }
                },
                $emit: function(e) {
                    var t, n, i, r = [],
                        o = this,
                        s = !1,
                        a = {
                            name: e,
                            targetScope: o,
                            stopPropagation: function() {
                                s = !0
                            },
                            preventDefault: function() {
                                a.defaultPrevented = !0
                            },
                            defaultPrevented: !1
                        },
                        c = B([a], arguments, 1);
                    do {
                        for (t = o.$$listeners[e] || r, a.currentScope = o, n = 0, i = t.length; i > n; n++)
                            if (t[n]) try {
                                t[n].apply(null, c)
                            } catch (u) {
                                l(u)
                            } else t.splice(n, 1), n--, i--;
                        if (s) return a.currentScope = null, a;
                        o = o.$parent
                    } while (o);
                    return a.currentScope = null, a
                },
                $broadcast: function(e) {
                    var t = this,
                        n = this,
                        i = {
                            name: e,
                            targetScope: this,
                            preventDefault: function() {
                                i.defaultPrevented = !0
                            },
                            defaultPrevented: !1
                        };
                    if (!this.$$listenerCount[e]) return i;
                    for (var r, o, s = B([i], arguments, 1); t = n;) {
                        for (i.currentScope = t, n = t.$$listeners[e] || [], r = 0, o = n.length; o > r; r++)
                            if (n[r]) try {
                                n[r].apply(null, s)
                            } catch (a) {
                                l(a)
                            } else n.splice(r, 1), r--, o--;
                        if (!(n = t.$$listenerCount[e] && t.$$childHead || t !== this && t.$$nextSibling))
                            for (; t !== this && !(n = t.$$nextSibling);) t = t.$parent
                    }
                    return i.currentScope = null, i
                }
            };
            var x = new d,
                $ = x.$$asyncQueue = [],
                C = x.$$postDigestQueue = [],
                S = x.$$applyAsyncQueue = [];
            return x
        }]
    }

    function Kn() {
        var e = /^\s*(https?|ftp|mailto|tel|file):/,
            t = /^\s*((https?|ftp|file|blob):|data:image\/)/;
        this.aHrefSanitizationWhitelist = function(t) {
            return b(t) ? (e = t, this) : e
        }, this.imgSrcSanitizationWhitelist = function(e) {
            return b(e) ? (t = e, this) : t
        }, this.$get = function() {
            return function(n, i) {
                var r, o = i ? t : e;
                return r = oi(n).href, "" === r || r.match(o) ? n : "unsafe:" + r
            }
        }
    }

    function Zn(e) {
        if ("self" === e) return e;
        if (x(e)) {
            if (-1 < e.indexOf("***")) throw co("iwcard", e);
            return e = or(e).replace("\\*\\*", ".*").replace("\\*", "[^:/.?&;]*"), new RegExp("^" + e + "$")
        }
        if (S(e)) return new RegExp("^" + e.source + "$");
        throw co("imatcher")
    }

    function Qn(e) {
        var t = [];
        return b(e) && o(e, function(e) {
            t.push(Zn(e))
        }), t
    }

    function Jn() {
        this.SCE_CONTEXTS = uo;
        var e = ["self"],
            t = [];
        this.resourceUrlWhitelist = function(t) {
            return arguments.length && (e = Qn(t)), e
        }, this.resourceUrlBlacklist = function(e) {
            return arguments.length && (t = Qn(e)), t
        }, this.$get = ["$injector", function(i) {
            function r(e, t) {
                return "self" === e ? si(t) : !!e.exec(t.href)
            }

            function o(e) {
                var t = function(e) {
                    this.$$unwrapTrustedValue = function() {
                        return e
                    }
                };
                return e && (t.prototype = new e), t.prototype.valueOf = function() {
                    return this.$$unwrapTrustedValue()
                }, t.prototype.toString = function() {
                    return this.$$unwrapTrustedValue().toString()
                }, t
            }
            var s = function() {
                throw co("unsafe")
            };
            i.has("$sanitize") && (s = i.get("$sanitize"));
            var a = o(),
                l = {};
            return l[uo.HTML] = o(a), l[uo.CSS] = o(a), l[uo.URL] = o(a), l[uo.JS] = o(a), l[uo.RESOURCE_URL] = o(l[uo.URL]), {
                trustAs: function(e, t) {
                    var i = l.hasOwnProperty(e) ? l[e] : null;
                    if (!i) throw co("icontext", e, t);
                    if (null === t || t === n || "" === t) return t;
                    if ("string" != typeof t) throw co("itype", e);
                    return new i(t)
                },
                getTrusted: function(i, o) {
                    if (null === o || o === n || "" === o) return o;
                    var a = l.hasOwnProperty(i) ? l[i] : null;
                    if (a && o instanceof a) return o.$$unwrapTrustedValue();
                    if (i === uo.RESOURCE_URL) {
                        var c, u, a = oi(o.toString()),
                            h = !1;
                        for (c = 0, u = e.length; u > c; c++)
                            if (r(e[c], a)) {
                                h = !0;
                                break
                            }
                        if (h)
                            for (c = 0, u = t.length; u > c; c++)
                                if (r(t[c], a)) {
                                    h = !1;
                                    break
                                }
                        if (h) return o;
                        throw co("insecurl", o.toString())
                    }
                    if (i === uo.HTML) return s(o);
                    throw co("unsafe")
                },
                valueOf: function(e) {
                    return e instanceof a ? e.$$unwrapTrustedValue() : e
                }
            }
        }]
    }

    function ei() {
        var e = !0;
        this.enabled = function(t) {
            return arguments.length && (e = !!t), e
        }, this.$get = ["$parse", "$sceDelegate", function(t, n) {
            if (e && 8 > Hi) throw co("iequirks");
            var i = M(uo);
            i.isEnabled = function() {
                return e
            }, i.trustAs = n.trustAs, i.getTrusted = n.getTrusted, i.valueOf = n.valueOf, e || (i.trustAs = i.getTrusted = function(e, t) {
                return t
            }, i.valueOf = g), i.parseAs = function(e, n) {
                var r = t(n);
                return r.literal && r.constant ? r : t(n, function(t) {
                    return i.getTrusted(e, t)
                })
            };
            var r = i.parseAs,
                s = i.getTrusted,
                a = i.trustAs;
            return o(uo, function(e, t) {
                var n = qi(t);
                i[ht("parse_as_" + n)] = function(t) {
                    return r(e, t)
                }, i[ht("get_trusted_" + n)] = function(t) {
                    return s(e, t)
                }, i[ht("trust_as_" + n)] = function(t) {
                    return a(e, t)
                }
            }), i
        }]
    }

    function ti() {
        this.$get = ["$window", "$document", function(e, t) {
            var n, i = {},
                r = f((/android (\d+)/.exec(qi((e.navigator || {}).userAgent)) || [])[1]),
                o = /Boxee/i.test((e.navigator || {}).userAgent),
                s = t[0] || {},
                a = /^(Moz|webkit|ms)(?=[A-Z])/,
                l = s.body && s.body.style,
                c = !1,
                u = !1;
            if (l) {
                for (var h in l)
                    if (c = a.exec(h)) {
                        n = c[0], n = n.substr(0, 1).toUpperCase() + n.substr(1);
                        break
                    }
                n || (n = "WebkitOpacity" in l && "webkit"), c = !!("transition" in l || n + "Transition" in l), u = !!("animation" in l || n + "Animation" in l), !r || c && u || (c = x(l.webkitTransition), u = x(l.webkitAnimation))
            }
            return {
                history: !(!e.history || !e.history.pushState || 4 > r || o),
                hasEvent: function(e) {
                    if ("input" === e && 11 >= Hi) return !1;
                    if (y(i[e])) {
                        var t = s.createElement("div");
                        i[e] = "on" + e in t
                    }
                    return i[e]
                },
                csp: sr(),
                vendorPrefix: n,
                transitions: c,
                animations: u,
                android: r
            }
        }]
    }

    function ni() {
        this.$get = ["$templateCache", "$http", "$q", function(e, t, n) {
            function i(r, o) {
                i.totalPendingRequests++;
                var s = t.defaults && t.defaults.transformResponse;
                return nr(s) ? s = s.filter(function(e) {
                    return e !== rn
                }) : s === rn && (s = null), t.get(r, {
                    cache: e,
                    transformResponse: s
                })["finally"](function() {
                    i.totalPendingRequests--
                }).then(function(t) {
                    return e.put(r, t.data), t.data
                }, function(e) {
                    if (!o) throw Hr("tpload", r, e.status, e.statusText);
                    return n.reject(e)
                })
            }
            return i.totalPendingRequests = 0, i
        }]
    }

    function ii() {
        this.$get = ["$rootScope", "$browser", "$location", function(e, t, n) {
            return {
                findBindings: function(e, t, n) {
                    e = e.getElementsByClassName("ng-binding");
                    var i = [];
                    return o(e, function(e) {
                        var r = Ji.element(e).data("$binding");
                        r && o(r, function(r) {
                            n ? new RegExp("(^|\\s)" + or(t) + "(\\s|\\||$)").test(r) && i.push(e) : -1 != r.indexOf(t) && i.push(e)
                        })
                    }), i
                },
                findModels: function(e, t, n) {
                    for (var i = ["ng-", "data-ng-", "ng\\:"], r = 0; r < i.length; ++r) {
                        var o = e.querySelectorAll("[" + i[r] + "model" + (n ? "=" : "*=") + '"' + t + '"]');
                        if (o.length) return o
                    }
                },
                getLocation: function() {
                    return n.url()
                },
                setLocation: function(t) {
                    t !== n.url() && (n.url(t), e.$digest())
                },
                whenStable: function(e) {
                    t.notifyWhenNoOutstandingRequests(e)
                }
            }
        }]
    }

    function ri() {
        this.$get = ["$rootScope", "$browser", "$q", "$$q", "$exceptionHandler", function(e, t, n, i, r) {
            function o(o, a, l) {
                k(o) || (l = a, a = o, o = m);
                var c, u = Yi.call(arguments, 3),
                    h = b(l) && !l,
                    d = (h ? i : n).defer(),
                    f = d.promise;
                return c = t.defer(function() {
                    try {
                        d.resolve(o.apply(null, u))
                    } catch (t) {
                        d.reject(t), r(t)
                    } finally {
                        delete s[f.$$timeoutId]
                    }
                    h || e.$apply()
                }, a), f.$$timeoutId = c, s[c] = d, f
            }
            var s = {};
            return o.cancel = function(e) {
                return e && e.$$timeoutId in s ? (s[e.$$timeoutId].reject("canceled"), delete s[e.$$timeoutId], t.defer.cancel(e.$$timeoutId)) : !1
            }, o
        }]
    }

    function oi(e) {
        return Hi && (ho.setAttribute("href", e), e = ho.href), ho.setAttribute("href", e), {
            href: ho.href,
            protocol: ho.protocol ? ho.protocol.replace(/:$/, "") : "",
            host: ho.host,
            search: ho.search ? ho.search.replace(/^\?/, "") : "",
            hash: ho.hash ? ho.hash.replace(/^#/, "") : "",
            hostname: ho.hostname,
            port: ho.port,
            pathname: "/" === ho.pathname.charAt(0) ? ho.pathname : "/" + ho.pathname
        }
    }

    function si(e) {
        return e = x(e) ? oi(e) : e, e.protocol === fo.protocol && e.host === fo.host
    }

    function ai() {
        this.$get = v(e)
    }

    function li(e) {
        function t(e) {
            try {
                return decodeURIComponent(e)
            } catch (t) {
                return e
            }
        }
        var i = e[0] || {},
            r = {},
            o = "";
        return function() {
            var e, s, a, l, c;
            if (e = i.cookie || "", e !== o)
                for (o = e, e = o.split("; "), r = {}, a = 0; a < e.length; a++) s = e[a], l = s.indexOf("="), l > 0 && (c = t(s.substring(0, l)), r[c] === n && (r[c] = t(s.substring(l + 1))));
            return r
        }
    }

    function ci() {
        this.$get = li
    }

    function ui(e) {
        function t(n, i) {
            if (w(n)) {
                var r = {};
                return o(n, function(e, n) {
                    r[n] = t(n, e)
                }), r
            }
            return e.factory(n + "Filter", i)
        }
        this.register = t, this.$get = ["$injector", function(e) {
            return function(t) {
                return e.get(t + "Filter")
            }
        }], t("currency", mi), t("date", Ci), t("filter", hi), t("json", ki), t("limitTo", Si), t("lowercase", yo), t("number", gi), t("orderBy", Ti), t("uppercase", bo)
    }

    function hi() {
        return function(e, t, n) {
            if (!r(e)) {
                if (null == e) return e;
                throw i("filter")("notarray", e)
            }
            var o;
            switch (pi(t)) {
                case "function":
                    break;
                case "boolean":
                case "null":
                case "number":
                case "string":
                    o = !0;
                case "object":
                    t = di(t, n, o);
                    break;
                default:
                    return e
            }
            return Array.prototype.filter.call(e, t)
        }
    }

    function di(e, t, n) {
        var i = w(e) && "$" in e;
        return !0 === t ? t = R : k(t) || (t = function(e, t) {
                if (y(e)) return !1;
                if (null === e || null === t) return e === t;
                var n;
                return !(n = w(t)) && (n = w(e)) && (n = e, n = !(k(n.toString) && n.toString !== Object.prototype.toString)), n ? !1 : (e = qi("" + e), t = qi("" + t), -1 !== e.indexOf(t))
            }),
            function(r) {
                return i && !w(r) ? fi(r, e.$, t, !1) : fi(r, e, t, n)
            }
    }

    function fi(e, t, n, i, r) {
        var o = pi(e),
            s = pi(t);
        if ("string" === s && "!" === t.charAt(0)) return !fi(e, t.substring(1), n, i);
        if (nr(e)) return e.some(function(e) {
            return fi(e, t, n, i)
        });
        switch (o) {
            case "object":
                var a;
                if (i) {
                    for (a in e)
                        if ("$" !== a.charAt(0) && fi(e[a], t, n, !0)) return !0;
                    return r ? !1 : fi(e, t, n, !1)
                }
                if ("object" === s) {
                    for (a in t)
                        if (r = t[a], !k(r) && !y(r) && (o = "$" === a, !fi(o ? e : e[a], r, n, o, o))) return !1;
                    return !0
                }
                return n(e, t);
            case "function":
                return !1;
            default:
                return n(e, t)
        }
    }

    function pi(e) {
        return null === e ? "null" : typeof e
    }

    function mi(e) {
        var t = e.NUMBER_FORMATS;
        return function(e, n, i) {
            return y(n) && (n = t.CURRENCY_SYM), y(i) && (i = t.PATTERNS[1].maxFrac), null == e ? e : vi(e, t.PATTERNS[1], t.GROUP_SEP, t.DECIMAL_SEP, i).replace(/\u00A4/g, n)
        }
    }

    function gi(e) {
        var t = e.NUMBER_FORMATS;
        return function(e, n) {
            return null == e ? e : vi(e, t.PATTERNS[0], t.GROUP_SEP, t.DECIMAL_SEP, n)
        }
    }

    function vi(e, t, n, i, r) {
        if (w(e)) return "";
        var o = 0 > e;
        e = Math.abs(e);
        var s = 1 / 0 === e;
        if (!s && !isFinite(e)) return "";
        var a = e + "",
            l = "",
            c = !1,
            u = [];
        if (s && (l = "âˆž"), !s && -1 !== a.indexOf("e")) {
            var h = a.match(/([\d\.]+)e(-?)(\d+)/);
            h && "-" == h[2] && h[3] > r + 1 ? e = 0 : (l = a, c = !0)
        }
        if (s || c) r > 0 && 1 > e && (l = e.toFixed(r), e = parseFloat(l));
        else {
            s = (a.split(po)[1] || "").length, y(r) && (r = Math.min(Math.max(t.minFrac, s), t.maxFrac)), e = +(Math.round(+(e.toString() + "e" + r)).toString() + "e" + -r);
            var s = ("" + e).split(po),
                a = s[0],
                s = s[1] || "",
                h = 0,
                d = t.lgSize,
                f = t.gSize;
            if (a.length >= d + f)
                for (h = a.length - d, c = 0; h > c; c++) 0 === (h - c) % f && 0 !== c && (l += n), l += a.charAt(c);
            for (c = h; c < a.length; c++) 0 === (a.length - c) % d && 0 !== c && (l += n), l += a.charAt(c);
            for (; s.length < r;) s += "0";
            r && "0" !== r && (l += i + s.substr(0, r))
        }
        return 0 === e && (o = !1), u.push(o ? t.negPre : t.posPre, l, o ? t.negSuf : t.posSuf), u.join("")
    }

    function yi(e, t, n) {
        var i = "";
        for (0 > e && (i = "-", e = -e), e = "" + e; e.length < t;) e = "0" + e;
        return n && (e = e.substr(e.length - t)), i + e
    }

    function bi(e, t, n, i) {
        return n = n || 0,
            function(r) {
                return r = r["get" + e](), (n > 0 || r > -n) && (r += n), 0 === r && -12 == n && (r = 12), yi(r, t, i)
            }
    }

    function wi(e, t) {
        return function(n, i) {
            var r = n["get" + e](),
                o = Vi(t ? "SHORT" + e : e);
            return i[o][r]
        }
    }

    function _i(e) {
        var t = new Date(e, 0, 1).getDay();
        return new Date(e, 0, (4 >= t ? 5 : 12) - t)
    }

    function xi(e) {
        return function(t) {
            var n = _i(t.getFullYear());
            return t = +new Date(t.getFullYear(), t.getMonth(), t.getDate() + (4 - t.getDay())) - +n, t = 1 + Math.round(t / 6048e5), yi(t, e)
        }
    }

    function $i(e, t) {
        return 0 >= e.getFullYear() ? t.ERAS[0] : t.ERAS[1]
    }

    function Ci(e) {
        function t(e) {
            var t;
            if (t = e.match(n)) {
                e = new Date(0);
                var i = 0,
                    r = 0,
                    o = t[8] ? e.setUTCFullYear : e.setFullYear,
                    s = t[8] ? e.setUTCHours : e.setHours;
                t[9] && (i = f(t[9] + t[10]), r = f(t[9] + t[11])), o.call(e, f(t[1]), f(t[2]) - 1, f(t[3])), i = f(t[4] || 0) - i, r = f(t[5] || 0) - r, o = f(t[6] || 0), t = Math.round(1e3 * parseFloat("0." + (t[7] || 0))), s.call(e, i, r, o, t)
            }
            return e
        }
        var n = /^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;
        return function(n, i, r) {
            var s, a, l = "",
                c = [];
            if (i = i || "mediumDate", i = e.DATETIME_FORMATS[i] || i, x(n) && (n = vo.test(n) ? f(n) : t(n)), $(n) && (n = new Date(n)), !C(n) || !isFinite(n.getTime())) return n;
            for (; i;)(a = go.exec(i)) ? (c = B(c, a, 1), i = c.pop()) : (c.push(i), i = null);
            var u = n.getTimezoneOffset();
            return r && (u = W(r, n.getTimezoneOffset()), n = z(n, r, !0)), o(c, function(t) {
                s = mo[t], l += s ? s(n, e.DATETIME_FORMATS, u) : t.replace(/(^'|'$)/g, "").replace(/''/g, "'")
            }), l
        }
    }

    function ki() {
        return function(e, t) {
            return y(t) && (t = 2), j(e, t)
        }
    }

    function Si() {
        return function(e, t, n) {
            return t = 1 / 0 === Math.abs(Number(t)) ? Number(t) : f(t), isNaN(t) ? e : ($(e) && (e = e.toString()), nr(e) || x(e) ? (n = !n || isNaN(n) ? 0 : f(n), n = 0 > n && n >= -e.length ? e.length + n : n, t >= 0 ? e.slice(n, n + t) : 0 === n ? e.slice(t, e.length) : e.slice(Math.max(0, n + t), n)) : e)
        }
    }

    function Ti(e) {
        return function(t, n, i) {
            function o(e, t) {
                return t ? function(t, n) {
                    return e(n, t)
                } : e
            }

            function s(e) {
                switch (typeof e) {
                    case "number":
                    case "boolean":
                    case "string":
                        return !0;
                    default:
                        return !1
                }
            }

            function a(e) {
                return null === e ? "null" : "function" == typeof e.valueOf && (e = e.valueOf(), s(e)) || "function" == typeof e.toString && (e = e.toString(), s(e)) ? e : ""
            }

            function l(e, t) {
                var n = typeof e,
                    i = typeof t;
                return n === i && "object" === n && (e = a(e), t = a(t)), n === i ? ("string" === n && (e = e.toLowerCase(), t = t.toLowerCase()), e === t ? 0 : t > e ? -1 : 1) : i > n ? -1 : 1
            }
            return r(t) ? (n = nr(n) ? n : [n], 0 === n.length && (n = ["+"]), n = n.map(function(t) {
                var n = !1,
                    i = t || g;
                if (x(t)) {
                    if (("+" == t.charAt(0) || "-" == t.charAt(0)) && (n = "-" == t.charAt(0), t = t.substring(1)), "" === t) return o(l, n);
                    if (i = e(t), i.constant) {
                        var r = i();
                        return o(function(e, t) {
                            return l(e[r], t[r])
                        }, n)
                    }
                }
                return o(function(e, t) {
                    return l(i(e), i(t))
                }, n)
            }), Yi.call(t).sort(o(function(e, t) {
                for (var i = 0; i < n.length; i++) {
                    var r = n[i](e, t);
                    if (0 !== r) return r
                }
                return 0
            }, i))) : t
        }
    }

    function Ei(e) {
        return k(e) && (e = {
            link: e
        }), e.restrict = e.restrict || "AC", v(e)
    }

    function Di(e, t, i, r, s) {
        var a = this,
            l = [],
            c = a.$$parentForm = e.parent().controller("form") || xo;
        a.$error = {}, a.$$success = {}, a.$pending = n, a.$name = s(t.name || t.ngForm || "")(i), a.$dirty = !1, a.$pristine = !0, a.$valid = !0, a.$invalid = !1, a.$submitted = !1, c.$addControl(a), a.$rollbackViewValue = function() {
            o(l, function(e) {
                e.$rollbackViewValue()
            })
        }, a.$commitViewValue = function() {
            o(l, function(e) {
                e.$commitViewValue()
            })
        }, a.$addControl = function(e) {
            ot(e.$name, "input"), l.push(e), e.$name && (a[e.$name] = e)
        }, a.$$renameControl = function(e, t) {
            var n = e.$name;
            a[n] === e && delete a[n], a[t] = e, e.$name = t
        }, a.$removeControl = function(e) {
            e.$name && a[e.$name] === e && delete a[e.$name], o(a.$pending, function(t, n) {
                a.$setValidity(n, null, e)
            }), o(a.$error, function(t, n) {
                a.$setValidity(n, null, e)
            }), o(a.$$success, function(t, n) {
                a.$setValidity(n, null, e)
            }), O(l, e)
        }, Bi({
            ctrl: this,
            $element: e,
            set: function(e, t, n) {
                var i = e[t];
                i ? -1 === i.indexOf(n) && i.push(n) : e[t] = [n]
            },
            unset: function(e, t, n) {
                var i = e[t];
                i && (O(i, n), 0 === i.length && delete e[t])
            },
            parentForm: c,
            $animate: r
        }), a.$setDirty = function() {
            r.removeClass(e, is), r.addClass(e, rs), a.$dirty = !0, a.$pristine = !1, c.$setDirty()
        }, a.$setPristine = function() {
            r.setClass(e, is, rs + " ng-submitted"), a.$dirty = !1, a.$pristine = !0, a.$submitted = !1, o(l, function(e) {
                e.$setPristine()
            })
        }, a.$setUntouched = function() {
            o(l, function(e) {
                e.$setUntouched()
            })
        }, a.$setSubmitted = function() {
            r.addClass(e, "ng-submitted"), a.$submitted = !0, c.$setSubmitted()
        }
    }

    function Ai(e) {
        e.$formatters.push(function(t) {
            return e.$isEmpty(t) ? t : t.toString()
        })
    }

    function Pi(e, t, n, i, r, o) {
        var s = qi(t[0].type);
        if (!r.android) {
            var a = !1;
            t.on("compositionstart", function() {
                a = !0
            }), t.on("compositionend", function() {
                a = !1, l()
            })
        }
        var l = function(e) {
            if (c && (o.defer.cancel(c), c = null), !a) {
                var r = t.val();
                e = e && e.type, "password" === s || n.ngTrim && "false" === n.ngTrim || (r = rr(r)), (i.$viewValue !== r || "" === r && i.$$hasNativeValidators) && i.$setViewValue(r, e)
            }
        };
        if (r.hasEvent("input")) t.on("input", l);
        else {
            var c, u = function(e, t, n) {
                c || (c = o.defer(function() {
                    c = null, t && t.value === n || l(e)
                }))
            };
            t.on("keydown", function(e) {
                var t = e.keyCode;
                91 === t || t > 15 && 19 > t || t >= 37 && 40 >= t || u(e, this, this.value)
            }), r.hasEvent("paste") && t.on("paste cut", u)
        }
        t.on("change", l), i.$render = function() {
            t.val(i.$isEmpty(i.$viewValue) ? "" : i.$viewValue)
        }
    }

    function Ni(e, t) {
        return function(n, i) {
            var r, s;
            if (C(n)) return n;
            if (x(n)) {
                if ('"' == n.charAt(0) && '"' == n.charAt(n.length - 1) && (n = n.substring(1, n.length - 1)), So.test(n)) return new Date(n);
                if (e.lastIndex = 0, r = e.exec(n)) return r.shift(), s = i ? {
                    yyyy: i.getFullYear(),
                    MM: i.getMonth() + 1,
                    dd: i.getDate(),
                    HH: i.getHours(),
                    mm: i.getMinutes(),
                    ss: i.getSeconds(),
                    sss: i.getMilliseconds() / 1e3
                } : {
                    yyyy: 1970,
                    MM: 1,
                    dd: 1,
                    HH: 0,
                    mm: 0,
                    ss: 0,
                    sss: 0
                }, o(r, function(e, n) {
                    n < t.length && (s[t[n]] = +e)
                }), new Date(s.yyyy, s.MM - 1, s.dd, s.HH, s.mm, s.ss || 0, 1e3 * s.sss || 0)
            }
            return 0 / 0
        }
    }

    function Oi(e, t, i, r) {
        return function(o, s, a, l, c, u, h) {
            function d(e) {
                return e && !(e.getTime && e.getTime() !== e.getTime())
            }

            function f(e) {
                return b(e) ? C(e) ? e : i(e) : n
            }
            Ii(o, s, a, l), Pi(o, s, a, l, c, u);
            var p, m = l && l.$options && l.$options.timezone;
            if (l.$$parserName = e, l.$parsers.push(function(e) {
                    return l.$isEmpty(e) ? null : t.test(e) ? (e = i(e, p), m && (e = z(e, m)), e) : n
                }), l.$formatters.push(function(e) {
                    if (e && !C(e)) throw ss("datefmt", e);
                    return d(e) ? ((p = e) && m && (p = z(p, m, !0)), h("date")(e, r, m)) : (p = null, "")
                }), b(a.min) || a.ngMin) {
                var g;
                l.$validators.min = function(e) {
                    return !d(e) || y(g) || i(e) >= g
                }, a.$observe("min", function(e) {
                    g = f(e), l.$validate()
                })
            }
            if (b(a.max) || a.ngMax) {
                var v;
                l.$validators.max = function(e) {
                    return !d(e) || y(v) || i(e) <= v
                }, a.$observe("max", function(e) {
                    v = f(e), l.$validate()
                })
            }
        }
    }

    function Ii(e, t, i, r) {
        (r.$$hasNativeValidators = w(t[0].validity)) && r.$parsers.push(function(e) {
            var i = t.prop("validity") || {};
            return i.badInput && !i.typeMismatch ? n : e
        })
    }

    function Mi(e, t, n, r, o) {
        if (b(r)) {
            if (e = e(r), !e.constant) throw i("ngModel")("constexpr", n, r);
            return e(t)
        }
        return o
    }

    function Ri(e, t) {
        return e = "ngClass" + e, ["$animate", function(n) {
            function i(e, t) {
                var n = [],
                    i = 0;
                e: for (; i < e.length; i++) {
                    for (var r = e[i], o = 0; o < t.length; o++)
                        if (r == t[o]) continue e;
                    n.push(r)
                }
                return n
            }

            function r(e) {
                var t = [];
                return nr(e) ? (o(e, function(e) {
                    t = t.concat(r(e))
                }), t) : x(e) ? e.split(" ") : w(e) ? (o(e, function(e, n) {
                    e && (t = t.concat(n.split(" ")))
                }), t) : e
            }
            return {
                restrict: "AC",
                link: function(s, a, l) {
                    function c(e, t) {
                        var n = a.data("$classCounts") || lt(),
                            i = [];
                        return o(e, function(e) {
                            (t > 0 || n[e]) && (n[e] = (n[e] || 0) + t, n[e] === +(t > 0) && i.push(e))
                        }), a.data("$classCounts", n), i.join(" ")
                    }

                    function u(e) {
                        if (!0 === t || s.$index % 2 === t) {
                            var o = r(e || []);
                            if (h) {
                                if (!R(e, h)) {
                                    var u = r(h),
                                        d = i(o, u),
                                        o = i(u, o),
                                        d = c(d, 1),
                                        o = c(o, -1);
                                    d && d.length && n.addClass(a, d), o && o.length && n.removeClass(a, o)
                                }
                            } else {
                                var d = c(o, 1);
                                l.$addClass(d)
                            }
                        }
                        h = M(e)
                    }
                    var h;
                    s.$watch(l[e], u, !0), l.$observe("class", function() {
                        u(s.$eval(l[e]))
                    }), "ngClass" !== e && s.$watch("$index", function(n, i) {
                        var o = 1 & n;
                        if (o !== (1 & i)) {
                            var a = r(s.$eval(l[e]));
                            o === t ? (o = c(a, 1), l.$addClass(o)) : (o = c(a, -1), l.$removeClass(o))
                        }
                    })
                }
            }
        }]
    }

    function Bi(e) {
        function t(e, t) {
            t && !s[e] ? (u.addClass(o, e), s[e] = !0) : !t && s[e] && (u.removeClass(o, e), s[e] = !1)
        }

        function i(e, n) {
            e = e ? "-" + tt(e, "-") : "", t(ts + e, !0 === n), t(ns + e, !1 === n)
        }
        var r = e.ctrl,
            o = e.$element,
            s = {},
            a = e.set,
            l = e.unset,
            c = e.parentForm,
            u = e.$animate;
        s[ns] = !(s[ts] = o.hasClass(ts)), r.$setValidity = function(e, o, s) {
            o === n ? (r.$pending || (r.$pending = {}), a(r.$pending, e, s)) : (r.$pending && l(r.$pending, e, s), Fi(r.$pending) && (r.$pending = n)), D(o) ? o ? (l(r.$error, e, s), a(r.$$success, e, s)) : (a(r.$error, e, s), l(r.$$success, e, s)) : (l(r.$error, e, s), l(r.$$success, e, s)), r.$pending ? (t(os, !0), r.$valid = r.$invalid = n, i("", null)) : (t(os, !1), r.$valid = Fi(r.$error), r.$invalid = !r.$valid, i("", r.$valid)), o = r.$pending && r.$pending[e] ? n : r.$error[e] ? !1 : r.$$success[e] ? !0 : null, i(e, o), c.$setValidity(e, o, r)
        }
    }

    function Fi(e) {
        if (e)
            for (var t in e)
                if (e.hasOwnProperty(t)) return !1;
        return !0
    }
    var Hi, ji, Li, Wi, zi = /^\/(.+)\/([a-z]*)$/,
        qi = function(e) {
            return x(e) ? e.toLowerCase() : e
        },
        Ui = Object.prototype.hasOwnProperty,
        Vi = function(e) {
            return x(e) ? e.toUpperCase() : e
        },
        Yi = [].slice,
        Gi = [].splice,
        Xi = [].push,
        Ki = Object.prototype.toString,
        Zi = Object.getPrototypeOf,
        Qi = i("ng"),
        Ji = e.angular || (e.angular = {}),
        er = 0;
    Hi = t.documentMode, m.$inject = [], g.$inject = [];
    var tr, nr = Array.isArray,
        ir = /^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,
        rr = function(e) {
            return x(e) ? e.trim() : e
        },
        or = function(e) {
            return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g, "\\$1").replace(/\x08/g, "\\x08")
        },
        sr = function() {
            if (b(sr.isActive_)) return sr.isActive_;
            var e = !(!t.querySelector("[ng-csp]") && !t.querySelector("[data-ng-csp]"));
            if (!e) try {
                new Function("")
            } catch (n) {
                e = !0
            }
            return sr.isActive_ = e
        },
        ar = function() {
            if (b(ar.name_)) return ar.name_;
            var e, n, i, r, o = lr.length;
            for (n = 0; o > n; ++n)
                if (i = lr[n], e = t.querySelector("[" + i.replace(":", "\\:") + "jq]")) {
                    r = e.getAttribute(i + "jq");
                    break
                }
            return ar.name_ = r
        },
        lr = ["ng-", "data-ng-", "ng:", "x-ng-"],
        cr = /[A-Z]/g,
        ur = !1,
        hr = 1,
        dr = 3,
        fr = {
            full: "1.4.1",
            major: 1,
            minor: 4,
            dot: 1,
            codeName: "hyperionic-illumination"
        };
    pt.expando = "ng339";
    var pr = pt.cache = {},
        mr = 1;
    pt._data = function(e) {
        return this.cache[e[this.expando]] || {}
    };
    var gr = /([\:\-\_]+(.))/g,
        vr = /^moz([A-Z])/,
        yr = {
            mouseleave: "mouseout",
            mouseenter: "mouseover"
        },
        br = i("jqLite"),
        wr = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
        _r = /<|&#?\w+;/,
        xr = /<([\w:]+)/,
        $r = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
        Cr = {
            option: [1, '<select multiple="multiple">', "</select>"],
            thead: [1, "<table>", "</table>"],
            col: [2, "<table><colgroup>", "</colgroup></table>"],
            tr: [2, "<table><tbody>", "</tbody></table>"],
            td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
            _default: [0, "", ""]
        };
    Cr.optgroup = Cr.option, Cr.tbody = Cr.tfoot = Cr.colgroup = Cr.caption = Cr.thead, Cr.th = Cr.td;
    var kr = pt.prototype = {
            ready: function(n) {
                function i() {
                    r || (r = !0, n())
                }
                var r = !1;
                "complete" === t.readyState ? setTimeout(i) : (this.on("DOMContentLoaded", i), pt(e).on("load", i))
            },
            toString: function() {
                var e = [];
                return o(this, function(t) {
                    e.push("" + t)
                }), "[" + e.join(", ") + "]"
            },
            eq: function(e) {
                return ji(e >= 0 ? this[e] : this[this.length + e])
            },
            length: 0,
            push: Xi,
            sort: [].sort,
            splice: [].splice
        },
        Sr = {};
    o("multiple selected checked disabled readOnly required open".split(" "), function(e) {
        Sr[qi(e)] = e
    });
    var Tr = {};
    o("input select option textarea button form details".split(" "), function(e) {
        Tr[e] = !0
    });
    var Er = {
        ngMinlength: "minlength",
        ngMaxlength: "maxlength",
        ngMin: "min",
        ngMax: "max",
        ngPattern: "pattern"
    };
    o({
        data: wt,
        removeData: yt,
        hasData: function(e) {
            for (var t in pr[e.ng339]) return !0;
            return !1
        }
    }, function(e, t) {
        pt[t] = e
    }), o({
        data: wt,
        inheritedData: St,
        scope: function(e) {
            return ji.data(e, "$scope") || St(e.parentNode || e, ["$isolateScope", "$scope"])
        },
        isolateScope: function(e) {
            return ji.data(e, "$isolateScope") || ji.data(e, "$isolateScopeNoTemplate")
        },
        controller: kt,
        injector: function(e) {
            return St(e, "$injector")
        },
        removeAttr: function(e, t) {
            e.removeAttribute(t)
        },
        hasClass: _t,
        css: function(e, t, n) {
            return t = ht(t), b(n) ? void(e.style[t] = n) : e.style[t]
        },
        attr: function(e, t, i) {
            var r = e.nodeType;
            if (r !== dr && 2 !== r && 8 !== r)
                if (r = qi(t), Sr[r]) {
                    if (!b(i)) return e[t] || (e.attributes.getNamedItem(t) || m).specified ? r : n;
                    i ? (e[t] = !0, e.setAttribute(t, r)) : (e[t] = !1, e.removeAttribute(r))
                } else if (b(i)) e.setAttribute(t, i);
            else if (e.getAttribute) return e = e.getAttribute(t, 2), null === e ? n : e
        },
        prop: function(e, t, n) {
            return b(n) ? void(e[t] = n) : e[t]
        },
        text: function() {
            function e(e, t) {
                if (y(t)) {
                    var n = e.nodeType;
                    return n === hr || n === dr ? e.textContent : ""
                }
                e.textContent = t
            }
            return e.$dv = "", e
        }(),
        val: function(e, t) {
            if (y(t)) {
                if (e.multiple && "select" === N(e)) {
                    var n = [];
                    return o(e.options, function(e) {
                        e.selected && n.push(e.value || e.text)
                    }), 0 === n.length ? null : n
                }
                return e.value
            }
            e.value = t
        },
        html: function(e, t) {
            return y(t) ? e.innerHTML : (gt(e, !0), void(e.innerHTML = t))
        },
        empty: Tt
    }, function(e, t) {
        pt.prototype[t] = function(t, i) {
            var r, o, s = this.length;
            if (e !== Tt && (2 == e.length && e !== _t && e !== kt ? t : i) === n) {
                if (w(t)) {
                    for (r = 0; s > r; r++)
                        if (e === wt) e(this[r], t);
                        else
                            for (o in t) e(this[r], o, t[o]);
                    return this
                }
                for (r = e.$dv, s = r === n ? Math.min(s, 1) : s, o = 0; s > o; o++) {
                    var a = e(this[o], t, i);
                    r = r ? r + a : a
                }
                return r
            }
            for (r = 0; s > r; r++) e(this[r], t, i);
            return this
        }
    }), o({
        removeData: yt,
        on: function Is(e, t, n, i) {
            if (b(i)) throw br("onargs");
            if (dt(e)) {
                var r = bt(e, !0);
                i = r.events;
                var o = r.handle;
                o || (o = r.handle = Nt(e, i));
                for (var r = 0 <= t.indexOf(" ") ? t.split(" ") : [t], s = r.length; s--;) {
                    t = r[s];
                    var a = i[t];
                    a || (i[t] = [], "mouseenter" === t || "mouseleave" === t ? Is(e, yr[t], function(e) {
                        var n = e.relatedTarget;
                        n && (n === this || this.contains(n)) || o(e, t)
                    }) : "$destroy" !== t && e.addEventListener(t, o, !1), a = i[t]), a.push(n)
                }
            }
        },
        off: vt,
        one: function(e, t, n) {
            e = ji(e), e.on(t, function i() {
                e.off(t, n), e.off(t, i)
            }), e.on(t, n)
        },
        replaceWith: function(e, t) {
            var n, i = e.parentNode;
            gt(e), o(new pt(t), function(t) {
                n ? i.insertBefore(t, n.nextSibling) : i.replaceChild(t, e), n = t
            })
        },
        children: function(e) {
            var t = [];
            return o(e.childNodes, function(e) {
                e.nodeType === hr && t.push(e)
            }), t
        },
        contents: function(e) {
            return e.contentDocument || e.childNodes || []
        },
        append: function(e, t) {
            var n = e.nodeType;
            if (n === hr || 11 === n) {
                t = new pt(t);
                for (var n = 0, i = t.length; i > n; n++) e.appendChild(t[n])
            }
        },
        prepend: function(e, t) {
            if (e.nodeType === hr) {
                var n = e.firstChild;
                o(new pt(t), function(t) {
                    e.insertBefore(t, n)
                })
            }
        },
        wrap: function(e, t) {
            t = ji(t).eq(0).clone()[0];
            var n = e.parentNode;
            n && n.replaceChild(t, e), t.appendChild(e)
        },
        remove: Et,
        detach: function(e) {
            Et(e, !0)
        },
        after: function(e, t) {
            var n = e,
                i = e.parentNode;
            t = new pt(t);
            for (var r = 0, o = t.length; o > r; r++) {
                var s = t[r];
                i.insertBefore(s, n.nextSibling), n = s
            }
        },
        addClass: $t,
        removeClass: xt,
        toggleClass: function(e, t, n) {
            t && o(t.split(" "), function(t) {
                var i = n;
                y(i) && (i = !_t(e, t)), (i ? $t : xt)(e, t)
            })
        },
        parent: function(e) {
            return (e = e.parentNode) && 11 !== e.nodeType ? e : null
        },
        next: function(e) {
            return e.nextElementSibling
        },
        find: function(e, t) {
            return e.getElementsByTagName ? e.getElementsByTagName(t) : []
        },
        clone: mt,
        triggerHandler: function(e, t, n) {
            var i, r, s = t.type || t,
                a = bt(e);
            (a = (a = a && a.events) && a[s]) && (i = {
                preventDefault: function() {
                    this.defaultPrevented = !0
                },
                isDefaultPrevented: function() {
                    return !0 === this.defaultPrevented
                },
                stopImmediatePropagation: function() {
                    this.immediatePropagationStopped = !0
                },
                isImmediatePropagationStopped: function() {
                    return !0 === this.immediatePropagationStopped
                },
                stopPropagation: m,
                type: s,
                target: e
            }, t.type && (i = h(i, t)), t = M(a), r = n ? [i].concat(n) : [i], o(t, function(t) {
                i.isImmediatePropagationStopped() || t.apply(e, r)
            }))
        }
    }, function(e, t) {
        pt.prototype[t] = function(t, n, i) {
            for (var r, o = 0, s = this.length; s > o; o++) y(r) ? (r = e(this[o], t, n, i), b(r) && (r = ji(r))) : Ct(r, e(this[o], t, n, i));
            return b(r) ? r : this
        }, pt.prototype.bind = pt.prototype.on, pt.prototype.unbind = pt.prototype.off
    }), Mt.prototype = {
        put: function(e, t) {
            this[It(e, this.nextUid)] = t
        },
        get: function(e) {
            return this[It(e, this.nextUid)]
        },
        remove: function(e) {
            var t = this[e = It(e, this.nextUid)];
            return delete this[e], t
        }
    };
    var Dr = [function() {
            this.$get = [function() {
                return Mt
            }]
        }],
        Ar = /^function\s*[^\(]*\(\s*([^\)]*)\)/m,
        Pr = /,/,
        Nr = /^\s*(_?)(\S+?)\1\s*$/,
        Or = /((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,
        Ir = i("$injector");
    Bt.$$annotate = function(e, t, n) {
        var i;
        if ("function" == typeof e) {
            if (!(i = e.$inject)) {
                if (i = [], e.length) {
                    if (t) throw x(n) && n || (n = e.name || Rt(e)), Ir("strictdi", n);
                    t = e.toString().replace(Or, ""), t = t.match(Ar), o(t[1].split(Pr), function(e) {
                        e.replace(Nr, function(e, t, n) {
                            i.push(n)
                        })
                    })
                }
                e.$inject = i
            }
        } else nr(e) ? (t = e.length - 1, rt(e[t], "fn"), i = e.slice(0, t)) : rt(e, "fn", !0);
        return i
    };
    var Mr = i("$animate"),
        Rr = function() {
            this.$get = ["$q", "$$rAF", function(e, t) {
                function n() {}
                return n.all = m, n.chain = m, n.prototype = {
                    end: m,
                    cancel: m,
                    resume: m,
                    pause: m,
                    complete: m,
                    then: function(n, i) {
                        return e(function(e) {
                            t(function() {
                                e()
                            })
                        }).then(n, i)
                    }
                }, n
            }]
        },
        Br = function() {
            var e = new Mt,
                t = [];
            this.$get = ["$$AnimateRunner", "$rootScope", function(n, i) {
                function r(n, r, s) {
                    var a = e.get(n);
                    a || (e.put(n, a = {}), t.push(n)), r && o(r.split(" "), function(e) {
                        e && (a[e] = !0)
                    }), s && o(s.split(" "), function(e) {
                        e && (a[e] = !1)
                    }), 1 < t.length || i.$$postDigest(function() {
                        o(t, function(t) {
                            var n = e.get(t);
                            if (n) {
                                var i = jt(t.attr("class")),
                                    r = "",
                                    s = "";
                                o(n, function(e, t) {
                                    e !== !!i[t] && (e ? r += (r.length ? " " : "") + t : s += (s.length ? " " : "") + t)
                                }), o(t, function(e) {
                                    r && $t(e, r), s && xt(e, s)
                                }), e.remove(t)
                            }
                        }), t.length = 0
                    })
                }
                return {
                    enabled: m,
                    on: m,
                    off: m,
                    pin: m,
                    push: function(e, t, i, o) {
                        return o && o(), i = i || {}, i.from && e.css(i.from), i.to && e.css(i.to), (i.addClass || i.removeClass) && r(e, i.addClass, i.removeClass), new n
                    }
                }
            }]
        },
        Fr = ["$provide", function(e) {
            var t = this;
            this.$$registeredAnimations = Object.create(null), this.register = function(n, i) {
                if (n && "." !== n.charAt(0)) throw Mr("notcsel", n);
                var r = n + "-animation";
                t.$$registeredAnimations[n.substr(1)] = r, e.factory(r, i)
            }, this.classNameFilter = function(e) {
                if (1 === arguments.length && (this.$$classNameFilter = e instanceof RegExp ? e : null) && /(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString())) throw Mr("nongcls", "ng-animate");
                return this.$$classNameFilter
            }, this.$get = ["$$animateQueue", function(e) {
                function t(e, t, n) {
                    if (n) {
                        var i;
                        e: {
                            for (i = 0; i < n.length; i++) {
                                var r = n[i];
                                if (1 === r.nodeType) {
                                    i = r;
                                    break e
                                }
                            }
                            i = void 0
                        }!i || i.parentNode || i.previousElementSibling || (n = null)
                    }
                    n ? n.after(e) : t.prepend(e)
                }
                return {
                    on: e.on,
                    off: e.off,
                    pin: e.pin,
                    enabled: e.enabled,
                    cancel: function(e) {
                        e.end && e.end()
                    },
                    enter: function(n, i, r, o) {
                        return i = i && ji(i), r = r && ji(r), i = i || r.parent(), t(n, i, r), e.push(n, "enter", Lt(o))
                    },
                    move: function(n, i, r, o) {
                        return i = i && ji(i), r = r && ji(r), i = i || r.parent(), t(n, i, r), e.push(n, "move", Lt(o))
                    },
                    leave: function(t, n) {
                        return e.push(t, "leave", Lt(n), function() {
                            t.remove()
                        })
                    },
                    addClass: function(t, n, i) {
                        return i = Lt(i), i.addClass = Ht(i.addclass, n), e.push(t, "addClass", i)
                    },
                    removeClass: function(t, n, i) {
                        return i = Lt(i), i.removeClass = Ht(i.removeClass, n), e.push(t, "removeClass", i)
                    },
                    setClass: function(t, n, i, r) {
                        return r = Lt(r), r.addClass = Ht(r.addClass, n), r.removeClass = Ht(r.removeClass, i), e.push(t, "setClass", r)
                    },
                    animate: function(t, n, i, r, o) {
                        return o = Lt(o), o.from = o.from ? h(o.from, n) : n, o.to = o.to ? h(o.to, i) : i, o.tempClasses = Ht(o.tempClasses, r || "ng-inline-animate"), e.push(t, "animate", o)
                    }
                }
            }]
        }],
        Hr = i("$compile");
    Yt.$inject = ["$provide", "$$sanitizeUriProvider"];
    var jr = /^((?:x|data)[\:\-_])/i,
        Lr = i("$controller"),
        Wr = /^(\S+)(\s+as\s+(\w+))?$/,
        zr = "application/json",
        qr = {
            "Content-Type": zr + ";charset=utf-8"
        },
        Ur = /^\[|^\{(?!\{)/,
        Vr = {
            "[": /]$/,
            "{": /}$/
        },
        Yr = /^\)\]\}',?\n/,
        Gr = Ji.$interpolateMinErr = i("$interpolate");
    Gr.throwNoconcat = function(e) {
        throw Gr("noconcat", e)
    }, Gr.interr = function(e, t) {
        return Gr("interr", e, t.toString())
    };
    var Xr = /^([^\?#]*)(\?([^#]*))?(#(.*))?$/,
        Kr = {
            http: 80,
            https: 443,
            ftp: 21
        },
        Zr = i("$location"),
        Qr = {
            $$html5: !1,
            $$replace: !1,
            absUrl: kn("$$absUrl"),
            url: function(e) {
                if (y(e)) return this.$$url;
                var t = Xr.exec(e);
                return (t[1] || "" === e) && this.path(decodeURIComponent(t[1])), (t[2] || t[1] || "" === e) && this.search(t[3] || ""), this.hash(t[5] || ""), this
            },
            protocol: kn("$$protocol"),
            host: kn("$$host"),
            port: kn("$$port"),
            path: Sn("$$path", function(e) {
                return e = null !== e ? e.toString() : "", "/" == e.charAt(0) ? e : "/" + e
            }),
            search: function(e, t) {
                switch (arguments.length) {
                    case 0:
                        return this.$$search;
                    case 1:
                        if (x(e) || $(e)) e = e.toString(), this.$$search = V(e);
                        else {
                            if (!w(e)) throw Zr("isrcharg");
                            e = I(e, {}), o(e, function(t, n) {
                                null == t && delete e[n]
                            }), this.$$search = e
                        }
                        break;
                    default:
                        y(t) || null === t ? delete this.$$search[e] : this.$$search[e] = t
                }
                return this.$$compose(), this
            },
            hash: Sn("$$hash", function(e) {
                return null !== e ? e.toString() : ""
            }),
            replace: function() {
                return this.$$replace = !0, this
            }
        };
    o([Cn, $n, xn], function(e) {
        e.prototype = Object.create(Qr), e.prototype.state = function(t) {
            if (!arguments.length) return this.$$state;
            if (e !== xn || !this.$$html5) throw Zr("nostate");
            return this.$$state = y(t) ? null : t, this
        }
    });
    var Jr = i("$parse"),
        eo = Function.prototype.call,
        to = Function.prototype.apply,
        no = Function.prototype.bind,
        io = lt();
    o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "), function(e) {
        io[e] = !0
    });
    var ro = {
            n: "\n",
            f: "\f",
            r: "\r",
            t: "	",
            v: "",
            "'": "'",
            '"': '"'
        },
        oo = function(e) {
            this.options = e
        };
    oo.prototype = {
        constructor: oo,
        lex: function(e) {
            for (this.text = e, this.index = 0, this.tokens = []; this.index < this.text.length;)
                if (e = this.text.charAt(this.index), '"' === e || "'" === e) this.readString(e);
                else if (this.isNumber(e) || "." === e && this.isNumber(this.peek())) this.readNumber();
            else if (this.isIdent(e)) this.readIdent();
            else if (this.is(e, "(){}[].,;:?")) this.tokens.push({
                index: this.index,
                text: e
            }), this.index++;
            else if (this.isWhitespace(e)) this.index++;
            else {
                var t = e + this.peek(),
                    n = t + this.peek(2),
                    i = io[t],
                    r = io[n];
                io[e] || i || r ? (e = r ? n : i ? t : e, this.tokens.push({
                    index: this.index,
                    text: e,
                    operator: !0
                }), this.index += e.length) : this.throwError("Unexpected next character ", this.index, this.index + 1)
            }
            return this.tokens
        },
        is: function(e, t) {
            return -1 !== t.indexOf(e)
        },
        peek: function(e) {
            return e = e || 1, this.index + e < this.text.length ? this.text.charAt(this.index + e) : !1
        },
        isNumber: function(e) {
            return e >= "0" && "9" >= e && "string" == typeof e
        },
        isWhitespace: function(e) {
            return " " === e || "\r" === e || "	" === e || "\n" === e || "" === e || "Â " === e
        },
        isIdent: function(e) {
            return e >= "a" && "z" >= e || e >= "A" && "Z" >= e || "_" === e || "$" === e
        },
        isExpOperator: function(e) {
            return "-" === e || "+" === e || this.isNumber(e)
        },
        throwError: function(e, t, n) {
            throw n = n || this.index, t = b(t) ? "s " + t + "-" + this.index + " [" + this.text.substring(t, n) + "]" : " " + n, Jr("lexerr", e, t, this.text)
        },
        readNumber: function() {
            for (var e = "", t = this.index; this.index < this.text.length;) {
                var n = qi(this.text.charAt(this.index));
                if ("." == n || this.isNumber(n)) e += n;
                else {
                    var i = this.peek();
                    if ("e" == n && this.isExpOperator(i)) e += n;
                    else if (this.isExpOperator(n) && i && this.isNumber(i) && "e" == e.charAt(e.length - 1)) e += n;
                    else {
                        if (!this.isExpOperator(n) || i && this.isNumber(i) || "e" != e.charAt(e.length - 1)) break;
                        this.throwError("Invalid exponent")
                    }
                }
                this.index++
            }
            this.tokens.push({
                index: t,
                text: e,
                constant: !0,
                value: Number(e)
            })
        },
        readIdent: function() {
            for (var e = this.index; this.index < this.text.length;) {
                var t = this.text.charAt(this.index);
                if (!this.isIdent(t) && !this.isNumber(t)) break;
                this.index++
            }
            this.tokens.push({
                index: e,
                text: this.text.slice(e, this.index),
                identifier: !0
            })
        },
        readString: function(e) {
            var t = this.index;
            this.index++;
            for (var n = "", i = e, r = !1; this.index < this.text.length;) {
                var o = this.text.charAt(this.index),
                    i = i + o;
                if (r) "u" === o ? (r = this.text.substring(this.index + 1, this.index + 5), r.match(/[\da-f]{4}/i) || this.throwError("Invalid unicode escape [\\u" + r + "]"), this.index += 4, n += String.fromCharCode(parseInt(r, 16))) : n += ro[o] || o, r = !1;
                else if ("\\" === o) r = !0;
                else {
                    if (o === e) return this.index++, void this.tokens.push({
                        index: t,
                        text: i,
                        constant: !0,
                        value: n
                    });
                    n += o
                }
                this.index++
            }
            this.throwError("Unterminated quote", t)
        }
    };
    var so = function(e, t) {
        this.lexer = e, this.options = t
    };
    so.Program = "Program", so.ExpressionStatement = "ExpressionStatement", so.AssignmentExpression = "AssignmentExpression", so.ConditionalExpression = "ConditionalExpression", so.LogicalExpression = "LogicalExpression", so.BinaryExpression = "BinaryExpression", so.UnaryExpression = "UnaryExpression", so.CallExpression = "CallExpression", so.MemberExpression = "MemberExpression", so.Identifier = "Identifier", so.Literal = "Literal", so.ArrayExpression = "ArrayExpression", so.Property = "Property", so.ObjectExpression = "ObjectExpression", so.ThisExpression = "ThisExpression", so.NGValueParameter = "NGValueParameter", so.prototype = {
        ast: function(e) {
            return this.text = e, this.tokens = this.lexer.lex(e), e = this.program(), 0 !== this.tokens.length && this.throwError("is an unexpected token", this.tokens[0]), e
        },
        program: function() {
            for (var e = [];;)
                if (0 < this.tokens.length && !this.peek("}", ")", ";", "]") && e.push(this.expressionStatement()), !this.expect(";")) return {
                    type: so.Program,
                    body: e
                }
        },
        expressionStatement: function() {
            return {
                type: so.ExpressionStatement,
                expression: this.filterChain()
            }
        },
        filterChain: function() {
            for (var e = this.expression(); this.expect("|");) e = this.filter(e);
            return e
        },
        expression: function() {
            return this.assignment()
        },
        assignment: function() {
            var e = this.ternary();
            return this.expect("=") && (e = {
                type: so.AssignmentExpression,
                left: e,
                right: this.assignment(),
                operator: "="
            }), e
        },
        ternary: function() {
            var e, t, n = this.logicalOR();
            return this.expect("?") && (e = this.expression(), this.consume(":")) ? (t = this.expression(), {
                type: so.ConditionalExpression,
                test: n,
                alternate: e,
                consequent: t
            }) : n
        },
        logicalOR: function() {
            for (var e = this.logicalAND(); this.expect("||");) e = {
                type: so.LogicalExpression,
                operator: "||",
                left: e,
                right: this.logicalAND()
            };
            return e
        },
        logicalAND: function() {
            for (var e = this.equality(); this.expect("&&");) e = {
                type: so.LogicalExpression,
                operator: "&&",
                left: e,
                right: this.equality()
            };
            return e
        },
        equality: function() {
            for (var e, t = this.relational(); e = this.expect("==", "!=", "===", "!==");) t = {
                type: so.BinaryExpression,
                operator: e.text,
                left: t,
                right: this.relational()
            };
            return t
        },
        relational: function() {
            for (var e, t = this.additive(); e = this.expect("<", ">", "<=", ">=");) t = {
                type: so.BinaryExpression,
                operator: e.text,
                left: t,
                right: this.additive()
            };
            return t
        },
        additive: function() {
            for (var e, t = this.multiplicative(); e = this.expect("+", "-");) t = {
                type: so.BinaryExpression,
                operator: e.text,
                left: t,
                right: this.multiplicative()
            };
            return t
        },
        multiplicative: function() {
            for (var e, t = this.unary(); e = this.expect("*", "/", "%");) t = {
                type: so.BinaryExpression,
                operator: e.text,
                left: t,
                right: this.unary()
            };
            return t
        },
        unary: function() {
            var e;
            return (e = this.expect("+", "-", "!")) ? {
                type: so.UnaryExpression,
                operator: e.text,
                prefix: !0,
                argument: this.unary()
            } : this.primary()
        },
        primary: function() {
            var e;
            this.expect("(") ? (e = this.filterChain(), this.consume(")")) : this.expect("[") ? e = this.arrayDeclaration() : this.expect("{") ? e = this.object() : this.constants.hasOwnProperty(this.peek().text) ? e = I(this.constants[this.consume().text]) : this.peek().identifier ? e = this.identifier() : this.peek().constant ? e = this.constant() : this.throwError("not a primary expression", this.peek());
            for (var t; t = this.expect("(", "[", ".");) "(" === t.text ? (e = {
                type: so.CallExpression,
                callee: e,
                arguments: this.parseArguments()
            }, this.consume(")")) : "[" === t.text ? (e = {
                type: so.MemberExpression,
                object: e,
                property: this.expression(),
                computed: !0
            }, this.consume("]")) : "." === t.text ? e = {
                type: so.MemberExpression,
                object: e,
                property: this.identifier(),
                computed: !1
            } : this.throwError("IMPOSSIBLE");
            return e
        },
        filter: function(e) {
            e = [e];
            for (var t = {
                    type: so.CallExpression,
                    callee: this.identifier(),
                    arguments: e,
                    filter: !0
                }; this.expect(":");) e.push(this.expression());
            return t
        },
        parseArguments: function() {
            var e = [];
            if (")" !== this.peekToken().text)
                do e.push(this.expression()); while (this.expect(","));
            return e
        },
        identifier: function() {
            var e = this.consume();
            return e.identifier || this.throwError("is not a valid identifier", e), {
                type: so.Identifier,
                name: e.text
            }
        },
        constant: function() {
            return {
                type: so.Literal,
                value: this.consume().value
            }
        },
        arrayDeclaration: function() {
            var e = [];
            if ("]" !== this.peekToken().text)
                do {
                    if (this.peek("]")) break;
                    e.push(this.expression())
                } while (this.expect(","));
            return this.consume("]"), {
                type: so.ArrayExpression,
                elements: e
            }
        },
        object: function() {
            var e, t = [];
            if ("}" !== this.peekToken().text)
                do {
                    if (this.peek("}")) break;
                    e = {
                        type: so.Property,
                        kind: "init"
                    }, this.peek().constant ? e.key = this.constant() : this.peek().identifier ? e.key = this.identifier() : this.throwError("invalid key", this.peek()), this.consume(":"), e.value = this.expression(), t.push(e)
                } while (this.expect(","));
            return this.consume("}"), {
                type: so.ObjectExpression,
                properties: t
            }
        },
        throwError: function(e, t) {
            throw Jr("syntax", t.text, e, t.index + 1, this.text, this.text.substring(t.index))
        },
        consume: function(e) {
            if (0 === this.tokens.length) throw Jr("ueoe", this.text);
            var t = this.expect(e);
            return t || this.throwError("is unexpected, expecting [" + e + "]", this.peek()), t
        },
        peekToken: function() {
            if (0 === this.tokens.length) throw Jr("ueoe", this.text);
            return this.tokens[0]
        },
        peek: function(e, t, n, i) {
            return this.peekAhead(0, e, t, n, i)
        },
        peekAhead: function(e, t, n, i, r) {
            if (this.tokens.length > e) {
                e = this.tokens[e];
                var o = e.text;
                if (o === t || o === n || o === i || o === r || !(t || n || i || r)) return e
            }
            return !1
        },
        expect: function(e, t, n, i) {
            return (e = this.peek(e, t, n, i)) ? (this.tokens.shift(), e) : !1
        },
        constants: {
            "true": {
                type: so.Literal,
                value: !0
            },
            "false": {
                type: so.Literal,
                value: !1
            },
            "null": {
                type: so.Literal,
                value: null
            },
            undefined: {
                type: so.Literal,
                value: n
            },
            "this": {
                type: so.ThisExpression
            }
        }
    }, Hn.prototype = {
        compile: function(e, t) {
            var i = this,
                r = this.astBuilder.ast(e);
            this.state = {
                nextId: 0,
                filters: {},
                expensiveChecks: t,
                fn: {
                    vars: [],
                    body: [],
                    own: {}
                },
                assign: {
                    vars: [],
                    body: [],
                    own: {}
                },
                inputs: []
            }, In(r, i.$filter);
            var s, a = "";
            return this.stage = "assign", (s = Bn(r)) && (this.state.computing = "assign", a = this.nextId(), this.recurse(s, a), a = "fn.assign=" + this.generateFunction("assign", "s,v,l")), s = Mn(r.body), i.stage = "inputs", o(s, function(e, t) {
                var n = "fn" + t;
                i.state[n] = {
                    vars: [],
                    body: [],
                    own: {}
                }, i.state.computing = n;
                var r = i.nextId();
                i.recurse(e, r), i.return_(r), i.state.inputs.push(n), e.watchId = t
            }), this.state.computing = "fn", this.stage = "main", this.recurse(r), a = '"' + this.USE + " " + this.STRICT + '";\n' + this.filterPrefix() + "var fn=" + this.generateFunction("fn", "s,l,a,i") + a + this.watchFns() + "return fn;", a = new Function("$filter", "ensureSafeMemberName", "ensureSafeObject", "ensureSafeFunction", "ifDefined", "plus", "text", a)(this.$filter, Dn, An, Pn, Nn, On, e), this.state = this.stage = n, a.literal = Fn(r), a.constant = r.constant, a
        },
        USE: "use",
        STRICT: "strict",
        watchFns: function() {
            var e = [],
                t = this.state.inputs,
                n = this;
            return o(t, function(t) {
                e.push("var " + t + "=" + n.generateFunction(t, "s"))
            }), t.length && e.push("fn.inputs=[" + t.join(",") + "];"), e.join("")
        },
        generateFunction: function(e, t) {
            return "function(" + t + "){" + this.varsPrefix(e) + this.body(e) + "};"
        },
        filterPrefix: function() {
            var e = [],
                t = this;
            return o(this.state.filters, function(n, i) {
                e.push(n + "=$filter(" + t.escape(i) + ")")
            }), e.length ? "var " + e.join(",") + ";" : ""
        },
        varsPrefix: function(e) {
            return this.state[e].vars.length ? "var " + this.state[e].vars.join(",") + ";" : ""
        },
        body: function(e) {
            return this.state[e].body.join("")
        },
        recurse: function(e, t, i, r, s, a) {
            var l, c, u, h, d = this;
            if (r = r || m, !a && b(e.watchId)) t = t || this.nextId(), this.if_("i", this.lazyAssign(t, this.computedMember("i", e.watchId)), this.lazyRecurse(e, t, i, r, s, !0));
            else switch (e.type) {
                case so.Program:
                    o(e.body, function(t, i) {
                        d.recurse(t.expression, n, n, function(e) {
                            c = e
                        }), i !== e.body.length - 1 ? d.current().body.push(c, ";") : d.return_(c)
                    });
                    break;
                case so.Literal:
                    h = this.escape(e.value), this.assign(t, h), r(h);
                    break;
                case so.UnaryExpression:
                    this.recurse(e.argument, n, n, function(e) {
                        c = e
                    }), h = e.operator + "(" + this.ifDefined(c, 0) + ")", this.assign(t, h), r(h);
                    break;
                case so.BinaryExpression:
                    this.recurse(e.left, n, n, function(e) {
                        l = e
                    }), this.recurse(e.right, n, n, function(e) {
                        c = e
                    }), h = "+" === e.operator ? this.plus(l, c) : "-" === e.operator ? this.ifDefined(l, 0) + e.operator + this.ifDefined(c, 0) : "(" + l + ")" + e.operator + "(" + c + ")", this.assign(t, h), r(h);
                    break;
                case so.LogicalExpression:
                    t = t || this.nextId(), d.recurse(e.left, t), d.if_("&&" === e.operator ? t : d.not(t), d.lazyRecurse(e.right, t)), r(t);
                    break;
                case so.ConditionalExpression:
                    t = t || this.nextId(), d.recurse(e.test, t), d.if_(t, d.lazyRecurse(e.alternate, t), d.lazyRecurse(e.consequent, t)), r(t);
                    break;
                case so.Identifier:
                    t = t || this.nextId(), i && (i.context = "inputs" === d.stage ? "s" : this.assign(this.nextId(), this.getHasOwnProperty("l", e.name) + "?l:s"), i.computed = !1, i.name = e.name), Dn(e.name), d.if_("inputs" === d.stage || d.not(d.getHasOwnProperty("l", e.name)), function() {
                        d.if_("inputs" === d.stage || "s", function() {
                            s && 1 !== s && d.if_(d.not(d.nonComputedMember("s", e.name)), d.lazyAssign(d.nonComputedMember("s", e.name), "{}")), d.assign(t, d.nonComputedMember("s", e.name))
                        })
                    }, t && d.lazyAssign(t, d.nonComputedMember("l", e.name))), (d.state.expensiveChecks || Wn(e.name)) && d.addEnsureSafeObject(t), r(t);
                    break;
                case so.MemberExpression:
                    l = i && (i.context = this.nextId()) || this.nextId(), t = t || this.nextId(), d.recurse(e.object, l, n, function() {
                        d.if_(d.notNull(l), function() {
                            e.computed ? (c = d.nextId(), d.recurse(e.property, c), d.addEnsureSafeMemberName(c), s && 1 !== s && d.if_(d.not(d.computedMember(l, c)), d.lazyAssign(d.computedMember(l, c), "{}")), h = d.ensureSafeObject(d.computedMember(l, c)), d.assign(t, h), i && (i.computed = !0, i.name = c)) : (Dn(e.property.name), s && 1 !== s && d.if_(d.not(d.nonComputedMember(l, e.property.name)), d.lazyAssign(d.nonComputedMember(l, e.property.name), "{}")), h = d.nonComputedMember(l, e.property.name), (d.state.expensiveChecks || Wn(e.property.name)) && (h = d.ensureSafeObject(h)), d.assign(t, h), i && (i.computed = !1, i.name = e.property.name))
                        }, function() {
                            d.assign(t, "undefined")
                        }), r(t)
                    }, !!s);
                    break;
                case so.CallExpression:
                    t = t || this.nextId(), e.filter ? (c = d.filter(e.callee.name), u = [], o(e.arguments, function(e) {
                        var t = d.nextId();
                        d.recurse(e, t), u.push(t)
                    }), h = c + "(" + u.join(",") + ")", d.assign(t, h), r(t)) : (c = d.nextId(), l = {}, u = [], d.recurse(e.callee, c, l, function() {
                        d.if_(d.notNull(c), function() {
                            d.addEnsureSafeFunction(c), o(e.arguments, function(e) {
                                d.recurse(e, d.nextId(), n, function(e) {
                                    u.push(d.ensureSafeObject(e))
                                })
                            }), l.name ? (d.state.expensiveChecks || d.addEnsureSafeObject(l.context), h = d.member(l.context, l.name, l.computed) + "(" + u.join(",") + ")") : h = c + "(" + u.join(",") + ")", h = d.ensureSafeObject(h), d.assign(t, h)
                        }, function() {
                            d.assign(t, "undefined")
                        }), r(t)
                    }));
                    break;
                case so.AssignmentExpression:
                    if (c = this.nextId(), l = {}, !Rn(e.left)) throw Jr("lval");
                    this.recurse(e.left, n, l, function() {
                        d.if_(d.notNull(l.context), function() {
                            d.recurse(e.right, c), d.addEnsureSafeObject(d.member(l.context, l.name, l.computed)), h = d.member(l.context, l.name, l.computed) + e.operator + c, d.assign(t, h), r(t || h)
                        })
                    }, 1);
                    break;
                case so.ArrayExpression:
                    u = [], o(e.elements, function(e) {
                        d.recurse(e, d.nextId(), n, function(e) {
                            u.push(e)
                        })
                    }), h = "[" + u.join(",") + "]", this.assign(t, h), r(h);
                    break;
                case so.ObjectExpression:
                    u = [], o(e.properties, function(e) {
                        d.recurse(e.value, d.nextId(), n, function(t) {
                            u.push(d.escape(e.key.type === so.Identifier ? e.key.name : "" + e.key.value) + ":" + t)
                        })
                    }), h = "{" + u.join(",") + "}", this.assign(t, h), r(h);
                    break;
                case so.ThisExpression:
                    this.assign(t, "s"), r("s");
                    break;
                case so.NGValueParameter:
                    this.assign(t, "v"), r("v")
            }
        },
        getHasOwnProperty: function(e, t) {
            var n = e + "." + t,
                i = this.current().own;
            return i.hasOwnProperty(n) || (i[n] = this.nextId(!1, e + "&&(" + this.escape(t) + " in " + e + ")")), i[n]
        },
        assign: function(e, t) {
            return e ? (this.current().body.push(e, "=", t, ";"), e) : void 0
        },
        filter: function(e) {
            return this.state.filters.hasOwnProperty(e) || (this.state.filters[e] = this.nextId(!0)), this.state.filters[e]
        },
        ifDefined: function(e, t) {
            return "ifDefined(" + e + "," + this.escape(t) + ")"
        },
        plus: function(e, t) {
            return "plus(" + e + "," + t + ")"
        },
        return_: function(e) {
            this.current().body.push("return ", e, ";")
        },
        if_: function(e, t, n) {
            if (!0 === e) t();
            else {
                var i = this.current().body;
                i.push("if(", e, "){"), t(), i.push("}"), n && (i.push("else{"), n(), i.push("}"))
            }
        },
        not: function(e) {
            return "!(" + e + ")"
        },
        notNull: function(e) {
            return e + "!=null"
        },
        nonComputedMember: function(e, t) {
            return e + "." + t
        },
        computedMember: function(e, t) {
            return e + "[" + t + "]"
        },
        member: function(e, t, n) {
            return n ? this.computedMember(e, t) : this.nonComputedMember(e, t)
        },
        addEnsureSafeObject: function(e) {
            this.current().body.push(this.ensureSafeObject(e), ";")
        },
        addEnsureSafeMemberName: function(e) {
            this.current().body.push(this.ensureSafeMemberName(e), ";")
        },
        addEnsureSafeFunction: function(e) {
            this.current().body.push(this.ensureSafeFunction(e), ";")
        },
        ensureSafeObject: function(e) {
            return "ensureSafeObject(" + e + ",text)"
        },
        ensureSafeMemberName: function(e) {
            return "ensureSafeMemberName(" + e + ",text)"
        },
        ensureSafeFunction: function(e) {
            return "ensureSafeFunction(" + e + ",text)"
        },
        lazyRecurse: function(e, t, n, i, r, o) {
            var s = this;
            return function() {
                s.recurse(e, t, n, i, r, o)
            }
        },
        lazyAssign: function(e, t) {
            var n = this;
            return function() {
                n.assign(e, t)
            }
        },
        stringEscapeRegex: /[^ a-zA-Z0-9]/g,
        stringEscapeFn: function(e) {
            return "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
        },
        escape: function(e) {
            if (x(e)) return "'" + e.replace(this.stringEscapeRegex, this.stringEscapeFn) + "'";
            if ($(e)) return e.toString();
            if (!0 === e) return "true";
            if (!1 === e) return "false";
            if (null === e) return "null";
            if ("undefined" == typeof e) return "undefined";
            throw Jr("esc")
        },
        nextId: function(e, t) {
            var n = "v" + this.state.nextId++;
            return e || this.current().vars.push(n + (t ? "=" + t : "")), n
        },
        current: function() {
            return this.state[this.state.computing]
        }
    }, jn.prototype = {
        compile: function(e, t) {
            var n = this,
                i = this.astBuilder.ast(e);
            this.expression = e, this.expensiveChecks = t, In(i, n.$filter);
            var r, s;
            (r = Bn(i)) && (s = this.recurse(r)), r = Mn(i.body);
            var a;
            r && (a = [], o(r, function(e, t) {
                var i = n.recurse(e);
                e.input = i, a.push(i), e.watchId = t
            }));
            var l = [];
            return o(i.body, function(e) {
                l.push(n.recurse(e.expression))
            }), r = 0 === i.body.length ? function() {} : 1 === i.body.length ? l[0] : function(e, t) {
                var n;
                return o(l, function(i) {
                    n = i(e, t)
                }), n
            }, s && (r.assign = function(e, t, n) {
                return s(e, n, t)
            }), a && (r.inputs = a), r.literal = Fn(i), r.constant = i.constant, r
        },
        recurse: function(e, t, i) {
            var r, s, a, l = this;
            if (e.input) return this.inputs(e.input, e.watchId);
            switch (e.type) {
                case so.Literal:
                    return this.value(e.value, t);
                case so.UnaryExpression:
                    return s = this.recurse(e.argument), this["unary" + e.operator](s, t);
                case so.BinaryExpression:
                    return r = this.recurse(e.left), s = this.recurse(e.right), this["binary" + e.operator](r, s, t);
                case so.LogicalExpression:
                    return r = this.recurse(e.left), s = this.recurse(e.right), this["binary" + e.operator](r, s, t);
                case so.ConditionalExpression:
                    return this["ternary?:"](this.recurse(e.test), this.recurse(e.alternate), this.recurse(e.consequent), t);
                case so.Identifier:
                    return Dn(e.name, l.expression), l.identifier(e.name, l.expensiveChecks || Wn(e.name), t, i, l.expression);
                case so.MemberExpression:
                    return r = this.recurse(e.object, !1, !!i), e.computed || (Dn(e.property.name, l.expression), s = e.property.name), e.computed && (s = this.recurse(e.property)), e.computed ? this.computedMember(r, s, t, i, l.expression) : this.nonComputedMember(r, s, l.expensiveChecks, t, i, l.expression);
                case so.CallExpression:
                    return a = [], o(e.arguments, function(e) {
                        a.push(l.recurse(e))
                    }), e.filter && (s = this.$filter(e.callee.name)), e.filter || (s = this.recurse(e.callee, !0)), e.filter ? function(e, i, r, o) {
                        for (var l = [], c = 0; c < a.length; ++c) l.push(a[c](e, i, r, o));
                        return e = s.apply(n, l, o), t ? {
                            context: n,
                            name: n,
                            value: e
                        } : e
                    } : function(e, n, i, r) {
                        var o, c = s(e, n, i, r);
                        if (null != c.value) {
                            An(c.context, l.expression), Pn(c.value, l.expression), o = [];
                            for (var u = 0; u < a.length; ++u) o.push(An(a[u](e, n, i, r), l.expression));
                            o = An(c.value.apply(c.context, o), l.expression)
                        }
                        return t ? {
                            value: o
                        } : o
                    };
                case so.AssignmentExpression:
                    return r = this.recurse(e.left, !0, 1), s = this.recurse(e.right),
                        function(e, n, i, o) {
                            var a = r(e, n, i, o);
                            return e = s(e, n, i, o), An(a.value, l.expression), a.context[a.name] = e, t ? {
                                value: e
                            } : e
                        };
                case so.ArrayExpression:
                    return a = [], o(e.elements, function(e) {
                            a.push(l.recurse(e))
                        }),
                        function(e, n, i, r) {
                            for (var o = [], s = 0; s < a.length; ++s) o.push(a[s](e, n, i, r));
                            return t ? {
                                value: o
                            } : o
                        };
                case so.ObjectExpression:
                    return a = [], o(e.properties, function(e) {
                            a.push({
                                key: e.key.type === so.Identifier ? e.key.name : "" + e.key.value,
                                value: l.recurse(e.value)
                            })
                        }),
                        function(e, n, i, r) {
                            for (var o = {}, s = 0; s < a.length; ++s) o[a[s].key] = a[s].value(e, n, i, r);
                            return t ? {
                                value: o
                            } : o
                        };
                case so.ThisExpression:
                    return function(e) {
                        return t ? {
                            value: e
                        } : e
                    };
                case so.NGValueParameter:
                    return function(e, n, i) {
                        return t ? {
                            value: i
                        } : i
                    }
            }
        },
        "unary+": function(e, t) {
            return function(n, i, r, o) {
                return n = e(n, i, r, o), n = b(n) ? +n : 0, t ? {
                    value: n
                } : n
            }
        },
        "unary-": function(e, t) {
            return function(n, i, r, o) {
                return n = e(n, i, r, o), n = b(n) ? -n : 0, t ? {
                    value: n
                } : n
            }
        },
        "unary!": function(e, t) {
            return function(n, i, r, o) {
                return n = !e(n, i, r, o), t ? {
                    value: n
                } : n
            }
        },
        "binary+": function(e, t, n) {
            return function(i, r, o, s) {
                var a = e(i, r, o, s);
                return i = t(i, r, o, s), a = On(a, i), n ? {
                    value: a
                } : a
            }
        },
        "binary-": function(e, t, n) {
            return function(i, r, o, s) {
                var a = e(i, r, o, s);
                return i = t(i, r, o, s), a = (b(a) ? a : 0) - (b(i) ? i : 0), n ? {
                    value: a
                } : a
            }
        },
        "binary*": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) * t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary/": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) / t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary%": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) % t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary===": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) === t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary!==": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) !== t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary==": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) == t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary!=": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) != t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary<": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) < t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary>": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) > t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary<=": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) <= t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary>=": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) >= t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary&&": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) && t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "binary||": function(e, t, n) {
            return function(i, r, o, s) {
                return i = e(i, r, o, s) || t(i, r, o, s), n ? {
                    value: i
                } : i
            }
        },
        "ternary?:": function(e, t, n, i) {
            return function(r, o, s, a) {
                return r = e(r, o, s, a) ? t(r, o, s, a) : n(r, o, s, a), i ? {
                    value: r
                } : r
            }
        },
        value: function(e, t) {
            return function() {
                return t ? {
                    context: n,
                    name: n,
                    value: e
                } : e
            }
        },
        identifier: function(e, t, i, r, o) {
            return function(s, a) {
                return s = a && e in a ? a : s, r && 1 !== r && s && !s[e] && (s[e] = {}), a = s ? s[e] : n, t && An(a, o), i ? {
                    context: s,
                    name: e,
                    value: a
                } : a
            }
        },
        computedMember: function(e, t, n, i, r) {
            return function(o, s, a, l) {
                var c, u, h = e(o, s, a, l);
                return null != h && (c = t(o, s, a, l), Dn(c, r), i && 1 !== i && h && !h[c] && (h[c] = {}), u = h[c], An(u, r)), n ? {
                    context: h,
                    name: c,
                    value: u
                } : u
            }
        },
        nonComputedMember: function(e, t, i, r, o, s) {
            return function(a, l, c, u) {
                return a = e(a, l, c, u), o && 1 !== o && a && !a[t] && (a[t] = {}), l = null != a ? a[t] : n, (i || Wn(t)) && An(l, s), r ? {
                    context: a,
                    name: t,
                    value: l
                } : l
            }
        },
        inputs: function(e, t) {
            return function(n, i, r, o) {
                return o ? o[t] : e(n, i, r)
            }
        }
    };
    var ao = function(e, t, n) {
        this.lexer = e, this.$filter = t, this.options = n, this.ast = new so(this.lexer), this.astCompiler = n.csp ? new jn(this.ast, t) : new Hn(this.ast, t)
    };
    ao.prototype = {
        constructor: ao,
        parse: function(e) {
            return this.astCompiler.compile(e, this.options.expensiveChecks)
        }
    }, lt(), lt();
    var lo = Object.prototype.valueOf,
        co = i("$sce"),
        uo = {
            HTML: "html",
            CSS: "css",
            URL: "url",
            RESOURCE_URL: "resourceUrl",
            JS: "js"
        },
        Hr = i("$compile"),
        ho = t.createElement("a"),
        fo = oi(e.location.href);
    li.$inject = ["$document"], ui.$inject = ["$provide"], mi.$inject = ["$locale"], gi.$inject = ["$locale"];
    var po = ".",
        mo = {
            yyyy: bi("FullYear", 4),
            yy: bi("FullYear", 2, 0, !0),
            y: bi("FullYear", 1),
            MMMM: wi("Month"),
            MMM: wi("Month", !0),
            MM: bi("Month", 2, 1),
            M: bi("Month", 1, 1),
            dd: bi("Date", 2),
            d: bi("Date", 1),
            HH: bi("Hours", 2),
            H: bi("Hours", 1),
            hh: bi("Hours", 2, -12),
            h: bi("Hours", 1, -12),
            mm: bi("Minutes", 2),
            m: bi("Minutes", 1),
            ss: bi("Seconds", 2),
            s: bi("Seconds", 1),
            sss: bi("Milliseconds", 3),
            EEEE: wi("Day"),
            EEE: wi("Day", !0),
            a: function(e, t) {
                return 12 > e.getHours() ? t.AMPMS[0] : t.AMPMS[1]
            },
            Z: function(e, t, n) {
                return e = -1 * n, e = (e >= 0 ? "+" : "") + (yi(Math[e > 0 ? "floor" : "ceil"](e / 60), 2) + yi(Math.abs(e % 60), 2))
            },
            ww: xi(2),
            w: xi(1),
            G: $i,
            GG: $i,
            GGG: $i,
            GGGG: function(e, t) {
                return 0 >= e.getFullYear() ? t.ERANAMES[0] : t.ERANAMES[1]
            }
        },
        go = /((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,
        vo = /^\-?\d+$/;
    Ci.$inject = ["$locale"];
    var yo = v(qi),
        bo = v(Vi);
    Ti.$inject = ["$parse"];
    var wo = v({
            restrict: "E",
            compile: function(e, t) {
                return t.href || t.xlinkHref ? void 0 : function(e, t) {
                    if ("a" === t[0].nodeName.toLowerCase()) {
                        var n = "[object SVGAnimatedString]" === Ki.call(t.prop("href")) ? "xlink:href" : "href";
                        t.on("click", function(e) {
                            t.attr(n) || e.preventDefault()
                        })
                    }
                }
            }
        }),
        _o = {};
    o(Sr, function(e, t) {
        function n(e, n, r) {
            e.$watch(r[i], function(e) {
                r.$set(t, !!e)
            })
        }
        if ("multiple" != e) {
            var i = Gt("ng-" + t),
                r = n;
            "checked" === e && (r = function(e, t, r) {
                r.ngModel !== r[i] && n(e, t, r)
            }), _o[i] = function() {
                return {
                    restrict: "A",
                    priority: 100,
                    link: r
                }
            }
        }
    }), o(Er, function(e, t) {
        _o[t] = function() {
            return {
                priority: 100,
                link: function(e, n, i) {
                    return "ngPattern" === t && "/" == i.ngPattern.charAt(0) && (n = i.ngPattern.match(zi)) ? void i.$set("ngPattern", new RegExp(n[1], n[2])) : void e.$watch(i[t], function(e) {
                        i.$set(t, e)
                    })
                }
            }
        }
    }), o(["src", "srcset", "href"], function(e) {
        var t = Gt("ng-" + e);
        _o[t] = function() {
            return {
                priority: 99,
                link: function(n, i, r) {
                    var o = e,
                        s = e;
                    "href" === e && "[object SVGAnimatedString]" === Ki.call(i.prop("href")) && (s = "xlinkHref", r.$attr[s] = "xlink:href", o = null), r.$observe(t, function(t) {
                        t ? (r.$set(s, t), Hi && o && i.prop(o, r[s])) : "href" === e && r.$set(s, null)
                    })
                }
            }
        }
    });
    var xo = {
        $addControl: m,
        $$renameControl: function(e, t) {
            e.$name = t
        },
        $removeControl: m,
        $setValidity: m,
        $setDirty: m,
        $setPristine: m,
        $setSubmitted: m
    };
    Di.$inject = ["$element", "$attrs", "$scope", "$animate", "$interpolate"];
    var $o = function(e) {
            return ["$timeout", function(t) {
                return {
                    name: "form",
                    restrict: e ? "EAC" : "E",
                    controller: Di,
                    compile: function(i, r) {
                        i.addClass(is).addClass(ts);
                        var o = r.name ? "name" : e && r.ngForm ? "ngForm" : !1;
                        return {
                            pre: function(e, i, r, s) {
                                if (!("action" in r)) {
                                    var a = function(t) {
                                        e.$apply(function() {
                                            s.$commitViewValue(), s.$setSubmitted()
                                        }), t.preventDefault()
                                    };
                                    i[0].addEventListener("submit", a, !1), i.on("$destroy", function() {
                                        t(function() {
                                            i[0].removeEventListener("submit", a, !1)
                                        }, 0, !1)
                                    })
                                }
                                var l = s.$$parentForm;
                                o && (Ln(e, s.$name, s, s.$name), r.$observe(o, function(t) {
                                    s.$name !== t && (Ln(e, s.$name, n, s.$name), l.$$renameControl(s, t), Ln(e, s.$name, s, s.$name))
                                })), i.on("$destroy", function() {
                                    l.$removeControl(s), o && Ln(e, r[o], n, s.$name), h(s, xo)
                                })
                            }
                        }
                    }
                }
            }]
        },
        Co = $o(),
        ko = $o(!0),
        So = /\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,
        To = /^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,
        Eo = /^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,
        Do = /^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,
        Ao = /^(\d{4})-(\d{2})-(\d{2})$/,
        Po = /^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
        No = /^(\d{4})-W(\d\d)$/,
        Oo = /^(\d{4})-(\d\d)$/,
        Io = /^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
        Mo = {
            text: function(e, t, n, i, r, o) {
                Pi(e, t, n, i, r, o), Ai(i)
            },
            date: Oi("date", Ao, Ni(Ao, ["yyyy", "MM", "dd"]), "yyyy-MM-dd"),
            "datetime-local": Oi("datetimelocal", Po, Ni(Po, "yyyy MM dd HH mm ss sss".split(" ")), "yyyy-MM-ddTHH:mm:ss.sss"),
            time: Oi("time", Io, Ni(Io, ["HH", "mm", "ss", "sss"]), "HH:mm:ss.sss"),
            week: Oi("week", No, function(e, t) {
                if (C(e)) return e;
                if (x(e)) {
                    No.lastIndex = 0;
                    var n = No.exec(e);
                    if (n) {
                        var i = +n[1],
                            r = +n[2],
                            o = n = 0,
                            s = 0,
                            a = 0,
                            l = _i(i),
                            r = 7 * (r - 1);
                        return t && (n = t.getHours(), o = t.getMinutes(), s = t.getSeconds(), a = t.getMilliseconds()), new Date(i, 0, l.getDate() + r, n, o, s, a)
                    }
                }
                return 0 / 0
            }, "yyyy-Www"),
            month: Oi("month", Oo, Ni(Oo, ["yyyy", "MM"]), "yyyy-MM"),
            number: function(e, t, i, r, o, s) {
                if (Ii(e, t, i, r), Pi(e, t, i, r, o, s), r.$$parserName = "number", r.$parsers.push(function(e) {
                        return r.$isEmpty(e) ? null : Do.test(e) ? parseFloat(e) : n
                    }), r.$formatters.push(function(e) {
                        if (!r.$isEmpty(e)) {
                            if (!$(e)) throw ss("numfmt", e);
                            e = e.toString()
                        }
                        return e
                    }), b(i.min) || i.ngMin) {
                    var a;
                    r.$validators.min = function(e) {
                        return r.$isEmpty(e) || y(a) || e >= a
                    }, i.$observe("min", function(e) {
                        b(e) && !$(e) && (e = parseFloat(e, 10)), a = $(e) && !isNaN(e) ? e : n, r.$validate()
                    })
                }
                if (b(i.max) || i.ngMax) {
                    var l;
                    r.$validators.max = function(e) {
                        return r.$isEmpty(e) || y(l) || l >= e
                    }, i.$observe("max", function(e) {
                        b(e) && !$(e) && (e = parseFloat(e, 10)), l = $(e) && !isNaN(e) ? e : n, r.$validate()
                    })
                }
            },
            url: function(e, t, n, i, r, o) {
                Pi(e, t, n, i, r, o), Ai(i), i.$$parserName = "url", i.$validators.url = function(e, t) {
                    var n = e || t;
                    return i.$isEmpty(n) || To.test(n)
                }
            },
            email: function(e, t, n, i, r, o) {
                Pi(e, t, n, i, r, o), Ai(i), i.$$parserName = "email", i.$validators.email = function(e, t) {
                    var n = e || t;
                    return i.$isEmpty(n) || Eo.test(n)
                }
            },
            radio: function(e, t, n, i) {
                y(n.name) && t.attr("name", ++er), t.on("click", function(e) {
                    t[0].checked && i.$setViewValue(n.value, e && e.type)
                }), i.$render = function() {
                    t[0].checked = n.value == i.$viewValue
                }, n.$observe("value", i.$render)
            },
            checkbox: function(e, t, n, i, r, o, s, a) {
                var l = Mi(a, e, "ngTrueValue", n.ngTrueValue, !0),
                    c = Mi(a, e, "ngFalseValue", n.ngFalseValue, !1);
                t.on("click", function(e) {
                    i.$setViewValue(t[0].checked, e && e.type)
                }), i.$render = function() {
                    t[0].checked = i.$viewValue
                }, i.$isEmpty = function(e) {
                    return !1 === e
                }, i.$formatters.push(function(e) {
                    return R(e, l)
                }), i.$parsers.push(function(e) {
                    return e ? l : c
                })
            },
            hidden: m,
            button: m,
            submit: m,
            reset: m,
            file: m
        },
        Ro = ["$browser", "$sniffer", "$filter", "$parse", function(e, t, n, i) {
            return {
                restrict: "E",
                require: ["?ngModel"],
                link: {
                    pre: function(r, o, s, a) {
                        a[0] && (Mo[qi(s.type)] || Mo.text)(r, o, s, a[0], t, e, n, i)
                    }
                }
            }
        }],
        Bo = /^(true|false|\d+)$/,
        Fo = function() {
            return {
                restrict: "A",
                priority: 100,
                compile: function(e, t) {
                    return Bo.test(t.ngValue) ? function(e, t, n) {
                        n.$set("value", e.$eval(n.ngValue))
                    } : function(e, t, n) {
                        e.$watch(n.ngValue, function(e) {
                            n.$set("value", e)
                        })
                    }
                }
            }
        },
        Ho = ["$compile", function(e) {
            return {
                restrict: "AC",
                compile: function(t) {
                    return e.$$addBindingClass(t),
                        function(t, i, r) {
                            e.$$addBindingInfo(i, r.ngBind), i = i[0], t.$watch(r.ngBind, function(e) {
                                i.textContent = e === n ? "" : e
                            })
                        }
                }
            }
        }],
        jo = ["$interpolate", "$compile", function(e, t) {
            return {
                compile: function(i) {
                    return t.$$addBindingClass(i),
                        function(i, r, o) {
                            i = e(r.attr(o.$attr.ngBindTemplate)), t.$$addBindingInfo(r, i.expressions), r = r[0], o.$observe("ngBindTemplate", function(e) {
                                r.textContent = e === n ? "" : e
                            })
                        }
                }
            }
        }],
        Lo = ["$sce", "$parse", "$compile", function(e, t, n) {
            return {
                restrict: "A",
                compile: function(i, r) {
                    var o = t(r.ngBindHtml),
                        s = t(r.ngBindHtml, function(e) {
                            return (e || "").toString()
                        });
                    return n.$$addBindingClass(i),
                        function(t, i, r) {
                            n.$$addBindingInfo(i, r.ngBindHtml), t.$watch(s, function() {
                                i.html(e.getTrustedHtml(o(t)) || "")
                            })
                        }
                }
            }
        }],
        Wo = v({
            restrict: "A",
            require: "ngModel",
            link: function(e, t, n, i) {
                i.$viewChangeListeners.push(function() {
                    e.$eval(n.ngChange)
                })
            }
        }),
        zo = Ri("", !0),
        qo = Ri("Odd", 0),
        Uo = Ri("Even", 1),
        Vo = Ei({
            compile: function(e, t) {
                t.$set("ngCloak", n), e.removeClass("ng-cloak")
            }
        }),
        Yo = [function() {
            return {
                restrict: "A",
                scope: !0,
                controller: "@",
                priority: 500
            }
        }],
        Go = {},
        Xo = {
            blur: !0,
            focus: !0
        };
    o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "), function(e) {
        var t = Gt("ng-" + e);
        Go[t] = ["$parse", "$rootScope", function(n, i) {
            return {
                restrict: "A",
                compile: function(r, o) {
                    var s = n(o[t], null, !0);
                    return function(t, n) {
                        n.on(e, function(n) {
                            var r = function() {
                                s(t, {
                                    $event: n
                                })
                            };
                            Xo[e] && i.$$phase ? t.$evalAsync(r) : t.$apply(r)
                        })
                    }
                }
            }
        }]
    });
    var Ko = ["$animate", function(e) {
            return {
                multiElement: !0,
                transclude: "element",
                priority: 600,
                terminal: !0,
                restrict: "A",
                $$tlb: !0,
                link: function(n, i, r, o, s) {
                    var a, l, c;
                    n.$watch(r.ngIf, function(n) {
                        n ? l || s(function(n, o) {
                            l = o, n[n.length++] = t.createComment(" end ngIf: " + r.ngIf + " "), a = {
                                clone: n
                            }, e.enter(n, i.parent(), i)
                        }) : (c && (c.remove(), c = null), l && (l.$destroy(), l = null), a && (c = at(a.clone), e.leave(c).then(function() {
                            c = null
                        }), a = null))
                    })
                }
            }
        }],
        Zo = ["$templateRequest", "$anchorScroll", "$animate", "$sce", function(e, t, n, i) {
            return {
                restrict: "ECA",
                priority: 400,
                terminal: !0,
                transclude: "element",
                controller: Ji.noop,
                compile: function(r, o) {
                    var s = o.ngInclude || o.src,
                        a = o.onload || "",
                        l = o.autoscroll;
                    return function(r, o, c, u, h) {
                        var d, f, p, m = 0,
                            g = function() {
                                f && (f.remove(), f = null), d && (d.$destroy(), d = null), p && (n.leave(p).then(function() {
                                    f = null
                                }), f = p, p = null)
                            };
                        r.$watch(i.parseAsResourceUrl(s), function(i) {
                            var s = function() {
                                    !b(l) || l && !r.$eval(l) || t()
                                },
                                c = ++m;
                            i ? (e(i, !0).then(function(e) {
                                if (c === m) {
                                    var t = r.$new();
                                    u.template = e, e = h(t, function(e) {
                                        g(), n.enter(e, null, o).then(s)
                                    }), d = t, p = e, d.$emit("$includeContentLoaded", i), r.$eval(a)
                                }
                            }, function() {
                                c === m && (g(), r.$emit("$includeContentError", i))
                            }), r.$emit("$includeContentRequested", i)) : (g(), u.template = null)
                        })
                    }
                }
            }
        }],
        Qo = ["$compile", function(e) {
            return {
                restrict: "ECA",
                priority: -400,
                require: "ngInclude",
                link: function(n, i, r, o) {
                    /SVG/.test(i[0].toString()) ? (i.empty(), e(ft(o.template, t).childNodes)(n, function(e) {
                        i.append(e)
                    }, {
                        futureParentElement: i
                    })) : (i.html(o.template), e(i.contents())(n))
                }
            }
        }],
        Jo = Ei({
            priority: 450,
            compile: function() {
                return {
                    pre: function(e, t, n) {
                        e.$eval(n.ngInit)
                    }
                }
            }
        }),
        es = function() {
            return {
                restrict: "A",
                priority: 100,
                require: "ngModel",
                link: function(e, t, i, r) {
                    var s = t.attr(i.$attr.ngList) || ", ",
                        a = "false" !== i.ngTrim,
                        l = a ? rr(s) : s;
                    r.$parsers.push(function(e) {
                        if (!y(e)) {
                            var t = [];
                            return e && o(e.split(l), function(e) {
                                e && t.push(a ? rr(e) : e)
                            }), t
                        }
                    }), r.$formatters.push(function(e) {
                        return nr(e) ? e.join(s) : n
                    }), r.$isEmpty = function(e) {
                        return !e || !e.length
                    }
                }
            }
        },
        ts = "ng-valid",
        ns = "ng-invalid",
        is = "ng-pristine",
        rs = "ng-dirty",
        os = "ng-pending",
        ss = new i("ngModel"),
        as = ["$scope", "$exceptionHandler", "$attrs", "$element", "$parse", "$animate", "$timeout", "$rootScope", "$q", "$interpolate", function(e, t, i, r, s, a, l, c, u, h) {
            this.$modelValue = this.$viewValue = Number.NaN, this.$$rawModelValue = n, this.$validators = {}, this.$asyncValidators = {}, this.$parsers = [], this.$formatters = [], this.$viewChangeListeners = [], this.$untouched = !0, this.$touched = !1, this.$pristine = !0, this.$dirty = !1, this.$valid = !0, this.$invalid = !1, this.$error = {}, this.$$success = {}, this.$pending = n, this.$name = h(i.name || "", !1)(e);
            var d, f = s(i.ngModel),
                p = f.assign,
                g = f,
                v = p,
                w = null,
                _ = this;
            this.$$setOptions = function(e) {
                if ((_.$options = e) && e.getterSetter) {
                    var t = s(i.ngModel + "()"),
                        n = s(i.ngModel + "($$$p)");
                    g = function(e) {
                        var n = f(e);
                        return k(n) && (n = t(e)), n
                    }, v = function(e) {
                        k(f(e)) ? n(e, {
                            $$$p: _.$modelValue
                        }) : p(e, _.$modelValue)
                    }
                } else if (!f.assign) throw ss("nonassign", i.ngModel, q(r))
            }, this.$render = m, this.$isEmpty = function(e) {
                return y(e) || "" === e || null === e || e !== e
            };
            var x = r.inheritedData("$formController") || xo,
                C = 0;
            Bi({
                ctrl: this,
                $element: r,
                set: function(e, t) {
                    e[t] = !0
                },
                unset: function(e, t) {
                    delete e[t]
                },
                parentForm: x,
                $animate: a
            }), this.$setPristine = function() {
                _.$dirty = !1, _.$pristine = !0, a.removeClass(r, rs), a.addClass(r, is)
            }, this.$setDirty = function() {
                _.$dirty = !0, _.$pristine = !1, a.removeClass(r, is), a.addClass(r, rs), x.$setDirty()
            }, this.$setUntouched = function() {
                _.$touched = !1, _.$untouched = !0, a.setClass(r, "ng-untouched", "ng-touched")
            }, this.$setTouched = function() {
                _.$touched = !0, _.$untouched = !1, a.setClass(r, "ng-touched", "ng-untouched")
            }, this.$rollbackViewValue = function() {
                l.cancel(w), _.$viewValue = _.$$lastCommittedViewValue, _.$render()
            }, this.$validate = function() {
                if (!$(_.$modelValue) || !isNaN(_.$modelValue)) {
                    var e = _.$$rawModelValue,
                        t = _.$valid,
                        i = _.$modelValue,
                        r = _.$options && _.$options.allowInvalid;
                    _.$$runValidators(e, _.$$lastCommittedViewValue, function(o) {
                        r || t === o || (_.$modelValue = o ? e : n, _.$modelValue !== i && _.$$writeModelToScope())
                    })
                }
            }, this.$$runValidators = function(e, t, i) {
                function r() {
                    var n = !0;
                    return o(_.$validators, function(i, r) {
                        var o = i(e, t);
                        n = n && o, a(r, o)
                    }), n ? !0 : (o(_.$asyncValidators, function(e, t) {
                        a(t, null)
                    }), !1)
                }

                function s() {
                    var i = [],
                        r = !0;
                    o(_.$asyncValidators, function(o, s) {
                        var l = o(e, t);
                        if (!l || !k(l.then)) throw ss("$asyncValidators", l);
                        a(s, n), i.push(l.then(function() {
                            a(s, !0)
                        }, function() {
                            r = !1, a(s, !1)
                        }))
                    }), i.length ? u.all(i).then(function() {
                        l(r)
                    }, m) : l(!0)
                }

                function a(e, t) {
                    c === C && _.$setValidity(e, t)
                }

                function l(e) {
                    c === C && i(e)
                }
                C++;
                var c = C;
                (function() {
                    var e = _.$$parserName || "parse";
                    return d !== n ? (d || (o(_.$validators, function(e, t) {
                        a(t, null)
                    }), o(_.$asyncValidators, function(e, t) {
                        a(t, null)
                    })), a(e, d), d) : (a(e, null), !0)
                })() && r() ? s() : l(!1)
            }, this.$commitViewValue = function() {
                var e = _.$viewValue;
                l.cancel(w), (_.$$lastCommittedViewValue !== e || "" === e && _.$$hasNativeValidators) && (_.$$lastCommittedViewValue = e, _.$pristine && this.$setDirty(), this.$$parseAndValidate())
            }, this.$$parseAndValidate = function() {
                var t = _.$$lastCommittedViewValue;
                if (d = y(t) ? n : !0)
                    for (var i = 0; i < _.$parsers.length; i++)
                        if (t = _.$parsers[i](t), y(t)) {
                            d = !1;
                            break
                        }
                $(_.$modelValue) && isNaN(_.$modelValue) && (_.$modelValue = g(e));
                var r = _.$modelValue,
                    o = _.$options && _.$options.allowInvalid;
                _.$$rawModelValue = t, o && (_.$modelValue = t, _.$modelValue !== r && _.$$writeModelToScope()), _.$$runValidators(t, _.$$lastCommittedViewValue, function(e) {
                    o || (_.$modelValue = e ? t : n, _.$modelValue !== r && _.$$writeModelToScope())
                })
            }, this.$$writeModelToScope = function() {
                v(e, _.$modelValue), o(_.$viewChangeListeners, function(e) {
                    try {
                        e()
                    } catch (n) {
                        t(n)
                    }
                })
            }, this.$setViewValue = function(e, t) {
                _.$viewValue = e, _.$options && !_.$options.updateOnDefault || _.$$debounceViewValueCommit(t)
            }, this.$$debounceViewValueCommit = function(t) {
                var n = 0,
                    i = _.$options;
                i && b(i.debounce) && (i = i.debounce, $(i) ? n = i : $(i[t]) ? n = i[t] : $(i["default"]) && (n = i["default"])), l.cancel(w), n ? w = l(function() {
                    _.$commitViewValue()
                }, n) : c.$$phase ? _.$commitViewValue() : e.$apply(function() {
                    _.$commitViewValue()
                })
            }, e.$watch(function() {
                var t = g(e);
                if (t !== _.$modelValue && (_.$modelValue === _.$modelValue || t === t)) {
                    _.$modelValue = _.$$rawModelValue = t, d = n;
                    for (var i = _.$formatters, r = i.length, o = t; r--;) o = i[r](o);
                    _.$viewValue !== o && (_.$viewValue = _.$$lastCommittedViewValue = o, _.$render(), _.$$runValidators(t, o, m))
                }
                return t
            })
        }],
        ls = ["$rootScope", function(e) {
            return {
                restrict: "A",
                require: ["ngModel", "^?form", "^?ngModelOptions"],
                controller: as,
                priority: 1,
                compile: function(t) {
                    return t.addClass(is).addClass("ng-untouched").addClass(ts), {
                        pre: function(e, t, n, i) {
                            var r = i[0],
                                o = i[1] || xo;
                            r.$$setOptions(i[2] && i[2].$options), o.$addControl(r), n.$observe("name", function(e) {
                                r.$name !== e && o.$$renameControl(r, e)
                            }), e.$on("$destroy", function() {
                                o.$removeControl(r)
                            })
                        },
                        post: function(t, n, i, r) {
                            var o = r[0];
                            o.$options && o.$options.updateOn && n.on(o.$options.updateOn, function(e) {
                                o.$$debounceViewValueCommit(e && e.type)
                            }), n.on("blur", function() {
                                o.$touched || (e.$$phase ? t.$evalAsync(o.$setTouched) : t.$apply(o.$setTouched))
                            })
                        }
                    }
                }
            }
        }],
        cs = /(\s+|^)default(\s+|$)/,
        us = function() {
            return {
                restrict: "A",
                controller: ["$scope", "$attrs", function(e, t) {
                    var i = this;
                    this.$options = I(e.$eval(t.ngModelOptions)), this.$options.updateOn !== n ? (this.$options.updateOnDefault = !1, this.$options.updateOn = rr(this.$options.updateOn.replace(cs, function() {
                        return i.$options.updateOnDefault = !0, " "
                    }))) : this.$options.updateOnDefault = !0
                }]
            }
        },
        hs = Ei({
            terminal: !0,
            priority: 1e3
        }),
        ds = i("ngOptions"),
        fs = /^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
        ps = ["$compile", "$parse", function(e, n) {
            function i(e, t, i) {
                function o(e, t, n, i, r) {
                    this.selectValue = e, this.viewValue = t, this.label = n, this.group = i, this.disabled = r
                }
                var s = e.match(fs);
                if (!s) throw ds("iexp", e, q(t));
                var a = s[5] || s[7],
                    l = s[6];
                e = / as /.test(s[0]) && s[1];
                var c = s[9];
                t = n(s[2] ? s[1] : a);
                var u = e && n(e) || t,
                    h = c && n(c),
                    d = c ? function(e, t) {
                        return h(i, t)
                    } : function(e) {
                        return It(e)
                    },
                    f = function(e, t) {
                        return d(e, b(e, t))
                    },
                    p = n(s[2] || s[1]),
                    m = n(s[3] || ""),
                    g = n(s[4] || ""),
                    v = n(s[8]),
                    y = {},
                    b = l ? function(e, t) {
                        return y[l] = t, y[a] = e, y
                    } : function(e) {
                        return y[a] = e, y
                    };
                return {
                    trackBy: c,
                    getTrackByValue: f,
                    getWatchables: n(v, function(e) {
                        var t = [];
                        return e = e || [], Object.keys(e).forEach(function(n) {
                            if ("$" !== n.charAt(0)) {
                                var r = b(e[n], n);
                                n = d(e[n], r), t.push(n), (s[2] || s[1]) && (n = p(i, r), t.push(n)), s[4] && (r = g(i, r), t.push(r))
                            }
                        }), t
                    }),
                    getOptions: function() {
                        var e, t = [],
                            n = {},
                            s = v(i) || [];
                        if (!l && r(s)) e = s;
                        else {
                            e = [];
                            for (var a in s) s.hasOwnProperty(a) && "$" !== a.charAt(0) && e.push(a)
                        }
                        a = e.length;
                        for (var h = 0; a > h; h++) {
                            var y = s === e ? h : e[h],
                                w = b(s[y], y),
                                _ = u(i, w),
                                y = d(_, w),
                                x = p(i, w),
                                $ = m(i, w),
                                w = g(i, w),
                                _ = new o(y, _, x, $, w);
                            t.push(_), n[y] = _
                        }
                        return {
                            items: t,
                            selectValueMap: n,
                            getOptionFromViewValue: function(e) {
                                return n[f(e)]
                            },
                            getViewValueFromOption: function(e) {
                                return c ? Ji.copy(e.viewValue) : e.viewValue
                            }
                        }
                    }
                }
            }
            var s = t.createElement("option"),
                a = t.createElement("optgroup");
            return {
                restrict: "A",
                terminal: !0,
                require: ["select", "?ngModel"],
                link: function(t, n, r, l) {
                    function c(e, t) {
                        e.element = t, t.disabled = e.disabled, e.value !== t.value && (t.value = e.selectValue), e.label !== t.label && (t.label = e.label, t.textContent = e.label)
                    }

                    function u(e, t, n, i) {
                        return t && qi(t.nodeName) === n ? n = t : (n = i.cloneNode(!1), t ? e.insertBefore(n, t) : e.appendChild(n)), n
                    }

                    function h(e) {
                        for (var t; e;) t = e.nextSibling, Et(e), e = t
                    }

                    function d(e) {
                        var t = g && g[0],
                            n = _ && _[0];
                        if (t || n)
                            for (; e && (e === t || e === n);) e = e.nextSibling;
                        return e
                    }

                    function f() {
                        var e = x && m.readValue();
                        x = $.getOptions();
                        var t = {},
                            i = n[0].firstChild;
                        if (w && n.prepend(g), i = d(i), x.items.forEach(function(e) {
                                var r, o;
                                e.group ? (r = t[e.group], r || (r = u(n[0], i, "optgroup", a), i = r.nextSibling, r.label = e.group, r = t[e.group] = {
                                    groupElement: r,
                                    currentOptionElement: r.firstChild
                                }), o = u(r.groupElement, r.currentOptionElement, "option", s), c(e, o), r.currentOptionElement = o.nextSibling) : (o = u(n[0], i, "option", s), c(e, o), i = o.nextSibling)
                            }), Object.keys(t).forEach(function(e) {
                                h(t[e].currentOptionElement)
                            }), h(i), p.$render(), !p.$isEmpty(e)) {
                            var r = m.readValue();
                            ($.trackBy ? R(e, r) : e === r) || (p.$setViewValue(r), p.$render())
                        }
                    }
                    var p = l[1];
                    if (p) {
                        var m = l[0];
                        l = r.multiple;
                        for (var g, v = 0, y = n.children(), b = y.length; b > v; v++)
                            if ("" === y[v].value) {
                                g = y.eq(v);
                                break
                            }
                        var w = !!g,
                            _ = ji(s.cloneNode(!1));
                        _.val("?");
                        var x, $ = i(r.ngOptions, n, t);
                        l ? (p.$isEmpty = function(e) {
                            return !e || 0 === e.length
                        }, m.writeValue = function(e) {
                            x.items.forEach(function(e) {
                                e.element.selected = !1
                            }), e && e.forEach(function(e) {
                                (e = x.getOptionFromViewValue(e)) && !e.disabled && (e.element.selected = !0)
                            })
                        }, m.readValue = function() {
                            var e = n.val() || [],
                                t = [];
                            return o(e, function(e) {
                                e = x.selectValueMap[e], e.disabled || t.push(x.getViewValueFromOption(e))
                            }), t
                        }, $.trackBy && t.$watchCollection(function() {
                            return nr(p.$viewValue) ? p.$viewValue.map(function(e) {
                                return $.getTrackByValue(e)
                            }) : void 0
                        }, function() {
                            p.$render()
                        })) : (m.writeValue = function(e) {
                            var t = x.getOptionFromViewValue(e);
                            t && !t.disabled ? n[0].value !== t.selectValue && (_.remove(), w || g.remove(), n[0].value = t.selectValue, t.element.selected = !0, t.element.setAttribute("selected", "selected")) : null === e || w ? (_.remove(), w || n.prepend(g), n.val(""), g.prop("selected", !0), g.attr("selected", !0)) : (w || g.remove(), n.prepend(_), n.val("?"), _.prop("selected", !0), _.attr("selected", !0))
                        }, m.readValue = function() {
                            var e = x.selectValueMap[n.val()];
                            return e && !e.disabled ? (w || g.remove(), _.remove(), x.getViewValueFromOption(e)) : null
                        }, $.trackBy && t.$watch(function() {
                            return $.getTrackByValue(p.$viewValue)
                        }, function() {
                            p.$render()
                        })), w ? (g.remove(), e(g)(t), g.removeClass("ng-scope")) : g = ji(s.cloneNode(!1)), f(), t.$watchCollection($.getWatchables, f)
                    }
                }
            }
        }],
        ms = ["$locale", "$interpolate", "$log", function(e, t, n) {
            var i = /{}/g,
                r = /^when(Minus)?(.+)$/;
            return {
                link: function(s, a, l) {
                    function c(e) {
                        a.text(e || "")
                    }
                    var u, h = l.count,
                        d = l.$attr.when && a.attr(l.$attr.when),
                        f = l.offset || 0,
                        p = s.$eval(d) || {},
                        g = {},
                        v = t.startSymbol(),
                        b = t.endSymbol(),
                        w = v + h + "-" + f + b,
                        _ = Ji.noop;
                    o(l, function(e, t) {
                        var n = r.exec(t);
                        n && (n = (n[1] ? "-" : "") + qi(n[2]), p[n] = a.attr(l.$attr[t]))
                    }), o(p, function(e, n) {
                        g[n] = t(e.replace(i, w))
                    }), s.$watch(h, function(t) {
                        var i = parseFloat(t),
                            r = isNaN(i);
                        r || i in p || (i = e.pluralCat(i - f)), i === u || r && $(u) && isNaN(u) || (_(), r = g[i], y(r) ? (null != t && n.debug("ngPluralize: no rule defined for '" + i + "' in " + d), _ = m, c()) : _ = s.$watch(r, c), u = i)
                    })
                }
            }
        }],
        gs = ["$parse", "$animate", function(e, s) {
            var a = i("ngRepeat"),
                l = function(e, t, n, i, r, o, s) {
                    e[n] = i, r && (e[r] = o), e.$index = t, e.$first = 0 === t, e.$last = t === s - 1, e.$middle = !(e.$first || e.$last), e.$odd = !(e.$even = 0 === (1 & t))
                };
            return {
                restrict: "A",
                multiElement: !0,
                transclude: "element",
                priority: 1e3,
                terminal: !0,
                $$tlb: !0,
                compile: function(i, c) {
                    var u = c.ngRepeat,
                        h = t.createComment(" end ngRepeat: " + u + " "),
                        d = u.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);
                    if (!d) throw a("iexp", u);
                    var f = d[1],
                        p = d[2],
                        m = d[3],
                        g = d[4],
                        d = f.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);
                    if (!d) throw a("iidexp", f);
                    var v = d[3] || d[1],
                        y = d[2];
                    if (m && (!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m) || /^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m))) throw a("badident", m);
                    var b, w, _, x, $ = {
                        $id: It
                    };
                    return g ? b = e(g) : (_ = function(e, t) {
                            return It(t)
                        }, x = function(e) {
                            return e
                        }),
                        function(e, t, i, c, d) {
                            b && (w = function(t, n, i) {
                                return y && ($[y] = t), $[v] = n, $.$index = i, b(e, $)
                            });
                            var f = lt();
                            e.$watchCollection(p, function(i) {
                                var c, p, g, b, $, C, k, S, T, E, D = t[0],
                                    A = lt();
                                if (m && (e[m] = i), r(i)) S = i, p = w || _;
                                else
                                    for (E in p = w || x, S = [], i) i.hasOwnProperty(E) && "$" !== E.charAt(0) && S.push(E);
                                for (b = S.length, E = Array(b), c = 0; b > c; c++)
                                    if ($ = i === S ? c : S[c], C = i[$], k = p($, C, c), f[k]) T = f[k], delete f[k], A[k] = T, E[c] = T;
                                    else {
                                        if (A[k]) throw o(E, function(e) {
                                            e && e.scope && (f[e.id] = e)
                                        }), a("dupes", u, k, C);
                                        E[c] = {
                                            id: k,
                                            scope: n,
                                            clone: n
                                        }, A[k] = !0
                                    }
                                for (g in f) {
                                    if (T = f[g], k = at(T.clone), s.leave(k), k[0].parentNode)
                                        for (c = 0, p = k.length; p > c; c++) k[c].$$NG_REMOVED = !0;
                                    T.scope.$destroy()
                                }
                                for (c = 0; b > c; c++)
                                    if ($ = i === S ? c : S[c], C = i[$], T = E[c], T.scope) {
                                        g = D;
                                        do g = g.nextSibling; while (g && g.$$NG_REMOVED);
                                        T.clone[0] != g && s.move(at(T.clone), null, ji(D)), D = T.clone[T.clone.length - 1], l(T.scope, c, v, C, y, $, b)
                                    } else d(function(e, t) {
                                        T.scope = t;
                                        var n = h.cloneNode(!1);
                                        e[e.length++] = n, s.enter(e, null, ji(D)), D = n, T.clone = e, A[T.id] = T, l(T.scope, c, v, C, y, $, b)
                                    });
                                f = A
                            })
                        }
                }
            }
        }],
        vs = ["$animate", function(e) {
            return {
                restrict: "A",
                multiElement: !0,
                link: function(t, n, i) {
                    t.$watch(i.ngShow, function(t) {
                        e[t ? "removeClass" : "addClass"](n, "ng-hide", {
                            tempClasses: "ng-hide-animate"
                        })
                    })
                }
            }
        }],
        ys = ["$animate", function(e) {
            return {
                restrict: "A",
                multiElement: !0,
                link: function(t, n, i) {
                    t.$watch(i.ngHide, function(t) {
                        e[t ? "addClass" : "removeClass"](n, "ng-hide", {
                            tempClasses: "ng-hide-animate"
                        })
                    })
                }
            }
        }],
        bs = Ei(function(e, t, n) {
            e.$watch(n.ngStyle, function(e, n) {
                n && e !== n && o(n, function(e, n) {
                    t.css(n, "")
                }), e && t.css(e)
            }, !0)
        }),
        ws = ["$animate", function(e) {
            return {
                require: "ngSwitch",
                controller: ["$scope", function() {
                    this.cases = {}
                }],
                link: function(n, i, r, s) {
                    var a = [],
                        l = [],
                        c = [],
                        u = [],
                        h = function(e, t) {
                            return function() {
                                e.splice(t, 1)
                            }
                        };
                    n.$watch(r.ngSwitch || r.on, function(n) {
                        var i, r;
                        for (i = 0, r = c.length; r > i; ++i) e.cancel(c[i]);
                        for (i = c.length = 0, r = u.length; r > i; ++i) {
                            var d = at(l[i].clone);
                            u[i].$destroy(), (c[i] = e.leave(d)).then(h(c, i))
                        }
                        l.length = 0, u.length = 0, (a = s.cases["!" + n] || s.cases["?"]) && o(a, function(n) {
                            n.transclude(function(i, r) {
                                u.push(r);
                                var o = n.element;
                                i[i.length++] = t.createComment(" end ngSwitchWhen: "), l.push({
                                    clone: i
                                }), e.enter(i, o.parent(), o)
                            })
                        })
                    })
                }
            }
        }],
        _s = Ei({
            transclude: "element",
            priority: 1200,
            require: "^ngSwitch",
            multiElement: !0,
            link: function(e, t, n, i, r) {
                i.cases["!" + n.ngSwitchWhen] = i.cases["!" + n.ngSwitchWhen] || [], i.cases["!" + n.ngSwitchWhen].push({
                    transclude: r,
                    element: t
                })
            }
        }),
        xs = Ei({
            transclude: "element",
            priority: 1200,
            require: "^ngSwitch",
            multiElement: !0,
            link: function(e, t, n, i, r) {
                i.cases["?"] = i.cases["?"] || [], i.cases["?"].push({
                    transclude: r,
                    element: t
                })
            }
        }),
        $s = Ei({
            restrict: "EAC",
            link: function(e, t, n, r, o) {
                if (!o) throw i("ngTransclude")("orphan", q(t));
                o(function(e) {
                    t.empty(), t.append(e)
                })
            }
        }),
        Cs = ["$templateCache", function(e) {
            return {
                restrict: "E",
                terminal: !0,
                compile: function(t, n) {
                    "text/ng-template" == n.type && e.put(n.id, t[0].text)
                }
            }
        }],
        ks = {
            $setViewValue: m,
            $render: m
        },
        Ss = ["$element", "$scope", "$attrs", function(e, i) {
            var r = this,
                o = new Mt;
            r.ngModelCtrl = ks, r.unknownOption = ji(t.createElement("option")), r.renderUnknownOption = function(t) {
                t = "? " + It(t) + " ?", r.unknownOption.val(t), e.prepend(r.unknownOption), e.val(t)
            }, i.$on("$destroy", function() {
                r.renderUnknownOption = m
            }), r.removeUnknownOption = function() {
                r.unknownOption.parent() && r.unknownOption.remove()
            }, r.readValue = function() {
                return r.removeUnknownOption(), e.val()
            }, r.writeValue = function(t) {
                r.hasOption(t) ? (r.removeUnknownOption(), e.val(t), "" === t && r.emptyOption.prop("selected", !0)) : null == t && r.emptyOption ? (r.removeUnknownOption(), e.val("")) : r.renderUnknownOption(t)
            }, r.addOption = function(e, t) {
                ot(e, '"option value"'), "" === e && (r.emptyOption = t);
                var n = o.get(e) || 0;
                o.put(e, n + 1)
            }, r.removeOption = function(e) {
                var t = o.get(e);
                t && (1 === t ? (o.remove(e), "" === e && (r.emptyOption = n)) : o.put(e, t - 1))
            }, r.hasOption = function(e) {
                return !!o.get(e)
            }
        }],
        Ts = function() {
            return {
                restrict: "E",
                require: ["select", "?ngModel"],
                controller: Ss,
                link: function(e, t, n, i) {
                    var r = i[1];
                    if (r) {
                        var s = i[0];
                        if (s.ngModelCtrl = r, r.$render = function() {
                                s.writeValue(r.$viewValue)
                            }, t.on("change", function() {
                                e.$apply(function() {
                                    r.$setViewValue(s.readValue())
                                })
                            }), n.multiple) {
                            s.readValue = function() {
                                var e = [];
                                return o(t.find("option"), function(t) {
                                    t.selected && e.push(t.value)
                                }), e
                            }, s.writeValue = function(e) {
                                var n = new Mt(e);
                                o(t.find("option"), function(e) {
                                    e.selected = b(n.get(e.value))
                                })
                            };
                            var a, l = 0 / 0;
                            e.$watch(function() {
                                l !== r.$viewValue || R(a, r.$viewValue) || (a = M(r.$viewValue), r.$render()), l = r.$viewValue
                            }), r.$isEmpty = function(e) {
                                return !e || 0 === e.length
                            }
                        }
                    }
                }
            }
        },
        Es = ["$interpolate", function(e) {
            function t(e) {
                e[0].hasAttribute("selected") && (e[0].selected = !0)
            }
            return {
                restrict: "E",
                priority: 100,
                compile: function(n, i) {
                    if (y(i.value)) {
                        var r = e(n.text(), !0);
                        r || i.$set("value", n.text())
                    }
                    return function(e, n, i) {
                        var o = n.parent(),
                            s = o.data("$selectController") || o.parent().data("$selectController");
                        s && s.ngModelCtrl && (r ? e.$watch(r, function(e, r) {
                            i.$set("value", e), r !== e && s.removeOption(r), s.addOption(e, n), s.ngModelCtrl.$render(), t(n)
                        }) : (s.addOption(i.value, n), s.ngModelCtrl.$render(), t(n)), n.on("$destroy", function() {
                            s.removeOption(i.value), s.ngModelCtrl.$render()
                        }))
                    }
                }
            }
        }],
        Ds = v({
            restrict: "E",
            terminal: !1
        }),
        As = function() {
            return {
                restrict: "A",
                require: "?ngModel",
                link: function(e, t, n, i) {
                    i && (n.required = !0, i.$validators.required = function(e, t) {
                        return !n.required || !i.$isEmpty(t)
                    }, n.$observe("required", function() {
                        i.$validate()
                    }))
                }
            }
        },
        Ps = function() {
            return {
                restrict: "A",
                require: "?ngModel",
                link: function(e, t, r, o) {
                    if (o) {
                        var s, a = r.ngPattern || r.pattern;
                        r.$observe("pattern", function(e) {
                            if (x(e) && 0 < e.length && (e = new RegExp("^" + e + "$")), e && !e.test) throw i("ngPattern")("noregexp", a, e, q(t));
                            s = e || n, o.$validate()
                        }), o.$validators.pattern = function(e) {
                            return o.$isEmpty(e) || y(s) || s.test(e)
                        }
                    }
                }
            }
        },
        Ns = function() {
            return {
                restrict: "A",
                require: "?ngModel",
                link: function(e, t, n, i) {
                    if (i) {
                        var r = -1;
                        n.$observe("maxlength", function(e) {
                            e = f(e), r = isNaN(e) ? -1 : e, i.$validate()
                        }), i.$validators.maxlength = function(e, t) {
                            return 0 > r || i.$isEmpty(t) || t.length <= r
                        }
                    }
                }
            }
        },
        Os = function() {
            return {
                restrict: "A",
                require: "?ngModel",
                link: function(e, t, n, i) {
                    if (i) {
                        var r = 0;
                        n.$observe("minlength", function(e) {
                            r = f(e) || 0, i.$validate()
                        }), i.$validators.minlength = function(e, t) {
                            return i.$isEmpty(t) || t.length >= r
                        }
                    }
                }
            }
        };
    e.angular.bootstrap ? console.log("WARNING: Tried to load angular more than once.") : (nt(), ut(Ji), ji(t).ready(function() {
        Z(t, Q)
    }))
}(window, document), !window.angular.$$csp() && window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),
    function(e, t, n) {
        "use strict";

        function i(e, t, n) {
            if (!e) throw ngMinErr("areq", t || "?", n || "required");
            return e
        }

        function r(e, t) {
            return e || t ? e ? t ? (M(e) && (e = e.join(" ")), M(t) && (t = t.join(" ")), e + " " + t) : e : t : ""
        }

        function o(e) {
            var t = {};
            return e && (e.to || e.from) && (t.to = e.to, t.from = e.from), t
        }

        function s(e, t, n) {
            var i = "";
            return e = M(e) ? e : e && R(e) && e.length ? e.split(/\s+/) : [], I(e, function(e, r) {
                e && 0 < e.length && (i += r > 0 ? " " : "", i += n ? t + e : e + t)
            }), i
        }

        function a(e) {
            if (e instanceof O) switch (e.length) {
                case 0:
                    return [];
                case 1:
                    if (1 === e[0].nodeType) return e;
                    break;
                default:
                    return O(l(e))
            }
            return 1 === e.nodeType ? O(e) : void 0
        }

        function l(e) {
            if (!e[0]) return e;
            for (var t = 0; t < e.length; t++) {
                var n = e[t];
                if (1 == n.nodeType) return n
            }
        }

        function c(e, t, n) {
            I(t, function(t) {
                e.addClass(t, n)
            })
        }

        function u(e, t, n) {
            I(t, function(t) {
                e.removeClass(t, n)
            })
        }

        function h(e) {
            return function(t, n) {
                n.addClass && (c(e, t, n.addClass), n.addClass = null), n.removeClass && (u(e, t, n.removeClass), n.removeClass = null)
            }
        }

        function d(e) {
            if (e = e || {}, !e.$$prepared) {
                var t = e.domOperation || P;
                e.domOperation = function() {
                    e.$$domOperationFired = !0, t(), t = P
                }, e.$$prepared = !0
            }
            return e
        }

        function f(e, t) {
            p(e, t), m(e, t)
        }

        function p(e, t) {
            t.from && (e.css(t.from), t.from = null)
        }

        function m(e, t) {
            t.to && (e.css(t.to), t.to = null)
        }

        function g(e, t, n) {
            var i = (t.addClass || "") + " " + (n.addClass || ""),
                r = (t.removeClass || "") + " " + (n.removeClass || "");
            return e = v(e.attr("class"), i, r), N(t, n), t.addClass = e.addClass ? e.addClass : null, t.removeClass = e.removeClass ? e.removeClass : null, t
        }

        function v(e, t, n) {
            function i(e) {
                R(e) && (e = e.split(" "));
                var t = {};
                return I(e, function(e) {
                    e.length && (t[e] = !0)
                }), t
            }
            var r = {};
            e = i(e), t = i(t), I(t, function(e, t) {
                r[t] = 1
            }), n = i(n), I(n, function(e, t) {
                r[t] = 1 === r[t] ? null : -1
            });
            var o = {
                addClass: "",
                removeClass: ""
            };
            return I(r, function(t, n) {
                var i, r;
                1 === t ? (i = "addClass", r = !e[n]) : -1 === t && (i = "removeClass", r = e[n]), r && (o[i].length && (o[i] += " "), o[i] += n)
            }), o
        }

        function y(e) {
            return e instanceof t.element ? e[0] : e
        }

        function b(e, t, n) {
            var i = Object.create(null),
                r = e.getComputedStyle(t) || {};
            return I(n, function(e, t) {
                var n = r[e];
                if (n) {
                    var o = n.charAt(0);
                    ("-" === o || "+" === o || o >= 0) && (n = w(n)), 0 === n && (n = null), i[t] = n
                }
            }), i
        }

        function w(e) {
            var t = 0;
            return e = e.split(/\s*,\s*/), I(e, function(e) {
                "s" == e.charAt(e.length - 1) && (e = e.substring(0, e.length - 1)), e = parseFloat(e) || 0, t = t ? Math.max(e, t) : e
            }), t
        }

        function _(e) {
            return 0 === e || null != e
        }

        function x(e, t) {
            var n = T,
                i = e + "s";
            return t ? n += "Duration" : i += " linear all", [n, i]
        }

        function $(e, t) {
            var n = t ? "-" + t + "s" : "";
            return k(e, [q, n]), [q, n]
        }

        function C(e, t) {
            var n = t ? "paused" : "",
                i = D + "PlayState";
            return k(e, [i, n]), [i, n]
        }

        function k(e, t) {
            e.style[t[0]] = t[1]
        }

        function S() {
            var e = Object.create(null);
            return {
                flush: function() {
                    e = Object.create(null)
                },
                count: function(t) {
                    return (t = e[t]) ? t.total : 0
                },
                get: function(t) {
                    return (t = e[t]) && t.value
                },
                put: function(t, n) {
                    e[t] ? e[t].total++ : e[t] = {
                        total: 1,
                        value: n
                    }
                }
            }
        }
        var T, E, D, A, P = t.noop,
            N = t.extend,
            O = t.element,
            I = t.forEach,
            M = t.isArray,
            R = t.isString,
            B = t.isObject,
            F = t.isUndefined,
            H = t.isDefined,
            j = t.isFunction,
            L = t.isElement;
        e.ontransitionend === n && e.onwebkittransitionend !== n ? (T = "WebkitTransition", E = "webkitTransitionEnd transitionend") : (T = "transition", E = "transitionend"), e.onanimationend === n && e.onwebkitanimationend !== n ? (D = "WebkitAnimation", A = "webkitAnimationEnd animationend") : (D = "animation", A = "animationend");
        var W = D + "Delay",
            z = D + "Duration",
            q = T + "Delay";
        e = T + "Duration";
        var U = {
                transitionDuration: e,
                transitionDelay: q,
                transitionProperty: T + "Property",
                animationDuration: z,
                animationDelay: W,
                animationIterationCount: D + "IterationCount"
            },
            V = {
                transitionDuration: e,
                transitionDelay: q,
                animationDuration: z,
                animationDelay: W
            };
        t.module("ngAnimate", []).directive("ngAnimateChildren", [function() {
            return function(e, n, i) {
                e = i.ngAnimateChildren, t.isString(e) && 0 === e.length ? n.data("$$ngAnimateChildren", !0) : i.$observe("ngAnimateChildren", function(e) {
                    n.data("$$ngAnimateChildren", "on" === e || "true" === e)
                })
            }
        }]).factory("$$rAFMutex", ["$$rAF", function(e) {
            return function() {
                var t = !1;
                return e(function() {
                        t = !0
                    }),
                    function(n) {
                        t ? n() : e(n)
                    }
            }
        }]).factory("$$rAFScheduler", ["$$rAF", function(e) {
            function t(e) {
                r.push([].concat(e)), n()
            }

            function n() {
                if (r.length) {
                    for (var t = [], o = 0; o < r.length; o++) {
                        var s = r[o];
                        s.shift()(), s.length && t.push(s)
                    }
                    r = t, i || e(function() {
                        i || n()
                    })
                }
            }
            var i, r = [];
            return t.waitUntilQuiet = function(t) {
                i && i(), i = e(function() {
                    i = null, t(), n()
                })
            }, t
        }]).factory("$$AnimateRunner", ["$q", "$$rAFMutex", function(e, t) {
            function n(e) {
                this.setHost(e), this._doneCallbacks = [], this._runInAnimationFrame = t(), this._state = 0
            }
            return n.chain = function(e, t) {
                function n() {
                    i === e.length ? t(!0) : e[i](function(e) {
                        !1 === e ? t(!1) : (i++, n())
                    })
                }
                var i = 0;
                n()
            }, n.all = function(e, t) {
                function n(n) {
                    r = r && n, ++i === e.length && t(r)
                }
                var i = 0,
                    r = !0;
                I(e, function(e) {
                    e.done(n)
                })
            }, n.prototype = {
                setHost: function(e) {
                    this.host = e || {}
                },
                done: function(e) {
                    2 === this._state ? e() : this._doneCallbacks.push(e)
                },
                progress: P,
                getPromise: function() {
                    if (!this.promise) {
                        var t = this;
                        this.promise = e(function(e, n) {
                            t.done(function(t) {
                                !1 === t ? n() : e()
                            })
                        })
                    }
                    return this.promise
                },
                then: function(e, t) {
                    return this.getPromise().then(e, t)
                },
                "catch": function(e) {
                    return this.getPromise()["catch"](e)
                },
                "finally": function(e) {
                    return this.getPromise()["finally"](e)
                },
                pause: function() {
                    this.host.pause && this.host.pause()
                },
                resume: function() {
                    this.host.resume && this.host.resume()
                },
                end: function() {
                    this.host.end && this.host.end(), this._resolve(!0)
                },
                cancel: function() {
                    this.host.cancel && this.host.cancel(), this._resolve(!1)
                },
                complete: function(e) {
                    var t = this;
                    0 === t._state && (t._state = 1, t._runInAnimationFrame(function() {
                        t._resolve(e)
                    }))
                },
                _resolve: function(e) {
                    2 !== this._state && (I(this._doneCallbacks, function(t) {
                        t(e)
                    }), this._doneCallbacks.length = 0, this._state = 2)
                }
            }, n
        }]).provider("$$animateQueue", ["$animateProvider", function(e) {
            function t(e, t, n, i) {
                return r[e].some(function(e) {
                    return e(t, n, i)
                })
            }

            function n(e, t) {
                e = e || {};
                var n = 0 < (e.addClass || "").length,
                    i = 0 < (e.removeClass || "").length;
                return t ? n && i : n || i
            }
            var r = this.rules = {
                skip: [],
                cancel: [],
                join: []
            };
            r.join.push(function(e, t) {
                return !t.structural && n(t.options)
            }), r.skip.push(function(e, t) {
                return !t.structural && !n(t.options)
            }), r.skip.push(function(e, t, n) {
                return "leave" == n.event && t.structural
            }), r.skip.push(function(e, t, n) {
                return n.structural && !t.structural
            }), r.cancel.push(function(e, t, n) {
                return n.structural && t.structural
            }), r.cancel.push(function(e, t, n) {
                return 2 === n.state && t.structural
            }), r.cancel.push(function(e, t, n) {
                return e = t.options, n = n.options, e.addClass && e.addClass === n.removeClass || e.removeClass && e.removeClass === n.addClass
            }), this.$get = ["$$rAF", "$rootScope", "$rootElement", "$document", "$$HashMap", "$$animation", "$$AnimateRunner", "$templateRequest", "$$jqLite", function(r, o, s, c, u, p, m, v, b) {
                function w(e, t) {
                    var n = y(e),
                        i = [],
                        r = W[t];
                    return r && I(r, function(e) {
                        e.node.contains(n) && i.push(e.callback)
                    }), i
                }

                function _(e, t, n, i) {
                    r(function() {
                        I(w(t, e), function(e) {
                            e(t, n, i)
                        })
                    })
                }

                function x(e, i, r) {
                    function s(t, n, i, r) {
                        _(n, e, i, r), t.progress(n, i, r)
                    }

                    function l(t) {
                        U(e, r), f(e, r), r.domOperation(), h.complete(!t)
                    }
                    var c, u;
                    (e = a(e)) && (c = y(e), u = e.parent()), r = d(r);
                    var h = new m;
                    if (!c) return l(), h;
                    M(r.addClass) && (r.addClass = r.addClass.join(" ")), M(r.removeClass) && (r.removeClass = r.removeClass.join(" ")), r.from && !B(r.from) && (r.from = null), r.to && !B(r.to) && (r.to = null);
                    var v = [c.className, r.addClass, r.removeClass].join(" ");
                    if (!q(v)) return l(), h;
                    var b = 0 <= ["enter", "move", "leave"].indexOf(i),
                        w = !P || A.get(c),
                        v = !w && D.get(c) || {},
                        x = !!v.state;
                    if (w || x && 1 == v.state || (w = !T(e, u, i)), w) return l(), h;
                    if (b && $(e), w = {
                            structural: b,
                            element: e,
                            event: i,
                            close: l,
                            options: r,
                            runner: h
                        }, x) {
                        if (t("skip", e, w, v)) return 2 === v.state ? (l(), h) : (g(e, v.options, r), v.runner);
                        if (t("cancel", e, w, v)) 2 === v.state ? v.runner.end() : v.structural ? v.close() : g(e, w.options, v.options);
                        else if (t("join", e, w, v)) {
                            if (2 !== v.state) return i = w.event = v.event, r = g(e, v.options, w.options), h;
                            g(e, r, {})
                        }
                    } else g(e, r, {});
                    if ((x = w.structural) || (x = "animate" === w.event && 0 < Object.keys(w.options.to || {}).length || n(w.options)), !x) return l(), C(e), h;
                    b && S(u);
                    var k = (v.counter || 0) + 1;
                    return w.counter = k, E(e, 1, w), o.$$postDigest(function() {
                        var t = D.get(c),
                            o = !t,
                            t = t || {},
                            a = e.parent() || [],
                            u = 0 < a.length && ("animate" === t.event || t.structural || n(t.options));
                        o || t.counter !== k || !u ? (o && (U(e, r), f(e, r)), (o || b && t.event !== i) && (r.domOperation(), h.end()), u || C(e)) : (i = !t.structural && n(t.options, !0) ? "setClass" : t.event, t.structural && S(a), E(e, 2), t = p(e, i, t.options), t.done(function(t) {
                            l(!t), (t = D.get(c)) && t.counter === k && C(y(e)), s(h, i, "close", {})
                        }), h.setHost(t), s(h, i, "start", {}))
                    }), h
                }

                function $(e) {
                    e = y(e).querySelectorAll("[data-ng-animate]"), I(e, function(e) {
                        var t = parseInt(e.getAttribute("data-ng-animate")),
                            n = D.get(e);
                        switch (t) {
                            case 2:
                                n.runner.end();
                            case 1:
                                n && D.remove(e)
                        }
                    })
                }

                function C(e) {
                    e = y(e), e.removeAttribute("data-ng-animate"), D.remove(e)
                }

                function k(e, t) {
                    return y(e) === y(t)
                }

                function S(e) {
                    for (e = y(e);;) {
                        if (!e || 1 !== e.nodeType) break;
                        var t = D.get(e);
                        if (t) {
                            var i = e;
                            !t.structural && n(t.options) && (2 === t.state && t.runner.end(), C(i))
                        }
                        e = e.parentNode
                    }
                }

                function T(e, t, n) {
                    var i, r = n = !1,
                        o = !1;
                    for ((e = e.data("$ngAnimatePin")) && (t = e); t && t.length && (r || (r = k(t, s)), e = t[0], 1 === e.nodeType);) {
                        var a = D.get(e) || {};
                        if (o || (o = a.structural || A.get(e)), (F(i) || !0 === i) && (e = t.data("$$ngAnimateChildren"), H(e) && (i = e)), o && !1 === i) break;
                        r || (r = k(t, s), r || (e = t.data("$ngAnimatePin")) && (t = e)), n || (n = k(t, j)), t = t.parent()
                    }
                    return (!o || i) && r && n
                }

                function E(e, t, n) {
                    n = n || {}, n.state = t, e = y(e), e.setAttribute("data-ng-animate", t), n = (t = D.get(e)) ? N(t, n) : n, D.put(e, n)
                }
                var D = new u,
                    A = new u,
                    P = null,
                    R = o.$watch(function() {
                        return 0 === v.totalPendingRequests
                    }, function(e) {
                        e && (R(), o.$$postDigest(function() {
                            o.$$postDigest(function() {
                                null === P && (P = !0)
                            })
                        }))
                    }),
                    j = O(c[0].body),
                    W = {},
                    z = e.classNameFilter(),
                    q = z ? function(e) {
                        return z.test(e)
                    } : function() {
                        return !0
                    },
                    U = h(b);
                return {
                    on: function(e, t, n) {
                        t = l(t), W[e] = W[e] || [], W[e].push({
                            node: t,
                            callback: n
                        })
                    },
                    off: function(e, t, n) {
                        function i(e, t, n) {
                            var i = l(t);
                            return e.filter(function(e) {
                                return !(e.node === i && (!n || e.callback === n))
                            })
                        }
                        var r = W[e];
                        r && (W[e] = 1 === arguments.length ? null : i(r, t, n))
                    },
                    pin: function(e, t) {
                        i(L(e), "element", "not an element"), i(L(t), "parentElement", "not an element"), e.data("$ngAnimatePin", t)
                    },
                    push: function(e, t, n, i) {
                        return n = n || {}, n.domOperation = i, x(e, t, n)
                    },
                    enabled: function(e, t) {
                        var n = arguments.length;
                        if (0 === n) t = !!P;
                        else if (L(e)) {
                            var i = y(e),
                                r = A.get(i);
                            1 === n ? t = !r : (t = !!t) ? r && A.remove(i) : A.put(i, !0)
                        } else t = P = !!e;
                        return t
                    }
                }
            }]
        }]).provider("$$animation", ["$animateProvider", function() {
            function e(e) {
                return e.data("$$animationRunner")
            }
            var t = this.drivers = [];
            this.$get = ["$$jqLite", "$rootScope", "$injector", "$$AnimateRunner", "$$rAFScheduler", function(n, i, o, s, a) {
                var l = [],
                    c = h(n),
                    u = 0,
                    p = 0,
                    m = [];
                return function(h, g, v) {
                    function b(e) {
                        e = e.hasAttribute("ng-animate-ref") ? [e] : e.querySelectorAll("[ng-animate-ref]");
                        var t = [];
                        return I(e, function(e) {
                            var n = e.getAttribute("ng-animate-ref");
                            n && n.length && t.push(e)
                        }), t
                    }

                    function w(e) {
                        var t = [],
                            n = {};
                        I(e, function(e, i) {
                            var r = y(e.element),
                                o = 0 <= ["enter", "move"].indexOf(e.event),
                                r = e.structural ? b(r) : [];
                            if (r.length) {
                                var s = o ? "to" : "from";
                                I(r, function(e) {
                                    var t = e.getAttribute("ng-animate-ref");
                                    n[t] = n[t] || {}, n[t][s] = {
                                        animationID: i,
                                        element: O(e)
                                    }
                                })
                            } else t.push(e)
                        });
                        var i = {},
                            r = {};
                        return I(n, function(n) {
                            var o = n.from,
                                s = n.to;
                            if (o && s) {
                                var a = e[o.animationID],
                                    l = e[s.animationID],
                                    c = o.animationID.toString();
                                if (!r[c]) {
                                    var u = r[c] = {
                                        structural: !0,
                                        beforeStart: function() {
                                            a.beforeStart(), l.beforeStart()
                                        },
                                        close: function() {
                                            a.close(), l.close()
                                        },
                                        classes: _(a.classes, l.classes),
                                        from: a,
                                        to: l,
                                        anchors: []
                                    };
                                    u.classes.length ? t.push(u) : (t.push(a), t.push(l))
                                }
                                r[c].anchors.push({
                                    out: o.element,
                                    "in": s.element
                                })
                            } else o = o ? o.animationID : s.animationID, s = o.toString(), i[s] || (i[s] = !0, t.push(e[o]))
                        }), t
                    }

                    function _(e, t) {
                        e = e.split(" "), t = t.split(" ");
                        for (var n = [], i = 0; i < e.length; i++) {
                            var r = e[i];
                            if ("ng-" !== r.substring(0, 3))
                                for (var o = 0; o < t.length; o++)
                                    if (r === t[o]) {
                                        n.push(r);
                                        break
                                    }
                        }
                        return n.join(" ")
                    }

                    function x(e) {
                        for (var n = t.length - 1; n >= 0; n--) {
                            var i = t[n];
                            if (o.has(i) && (i = o.get(i)(e))) return i
                        }
                    }

                    function $(t, n) {
                        t.from && t.to ? (e(t.from.element).setHost(n), e(t.to.element).setHost(n)) : e(t.element).setHost(n)
                    }

                    function C() {
                        var t = e(h);
                        !t || "leave" === g && v.$$domOperationFired || t.end()
                    }

                    function k(e) {
                        h.off("$destroy", C), h.removeData("$$animationRunner"), c(h, v), f(h, v), v.domOperation(), D && n.removeClass(h, D), h.removeClass("ng-animate"), T.complete(!e)
                    }
                    v = d(v);
                    var S = 0 <= ["enter", "move", "leave"].indexOf(g),
                        T = new s({
                            end: function() {
                                k()
                            },
                            cancel: function() {
                                k(!0)
                            }
                        });
                    if (!t.length) return k(), T;
                    h.data("$$animationRunner", T);
                    var E = r(h.attr("class"), r(v.addClass, v.removeClass)),
                        D = v.tempClasses;
                    D && (E += " " + D, v.tempClasses = null);
                    var A;
                    return S || (A = u, u += 1), l.push({
                        element: h,
                        classes: E,
                        event: g,
                        classBasedIndex: A,
                        structural: S,
                        options: v,
                        beforeStart: function() {
                            h.addClass("ng-animate"), D && n.addClass(h, D)
                        },
                        close: k
                    }), h.on("$destroy", C), 1 < l.length ? T : (i.$$postDigest(function() {
                        p = u, u = 0, m.length = 0;
                        var t = [];
                        I(l, function(n) {
                            e(n.element) && t.push(n)
                        }), l.length = 0, I(w(t), function(t) {
                            function n() {
                                t.beforeStart();
                                var n, i = t.close;
                                if (e(t.anchors ? t.from.element || t.to.element : t.element)) {
                                    var r = x(t);
                                    r && (n = r.start)
                                }
                                n ? (n = n(), n.done(function(e) {
                                    i(!e)
                                }), $(t, n)) : i()
                            }
                            t.structural ? n() : (m.push({
                                node: y(t.element),
                                fn: n
                            }), t.classBasedIndex === p - 1 && (m = m.sort(function(e, t) {
                                return t.node.contains(e.node)
                            }).map(function(e) {
                                return e.fn
                            }), a(m)))
                        })
                    }), T)
                }
            }]
        }]).provider("$animateCss", ["$animateProvider", function() {
            var e = S(),
                t = S();
            this.$get = ["$window", "$$jqLite", "$$AnimateRunner", "$timeout", "$document", "$sniffer", "$$rAFScheduler", function(n, i, r, a, l, c, u) {
                function g(e, t) {
                    var n = e.parentNode;
                    return (n.$$ngAnimateParentKey || (n.$$ngAnimateParentKey = ++N)) + "-" + e.getAttribute("class") + "-" + t
                }

                function v(r, o, a, l) {
                    var c;
                    return 0 < e.count(a) && (c = t.get(a), c || (o = s(o, "-stagger"), i.addClass(r, o), c = b(n, r, l), c.animationDuration = Math.max(c.animationDuration, 0), c.transitionDuration = Math.max(c.transitionDuration, 0), i.removeClass(r, o), t.put(a, c))), c || {}
                }

                function w(n) {
                    R.push(n), u.waitUntilQuiet(function() {
                        e.flush(), t.flush();
                        for (var n = O.offsetWidth + 1, i = 0; i < R.length; i++) R[i](n);
                        R.length = 0
                    })
                }

                function S(t, i, r) {
                    return i = e.get(r), i || (i = b(n, t, U), "infinite" === i.animationIterationCount && (i.animationIterationCount = 1)), e.put(r, i), t = i, r = t.animationDelay, i = t.transitionDelay, t.maxDelay = r && i ? Math.max(r, i) : r || i, t.maxDuration = Math.max(t.animationDuration * t.animationIterationCount, t.transitionDuration), t
                }
                var P = h(i),
                    N = 0,
                    O = y(l).body,
                    R = [];
                return function(t, n) {
                    function l() {
                        h()
                    }

                    function u() {
                        h(!0)
                    }

                    function h(e) {
                        B || H && F || (B = !0, F = !1, i.removeClass(t, nt), i.removeClass(t, rt), C(R, !1), $(R, !1), I(K, function(e) {
                            R.style[e[0]] = ""
                        }), P(t, n), f(t, n), n.onDone && n.onDone(), j && j.complete(!e))
                    }

                    function b(e) {
                        ut.blockTransition && $(R, e), ut.blockKeyframeAnimation && C(R, !!e)
                    }

                    function N() {
                        return j = new r({
                            end: l,
                            cancel: u
                        }), h(), {
                            $$willAnimate: !1,
                            start: function() {
                                return j
                            },
                            end: l
                        }
                    }

                    function O() {
                        function e() {
                            if (!B) {
                                if (b(!1), I(K, function(e) {
                                        R.style[e[0]] = e[1]
                                    }), P(t, n), i.addClass(t, rt), ut.recalculateTimingStyles) {
                                    if (it = R.className + " " + nt, ot = g(R, it), lt = S(R, it, ot), ct = lt.maxDelay, U = Math.max(ct, 0), G = lt.maxDuration, 0 === G) return void h();
                                    ut.hasTransitions = 0 < lt.transitionDuration, ut.hasAnimations = 0 < lt.animationDuration
                                }
                                if (ut.applyTransitionDelay || ut.applyAnimationDelay) {
                                    ct = "boolean" != typeof n.delay && _(n.delay) ? parseFloat(n.delay) : ct, U = Math.max(ct, 0);
                                    var e;
                                    ut.applyTransitionDelay && (lt.transitionDelay = ct, e = [q, ct + "s"], K.push(e), R.style[e[0]] = e[1]), ut.applyAnimationDelay && (lt.animationDelay = ct, e = [W, ct + "s"], K.push(e), R.style[e[0]] = e[1])
                                }
                                if (Y = 1e3 * U, X = 1e3 * G, n.easing) {
                                    var c = n.easing;
                                    ut.hasTransitions && (e = T + "TimingFunction", K.push([e, c]), R.style[e] = c), ut.hasAnimations && (e = D + "TimingFunction", K.push([e, c]), R.style[e] = c)
                                }
                                lt.transitionDuration && l.push(E), lt.animationDuration && l.push(A), s = Date.now(), t.on(l.join(" "), o), a(r, Y + 1.5 * X), m(t, n)
                            }
                        }

                        function r() {
                            h()
                        }

                        function o(e) {
                            e.stopPropagation();
                            var t = e.originalEvent || e;
                            e = t.$manualTimeStamp || t.timeStamp || Date.now(), t = parseFloat(t.elapsedTime.toFixed(3)), Math.max(e - s, 0) >= Y && t >= G && (H = !0, h())
                        }
                        if (!B) {
                            var s, l = [],
                                c = function(e) {
                                    if (H) F && e && (F = !1, h());
                                    else if (F = !e, lt.animationDuration)
                                        if (e = C(R, F), F) K.push(e);
                                        else {
                                            var t = K,
                                                n = t.indexOf(e);
                                            e >= 0 && t.splice(n, 1)
                                        }
                                },
                                u = at > 0 && (lt.transitionDuration && 0 === st.transitionDuration || lt.animationDuration && 0 === st.animationDuration) && Math.max(st.animationDelay, st.transitionDelay);
                            u ? a(e, Math.floor(u * at * 1e3), !1) : e(), L.resume = function() {
                                c(!0)
                            }, L.pause = function() {
                                c(!1)
                            }
                        }
                    }
                    var R = y(t);
                    n = d(n);
                    var B, F, H, j, L, U, Y, G, X, K = [],
                        Z = t.attr("class"),
                        Q = o(n);
                    if (0 === n.duration || !c.animations && !c.transitions) return N();
                    var J = n.event && M(n.event) ? n.event.join(" ") : n.event,
                        et = "",
                        tt = "";
                    J && n.structural ? et = s(J, "ng-", !0) : J && (et = J), n.addClass && (tt += s(n.addClass, "-add")), n.removeClass && (tt.length && (tt += " "), tt += s(n.removeClass, "-remove")), n.applyClassesEarly && tt.length && (P(t, n), tt = "");
                    var nt = [et, tt].join(" ").trim(),
                        it = Z + " " + nt,
                        rt = s(nt, "-active"),
                        Z = Q.to && 0 < Object.keys(Q.to).length;
                    if (!Z && !nt) return N();
                    var ot, st;
                    0 < n.stagger ? (Q = parseFloat(n.stagger), st = {
                        transitionDelay: Q,
                        animationDelay: Q,
                        transitionDuration: 0,
                        animationDuration: 0
                    }) : (ot = g(R, it), st = v(R, nt, ot, V)), i.addClass(t, nt), n.transitionStyle && (Q = [T, n.transitionStyle], k(R, Q), K.push(Q)), 0 <= n.duration && (Q = 0 < R.style[T].length, Q = x(n.duration, Q), k(R, Q), K.push(Q)), n.keyframeStyle && (Q = [D, n.keyframeStyle], k(R, Q), K.push(Q));
                    var at = st ? 0 <= n.staggerIndex ? n.staggerIndex : e.count(ot) : 0;
                    (J = 0 === at) && $(R, 9999);
                    var lt = S(R, it, ot),
                        ct = lt.maxDelay;
                    U = Math.max(ct, 0), G = lt.maxDuration;
                    var ut = {};
                    return ut.hasTransitions = 0 < lt.transitionDuration, ut.hasAnimations = 0 < lt.animationDuration, ut.hasTransitionAll = ut.hasTransitions && "all" == lt.transitionProperty, ut.applyTransitionDuration = Z && (ut.hasTransitions && !ut.hasTransitionAll || ut.hasAnimations && !ut.hasTransitions), ut.applyAnimationDuration = n.duration && ut.hasAnimations, ut.applyTransitionDelay = _(n.delay) && (ut.applyTransitionDuration || ut.hasTransitions), ut.applyAnimationDelay = _(n.delay) && ut.hasAnimations, ut.recalculateTimingStyles = 0 < tt.length, (ut.applyTransitionDuration || ut.applyAnimationDuration) && (G = n.duration ? parseFloat(n.duration) : G, ut.applyTransitionDuration && (ut.hasTransitions = !0, lt.transitionDuration = G, Q = 0 < R.style[T + "Property"].length, K.push(x(G, Q))), ut.applyAnimationDuration && (ut.hasAnimations = !0, lt.animationDuration = G, K.push([z, G + "s"]))), 0 !== G || ut.recalculateTimingStyles ? (null == n.duration && 0 < lt.transitionDuration && (ut.recalculateTimingStyles = ut.recalculateTimingStyles || J), Y = 1e3 * U, X = 1e3 * G, n.skipBlocking || (ut.blockTransition = 0 < lt.transitionDuration, ut.blockKeyframeAnimation = 0 < lt.animationDuration && 0 < st.animationDelay && 0 === st.animationDuration), p(t, n), ut.blockTransition || $(R, !1), b(G), {
                        $$willAnimate: !0,
                        end: l,
                        start: function() {
                            return B ? void 0 : (L = {
                                end: l,
                                cancel: u,
                                resume: null,
                                pause: null
                            }, j = new r(L), w(O), j)
                        }
                    }) : N()
                }
            }]
        }]).provider("$$animateCssDriver", ["$$animationProvider", function(e) {
            e.drivers.push("$$animateCssDriver"), this.$get = ["$animateCss", "$rootScope", "$$AnimateRunner", "$rootElement", "$document", "$sniffer", function(e, t, n, i, r, o) {
                function s(e) {
                    return e.replace(/\bng-\S+\b/g, "")
                }

                function a(e, t) {
                    return R(e) && (e = e.split(" ")), R(t) && (t = t.split(" ")), e.filter(function(e) {
                        return -1 === t.indexOf(e)
                    }).join(" ")
                }

                function l(t, i, r) {
                    function o(e) {
                        var t = {},
                            n = y(e).getBoundingClientRect();
                        return I(["width", "height", "top", "left"], function(e) {
                            var i = n[e];
                            switch (e) {
                                case "top":
                                    i += h.scrollTop;
                                    break;
                                case "left":
                                    i += h.scrollLeft
                            }
                            t[e] = Math.floor(i) + "px"
                        }), t
                    }

                    function l() {
                        var t = s(r.attr("class") || ""),
                            n = a(t, f),
                            t = a(f, t),
                            n = e(u, {
                                to: o(r),
                                addClass: "ng-anchor-in " + n,
                                removeClass: "ng-anchor-out " + t,
                                delay: !0
                            });
                        return n.$$willAnimate ? n : null
                    }

                    function c() {
                        u.remove(), i.removeClass("ng-animate-shim"), r.removeClass("ng-animate-shim")
                    }
                    var u = O(y(i).cloneNode(!0)),
                        f = s(u.attr("class") || "");
                    i.addClass("ng-animate-shim"), r.addClass("ng-animate-shim"), u.addClass("ng-anchor"), d.append(u);
                    var p;
                    if (t = function() {
                            var t = e(u, {
                                addClass: "ng-anchor-out",
                                delay: !0,
                                from: o(i)
                            });
                            return t.$$willAnimate ? t : null
                        }(), !t && (p = l(), !p)) return c();
                    var m = t || p;
                    return {
                        start: function() {
                            function e() {
                                i && i.end()
                            }
                            var t, i = m.start();
                            return i.done(function() {
                                return i = null, !p && (p = l()) ? (i = p.start(), i.done(function() {
                                    i = null, c(), t.complete()
                                }), i) : (c(), void t.complete())
                            }), t = new n({
                                end: e,
                                cancel: e
                            })
                        }
                    }
                }

                function c(e, t, i, r) {
                    var o = u(e),
                        s = u(t),
                        a = [];
                    return I(r, function(e) {
                        (e = l(i, e.out, e["in"])) && a.push(e)
                    }), o || s || 0 !== a.length ? {
                        start: function() {
                            function e() {
                                I(t, function(e) {
                                    e.end()
                                })
                            }
                            var t = [];
                            o && t.push(o.start()), s && t.push(s.start()), I(a, function(e) {
                                t.push(e.start())
                            });
                            var i = new n({
                                end: e,
                                cancel: e
                            });
                            return n.all(t, function(e) {
                                i.complete(e)
                            }), i
                        }
                    } : void 0
                }

                function u(t) {
                    var n = t.element,
                        i = t.options || {};
                    return t.structural ? (i.structural = i.applyClassesEarly = !0, i.event = t.event, "leave" === i.event && (i.onDone = i.domOperation)) : i.event = null, t = e(n, i), t.$$willAnimate ? t : null
                }
                if (!o.animations && !o.transitions) return P;
                var h = y(r).body;
                t = y(i);
                var d = O(h.parentNode === t ? h : t);
                return function(e) {
                    return e.from && e.to ? c(e.from, e.to, e.classes, e.anchors) : u(e)
                }
            }]
        }]).provider("$$animateJs", ["$animateProvider", function(e) {
            this.$get = ["$injector", "$$AnimateRunner", "$$rAFMutex", "$$jqLite", function(t, n, i, r) {
                function o(n) {
                    n = M(n) ? n : n.split(" ");
                    for (var i = [], r = {}, o = 0; o < n.length; o++) {
                        var s = n[o],
                            a = e.$$registeredAnimations[s];
                        a && !r[s] && (i.push(t.get(a)), r[s] = !0)
                    }
                    return i
                }
                var s = h(r);
                return function(e, t, i, r) {
                    function a() {
                        r.domOperation(), s(e, r)
                    }

                    function l(e, t, i, r, o) {
                        switch (i) {
                            case "animate":
                                t = [t, r.from, r.to, o];
                                break;
                            case "setClass":
                                t = [t, m, g, o];
                                break;
                            case "addClass":
                                t = [t, m, o];
                                break;
                            case "removeClass":
                                t = [t, g, o];
                                break;
                            default:
                                t = [t, o]
                        }
                        if (t.push(r), e = e.apply(e, t))
                            if (j(e.start) && (e = e.start()), e instanceof n) e.done(o);
                            else if (j(e)) return e;
                        return P
                    }

                    function c(e, t, i, r, o) {
                        var s = [];
                        return I(r, function(r) {
                            var a = r[o];
                            a && s.push(function() {
                                var r, o, s = !1,
                                    c = function(e) {
                                        s || (s = !0, (o || P)(e), r.complete(!e))
                                    };
                                return r = new n({
                                    end: function() {
                                        c()
                                    },
                                    cancel: function() {
                                        c(!0)
                                    }
                                }), o = l(a, e, t, i, function(e) {
                                    c(!1 === e)
                                }), r
                            })
                        }), s
                    }

                    function u(e, t, i, r, o) {
                        var s = c(e, t, i, r, o);
                        if (0 === s.length) {
                            var a, l;
                            "beforeSetClass" === o ? (a = c(e, "removeClass", i, r, "beforeRemoveClass"), l = c(e, "addClass", i, r, "beforeAddClass")) : "setClass" === o && (a = c(e, "removeClass", i, r, "removeClass"), l = c(e, "addClass", i, r, "addClass")), a && (s = s.concat(a)), l && (s = s.concat(l))
                        }
                        return 0 !== s.length ? function(e) {
                            var t = [];
                            return s.length && I(s, function(e) {
                                    t.push(e())
                                }), t.length ? n.all(t, e) : e(),
                                function(e) {
                                    I(t, function(t) {
                                        e ? t.cancel() : t.end()
                                    })
                                }
                        } : void 0
                    }
                    3 === arguments.length && B(i) && (r = i, i = null), r = d(r), i || (i = e.attr("class") || "", r.addClass && (i += " " + r.addClass), r.removeClass && (i += " " + r.removeClass));
                    var h, p, m = r.addClass,
                        g = r.removeClass,
                        v = o(i);
                    if (v.length) {
                        var y, b;
                        "leave" == t ? (b = "leave", y = "afterLeave") : (b = "before" + t.charAt(0).toUpperCase() + t.substr(1), y = t), "enter" !== t && "move" !== t && (h = u(e, t, r, v, b)), p = u(e, t, r, v, y)
                    }
                    return h || p ? {
                        start: function() {
                            function t(t) {
                                s = !0, a(), f(e, r), l.complete(t)
                            }
                            var i, o = [];
                            h && o.push(function(e) {
                                i = h(e)
                            }), o.length ? o.push(function(e) {
                                a(), e(!0)
                            }) : a(), p && o.push(function(e) {
                                i = p(e)
                            });
                            var s = !1,
                                l = new n({
                                    end: function() {
                                        s || ((i || P)(void 0), t(void 0))
                                    },
                                    cancel: function() {
                                        s || ((i || P)(!0), t(!0))
                                    }
                                });
                            return n.chain(o, t), l
                        }
                    } : void 0
                }
            }]
        }]).provider("$$animateJsDriver", ["$$animationProvider", function(e) {
            e.drivers.push("$$animateJsDriver"), this.$get = ["$$animateJs", "$$AnimateRunner", function(e, t) {
                function n(t) {
                    return e(t.element, t.event, t.classes, t.options)
                }
                return function(e) {
                    if (!e.from || !e.to) return n(e);
                    var i = n(e.from),
                        r = n(e.to);
                    return i || r ? {
                        start: function() {
                            function e() {
                                return function() {
                                    I(n, function(e) {
                                        e.end()
                                    })
                                }
                            }
                            var n = [];
                            i && n.push(i.start()), r && n.push(r.start()), t.all(n, function(e) {
                                o.complete(e)
                            });
                            var o = new t({
                                end: e(),
                                cancel: e()
                            });
                            return o
                        }
                    } : void 0
                }
            }]
        }])
    }(window, window.angular),
    function(e, t, n) {
        "use strict";

        function i(e, i, r) {
            var o = r.baseHref(),
                s = e[0];
            return function(e, r, a) {
                var l, c;
                a = a || {}, c = a.expires, l = t.isDefined(a.path) ? a.path : o, r === n && (c = "Thu, 01 Jan 1970 00:00:00 GMT", r = ""), t.isString(c) && (c = new Date(c)), r = encodeURIComponent(e) + "=" + encodeURIComponent(r), r = r + (l ? ";path=" + l : "") + (a.domain ? ";domain=" + a.domain : ""), r += c ? ";expires=" + c.toUTCString() : "", r += a.secure ? ";secure" : "", a = r.length + 1, a > 4096 && i.warn("Cookie '" + e + "' possibly not set or overflowed because it was too large (" + a + " > 4096 bytes)!"), s.cookie = r
            }
        }
        t.module("ngCookies", ["ng"]).provider("$cookies", [function() {
            var e = this.defaults = {};
            this.$get = ["$$cookieReader", "$$cookieWriter", function(i, r) {
                return {
                    get: function(e) {
                        return i()[e]
                    },
                    getObject: function(e) {
                        return (e = this.get(e)) ? t.fromJson(e) : e
                    },
                    getAll: function() {
                        return i()
                    },
                    put: function(n, i, o) {
                        r(n, i, o ? t.extend({}, e, o) : e)
                    },
                    putObject: function(e, n, i) {
                        this.put(e, t.toJson(n), i)
                    },
                    remove: function(i, o) {
                        r(i, n, o ? t.extend({}, e, o) : e)
                    }
                }
            }]
        }]), t.module("ngCookies").factory("$cookieStore", ["$cookies", function(e) {
            return {
                get: function(t) {
                    return e.getObject(t)
                },
                put: function(t, n) {
                    e.putObject(t, n)
                },
                remove: function(t) {
                    e.remove(t)
                }
            }
        }]), i.$inject = ["$document", "$log", "$browser"], t.module("ngCookies").provider("$$cookieWriter", function() {
            this.$get = i
        })
    }(window, window.angular), "undefined" != typeof module && "undefined" != typeof exports && module.exports === exports && (module.exports = "ui.router"),
    function(e, t, n) {
        "use strict";

        function i(e, t) {
            return M(new(M(function() {}, {
                prototype: e
            })), t)
        }

        function r(e) {
            return I(arguments, function(t) {
                t !== e && I(t, function(t, n) {
                    e.hasOwnProperty(n) || (e[n] = t)
                })
            }), e
        }

        function o(e, t) {
            var n = [];
            for (var i in e.path) {
                if (e.path[i] !== t.path[i]) break;
                n.push(e.path[i])
            }
            return n
        }

        function s(e) {
            if (Object.keys) return Object.keys(e);
            var n = [];
            return t.forEach(e, function(e, t) {
                n.push(t)
            }), n
        }

        function a(e, t) {
            if (Array.prototype.indexOf) return e.indexOf(t, Number(arguments[2]) || 0);
            var n = e.length >>> 0,
                i = Number(arguments[2]) || 0;
            for (i = 0 > i ? Math.ceil(i) : Math.floor(i), 0 > i && (i += n); n > i; i++)
                if (i in e && e[i] === t) return i;
            return -1
        }

        function l(e, t, n, i) {
            var r, l = o(n, i),
                c = {},
                u = [];
            for (var h in l)
                if (l[h].params && (r = s(l[h].params), r.length))
                    for (var d in r) a(u, r[d]) >= 0 || (u.push(r[d]), c[r[d]] = e[r[d]]);
            return M({}, c, t)
        }

        function c(e, t, n) {
            if (!n) {
                n = [];
                for (var i in e) n.push(i)
            }
            for (var r = 0; r < n.length; r++) {
                var o = n[r];
                if (e[o] != t[o]) return !1
            }
            return !0
        }

        function u(e, t) {
            var n = {};
            return I(e, function(e) {
                n[e] = t[e]
            }), n
        }

        function h(e, t) {
            var i = 1,
                o = 2,
                s = {},
                a = [],
                l = s,
                c = M(e.when(s), {
                    $$promises: s,
                    $$values: s
                });
            this.study = function(s) {
                function u(e, n) {
                    if (p[n] !== o) {
                        if (f.push(n), p[n] === i) throw f.splice(0, f.indexOf(n)), new Error("Cyclic dependency: " + f.join(" -> "));
                        if (p[n] = i, P(e)) d.push(n, [function() {
                            return t.get(e)
                        }], a);
                        else {
                            var r = t.annotate(e);
                            I(r, function(e) {
                                e !== n && s.hasOwnProperty(e) && u(s[e], e)
                            }), d.push(n, e, r)
                        }
                        f.pop(), p[n] = o
                    }
                }

                function h(e) {
                    return N(e) && e.then && e.$$promises
                }
                if (!N(s)) throw new Error("'invocables' must be an object");
                var d = [],
                    f = [],
                    p = {};
                return I(s, u), s = f = p = null,
                    function(i, o, s) {
                        function a() {
                            --y || (b || r(v, o.$$values), m.$$values = v, m.$$promises = !0, delete m.$$inheritedValues, p.resolve(v))
                        }

                        function u(e) {
                            m.$$failure = e, p.reject(e)
                        }

                        function f(n, r, o) {
                            function l(e) {
                                h.reject(e), u(e)
                            }

                            function c() {
                                if (!D(m.$$failure)) try {
                                    h.resolve(t.invoke(r, s, v)), h.promise.then(function(e) {
                                        v[n] = e, a()
                                    }, l)
                                } catch (e) {
                                    l(e)
                                }
                            }
                            var h = e.defer(),
                                d = 0;
                            I(o, function(e) {
                                g.hasOwnProperty(e) && !i.hasOwnProperty(e) && (d++, g[e].then(function(t) {
                                    v[e] = t, --d || c()
                                }, l))
                            }), d || c(), g[n] = h.promise
                        }
                        if (h(i) && s === n && (s = o, o = i, i = null), i) {
                            if (!N(i)) throw new Error("'locals' must be an object")
                        } else i = l;
                        if (o) {
                            if (!h(o)) throw new Error("'parent' must be a promise returned by $resolve.resolve()")
                        } else o = c;
                        var p = e.defer(),
                            m = p.promise,
                            g = m.$$promises = {},
                            v = M({}, i),
                            y = 1 + d.length / 3,
                            b = !1;
                        if (D(o.$$failure)) return u(o.$$failure), m;
                        o.$$inheritedValues && r(v, o.$$inheritedValues), o.$$values ? (b = r(v, o.$$values), m.$$inheritedValues = o.$$values, a()) : (o.$$inheritedValues && (m.$$inheritedValues = o.$$inheritedValues), M(g, o.$$promises), o.then(a, u));
                        for (var w = 0, _ = d.length; _ > w; w += 3) i.hasOwnProperty(d[w]) ? a() : f(d[w], d[w + 1], d[w + 2]);
                        return m
                    }
            }, this.resolve = function(e, t, n, i) {
                return this.study(e)(t, n, i)
            }
        }

        function d(e, t, n) {
            this.fromConfig = function(e, t, n) {
                return D(e.template) ? this.fromString(e.template, t) : D(e.templateUrl) ? this.fromUrl(e.templateUrl, t) : D(e.templateProvider) ? this.fromProvider(e.templateProvider, t, n) : null
            }, this.fromString = function(e, t) {
                return A(e) ? e(t) : e
            }, this.fromUrl = function(n, i) {
                return A(n) && (n = n(i)), null == n ? null : e.get(n, {
                    cache: t
                }).then(function(e) {
                    return e.data
                })
            }, this.fromProvider = function(e, t, i) {
                return n.invoke(e, null, i || {
                    params: t
                })
            }
        }

        function f(e, i) {
            function r(e) {
                return D(e) ? this.type.decode(e) : m.$$getDefaultValue(this)
            }

            function o(t, n, i) {
                if (!/^\w+(-+\w+)*$/.test(t)) throw new Error("Invalid parameter name '" + t + "' in pattern '" + e + "'");
                if (f[t]) throw new Error("Duplicate parameter name '" + t + "' in pattern '" + e + "'");
                f[t] = M({
                    type: n || new p,
                    $value: r
                }, i)
            }

            function s(e, t, n) {
                var i = e.replace(/[\\\[\]\^$*+?.()|{}]/g, "\\$&");
                if (!t) return i;
                var r = n ? "?" : "";
                return i + r + "(" + t + ")" + r
            }

            function a(e) {
                if (!i.params || !i.params[e]) return {};
                var t = i.params[e];
                return N(t) ? t : {
                    value: t
                }
            }
            i = t.isObject(i) ? i : {};
            var l, c = /([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,
                u = "^",
                h = 0,
                d = this.segments = [],
                f = this.params = {};
            this.source = e;
            for (var g, v, y, b, w;
                (l = c.exec(e)) && (g = l[2] || l[3], v = l[4] || ("*" == l[1] ? ".*" : "[^/]*"), y = e.substring(h, l.index), b = this.$types[v] || new p({
                    pattern: new RegExp(v)
                }), w = a(g), !(y.indexOf("?") >= 0));) u += s(y, b.$subPattern(), D(w.value)), o(g, b, w), d.push(y), h = c.lastIndex;
            y = e.substring(h);
            var _ = y.indexOf("?");
            if (_ >= 0) {
                var x = this.sourceSearch = y.substring(_);
                y = y.substring(0, _), this.sourcePath = e.substring(0, h + _), I(x.substring(1).split(/[&?]/), function(e) {
                    o(e, null, a(e))
                })
            } else this.sourcePath = e, this.sourceSearch = "";
            u += s(y) + (i.strict === !1 ? "/?" : "") + "$", d.push(y), this.regexp = new RegExp(u, i.caseInsensitive ? "i" : n), this.prefix = d[0]
        }

        function p(e) {
            M(this, e)
        }

        function m() {
            function e() {
                return {
                    strict: o,
                    caseInsensitive: r
                }
            }

            function t(e) {
                return A(e) || O(e) && A(e[e.length - 1])
            }

            function n() {
                I(a, function(e) {
                    if (f.prototype.$types[e.name]) throw new Error("A type named '" + e.name + "' has already been defined.");
                    var n = new p(t(e.def) ? i.invoke(e.def) : e.def);
                    f.prototype.$types[e.name] = n
                })
            }
            var i, r = !1,
                o = !0,
                s = !0,
                a = [],
                l = {
                    "int": {
                        decode: function(e) {
                            return parseInt(e, 10)
                        },
                        is: function(e) {
                            return D(e) ? this.decode(e.toString()) === e : !1
                        },
                        pattern: /\d+/
                    },
                    bool: {
                        encode: function(e) {
                            return e ? 1 : 0
                        },
                        decode: function(e) {
                            return 0 === parseInt(e, 10) ? !1 : !0
                        },
                        is: function(e) {
                            return e === !0 || e === !1
                        },
                        pattern: /0|1/
                    },
                    string: {
                        pattern: /[^\/]*/
                    },
                    date: {
                        equals: function(e, t) {
                            return e.toISOString() === t.toISOString()
                        },
                        decode: function(e) {
                            return new Date(e)
                        },
                        encode: function(e) {
                            return [e.getFullYear(), ("0" + (e.getMonth() + 1)).slice(-2), ("0" + e.getDate()).slice(-2)].join("-")
                        },
                        pattern: /[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/
                    }
                };
            m.$$getDefaultValue = function(e) {
                if (!t(e.value)) return e.value;
                if (!i) throw new Error("Injectable functions cannot be called at configuration time");
                return i.invoke(e.value)
            }, this.caseInsensitive = function(e) {
                r = e
            }, this.strictMode = function(e) {
                o = e
            }, this.compile = function(t, n) {
                return new f(t, M(e(), n))
            }, this.isMatcher = function(e) {
                if (!N(e)) return !1;
                var t = !0;
                return I(f.prototype, function(n, i) {
                    A(n) && (t = t && D(e[i]) && A(e[i]))
                }), t
            }, this.type = function(e, t) {
                return D(t) ? (a.push({
                    name: e,
                    def: t
                }), s || n(), this) : f.prototype.$types[e]
            }, this.$get = ["$injector", function(e) {
                return i = e, s = !1, f.prototype.$types = {}, n(), I(l, function(e, t) {
                    f.prototype.$types[t] || (f.prototype.$types[t] = new p(e))
                }), this
            }]
        }

        function g(e, t) {
            function i(e) {
                var t = /^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(e.source);
                return null != t ? t[1].replace(/\\(.)/g, "$1") : ""
            }

            function r(e, t) {
                return e.replace(/\$(\$|\d{1,2})/, function(e, n) {
                    return t["$" === n ? 0 : Number(n)]
                })
            }

            function o(e, t, n) {
                if (!n) return !1;
                var i = e.invoke(t, t, {
                    $match: n
                });
                return D(i) ? i : !0
            }

            function s(t, n, i, r) {
                function o(e, t, n) {
                    return "/" === d ? e : t ? d.slice(0, -1) + e : n ? d.slice(1) + e : e
                }

                function s(e) {
                    function n(e) {
                        var n = e(i, t);
                        return n ? (P(n) && t.replace().url(n), !0) : !1
                    }
                    if (!e || !e.defaultPrevented) {
                        var r, o = l.length;
                        for (r = 0; o > r; r++)
                            if (n(l[r])) return;
                        c && n(c)
                    }
                }

                function h() {
                    return a = a || n.$on("$locationChangeSuccess", s)
                }
                var d = r.baseHref(),
                    f = t.url();
                return u || h(), {
                    sync: function() {
                        s()
                    },
                    listen: function() {
                        return h()
                    },
                    update: function(e) {
                        return e ? void(f = t.url()) : void(t.url() !== f && (t.url(f), t.replace()))
                    },
                    push: function(e, n, i) {
                        t.url(e.format(n || {})), i && i.replace && t.replace()
                    },
                    href: function(n, i, r) {
                        if (!n.validates(i)) return null;
                        var s = e.html5Mode(),
                            a = n.format(i);
                        if (r = r || {}, s || null === a || (a = "#" + e.hashPrefix() + a), a = o(a, s, r.absolute), !r.absolute || !a) return a;
                        var l = !s && a ? "/" : "",
                            c = t.port();
                        return c = 80 === c || 443 === c ? "" : ":" + c, [t.protocol(), "://", t.host(), c, l, a].join("")
                    }
                }
            }
            var a, l = [],
                c = null,
                u = !1;
            this.rule = function(e) {
                if (!A(e)) throw new Error("'rule' must be a function");
                return l.push(e), this
            }, this.otherwise = function(e) {
                if (P(e)) {
                    var t = e;
                    e = function() {
                        return t
                    }
                } else if (!A(e)) throw new Error("'rule' must be a function");
                return c = e, this
            }, this.when = function(e, n) {
                var s, a = P(n);
                if (P(e) && (e = t.compile(e)), !a && !A(n) && !O(n)) throw new Error("invalid 'handler' in when()");
                var l = {
                        matcher: function(e, n) {
                            return a && (s = t.compile(n), n = ["$match", function(e) {
                                return s.format(e)
                            }]), M(function(t, i) {
                                return o(t, n, e.exec(i.path(), i.search()))
                            }, {
                                prefix: P(e.prefix) ? e.prefix : ""
                            })
                        },
                        regex: function(e, t) {
                            if (e.global || e.sticky) throw new Error("when() RegExp must not be global or sticky");
                            return a && (s = t, t = ["$match", function(e) {
                                return r(s, e)
                            }]), M(function(n, i) {
                                return o(n, t, e.exec(i.path()))
                            }, {
                                prefix: i(e)
                            })
                        }
                    },
                    c = {
                        matcher: t.isMatcher(e),
                        regex: e instanceof RegExp
                    };
                for (var u in c)
                    if (c[u]) return this.rule(l[u](e, n));
                throw new Error("invalid 'what' in when()")
            }, this.deferIntercept = function(e) {
                e === n && (e = !0), u = e
            }, this.$get = s, s.$inject = ["$location", "$rootScope", "$injector", "$browser"]
        }

        function v(e, r) {
            function o(e) {
                return 0 === e.indexOf(".") || 0 === e.indexOf("^")
            }

            function a(e, t) {
                if (!e) return n;
                var i = P(e),
                    r = i ? e : e.name,
                    s = o(r);
                if (s) {
                    if (!t) throw new Error("No reference point given for path '" + r + "'");
                    for (var a = r.split("."), l = 0, c = a.length, u = t; c > l; l++)
                        if ("" !== a[l] || 0 !== l) {
                            if ("^" !== a[l]) break;
                            if (!u.parent) throw new Error("Path '" + r + "' not valid for state '" + t.name + "'");
                            u = u.parent
                        } else u = t;
                    a = a.slice(l).join("."), r = u.name + (u.name && a ? "." : "") + a
                }
                var h = _[r];
                return !h || !i && (i || h !== e && h.self !== e) ? n : h
            }

            function h(e, t) {
                x[e] || (x[e] = []), x[e].push(t)
            }

            function d(t) {
                t = i(t, {
                    self: t,
                    resolve: t.resolve || {},
                    toString: function() {
                        return this.name
                    }
                });
                var n = t.name;
                if (!P(n) || n.indexOf("@") >= 0) throw new Error("State must have a valid name");
                if (_.hasOwnProperty(n)) throw new Error("State '" + n + "'' is already defined");
                var r = -1 !== n.indexOf(".") ? n.substring(0, n.lastIndexOf(".")) : P(t.parent) ? t.parent : "";
                if (r && !_[r]) return h(r, t.self);
                for (var o in C) A(C[o]) && (t[o] = C[o](t, C.$delegates[o]));
                if (_[n] = t, !t[$] && t.url && e.when(t.url, ["$match", "$stateParams", function(e, n) {
                        w.$current.navigable == t && c(e, n) || w.transitionTo(t, e, {
                            location: !1
                        })
                    }]), x[n])
                    for (var s = 0; s < x[n].length; s++) d(x[n][s]);
                return t
            }

            function f(e) {
                return e.indexOf("*") > -1
            }

            function p(e) {
                var t = e.split("."),
                    n = w.$current.name.split(".");
                if ("**" === t[0] && (n = n.slice(n.indexOf(t[1])), n.unshift("**")), "**" === t[t.length - 1] && (n.splice(n.indexOf(t[t.length - 2]) + 1, Number.MAX_VALUE), n.push("**")), t.length != n.length) return !1;
                for (var i = 0, r = t.length; r > i; i++) "*" === t[i] && (n[i] = "*");
                return n.join("") === t.join("")
            }

            function m(e, t) {
                return P(e) && !D(t) ? C[e] : A(t) && P(e) ? (C[e] && !C.$delegates[e] && (C.$delegates[e] = C[e]), C[e] = t, this) : this
            }

            function g(e, t) {
                return N(e) ? t = e : t.name = e, d(t), this
            }

            function v(e, r, o, h, d, m, g) {
                function v(t, n, i, o) {
                    var s = e.$broadcast("$stateNotFound", t, n, i);
                    if (s.defaultPrevented) return g.update(), S;
                    if (!s.retry) return null;
                    if (o.$retry) return g.update(), T;
                    var a = w.transition = r.when(s.retry);
                    return a.then(function() {
                        return a !== w.transition ? C : (t.options.$retry = !0, w.transitionTo(t.to, t.toParams, t.options))
                    }, function() {
                        return S
                    }), g.update(), a
                }

                function x(e, n, i, a, l) {
                    var c = i ? n : u(s(e.params), n),
                        f = {
                            $stateParams: c
                        };
                    l.resolve = d.resolve(e.resolve, f, l.resolve, e);
                    var p = [l.resolve.then(function(e) {
                        l.globals = e
                    })];
                    return a && p.push(a), I(e.views, function(n, i) {
                        var r = n.resolve && n.resolve !== e.resolve ? n.resolve : {};
                        r.$template = [function() {
                            return o.load(i, {
                                view: n,
                                locals: f,
                                params: c
                            }) || ""
                        }], p.push(d.resolve(r, f, l.resolve, e).then(function(o) {
                            if (A(n.controllerProvider) || O(n.controllerProvider)) {
                                var s = t.extend({}, r, f);
                                o.$$controller = h.invoke(n.controllerProvider, null, s)
                            } else o.$$controller = n.controller;
                            o.$$state = e, o.$$controllerAs = n.controllerAs, l[i] = o
                        }))
                    }), r.all(p).then(function() {
                        return l
                    })
                }
                var C = r.reject(new Error("transition superseded")),
                    k = r.reject(new Error("transition prevented")),
                    S = r.reject(new Error("transition aborted")),
                    T = r.reject(new Error("transition failed"));
                return b.locals = {
                    resolve: null,
                    globals: {
                        $stateParams: {}
                    }
                }, w = {
                    params: {},
                    current: b.self,
                    $current: b,
                    transition: null
                }, w.reload = function() {
                    w.transitionTo(w.current, m, {
                        reload: !0,
                        inherit: !1,
                        notify: !1
                    })
                }, w.go = function(e, t, n) {
                    return w.transitionTo(e, t, M({
                        inherit: !0,
                        relative: w.$current
                    }, n))
                }, w.transitionTo = function(t, n, o) {
                    n = n || {}, o = M({
                        location: !0,
                        inherit: !1,
                        relative: null,
                        notify: !0,
                        reload: !1,
                        $retry: !1
                    }, o || {});
                    var d, f = w.$current,
                        p = w.params,
                        _ = f.path,
                        S = a(t, o.relative);
                    if (!D(S)) {
                        var T = {
                                to: t,
                                toParams: n,
                                options: o
                            },
                            E = v(T, f.self, p, o);
                        if (E) return E;
                        if (t = T.to, n = T.toParams, o = T.options, S = a(t, o.relative), !D(S)) {
                            if (!o.relative) throw new Error("No such state '" + t + "'");
                            throw new Error("Could not resolve '" + t + "' from state '" + o.relative + "'")
                        }
                    }
                    if (S[$]) throw new Error("Cannot transition to abstract state '" + t + "'");
                    o.inherit && (n = l(m, n || {}, w.$current, S)), t = S;
                    var A = t.path,
                        P = 0,
                        N = A[P],
                        O = b.locals,
                        I = [];
                    if (!o.reload)
                        for (; N && N === _[P] && c(n, p, N.ownParams);) O = I[P] = N.locals, P++, N = A[P];
                    if (y(t, f, O, o)) return t.self.reloadOnSearch !== !1 && g.update(), w.transition = null, r.when(w.current);
                    if (n = u(s(t.params), n || {}), o.notify && e.$broadcast("$stateChangeStart", t.self, n, f.self, p).defaultPrevented) return g.update(), k;
                    for (var B = r.when(O), F = P; F < A.length; F++, N = A[F]) O = I[F] = i(O), B = x(N, n, N === t, B, O);
                    var H = w.transition = B.then(function() {
                        var i, r, s;
                        if (w.transition !== H) return C;
                        for (i = _.length - 1; i >= P; i--) s = _[i], s.self.onExit && h.invoke(s.self.onExit, s.self, s.locals.globals), s.locals = null;
                        for (i = P; i < A.length; i++) r = A[i], r.locals = I[i], r.self.onEnter && h.invoke(r.self.onEnter, r.self, r.locals.globals);
                        return w.transition !== H ? C : (w.$current = t, w.current = t.self, w.params = n, R(w.params, m), w.transition = null, o.location && t.navigable && g.push(t.navigable.url, t.navigable.locals.globals.$stateParams, {
                            replace: "replace" === o.location
                        }), o.notify && e.$broadcast("$stateChangeSuccess", t.self, n, f.self, p), g.update(!0), w.current)
                    }, function(i) {
                        return w.transition !== H ? C : (w.transition = null, d = e.$broadcast("$stateChangeError", t.self, n, f.self, p, i), d.defaultPrevented || g.update(), r.reject(i))
                    });
                    return H
                }, w.is = function(e, i) {
                    var r = a(e);
                    return D(r) ? w.$current !== r ? !1 : D(i) && null !== i ? t.equals(m, i) : !0 : n
                }, w.includes = function(e, t) {
                    if (P(e) && f(e)) {
                        if (!p(e)) return !1;
                        e = w.$current.name
                    }
                    var i = a(e);
                    return D(i) ? D(w.$current.includes[i.name]) ? c(t, m) : !1 : n
                }, w.href = function(e, t, n) {
                    n = M({
                        lossy: !0,
                        inherit: !0,
                        absolute: !1,
                        relative: w.$current
                    }, n || {});
                    var i = a(e, n.relative);
                    if (!D(i)) return null;
                    n.inherit && (t = l(m, t || {}, w.$current, i));
                    var r = i && n.lossy ? i.navigable : i;
                    return r && r.url ? g.href(r.url, u(s(i.params), t || {}), {
                        absolute: n.absolute
                    }) : null
                }, w.get = function(e, t) {
                    if (0 === arguments.length) return s(_).map(function(e) {
                        return _[e].self
                    });
                    var n = a(e, t);
                    return n && n.self ? n.self : null
                }, w
            }

            function y(e, t, n, i) {
                return e !== t || (n !== t.locals || i.reload) && e.self.reloadOnSearch !== !1 ? void 0 : !0
            }
            var b, w, _ = {},
                x = {},
                $ = "abstract",
                C = {
                    parent: function(e) {
                        if (D(e.parent) && e.parent) return a(e.parent);
                        var t = /^(.+)\.[^.]+$/.exec(e.name);
                        return t ? a(t[1]) : b
                    },
                    data: function(e) {
                        return e.parent && e.parent.data && (e.data = e.self.data = M({}, e.parent.data, e.data)), e.data
                    },
                    url: function(e) {
                        var t = e.url,
                            n = {
                                params: e.params || {}
                            };
                        if (P(t)) return "^" == t.charAt(0) ? r.compile(t.substring(1), n) : (e.parent.navigable || b).url.concat(t, n);
                        if (!t || r.isMatcher(t)) return t;
                        throw new Error("Invalid url '" + t + "' in state '" + e + "'")
                    },
                    navigable: function(e) {
                        return e.url ? e : e.parent ? e.parent.navigable : null
                    },
                    params: function(e) {
                        return e.params ? e.params : e.url ? e.url.params : e.parent.params
                    },
                    views: function(e) {
                        var t = {};
                        return I(D(e.views) ? e.views : {
                            "": e
                        }, function(n, i) {
                            i.indexOf("@") < 0 && (i += "@" + e.parent.name), t[i] = n
                        }), t
                    },
                    ownParams: function(e) {
                        if (e.params = e.params || {}, !e.parent) return s(e.params);
                        var t = {};
                        I(e.params, function(e, n) {
                            t[n] = !0
                        }), I(e.parent.params, function(n, i) {
                            if (!t[i]) throw new Error("Missing required parameter '" + i + "' in state '" + e.name + "'");
                            t[i] = !1
                        });
                        var n = [];
                        return I(t, function(e, t) {
                            e && n.push(t)
                        }), n
                    },
                    path: function(e) {
                        return e.parent ? e.parent.path.concat(e) : []
                    },
                    includes: function(e) {
                        var t = e.parent ? M({}, e.parent.includes) : {};
                        return t[e.name] = !0, t
                    },
                    $delegates: {}
                };
            b = d({
                name: "",
                url: "^",
                views: null,
                "abstract": !0
            }), b.navigable = null, this.decorator = m, this.state = g, this.$get = v, v.$inject = ["$rootScope", "$q", "$view", "$injector", "$resolve", "$stateParams", "$urlRouter"]
        }

        function y() {
            function e(e, t) {
                return {
                    load: function(n, i) {
                        var r, o = {
                            template: null,
                            controller: null,
                            view: null,
                            locals: null,
                            notify: !0,
                            async: !0,
                            params: {}
                        };
                        return i = M(o, i), i.view && (r = t.fromConfig(i.view, i.params, i.locals)), r && i.notify && e.$broadcast("$viewContentLoading", i), r
                    }
                }
            }
            this.$get = e, e.$inject = ["$rootScope", "$templateFactory"]
        }

        function b() {
            var e = !1;
            this.useAnchorScroll = function() {
                e = !0
            }, this.$get = ["$anchorScroll", "$timeout", function(t, n) {
                return e ? t : function(e) {
                    n(function() {
                        e[0].scrollIntoView()
                    }, 0, !1)
                }
            }]
        }

        function w(e, n, i) {
            function r() {
                return n.has ? function(e) {
                    return n.has(e) ? n.get(e) : null
                } : function(e) {
                    try {
                        return n.get(e)
                    } catch (t) {
                        return null
                    }
                }
            }

            function o(e, t) {
                var n = function() {
                    return {
                        enter: function(e, t, n) {
                            t.after(e), n()
                        },
                        leave: function(e, t) {
                            e.remove(), t()
                        }
                    }
                };
                if (l) return {
                    enter: function(e, t, n) {
                        l.enter(e, null, t, n)
                    },
                    leave: function(e, t) {
                        l.leave(e, t)
                    }
                };
                if (a) {
                    var i = a && a(t, e);
                    return {
                        enter: function(e, t, n) {
                            i.enter(e, null, t), n()
                        },
                        leave: function(e, t) {
                            i.leave(e), t()
                        }
                    }
                }
                return n()
            }
            var s = r(),
                a = s("$animator"),
                l = s("$animate"),
                c = {
                    restrict: "ECA",
                    terminal: !0,
                    priority: 400,
                    transclude: "element",
                    compile: function(n, r, s) {
                        return function(n, r, a) {
                            function l() {
                                u && (u.remove(), u = null), d && (d.$destroy(), d = null), h && (g.leave(h, function() {
                                    u = null
                                }), u = h, h = null)
                            }

                            function c(o) {
                                var c, u = x(a, r.inheritedData("$uiView")),
                                    v = u && e.$current && e.$current.locals[u];
                                if (o || v !== f) {
                                    c = n.$new(), f = e.$current.locals[u];
                                    var y = s(c, function(e) {
                                        g.enter(e, r, function() {
                                            (t.isDefined(m) && !m || n.$eval(m)) && i(e)
                                        }), l()
                                    });
                                    h = y, d = c, d.$emit("$viewContentLoaded"), d.$eval(p)
                                }
                            }
                            var u, h, d, f, p = a.onload || "",
                                m = a.autoscroll,
                                g = o(a, n);
                            n.$on("$stateChangeSuccess", function() {
                                c(!1)
                            }), n.$on("$viewContentLoading", function() {
                                c(!1)
                            }), c(!0)
                        }
                    }
                };
            return c
        }

        function _(e, t, n) {
            return {
                restrict: "ECA",
                priority: -400,
                compile: function(i) {
                    var r = i.html();
                    return function(i, o, s) {
                        var a = n.$current,
                            l = x(s, o.inheritedData("$uiView")),
                            c = a && a.locals[l];
                        if (c) {
                            o.data("$uiView", {
                                name: l,
                                state: c.$$state
                            }), o.html(c.$template ? c.$template : r);
                            var u = e(o.contents());
                            if (c.$$controller) {
                                c.$scope = i;
                                var h = t(c.$$controller, c);
                                c.$$controllerAs && (i[c.$$controllerAs] = h), o.data("$ngControllerController", h), o.children().data("$ngControllerController", h)
                            }
                            u(i)
                        }
                    }
                }
            }
        }

        function x(e, t) {
            var n = e.uiView || e.name || "";
            return n.indexOf("@") >= 0 ? n : n + "@" + (t ? t.state.name : "")
        }

        function $(e, t) {
            var n, i = e.match(/^\s*({[^}]*})\s*$/);
            if (i && (e = t + "(" + i[1] + ")"), n = e.replace(/\n/g, " ").match(/^([^(]+?)\s*(\((.*)\))?$/), !n || 4 !== n.length) throw new Error("Invalid state ref '" + e + "'");
            return {
                state: n[1],
                paramExpr: n[3] || null
            }
        }

        function C(e) {
            var t = e.parent().inheritedData("$uiView");
            return t && t.state && t.state.name ? t.state : void 0
        }

        function k(e, n) {
            var i = ["location", "inherit", "reload"];
            return {
                restrict: "A",
                require: ["?^uiSrefActive", "?^uiSrefActiveEq"],
                link: function(r, o, s, a) {
                    var l = $(s.uiSref, e.current.name),
                        c = null,
                        u = C(o) || e.$current,
                        h = "FORM" === o[0].nodeName,
                        d = h ? "action" : "href",
                        f = !0,
                        p = {
                            relative: u,
                            inherit: !0
                        },
                        m = r.$eval(s.uiSrefOpts) || {};
                    t.forEach(i, function(e) {
                        e in m && (p[e] = m[e])
                    });
                    var g = function(t) {
                        if (t && (c = t), f) {
                            var n = e.href(l.state, c, p),
                                i = a[1] || a[0];
                            return i && i.$$setStateInfo(l.state, c), null === n ? (f = !1, !1) : void(o[0][d] = n)
                        }
                    };
                    l.paramExpr && (r.$watch(l.paramExpr, function(e) {
                        e !== c && g(e)
                    }, !0), c = r.$eval(l.paramExpr)), g(), h || o.bind("click", function(t) {
                        var i = t.which || t.button;
                        if (!(i > 1 || t.ctrlKey || t.metaKey || t.shiftKey || o.attr("target"))) {
                            var r = n(function() {
                                e.go(l.state, c, p)
                            });
                            t.preventDefault(), t.preventDefault = function() {
                                n.cancel(r)
                            }
                        }
                    })
                }
            }
        }

        function S(e, t, n) {
            return {
                restrict: "A",
                controller: ["$scope", "$element", "$attrs", function(i, r, o) {
                    function s() {
                        a() ? r.addClass(d) : r.removeClass(d)
                    }

                    function a() {
                        return "undefined" != typeof o.uiSrefActiveEq ? e.$current.self === u && l() : e.includes(u.name) && l()
                    }

                    function l() {
                        return !h || c(h, t)
                    }
                    var u, h, d;
                    d = n(o.uiSrefActiveEq || o.uiSrefActive || "", !1)(i), this.$$setStateInfo = function(t, n) {
                        u = e.get(t, C(r)), h = n, s()
                    }, i.$on("$stateChangeSuccess", s)
                }]
            }
        }

        function T(e) {
            return function(t) {
                return e.is(t)
            }
        }

        function E(e) {
            return function(t) {
                return e.includes(t)
            }
        }
        var D = t.isDefined,
            A = t.isFunction,
            P = t.isString,
            N = t.isObject,
            O = t.isArray,
            I = t.forEach,
            M = t.extend,
            R = t.copy;
        t.module("ui.router.util", ["ng"]), t.module("ui.router.router", ["ui.router.util"]), t.module("ui.router.state", ["ui.router.router", "ui.router.util"]), t.module("ui.router", ["ui.router.state"]), t.module("ui.router.compat", ["ui.router"]), h.$inject = ["$q", "$injector"], t.module("ui.router.util").service("$resolve", h), d.$inject = ["$http", "$templateCache", "$injector"], t.module("ui.router.util").service("$templateFactory", d), f.prototype.concat = function(e, t) {
            return new f(this.sourcePath + e + this.sourceSearch, t)
        }, f.prototype.toString = function() {
            return this.source
        }, f.prototype.exec = function(e, t) {
            var n = this.regexp.exec(e);
            if (!n) return null;
            t = t || {};
            var i, r, o, s = this.parameters(),
                a = s.length,
                l = this.segments.length - 1,
                c = {};
            if (l !== n.length - 1) throw new Error("Unbalanced capture group in route '" + this.source + "'");
            for (i = 0; l > i; i++) o = s[i], r = this.params[o], c[o] = r.$value(n[i + 1]);
            for (; a > i; i++) o = s[i], r = this.params[o], c[o] = r.$value(t[o]);
            return c
        }, f.prototype.parameters = function(e) {
            return D(e) ? this.params[e] || null : s(this.params)
        }, f.prototype.validates = function(e) {
            var t, n, i = !0,
                r = this;
            return I(e, function(e, o) {
                r.params[o] && (n = r.params[o], t = !e && D(n.value), i = i && (t || n.type.is(e)))
            }), i
        }, f.prototype.format = function(e) {
            var t = this.segments,
                n = this.parameters();
            if (!e) return t.join("").replace("//", "/");
            var i, r, o, s, a, l, c = t.length - 1,
                u = n.length,
                h = t[0];
            if (!this.validates(e)) return null;
            for (i = 0; c > i; i++) s = n[i], o = e[s], a = this.params[s], (D(o) || "/" !== t[i] && "/" !== t[i + 1]) && (null != o && (h += encodeURIComponent(a.type.encode(o))), h += t[i + 1]);
            for (; u > i; i++) s = n[i], o = e[s], null != o && (l = O(o), l && (o = o.map(encodeURIComponent).join("&" + s + "=")), h += (r ? "&" : "?") + s + "=" + (l ? o : encodeURIComponent(o)), r = !0);
            return h
        }, f.prototype.$types = {}, p.prototype.is = function() {
            return !0
        }, p.prototype.encode = function(e) {
            return e
        }, p.prototype.decode = function(e) {
            return e
        }, p.prototype.equals = function(e, t) {
            return e == t
        }, p.prototype.$subPattern = function() {
            var e = this.pattern.toString();
            return e.substr(1, e.length - 2)
        }, p.prototype.pattern = /.*/, t.module("ui.router.util").provider("$urlMatcherFactory", m), g.$inject = ["$locationProvider", "$urlMatcherFactoryProvider"], t.module("ui.router.router").provider("$urlRouter", g), v.$inject = ["$urlRouterProvider", "$urlMatcherFactoryProvider"], t.module("ui.router.state").value("$stateParams", {}).provider("$state", v), y.$inject = [], t.module("ui.router.state").provider("$view", y), t.module("ui.router.state").provider("$uiViewScroll", b), w.$inject = ["$state", "$injector", "$uiViewScroll"], _.$inject = ["$compile", "$controller", "$state"], t.module("ui.router.state").directive("uiView", w), t.module("ui.router.state").directive("uiView", _), k.$inject = ["$state", "$timeout"], S.$inject = ["$state", "$stateParams", "$interpolate"], t.module("ui.router.state").directive("uiSref", k).directive("uiSrefActive", S).directive("uiSrefActiveEq", S), T.$inject = ["$state"], E.$inject = ["$state"], t.module("ui.router.state").filter("isState", T).filter("includedByState", E)
    }(window, window.angular), angular.module("pascalprecht.translate", ["ng"]).run(["$translate", function(e) {
        var t = e.storageKey(),
            n = e.storage(),
            i = function() {
                var i = e.preferredLanguage();
                angular.isString(i) ? e.use(i) : n.put(t, e.use())
            };
        n ? n.get(t) ? e.use(n.get(t))["catch"](i) : i() : angular.isString(e.preferredLanguage()) && e.use(e.preferredLanguage())
    }]), angular.module("pascalprecht.translate").provider("$translate", ["$STORAGE_KEY", function(e) {
        var t, n, i, r, o, s, a, l, c, u, h, d, f, p, m, g = {},
            v = [],
            y = e,
            b = [],
            w = !1,
            _ = "translate-cloak",
            x = !1,
            $ = ".",
            C = "2.5.2",
            k = function() {
                var e, t, n = window.navigator,
                    i = ["language", "browserLanguage", "systemLanguage", "userLanguage"];
                if (angular.isArray(n.languages))
                    for (e = 0; e < n.languages.length; e++)
                        if (t = n.languages[e], t && t.length) return t;
                for (e = 0; e < i.length; e++)
                    if (t = n[i[e]], t && t.length) return t;
                return null
            };
        k.displayName = "angular-translate/service: getFirstBrowserLanguage";
        var S = function() {
            return (k() || "").split("-").join("_")
        };
        S.displayName = "angular-translate/service: getLocale";
        var T = function(e, t) {
                for (var n = 0, i = e.length; i > n; n++)
                    if (e[n] === t) return n;
                return -1
            },
            E = function() {
                return this.replace(/^\s+|\s+$/g, "")
            },
            D = function(e) {
                for (var t = [], i = angular.lowercase(e), r = 0, o = v.length; o > r; r++) t.push(angular.lowercase(v[r]));
                if (T(t, i) > -1) return e;
                if (n) {
                    var s;
                    for (var a in n) {
                        var l = !1,
                            c = Object.prototype.hasOwnProperty.call(n, a) && angular.lowercase(a) === angular.lowercase(e);
                        if ("*" === a.slice(-1) && (l = a.slice(0, -1) === e.slice(0, a.length - 1)), (c || l) && (s = n[a], T(t, angular.lowercase(s)) > -1)) return s
                    }
                }
                var u = e.split("_");
                return u.length > 1 && T(t, angular.lowercase(u[0])) > -1 ? u[0] : e
            },
            A = function(e, t) {
                if (!e && !t) return g;
                if (e && !t) {
                    if (angular.isString(e)) return g[e]
                } else angular.isObject(g[e]) || (g[e] = {}), angular.extend(g[e], P(t));
                return this
            };
        this.translations = A, this.cloakClassName = function(e) {
            return e ? (_ = e, this) : _
        };
        var P = function(e, t, n, i) {
            var r, o, s, a;
            t || (t = []), n || (n = {});
            for (r in e) Object.prototype.hasOwnProperty.call(e, r) && (a = e[r], angular.isObject(a) ? P(a, t.concat(r), n, r) : (o = t.length ? "" + t.join($) + $ + r : r, t.length && r === i && (s = "" + t.join($), n[s] = "@:" + o), n[o] = a));
            return n
        };
        this.addInterpolation = function(e) {
            return b.push(e), this
        }, this.useMessageFormatInterpolation = function() {
            return this.useInterpolation("$translateMessageFormatInterpolation")
        }, this.useInterpolation = function(e) {
            return u = e, this
        }, this.useSanitizeValueStrategy = function(e) {
            return w = e, this
        }, this.preferredLanguage = function(e) {
            return N(e), this
        };
        var N = function(e) {
            return e && (t = e), t
        };
        this.translationNotFoundIndicator = function(e) {
            return this.translationNotFoundIndicatorLeft(e), this.translationNotFoundIndicatorRight(e), this
        }, this.translationNotFoundIndicatorLeft = function(e) {
            return e ? (f = e, this) : f
        }, this.translationNotFoundIndicatorRight = function(e) {
            return e ? (p = e, this) : p
        }, this.fallbackLanguage = function(e) {
            return O(e), this
        };
        var O = function(e) {
            return e ? (angular.isString(e) ? (r = !0, i = [e]) : angular.isArray(e) && (r = !1, i = e), angular.isString(t) && T(i, t) < 0 && i.push(t), this) : r ? i[0] : i
        };
        this.use = function(e) {
            if (e) {
                if (!g[e] && !h) throw new Error("$translateProvider couldn't find translationTable for langKey: '" + e + "'");
                return o = e, this
            }
            return o
        };
        var I = function(e) {
            return e ? void(y = e) : l ? l + y : y
        };
        this.storageKey = I, this.useUrlLoader = function(e, t) {
            return this.useLoader("$translateUrlLoader", angular.extend({
                url: e
            }, t))
        }, this.useStaticFilesLoader = function(e) {
            return this.useLoader("$translateStaticFilesLoader", e)
        }, this.useLoader = function(e, t) {
            return h = e, d = t || {}, this
        }, this.useLocalStorage = function() {
            return this.useStorage("$translateLocalStorage")
        }, this.useCookieStorage = function() {
            return this.useStorage("$translateCookieStorage")
        }, this.useStorage = function(e) {
            return a = e, this
        }, this.storagePrefix = function(e) {
            return e ? (l = e, this) : e
        }, this.useMissingTranslationHandlerLog = function() {
            return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")
        }, this.useMissingTranslationHandler = function(e) {
            return c = e, this
        }, this.usePostCompiling = function(e) {
            return x = !!e, this
        }, this.determinePreferredLanguage = function(e) {
            var n = e && angular.isFunction(e) ? e() : S();
            return t = v.length ? D(n) : n, this
        }, this.registerAvailableLanguageKeys = function(e, t) {
            return e ? (v = e, t && (n = t), this) : v
        }, this.useLoaderCache = function(e) {
            return e === !1 ? m = void 0 : e === !0 ? m = !0 : "undefined" == typeof e ? m = "$translationCache" : e && (m = e), this
        }, this.$get = ["$log", "$injector", "$rootScope", "$q", function(e, n, l, v) {
            var $, k, S, M = n.get(u || "$translateDefaultInterpolation"),
                R = !1,
                B = {},
                F = {},
                H = function(e, n, r) {
                    if (angular.isArray(e)) {
                        var s = function(e) {
                            for (var t = {}, i = [], o = function(e) {
                                    var i = v.defer(),
                                        o = function(n) {
                                            t[e] = n, i.resolve([e, n])
                                        };
                                    return H(e, n, r).then(o, o), i.promise
                                }, s = 0, a = e.length; a > s; s++) i.push(o(e[s]));
                            return v.all(i).then(function() {
                                return t
                            })
                        };
                        return s(e)
                    }
                    var l = v.defer();
                    e && (e = E.apply(e));
                    var c = function() {
                        var e = t ? F[t] : F[o];
                        if (k = 0, a && !e) {
                            var n = $.get(y);
                            if (e = F[n], i && i.length) {
                                var r = T(i, n);
                                k = 0 === r ? 1 : 0, T(i, t) < 0 && i.push(t)
                            }
                        }
                        return e
                    }();
                    return c ? c.then(function() {
                        Z(e, n, r).then(l.resolve, l.reject)
                    }, l.reject) : Z(e, n, r).then(l.resolve, l.reject), l.promise
                },
                j = function(e) {
                    return f && (e = [f, e].join(" ")), p && (e = [e, p].join(" ")), e
                },
                L = function(e) {
                    o = e, l.$emit("$translateChangeSuccess", {
                        language: e
                    }), a && $.put(H.storageKey(), o), M.setLocale(o), angular.forEach(B, function(e, t) {
                        B[t].setLocale(o)
                    }), l.$emit("$translateChangeEnd", {
                        language: e
                    })
                },
                W = function(e) {
                    if (!e) throw "No language key specified for loading.";
                    var t = v.defer();
                    l.$emit("$translateLoadingStart", {
                        language: e
                    }), R = !0;
                    var i = m;
                    "string" == typeof i && (i = n.get(i));
                    var r = angular.extend({}, d, {
                        key: e,
                        $http: angular.extend({}, {
                            cache: i
                        }, d.$http)
                    });
                    return n.get(h)(r).then(function(n) {
                        var i = {};
                        l.$emit("$translateLoadingSuccess", {
                            language: e
                        }), angular.isArray(n) ? angular.forEach(n, function(e) {
                            angular.extend(i, P(e))
                        }) : angular.extend(i, P(n)), R = !1, t.resolve({
                            key: e,
                            table: i
                        }), l.$emit("$translateLoadingEnd", {
                            language: e
                        })
                    }, function(e) {
                        l.$emit("$translateLoadingError", {
                            language: e
                        }), t.reject(e), l.$emit("$translateLoadingEnd", {
                            language: e
                        })
                    }), t.promise
                };
            if (a && ($ = n.get(a), !$.get || !$.put)) throw new Error("Couldn't use storage '" + a + "', missing get() or put() method!");
            angular.isFunction(M.useSanitizeValueStrategy) && M.useSanitizeValueStrategy(w), b.length && angular.forEach(b, function(e) {
                var i = n.get(e);
                i.setLocale(t || o), angular.isFunction(i.useSanitizeValueStrategy) && i.useSanitizeValueStrategy(w), B[i.getInterpolationIdentifier()] = i
            });
            var z = function(e) {
                    var t = v.defer();
                    return Object.prototype.hasOwnProperty.call(g, e) ? t.resolve(g[e]) : F[e] ? F[e].then(function(e) {
                        A(e.key, e.table), t.resolve(e.table)
                    }, t.reject) : t.reject(), t.promise
                },
                q = function(e, t, n, i) {
                    var r = v.defer();
                    return z(e).then(function(s) {
                        Object.prototype.hasOwnProperty.call(s, t) ? (i.setLocale(e), r.resolve(i.interpolate(s[t], n)), i.setLocale(o)) : r.reject()
                    }, r.reject), r.promise
                },
                U = function(e, t, n, i) {
                    var r, s = g[e];
                    return s && Object.prototype.hasOwnProperty.call(s, t) && (i.setLocale(e), r = i.interpolate(s[t], n), i.setLocale(o)), r
                },
                V = function(e) {
                    if (c) {
                        var t = n.get(c)(e, o);
                        return void 0 !== t ? t : e
                    }
                    return e
                },
                Y = function(e, t, n, r) {
                    var o = v.defer();
                    if (e < i.length) {
                        var s = i[e];
                        q(s, t, n, r).then(o.resolve, function() {
                            Y(e + 1, t, n, r).then(o.resolve)
                        })
                    } else o.resolve(V(t));
                    return o.promise
                },
                G = function(e, t, n, r) {
                    var o;
                    if (e < i.length) {
                        var s = i[e];
                        o = U(s, t, n, r), o || (o = G(e + 1, t, n, r))
                    }
                    return o
                },
                X = function(e, t, n) {
                    return Y(S > 0 ? S : k, e, t, n)
                },
                K = function(e, t, n) {
                    return G(S > 0 ? S : k, e, t, n)
                },
                Z = function(e, t, n) {
                    var r = v.defer(),
                        s = o ? g[o] : g,
                        a = n ? B[n] : M;
                    if (s && Object.prototype.hasOwnProperty.call(s, e)) {
                        var l = s[e];
                        "@:" === l.substr(0, 2) ? H(l.substr(2), t, n).then(r.resolve, r.reject) : r.resolve(a.interpolate(l, t))
                    } else {
                        var u;
                        c && !R && (u = V(e)), o && i && i.length ? X(e, t, a).then(function(e) {
                            r.resolve(e)
                        }, function(e) {
                            r.reject(j(e))
                        }) : c && !R && u ? r.resolve(u) : r.reject(j(e))
                    }
                    return r.promise
                },
                Q = function(e, t, n) {
                    var r, s = o ? g[o] : g,
                        a = n ? B[n] : M;
                    if (s && Object.prototype.hasOwnProperty.call(s, e)) {
                        var l = s[e];
                        r = "@:" === l.substr(0, 2) ? Q(l.substr(2), t, n) : a.interpolate(l, t)
                    } else {
                        var u;
                        c && !R && (u = V(e)), o && i && i.length ? (k = 0, r = K(e, t, a)) : r = c && !R && u ? u : j(e)
                    }
                    return r
                };
            if (H.preferredLanguage = function(e) {
                    return e && N(e), t
                }, H.cloakClassName = function() {
                    return _
                }, H.fallbackLanguage = function(e) {
                    if (void 0 !== e && null !== e) {
                        if (O(e), h && i && i.length)
                            for (var t = 0, n = i.length; n > t; t++) F[i[t]] || (F[i[t]] = W(i[t]));
                        H.use(H.use())
                    }
                    return r ? i[0] : i
                }, H.useFallbackLanguage = function(e) {
                    if (void 0 !== e && null !== e)
                        if (e) {
                            var t = T(i, e);
                            t > -1 && (S = t)
                        } else S = 0
                }, H.proposedLanguage = function() {
                    return s
                }, H.storage = function() {
                    return $
                }, H.use = function(e) {
                    if (!e) return o;
                    var t = v.defer();
                    l.$emit("$translateChangeStart", {
                        language: e
                    });
                    var n = D(e);
                    return n && (e = n), g[e] || !h || F[e] ? (t.resolve(e), L(e)) : (s = e, F[e] = W(e).then(function(n) {
                        return A(n.key, n.table), t.resolve(n.key), L(n.key), s === e && (s = void 0), n
                    }, function(e) {
                        s === e && (s = void 0), l.$emit("$translateChangeError", {
                            language: e
                        }), t.reject(e), l.$emit("$translateChangeEnd", {
                            language: e
                        })
                    })), t.promise
                }, H.storageKey = function() {
                    return I()
                }, H.isPostCompilingEnabled = function() {
                    return x
                }, H.refresh = function(e) {
                    function t() {
                        r.resolve(), l.$emit("$translateRefreshEnd", {
                            language: e
                        })
                    }

                    function n() {
                        r.reject(), l.$emit("$translateRefreshEnd", {
                            language: e
                        })
                    }
                    if (!h) throw new Error("Couldn't refresh translation table, no loader registered!");
                    var r = v.defer();
                    if (l.$emit("$translateRefreshStart", {
                            language: e
                        }), e) g[e] ? W(e).then(function(n) {
                        A(n.key, n.table), e === o && L(o), t()
                    }, n) : n();
                    else {
                        var s = [],
                            a = {};
                        if (i && i.length)
                            for (var c = 0, u = i.length; u > c; c++) s.push(W(i[c])), a[i[c]] = !0;
                        o && !a[o] && s.push(W(o)), v.all(s).then(function(e) {
                            angular.forEach(e, function(e) {
                                g[e.key] && delete g[e.key], A(e.key, e.table)
                            }), o && L(o), t()
                        })
                    }
                    return r.promise
                }, H.instant = function(e, n, r) {
                    if (null === e || angular.isUndefined(e)) return e;
                    if (angular.isArray(e)) {
                        for (var s = {}, a = 0, l = e.length; l > a; a++) s[e[a]] = H.instant(e[a], n, r);
                        return s
                    }
                    if (angular.isString(e) && e.length < 1) return e;
                    e && (e = E.apply(e));
                    var u, h = [];
                    t && h.push(t), o && h.push(o), i && i.length && (h = h.concat(i));
                    for (var d = 0, f = h.length; f > d; d++) {
                        var p = h[d];
                        if (g[p] && "undefined" != typeof g[p][e] && (u = Q(e, n, r)), "undefined" != typeof u) break
                    }
                    return u || "" === u || (u = M.interpolate(e, n), c && !R && (u = V(e))), u
                }, H.versionInfo = function() {
                    return C
                }, H.loaderCache = function() {
                    return m
                }, h && (angular.equals(g, {}) && H.use(H.use()), i && i.length))
                for (var J = function(e) {
                        return A(e.key, e.table), l.$emit("$translateChangeEnd", {
                            language: e.key
                        }), e
                    }, et = 0, tt = i.length; tt > et; et++) F[i[et]] = W(i[et]).then(J);
            return H
        }]
    }]), angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation", ["$interpolate", function(e) {
        var t, n = {},
            i = "default",
            r = null,
            o = {
                escaped: function(e) {
                    var t = {};
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = angular.element("<div></div>").text(e[n]).html());
                    return t
                }
            },
            s = function(e) {
                var t;
                return t = angular.isFunction(o[r]) ? o[r](e) : e
            };
        return n.setLocale = function(e) {
            t = e
        }, n.getInterpolationIdentifier = function() {
            return i
        }, n.useSanitizeValueStrategy = function(e) {
            return r = e, this
        }, n.interpolate = function(t, n) {
            return r && (n = s(n)), e(t)(n || {})
        }, n
    }]), angular.module("pascalprecht.translate").constant("$STORAGE_KEY", "NG_TRANSLATE_LANG_KEY"), angular.module("pascalprecht.translate").directive("translate", ["$translate", "$q", "$interpolate", "$compile", "$parse", "$rootScope", function(e, t, n, i, r, o) {
        return {
            restrict: "AE",
            scope: !0,
            compile: function(t, s) {
                var a = s.translateValues ? s.translateValues : void 0,
                    l = s.translateInterpolation ? s.translateInterpolation : void 0,
                    c = t[0].outerHTML.match(/translate-value-+/i),
                    u = "^(.*)(" + n.startSymbol() + ".*" + n.endSymbol() + ")(.*)",
                    h = "^(.*)" + n.startSymbol() + "(.*)" + n.endSymbol() + "(.*)";
                return function(t, d, f) {
                    t.interpolateParams = {}, t.preText = "", t.postText = "";
                    var p = {},
                        m = function(e) {
                            if (angular.equals(e, "") || !angular.isDefined(e)) {
                                var i = d.text().match(u);
                                angular.isArray(i) ? (t.preText = i[1], t.postText = i[3], p.translate = n(i[2])(t.$parent), watcherMatches = d.text().match(h), angular.isArray(watcherMatches) && watcherMatches[2] && watcherMatches[2].length && t.$watch(watcherMatches[2], function(e) {
                                    p.translate = e, w()
                                })) : p.translate = d.text().replace(/^\s+|\s+$/g, "")
                            } else p.translate = e;
                            w()
                        },
                        g = function(e) {
                            f.$observe(e, function(t) {
                                p[e] = t, w()
                            })
                        };
                    f.$observe("translate", function(e) {
                        m(e)
                    });
                    for (var v in f) f.hasOwnProperty(v) && "translateAttr" === v.substr(0, 13) && g(v);
                    if (f.$observe("translateDefault", function(e) {
                            t.defaultText = e
                        }), a && f.$observe("translateValues", function(e) {
                            e && t.$parent.$watch(function() {
                                angular.extend(t.interpolateParams, r(e)(t.$parent))
                            })
                        }), c) {
                        var y = function(e) {
                            f.$observe(e, function(n) {
                                var i = angular.lowercase(e.substr(14, 1)) + e.substr(15);
                                t.interpolateParams[i] = n
                            })
                        };
                        for (var b in f) Object.prototype.hasOwnProperty.call(f, b) && "translateValue" === b.substr(0, 14) && "translateValues" !== b && y(b)
                    }
                    var w = function() {
                            for (var e in p) p.hasOwnProperty(e) && p[e] && _(e, p[e], t, t.interpolateParams)
                        },
                        _ = function(t, n, i, r) {
                            e(n, r, l).then(function(e) {
                                x(e, i, !0, t)
                            }, function(e) {
                                x(e, i, !1, t)
                            })
                        },
                        x = function(t, n, r, o) {
                            if ("translate" === o) {
                                r || "undefined" == typeof n.defaultText || (t = n.defaultText), d.html(n.preText + t + n.postText);
                                var a = e.isPostCompilingEnabled(),
                                    l = "undefined" != typeof s.translateCompile,
                                    c = l && "false" !== s.translateCompile;
                                (a && !l || c) && i(d.contents())(n)
                            } else {
                                r || "undefined" == typeof n.defaultText || (t = n.defaultText);
                                var u = f.$attr[o].substr(15);
                                d.attr(u, t)
                            }
                        };
                    t.$watch("interpolateParams", w, !0);
                    var $ = o.$on("$translateChangeSuccess", w);
                    d.text().length && m(""), w(), t.$on("$destroy", $)
                }
            }
        }
    }]), angular.module("pascalprecht.translate").directive("translateCloak", ["$rootScope", "$translate", function(e, t) {
        return {
            compile: function(n) {
                var i = function() {
                        n.addClass(t.cloakClassName())
                    },
                    r = function() {
                        n.removeClass(t.cloakClassName())
                    },
                    o = e.$on("$translateChangeEnd", function() {
                        r(), o(), o = null
                    });
                return i(),
                    function(e, n, o) {
                        o.translateCloak && o.translateCloak.length && o.$observe("translateCloak", function(e) {
                            t(e).then(r, i)
                        })
                    }
            }
        }
    }]), angular.module("pascalprecht.translate").filter("translate", ["$parse", "$translate", function(e, t) {
        var n = function(n, i, r) {
            return angular.isObject(i) || (i = e(i)(this)), t.instant(n, i, r)
        };
        return n.$stateful = !0, n
    }]), angular.module("pascalprecht.translate").factory("$translateUrlLoader", ["$q", "$http", function(e, t) {
        return function(n) {
            if (!n || !n.url) throw new Error("Couldn't use urlLoader since no url is given!");
            var i = e.defer(),
                r = {};
            return r[n.queryParameter || "lang"] = n.key, t(angular.extend({
                url: n.url,
                params: r,
                method: "GET"
            }, n.$http)).success(function(e) {
                i.resolve(e)
            }).error(function() {
                i.reject(n.key)
            }), i.promise
        }
    }]), ! function() {
        var e = angular.module("angularFileUpload", []);
        e.service("$upload", ["$http", "$q", "$timeout", function(e, t, n) {
            function i(i) {
                i.method = i.method || "POST", i.headers = i.headers || {}, i.transformRequest = i.transformRequest || function(t, n) {
                    return window.ArrayBuffer && t instanceof window.ArrayBuffer ? t : e.defaults.transformRequest[0](t, n)
                };
                var r = t.defer();
                window.XMLHttpRequest.__isShim && (i.headers.__setXHR_ = function() {
                    return function(e) {
                        e && (i.__XHR = e, i.xhrFn && i.xhrFn(e), e.upload.addEventListener("progress", function(e) {
                            r.notify(e)
                        }, !1), e.upload.addEventListener("load", function(e) {
                            e.lengthComputable && r.notify(e)
                        }, !1))
                    }
                }), e(i).then(function(e) {
                    r.resolve(e)
                }, function(e) {
                    r.reject(e)
                }, function(e) {
                    r.notify(e)
                });
                var o = r.promise;
                return o.success = function(e) {
                    return o.then(function(t) {
                        e(t.data, t.status, t.headers, i)
                    }), o
                }, o.error = function(e) {
                    return o.then(null, function(t) {
                        e(t.data, t.status, t.headers, i)
                    }), o
                }, o.progress = function(e) {
                    return o.then(null, null, function(t) {
                        e(t)
                    }), o
                }, o.abort = function() {
                    return i.__XHR && n(function() {
                        i.__XHR.abort()
                    }), o
                }, o.xhr = function(e) {
                    return i.xhrFn = function(t) {
                        return function() {
                            t && t.apply(o, arguments), e.apply(o, arguments)
                        }
                    }(i.xhrFn), o
                }, o
            }
            this.upload = function(t) {
                t.headers = t.headers || {}, t.headers["Content-Type"] = void 0, t.transformRequest = t.transformRequest || e.defaults.transformRequest;
                var n = new FormData,
                    r = t.transformRequest,
                    o = t.data;
                return t.transformRequest = function(e, n) {
                    if (o)
                        if (t.formDataAppender)
                            for (var i in o) {
                                var s = o[i];
                                t.formDataAppender(e, i, s)
                            } else
                                for (var i in o) {
                                    var s = o[i];
                                    if ("function" == typeof r) s = r(s, n);
                                    else
                                        for (var a = 0; a < r.length; a++) {
                                            var l = r[a];
                                            "function" == typeof l && (s = l(s, n))
                                        }
                                    e.append(i, s)
                                }
                        if (null != t.file) {
                            var c = t.fileFormDataName || "file";
                            if ("[object Array]" === Object.prototype.toString.call(t.file))
                                for (var u = "[object String]" === Object.prototype.toString.call(c), a = 0; a < t.file.length; a++) e.append(u ? c : c[a], t.file[a], t.fileName && t.fileName[a] || t.file[a].name);
                            else e.append(c, t.file, t.fileName || t.file.name)
                        }
                    return e
                }, t.data = n, i(t)
            }, this.http = function(e) {
                return i(e)
            }
        }]), e.directive("ngFileSelect", ["$parse", "$timeout", function(e, t) {
            return function(n, i, r) {
                var o = e(r.ngFileSelect);
                if ("input" !== i[0].tagName.toLowerCase() || "file" !== (i.attr("type") && i.attr("type").toLowerCase())) {
                    for (var s = angular.element('<input type="file">'), a = i[0].attributes, l = 0; l < a.length; l++) "type" !== a[l].name.toLowerCase() && s.attr(a[l].name, a[l].value);
                    r.multiple && s.attr("multiple", "true"), s.css("width", "1px").css("height", "1px").css("opacity", 0).css("position", "absolute").css("filter", "alpha(opacity=0)").css("padding", 0).css("margin", 0).css("overflow", "hidden"), s.attr("__wrapper_for_parent_", !0), i.append(s), i[0].__file_click_fn_delegate_ = function() {
                        s[0].click()
                    }, i.bind("click", i[0].__file_click_fn_delegate_), i.css("overflow", "hidden"), i = s
                }
                i.bind("change", function(e) {
                    var i, r, s = [];
                    if (i = e.__files_ || e.target.files, null != i)
                        for (r = 0; r < i.length; r++) s.push(i.item(r));
                    t(function() {
                        o(n, {
                            $files: s,
                            $event: e
                        })
                    })
                })
            }
        }]), e.directive("ngFileDropAvailable", ["$parse", "$timeout", function(e, t) {
            return function(n, i, r) {
                if ("draggable" in document.createElement("span")) {
                    var o = e(r.ngFileDropAvailable);
                    t(function() {
                        o(n)
                    })
                }
            }
        }]), e.directive("ngFileDrop", ["$parse", "$timeout", "$location", function(e, t, n) {
            return function(i, r, o) {
                function s(e) {
                    return /^[\000-\177]*$/.test(e)
                }

                function a(e, i) {
                    var r = [],
                        o = e.dataTransfer.items;
                    if (o && o.length > 0 && o[0].webkitGetAsEntry && "file" != n.protocol() && o[0].webkitGetAsEntry().isDirectory)
                        for (var a = 0; a < o.length; a++) {
                            var c = o[a].webkitGetAsEntry();
                            null != c && (s(c.name) ? l(r, c) : o[a].webkitGetAsEntry().isDirectory || r.push(o[a].getAsFile()))
                        } else {
                            var u = e.dataTransfer.files;
                            if (null != u)
                                for (var a = 0; a < u.length; a++) r.push(u.item(a))
                        }! function d(e) {
                            t(function() {
                                h ? d(10) : i(r)
                            }, e || 0)
                        }()
                }

                function l(e, t, n) {
                    if (null != t)
                        if (t.isDirectory) {
                            var i = t.createReader();
                            h++, i.readEntries(function(i) {
                                for (var r = 0; r < i.length; r++) l(e, i[r], (n ? n : "") + t.name + "/");
                                h--
                            })
                        } else h++, t.file(function(t) {
                            h--, t._relativePath = (n ? n : "") + t.name, e.push(t)
                        })
                }
                if ("draggable" in document.createElement("span")) {
                    var c = null;
                    r[0].addEventListener("dragover", function(n) {
                        if (n.preventDefault(), t.cancel(c), !r[0].__drag_over_class_)
                            if (o.ngFileDragOverClass && o.ngFileDragOverClass.search(/\) *$/) > -1) {
                                var s = e(o.ngFileDragOverClass)(i, {
                                    $event: n
                                });
                                r[0].__drag_over_class_ = s
                            } else r[0].__drag_over_class_ = o.ngFileDragOverClass || "dragover";
                        r.addClass(r[0].__drag_over_class_)
                    }, !1), r[0].addEventListener("dragenter", function(e) {
                        e.preventDefault()
                    }, !1), r[0].addEventListener("dragleave", function() {
                        c = t(function() {
                            r.removeClass(r[0].__drag_over_class_), r[0].__drag_over_class_ = null
                        }, o.ngFileDragOverDelay || 1)
                    }, !1);
                    var u = e(o.ngFileDrop);
                    r[0].addEventListener("drop", function(e) {
                        e.preventDefault(), r.removeClass(r[0].__drag_over_class_), r[0].__drag_over_class_ = null, a(e, function(t) {
                            u(i, {
                                $files: t,
                                $event: e
                            })
                        })
                    }, !1);
                    var h = 0
                }
            }
        }])
    }(), angular.module("builder.styling", []).directive("blFontsPagination", ["fonts", function(e) {
        return {
            restrict: "A",
            link: function(t, n) {
                n.pagination({
                    items: 0,
                    itemsOnPage: e.paginator.perPage,
                    cssStyle: "dark-theme",
                    onPageClick: function(n) {
                        t.$apply(function() {
                            e.paginator.selectPage(n)
                        })
                    },
                    onInit: function() {
                        $(".pagi-container > .simple-pagination").on("click", function(e) {
                            e.preventDefault()
                        })
                    }
                }), t.$watch("fonts.paginator.totalItems", function(e) {
                    e && n.pagination("updateItems", e)
                })
            }
        }
    }]).factory("fonts", ["$rootScope", "$http", "$timeout", "inspector", "localStorage", function(e, t, n, i, r) {
        var o = {
            loading: !1,
            paginator: {
                sourceItems: [],
                currentItems: [],
                perPage: 12,
                totalItems: 0,
                selectPage: function(e) {
                    this.currentItems = this.sourceItems.slice((e - 1) * this.perPage, (e - 1) * this.perPage + this.perPage), o.load()
                },
                start: function(e) {
                    this.sourceItems = e, this.totalItems = e.length, this.currentItems = e.slice(0, this.perPage), o.load()
                }
            },
            apply: function(t) {
                this.load(t.family, e.frameHead), n(function() {
                    i.styles.text.fontFamily = t.family
                }), this.modal.modal("hide")
            },
            getAll: function() {
                var n = this,
                    i = r.get("googleFonts"),
                    o = e.keys.google_fonts;
                return i ? n.paginator.start(i) : void t.get("https://www.googleapis.com/webfonts/v1/webfonts?sort=popularity&key=" + o).success(function(e) {
                    r.set("googleFonts", e.items), n.paginator.start(e.items)
                })
            },
            load: function(t, n) {
                if (this.loading = !0, t ? angular.isArray(t) || (t = [t]) : t = $.map(o.paginator.currentItems, function(e) {
                        return e.family
                    }), n) var i = n;
                else i = e.mainHead, $(i).find("#dynamic-fonts").remove();
                var r = $(i).find("#dynamic-fonts")[0];
                t = t.join("|").replace(/ /g, "+"), r ? r.href += "|" + t : i.append('<link rel="stylesheet" class="include" id="dynamic-fonts" href="http://fonts.googleapis.com/css?family=' + t + '">'), this.loading = !1
            },
            modal: $("#fonts-modal")
        };
        return o
    }]);
var dnd = angular.module("dragAndDrop", []);
dnd.factory("draggable", ["$rootScope", "undoManager", "iframeScroller", function(e, t, n) {
    var i = {};
    return i.create = function(i, r, o) {
        i.draggable({
            appendTo: o ? o.find("body") : "body",
            cursor: "hand",
            cancel: "",
            scroll: !1,
            cursorAt: {
                left: -10,
                bottom: -10
            },
            helper: function() {
                return e.selected.element = r, e.selected.node = $(e.selected.html()).clone().get(0), r.dragHelper ? $('<div id="drag-helper">' + r.name.toUpperCase() + "</div>") : r.previewScale && 1 !== r.previewScale && r.scaleDragPreview ? $(e.selected.html()).appendTo(e.body).css({
                    transform: "scale(" + r.previewScale + ")",
                    "transform-origin": "0 100%"
                }) : e.selected.html()
            },
            drag: function(t) {
                var i = e.selected.node.parentNode;
                n.scroll(t.pageY), i && (this.command.params.parent = i, this.command.params.parentContents = this.command.params.parent.childNodes, this.command.params.undoIndex = utils.getNodeIndex(this.command.params.parentContents, e.selected.node))
            },
            start: function() {
                e.dragging = !0, $("#frame-overlay").removeClass("hidden"), e.frameBody.addClass("dragging"), this.command = t.add("insertNode", {
                    node: e.selected.node
                })
            },
            stop: function() {
                e.dragging = !1, n.stopScrolling(), e.$apply(function() {
                    e.selectNode()
                }), $("#frame-overlay").addClass("hidden"), e.frameBody.removeClass("dragging"), e.$broadcast("builder.html.changed")
            }
        })
    }, i
}]), angular.module("dragAndDrop").factory("iframeScroller", ["$rootScope", function(e) {
    var t = {};
    return t.scroll = function(n) {
        var i = e.frameBody.scrollTop(),
            r = n - e.frameOffset.top + i;
        t.sh || (t.sh = $("#frame-wrapper").height()), r - i - 10 <= e.frameOffset.top ? t.scrollFrameUp() : r > i + t.sh - 80 ? t.scrollFrameDown() : t.stopScrolling()
    }, t.scrollFrameDown = function() {
        return clearInterval(t.scrollDownTimeout), t.scrollDownTimeout = setInterval(function() {
            return t.setScrollTop(e.frameBody.scrollTop() + 40)
        }, 40)
    }, t.scrollFrameUp = function() {
        return clearInterval(t.scrollUpTimeout), t.scrollUpTimeout = setInterval(function() {
            return t.setScrollTop(e.frameBody.scrollTop() - 40)
        }, 40)
    }, t.stopScrolling = function() {
        return clearInterval(t.scrollDownTimeout), clearInterval(t.scrollUpTimeout)
    }, t.setScrollTop = function(t) {
        t = Math.max(0, t), e.frameBody.scrollTop(t)
    }, t
}]);
var dnd = angular.module("dragAndDrop");
dnd.directive("blResizable", ["$rootScope", "elements", "undoManager", function(e) {
    return $.widget("ui.blResizable", $.ui.mouse, {
        _mouseStart: function(t) {
            return this.isImage = "IMG" == e.selected.node.nodeName, this.originalSize = {
                height: e.selected.node.offsetHeight,
                width: e.selected.node.offsetWidth,
                left: this._num(e.selected.getStyle("left")),
                top: this._num(e.selected.getStyle("top"))
            }, this.originalPos = {
                x: t.pageX + e.frameOffset.left,
                y: t.pageY + e.frameOffset.top
            }, this.aspectRatio = this.originalSize.width / this.originalSize.height || 1, this._mouseDrag(t, !0), !0
        },
        _mouseDrag: function(t) {
            if ("frame-overlay" != t.target.id && t.target.className.indexOf("drag-handle") < 0) return !0;
            var n = (this.originalSize.width + n, this.originalSize.height + i, t.pageX + e.frameOffset.left - this.originalPos.x),
                i = t.pageY + e.frameOffset.top - this.originalPos.y,
                r = this._calc[this.direction],
                o = r.apply(this, [n, i]);
            if (o.overflow = "hidden", angular.isNumber(o.height) && o.height < 10 || angular.isNumber(o.width) && o.width < 10) return !0;
            ["n", "w", "nw", "sw"].indexOf(this.direction) > -1 && (o.position = "relative"), (this.isImage || t.shiftKey) && (angular.isNumber(o.height) ? o.width = o.height * this.aspectRatio : angular.isNumber(o.width) && (o.height = o.width / this.aspectRatio), "sw" === this.direction && (o.left = this.originalSize.left + (this.originalSize.width - o.width), o.top = null), "nw" === this.direction && (o.top = this.originalSize.top + (this.originalSize.height - o.height), o.left = this.originalSize.left + (this.originalSize.width - o.width)));
            for (var s in o) e.selected.node.style[s] = o[s];
            e.repositionBox("select")
        },
        _mouseStop: function() {
            e.frameOverlay.css("cusror", "default"), e.frameOverlay.addClass("hidden"), e.$broadcast("builder.html.changed")
        },
        _mouseCapture: function(t) {
            var n = $(t.target);
            return e.selected.isColumn ? !1 : n.hasClass("drag-handle") ? (this.direction = n.data("direction"), e.frameOverlay.css("cursor", n.css("cursor")), e.frameOverlay.removeClass("hidden")) : void 0
        },
        _init: function() {
            return this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy()
        },
        _num: function(e) {
            return "auto" == e ? 0 : parseInt(e.match("px") ? e.replace("px", "") : e)
        },
        _calc: {
            n: function(e, t) {
                return {
                    top: this.originalSize.top + t,
                    height: this.originalSize.height - t
                }
            },
            s: function(e, t) {
                return {
                    height: this.originalSize.height + t
                }
            },
            e: function(e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function(e) {
                return {
                    left: this.originalSize.left + e,
                    width: this.originalSize.width - e
                }
            },
            se: function() {
                return $.extend(this._calc.s.apply(this, arguments), this._calc.e.apply(this, arguments))
            },
            sw: function() {
                return $.extend(this._calc.s.apply(this, arguments), this._calc.w.apply(this, arguments))
            },
            ne: function() {
                return $.extend(this._calc.n.apply(this, arguments), this._calc.e.apply(this, arguments))
            },
            nw: function() {
                return $.extend(this._calc.n.apply(this, arguments), this._calc.w.apply(this, arguments))
            }
        }
    }), {
        restrict: "A",
        link: function(e, t) {
            t.blResizable({
                cancel: '[contenteditable="true"]'
            })
        }
    }
}]), angular.module("dragAndDrop").factory("grid", ["$rootScope", "undoManager", function(e, t) {
    var n = {
        maxSpan: 12,
        active: {
            controlCols: []
        },
        hideEditor: function(t) {
            e.$apply(function() {
                e.rowEditorOpen = !1
            }), n.editor && n.editor.hide(), n.active.row && n.active.row.removeClass("editing"), n.active = {
                controlCols: []
            }, $("#highlights").removeClass("row-editor-open"), $("#edit-columns").css(t ? {
                width: 200,
                height: 40,
                padding: 10
            } : {
                width: 200,
                height: 0,
                padding: 0
            })
        },
        isColumn: function(e) {
            return e.get && (e = e.get(0)), e && e.className ? e.className.indexOf("col-") > -1 : void 0
        },
        isRow: function(e) {
            return e.get && (e = e.get(0)), e && e.className ? e.className.indexOf("row") > -1 : void 0
        },
        getSpan: function(e) {
            return parseInt(e.attr("class").match(/col-[a-z]+-([0-9]+)/)[1])
        },
        getSpans: function() {
            var e = [];
            if (this.active.cols)
                for (var t = 0; t < this.active.cols.length; t++) e.push(this.getSpan($(this.active.cols[t])));
            return e
        },
        getTotalSpan: function(e) {
            for (var t = 0, n = 0; n < this.getColumns(e).length; n++) t += this.getSpan($(this.getColumns(e)[n]));
            return t
        },
        getNumberOfCols: function(e) {
            return this.getColumns(e).length
        },
        getColumns: function(e) {
            return $.map(e.children(), function(e) {
                return e.className.indexOf("col-") > -1 ? e : void 0
            })
        },
        getSibling: function(e) {
            var t = e.next();
            return t.length ? t : e.prev()
        },
        equalizeColumns: function() {
            if (this.active.row) {
                var e = this.getSpans(),
                    t = this.maxSpan / e.length;
                if (t % 1 === 0)
                    for (var n = 0; n < this.active.cols.length; n++) this.resize($(this.active.cols[n]), !1, t);
                else
                    for (var i = Math.ceil(t), r = this.active.cols.length, n = 0; r > n; n++) r - 2 == n ? this.resize($(this.active.cols[n]), !1, i - 1) : r - 1 == n ? this.resize($(this.active.cols[n]), !1, 1) : this.resize($(this.active.cols[n]), !1, i)
            }
        },
        widerThen: function(e, t) {
            return this.isColumn(t) ? this.getSpan(t) > e : void 0
        },
        resize: function(e, t, n) {
            n || (n = 1), e.attr("class", function(e, i) {
                return i.replace(/(col-[a-z]+-)([0-9]+)/, function(e, i, r) {
                    return t ? "+" == t ? i + (parseInt(r) + n) : i + (parseInt(r) - n) : i + n
                })
            })
        },
        canResize: function(e, t, n, i) {
            "+" == t ? (e[n] ++, e[i] --) : (e[n] --, e[i] ++);
            for (var r = 0, o = 0; o < e.length; o++) {
                var s = parseInt(e[o]);
                if (r += s, !s || r > 12) return "-" == t ? (e[n] ++, e[i] --) : (e[n] --, e[i] ++), !1
            }
            return !0
        },
        addNewColumn: function(e, t) {
            t || (t = "Before"), t = t.ucFirst();
            var i = e.index(),
                r = e.parent().children(),
                o = r.filter(function(e) {
                    return e > i
                }),
                s = r.filter(function(e) {
                    return i > e
                }),
                a = !1;
            if (n.widerThen(1, $(o[0])) ? (n.resize($(o[0]), "-", 1), $('<div class="col-sm-1"></div>')["insert" + t](e), a = !0) : !a && n.widerThen(1, e) && (n.resize(e, "-", 1), $('<div class="col-sm-1"></div>')["insert" + t](e), a = !0), !a)
                for (var l = 0; l < o.length; l++)
                    if (n.widerThen(1, $(o[l]))) {
                        n.resize($(o[l]), "-", 1), $('<div class="col-sm-1"></div>')["insert" + t](e), a = !0;
                        break
                    }
            if (!a)
                for (var l = 0; l < s.length; l++)
                    if (n.widerThen(1, $(s[l]))) {
                        n.resize($(s[l]), "-", 1), $('<div class="col-sm-1"></div>')["insert" + t](e), a = !0;
                        break
                    }
        },
        applyPreset: function(t) {
            if (angular.isArray(t) && this.active.row) {
                this.active.row.html("");
                for (var i = 0; i < t.length; i++) this.active.row.append('<div class="col-sm-' + t[i] + '"></div>');
                this.active.cols = n.active.row.children('[class^="col-"]').get(), this.redrawResizers(), this.redrawControls(), e.repositionBox("select"), this.redrawEditor()
            }
        },
        redrawEditor: function() {
            this.editor || (this.editor = $("#row-editor"));
            var t = this.active.row.offset().top + this.active.row.height() - e.frameBody.scrollTop(),
                n = {
                    left: this.active.row.offset().left,
                    overflow: "hidden",
                    display: "block"
                };
            e.frameWrapperHeight < t + this.editor.outerHeight() ? (n.top = "initial", n.bottom = 35) : (n.top = t, n.bottom = "initial"), this.editor.css(n)
        },
        redrawResizers: function() {
            var t = (this.editor[0].getBoundingClientRect().top - e.selectBox[0].getBoundingClientRect().top) / 2 - 23,
                i = '<div class="column-resizer"><div class="col-dragger"><i class="icon icon-resize-horizontal" style="top: ' + t + 'px"></i></div></div>';
            this.resizers || (this.resizers = $("#column-resizers")), this.resizers.html("");
            for (var r = 0; r < n.active.cols.length - 1; r++) {
                var o = n.active.cols[r],
                    s = o.offsetLeft - o.parentNode.offsetLeft + $(o).outerWidth(!0);
                o.className.indexOf("offset-") > -1 && (s = s - o.offsetLeft + o.parentNode.offsetLeft), $(i).data("index", r).appendTo(this.resizers).css("left", s)
            }
        },
        redrawControls: function() {
            var e = '<div class="col-control"><i class="icon icon-trash delete-column"></i><i class="icon icon-plus-outline add-column"></i></div>',
                t = '<div class="col-control"><i class="icon icon-plus-outline add-column first"></i><i class="icon icon-trash delete-column first"></i><i class="icon icon-plus-outline add-column"></i></div>',
                i = '<div class="col-control"><i class="icon icon-trash delete-column last"></i><i class="icon icon-plus-outline add-column last"></i></div>',
                r = '<div class="col-control"><i class="icon icon-plus-outline add-column first"></i><i class="icon icon-trash delete-column"></i><i class="icon icon-plus-outline add-column last"></i></div>',
                o = "";
            this.controls || (this.controls = $("#row-editor .column-controls")), this.active.controlCols = [], this.controls.html(""), n.active.cols = n.getColumns(n.active.row);
            for (var s = 0; s < this.active.cols.length; s++) {
                o = $(1 === this.active.cols.length ? r : 0 === s ? t : s === this.active.cols.length - 1 ? i : e);
                var a = this.active.cols[s].className.match(/col-..-\d{1,2}(?:\s+|$)/)[0].trim(),
                    l = o.data("index", s).addClass(a).css({
                        width: $(this.active.cols[s]).outerWidth(!0),
                        "padding-left": $(this.active.cols[s]).css("margin-left")
                    });
                this.controls.append(l), this.active.controlCols.push(l.get(0))
            }
        },
        addColumnAfter: function(e) {
            return n.addNewColumn(e, "after")
        },
        addColumnBefore: function(e) {
            return n.addNewColumn(e, "before")
        },
        deleteColumn: function(e) {
            var t = this.getSibling(e),
                n = this.getSpan(e),
                i = e.attr("class").match(/col-..-offset-(\d{1,2})(?:\s+|$)/);
            i && (n += parseInt(i[1])), e.remove(), this.resize(t, "+", n)
        },
        dispose: function() {
            this.editor = !1, this.controls = !1, this.resizers = !1, this.active = {
                controlCols: []
            }, e.rowEditorOpen = !1
        }
    };
    return n
}]).directive("blRowEditor", ["$rootScope", "grid", function(e, t) {
    return {
        restrict: "A",
        link: function(n, i) {
            n.$on("builder.html.changed", function() {
                n.rowEditorOpen && setTimeout(function() {
                    t.redrawEditor(), n.repositionBox("select"), t.redrawResizers()
                }, 500)
            }), i.find(".equalize-columns").on("click", function() {
                t.equalizeColumns(), t.redrawControls(), t.redrawResizers()
            }), i.on("click", ".delete-column, .add-column", function(e) {
                var n = $(e.currentTarget),
                    i = n.parent(),
                    r = i.data("index");
                n.hasClass("delete-column") ? t.getNumberOfCols(t.active.row) > 1 && (t.deleteColumn($(t.active.cols[r])), t.deleteColumn(i)) : n.hasClass("add-column") && (n.hasClass("first") ? (t.addColumnBefore($(t.active.cols[0])), t.addColumnBefore(i)) : (t.addColumnAfter($(t.active.cols[r])), t.addColumnAfter(i))), t.redrawControls(), t.redrawResizers()
            }), e.$on("$stateChangeSuccess", function() {
                t.dispose()
            })
        }
    }
}]).directive("blToggleRowEditor", ["$rootScope", "$timeout", "grid", function(e, t, n) {
    return {
        restrict: "A",
        link: function(i, r) {
            var o = $("#highlights");
            n.editor || (n.editor = $("#row-editor")), i.$on("element.reselected", function() {
                var e = i.selected.node;
                if (n.isColumn(e) || n.isRow(e)) {
                    if (n.active.row = $(e).closest(".row"), n.getTotalSpan(n.active.row) > n.maxSpan) return !1;
                    r.css({
                        width: 200,
                        height: 40,
                        padding: 10
                    })
                } else r.css({
                    height: 0,
                    padding: 0
                })
            }), r.on("click", function() {
                n.active.row || (n.active.row = $(i.selected.node).closest(".row"));
                var r = function() {
                    n.active.row.addClass("editing"), i.repositionBox("select"), o.addClass("row-editor-open"), i.selectNode(n.active.row.get(0)), n.active.cols = n.getColumns(n.active.row), i.$apply(function() {
                        e.rowEditorOpen = !0
                    }), n.redrawEditor(), n.redrawResizers(), n.redrawControls(), n.active.originalHtml = n.active.row.html()
                };
                i.frame.hasClass("full-width") ? r() : (i.frame.removeClass().addClass("full-width"), t(function() {
                    i.frameOffset = i.frame[0].getBoundingClientRect(), r()
                }, 450))
            }), n.editor.find(".close-row-editor").on("click", function() {
                alertify.confirm("This will undo all the changes you have made to this row, are you sure you want to continue?", function(e) {
                    e && (n.active.row.html(n.active.originalHtml), n.hideEditor(!0), i.repositionBox("select"))
                })
            }), n.editor.find(".save-and-close-row-editor").on("click", function() {
                n.hideEditor(!0), i.repositionBox("select"), e.$broadcast("builder.html.changed")
            }), e.$on("builder.project.cleared", function() {
                n.hideEditor()
            })
        }
    }
}]).directive("blRowPresets", ["grid", function(e) {
    return {
        restrict: "A",
        link: function(t, n) {
            for (var i = [
                    [12],
                    [6, 6],
                    [3, 6, 3],
                    [4, 4, 4],
                    [3, 3, 3, 3],
                    [3, 9],
                    [9, 3],
                    [2, 2, 2, 2, 2, 2],
                    [6, 2, 4],
                    [4, 2, 6]
                ], r = 0; r < i.length; r++)
                for (var o = $('<div class="row-preset" data-preset="' + i[r] + '"></div>').appendTo(n), s = 0; s < i[r].length; s++) o.append('<div class="row-preset-' + i[r][s] + '"></di>'), o.tooltip({
                    placement: "top",
                    title: i[r].join("-")
                });
            n.on("click", ".row-preset", function(t) {
                e.applyPreset(t.currentTarget.dataset.preset.split(","))
            })
        }
    }
}]);
var fontAwesomeIconsList = ["fa fa-glass", "fa fa-music", "fa fa-search", "fa fa-envelope-o", "fa fa-heart", "fa fa-star", "fa fa-star-o", "fa fa-user", "fa fa-film", "fa fa-th-large", "fa fa-th", "fa fa-th-list", "fa fa-check", "fa fa-times", "fa fa-search-plus", "fa fa-search-minus", "fa fa-power-off", "fa fa-signal", "fa fa-cog", "fa fa-trash-o", "fa fa-home", "fa fa-file-o", "fa fa-clock-o", "fa fa-road", "fa fa-download", "fa fa-arrow-circle-o-down", "fa fa-arrow-circle-o-up", "fa fa-inbox", "fa fa-play-circle-o", "fa fa-repeat", "fa fa-refresh", "fa fa-list-alt", "fa fa-lock", "fa fa-flag", "fa fa-headphones", "fa fa-volume-off", "fa fa-volume-down", "fa fa-volume-up", "fa fa-qrcode", "fa fa-barcode", "fa fa-tag", "fa fa-tags", "fa fa-book", "fa fa-bookmark", "fa fa-print", "fa fa-camera", "fa fa-font", "fa fa-bold", "fa fa-italic", "fa fa-text-height", "fa fa-text-width", "fa fa-align-left", "fa fa-align-center", "fa fa-align-right", "fa fa-align-justify", "fa fa-list", "fa fa-outdent", "fa fa-indent", "fa fa-video-camera", "fa fa-picture-o", "fa fa-pencil", "fa fa-map-marker", "fa fa-adjust", "fa fa-tint", "fa fa-pencil-square-o", "fa fa-share-square-o", "fa fa-check-square-o", "fa fa-arrows", "fa fa-step-backward", "fa fa-fast-backward", "fa fa-backward", "fa fa-play", "fa fa-pause", "fa fa-stop", "fa fa-forward", "fa fa-fast-forward", "fa fa-step-forward", "fa fa-eject", "fa fa-chevron-left", "fa fa-chevron-right", "fa fa-plus-circle", "fa fa-minus-circle", "fa fa-times-circle", "fa fa-check-circle", "fa fa-question-circle", "fa fa-info-circle", "fa fa-crosshairs", "fa fa-times-circle-o", "fa fa-check-circle-o", "fa fa-ban", "fa fa-arrow-left", "fa fa-arrow-right", "fa fa-arrow-up", "fa fa-arrow-down", "fa fa-share", "fa fa-expand", "fa fa-compress", "fa fa-plus", "fa fa-minus", "fa fa-asterisk", "fa fa-exclamation-circle", "fa fa-gift", "fa fa-leaf", "fa fa-fire", "fa fa-eye", "fa fa-eye-slash", "fa fa-exclamation-triangle", "fa fa-plane", "fa fa-calendar", "fa fa-random", "fa fa-comment", "fa fa-magnet", "fa fa-chevron-up", "fa fa-chevron-down", "fa fa-retweet", "fa fa-shopping-cart", "fa fa-folder", "fa fa-folder-open", "fa fa-arrows-v", "fa fa-arrows-h", "fa fa-bar-chart-o", "fa fa-twitter-square", "fa fa-facebook-square", "fa fa-camera-retro", "fa fa-key", "fa fa-cogs", "fa fa-comments", "fa fa-thumbs-o-up", "fa fa-thumbs-o-down", "fa fa-star-half", "fa fa-heart-o", "fa fa-sign-out", "fa fa-linkedin-square", "fa fa-thumb-tack", "fa fa-external-link", "fa fa-sign-in", "fa fa-trophy", "fa fa-github-square", "fa fa-upload", "fa fa-lemon-o", "fa fa-phone", "fa fa-square-o", "fa fa-bookmark-o", "fa fa-phone-square", "fa fa-twitter", "fa fa-facebook", "fa fa-github", "fa fa-unlock", "fa fa-credit-card", "fa fa-rss", "fa fa-hdd-o", "fa fa-bullhorn", "fa fa-bell", "fa fa-certificate", "fa fa-hand-o-right", "fa fa-hand-o-left", "fa fa-hand-o-up", "fa fa-hand-o-down", "fa fa-arrow-circle-left", "fa fa-arrow-circle-right", "fa fa-arrow-circle-up", "fa fa-arrow-circle-down", "fa fa-globe", "fa fa-wrench", "fa fa-tasks", "fa fa-filter", "fa fa-briefcase", "fa fa-arrows-alt", "fa fa-users", "fa fa-link", "fa fa-cloud", "fa fa-flask", "fa fa-scissors", "fa fa-files-o", "fa fa-paperclip", "fa fa-floppy-o", "fa fa-square", "fa fa-bars", "fa fa-list-ul", "fa fa-list-ol", "fa fa-strikethrough", "fa fa-underline", "fa fa-table", "fa fa-magic", "fa fa-truck", "fa fa-pinterest", "fa fa-pinterest-square", "fa fa-google-plus-square", "fa fa-google-plus", "fa fa-money", "fa fa-caret-down", "fa fa-caret-up", "fa fa-caret-left", "fa fa-caret-right", "fa fa-columns", "fa fa-sort", "fa fa-sort-desc", "fa fa-sort-asc", "fa fa-envelope", "fa fa-linkedin", "fa fa-undo", "fa fa-gavel", "fa fa-tachometer", "fa fa-comment-o", "fa fa-comments-o", "fa fa-bolt", "fa fa-sitemap", "fa fa-umbrella", "fa fa-clipboard", "fa fa-lightbulb-o", "fa fa-exchange", "fa fa-cloud-download", "fa fa-cloud-upload", "fa fa-user-md", "fa fa-stethoscope", "fa fa-suitcase", "fa fa-bell-o", "fa fa-coffee", "fa fa-cutlery", "fa fa-file-text-o", "fa fa-building-o", "fa fa-hospital-o", "fa fa-ambulance", "fa fa-medkit", "fa fa-fighter-jet", "fa fa-beer", "fa fa-h-square", "fa fa-plus-square", "fa fa-angle-double-left", "fa fa-angle-double-right", "fa fa-angle-double-up", "fa fa-angle-double-down", "fa fa-angle-left", "fa fa-angle-right", "fa fa-angle-up", "fa fa-angle-down", "fa fa-desktop", "fa fa-laptop", "fa fa-tablet", "fa fa-mobile", "fa fa-circle-o", "fa fa-quote-left", "fa fa-quote-right", "fa fa-spinner", "fa fa-circle", "fa fa-reply", "fa fa-github-alt", "fa fa-folder-o", "fa fa-folder-open-o", "fa fa-smile-o", "fa fa-frown-o", "fa fa-meh-o", "fa fa-gamepad", "fa fa-keyboard-o", "fa fa-flag-o", "fa fa-flag-checkered", "fa fa-terminal", "fa fa-code", "fa fa-reply-all", "fa fa-star-half-o", "fa fa-location-arrow", "fa fa-crop", "fa fa-code-fork", "fa fa-chain-broken", "fa fa-question", "fa fa-info", "fa fa-exclamation", "fa fa-superscript", "fa fa-subscript", "fa fa-eraser", "fa fa-puzzle-piece", "fa fa-microphone", "fa fa-microphone-slash", "fa fa-shield", "fa fa-calendar-o", "fa fa-fire-extinguisher", "fa fa-rocket", "fa fa-maxcdn", "fa fa-chevron-circle-left", "fa fa-chevron-circle-right", "fa fa-chevron-circle-up", "fa fa-chevron-circle-down", "fa fa-html5", "fa fa-css3", "fa fa-anchor", "fa fa-unlock-alt", "fa fa-bullseye", "fa fa-ellipsis-h", "fa fa-ellipsis-v", "fa fa-rss-square", "fa fa-play-circle", "fa fa-ticket", "fa fa-minus-square", "fa fa-minus-square-o", "fa fa-level-up", "fa fa-level-down", "fa fa-check-square", "fa fa-pencil-square", "fa fa-external-link-square", "fa fa-share-square", "fa fa-compass", "fa fa-caret-square-o-down", "fa fa-caret-square-o-up", "fa fa-caret-square-o-right", "fa fa-eur", "fa fa-gbp", "fa fa-usd", "fa fa-inr", "fa fa-jpy", "fa fa-rub", "fa fa-krw", "fa fa-btc", "fa fa-file", "fa fa-file-text", "fa fa-sort-alpha-asc", "fa fa-sort-alpha-desc", "fa fa-sort-amount-asc", "fa fa-sort-amount-desc", "fa fa-sort-numeric-asc", "fa fa-sort-numeric-desc", "fa fa-thumbs-up", "fa fa-thumbs-down", "fa fa-youtube-square", "fa fa-youtube", "fa fa-xing", "fa fa-xing-square", "fa fa-youtube-play", "fa fa-dropbox", "fa fa-stack-overflow", "fa fa-instagram", "fa fa-flickr", "fa fa-adn", "fa fa-bitbucket", "fa fa-bitbucket-square", "fa fa-tumblr", "fa fa-tumblr-square", "fa fa-long-arrow-down", "fa fa-long-arrow-up", "fa fa-long-arrow-left", "fa fa-long-arrow-right", "fa fa-apple", "fa fa-windows", "fa fa-android", "fa fa-linux", "fa fa-dribbble", "fa fa-skype", "fa fa-foursquare", "fa fa-trello", "fa fa-female", "fa fa-male", "fa fa-gittip", "fa fa-sun-o", "fa fa-moon-o", "fa fa-archive", "fa fa-bug", "fa fa-vk", "fa fa-weibo", "fa fa-renren", "fa fa-pagelines", "fa fa-stack-exchange", "fa fa-arrow-circle-o-right", "fa fa-arrow-circle-o-left", "fa fa-caret-square-o-left", "fa fa-dot-circle-o", "fa fa-wheelchair", "fa fa-vimeo-square", "fa fa-try", "fa fa-plus-square-o", "fa fa-space-shuttle", "fa fa-slack", "fa fa-envelope-square", "fa fa-wordpress", "fa fa-openid", "fa fa-university", "fa fa-graduation-cap", "fa fa-yahoo", "fa fa-google", "fa fa-reddit", "fa fa-reddit-square", "fa fa-stumbleupon-circle", "fa fa-stumbleupon", "fa fa-delicious", "fa fa-digg", "fa fa-pied-piper", "fa fa-pied-piper-alt", "fa fa-drupal", "fa fa-joomla", "fa fa-language", "fa fa-fax", "fa fa-building", "fa fa-child", "fa fa-paw", "fa fa-spoon", "fa fa-cube", "fa fa-cubes", "fa fa-behance", "fa fa-behance-square", "fa fa-steam", "fa fa-steam-square", "fa fa-recycle", "fa fa-car", "fa fa-taxi", "fa fa-tree", "fa fa-spotify", "fa fa-deviantart", "fa fa-soundcloud", "fa fa-database", "fa fa-file-pdf-o", "fa fa-file-word-o", "fa fa-file-excel-o", "fa fa-file-powerpoint-o", "fa fa-file-image-o", "fa fa-file-archive-o", "fa fa-file-audio-o", "fa fa-file-video-o", "fa fa-file-code-o", "fa fa-vine", "fa fa-codepen", "fa fa-jsfiddle", "fa fa-life-ring", "fa fa-circle-o-notch", "fa fa-rebel", "fa fa-empire", "fa fa-git-square", "fa fa-git", "fa fa-hacker-news", "fa fa-tencent-weibo", "fa fa-qq", "fa fa-weixin", "fa fa-paper-plane", "fa fa-paper-plane-o", "fa fa-history", "fa fa-circle-thin", "fa fa-header", "fa fa-paragraph", "fa fa-sliders", "fa fa-share-alt", "fa fa-share-alt-square", "fa fa-bomb"],
    colorsForPicker = ["#D24D57", "#F22613", "#D91E18", "#96281B", "#EF4836", "#D64541", "#C0392B", "#CF000F", "#E74C3C", "#DB0A5B", "#F64747", "#F1A9A0", "#D2527F", "#E08283", "#F62459", "#E26A6A", "#DCC6E0", "#663399", "#674172", "#AEA8D3", "#913D88", "#9A12B3", "#BF55EC", "#BE90D4", "#8E44AD", "#9B59B6", "#446CB3", "#E4F1FE", "#4183D7", "#59ABE3", "#81CFE0", "#52B3D9", "#C5EFF7", "#22A7F0", "#3498DB", "#2C3E50", "#19B5FE", "#336E7B", "#22313F", "#6BB9F0", "#1E8BC3", "#3A539B", "#34495E", "#67809F", "#2574A9", "#1F3A93", "#89C4F4", "#4B77BE", "#5C97BF", "#4ECDC4", "#A2DED0", "#87D37C", "#90C695", "#26A65B", "#03C9A9", "#68C3A3", "#65C6BB", "#1BBC9B", "#1BA39C", "#66CC99", "#36D7B7", "#C8F7C5", "#86E2D5", "#2ECC71", "#16a085", "#3FC380", "#019875", "#03A678", "#4DAF7C", "#2ABB9B", "#00B16A", "#1E824C", "#049372", "#26C281", "#FDE3A7", "#F89406", "#EB9532", "#E87E04", "#F4B350", "#F2784B", "#EB974E", "#F5AB35", "#D35400", "#F39C12", "#F9690E", "#F9BF3B", "#F27935", "#E67E22", "#ececec", "#6C7A89", "#D2D7D3", "#EEEEEE", "#BDC3C7", "#ECF0F1", "#95A5A6", "#DADFE1", "#ABB7B7", "#F2F1EF", "#BFBFBF", "#E6E2AF", "#A7A37E", "#EFECCA", "#046380", "#002F2F", "#468966", "#FFF0A5", "#FFB03B", "#B64926", "#8E2800", "#1E1E20"];
angular.module("builder.wysiwyg", []).factory("textStyles", function() {
    return {
        fontSizes: [8, 9, 10, 11, 12, 14, 16, 18, 20, 22, 24, 26, 28, 36, 48, 72],
        fontWeights: [100, 200, 300, 400, 500, 600, 700, 800, 900, "bold", "bolder", "light", "lighter", "normal"],
        fontAwesomeIconList: fontAwesomeIconsList,
        baseFonts: [{
            name: "Impact",
            css: "Impact, Charcoal, sans-serif"
        }, {
            name: "Comic Sans",
            css: '"Comic Sans MS", cursive, sans-serif'
        }, {
            name: "Arial Black",
            css: '"Arial Black", Gadget, sans-serif'
        }, {
            name: "Century Gothic",
            css: "Century Gothic, sans-serif"
        }, {
            name: "Courier New",
            css: '"Courier New", Courier, monospace'
        }, {
            name: "Lucida Sans",
            css: '"Lucida Sans Unicode", "Lucida Grande", sans-serif'
        }, {
            name: "Times New Roman",
            css: '"Times New Roman", Times, serif'
        }, {
            name: "Lucida Console",
            css: '"Lucida Console", Monaco, monospace'
        }, {
            name: "Andele Mono",
            css: '"Andele Mono", monospace, sans-serif'
        }, {
            name: "Verdana",
            css: "Verdana, Geneva, sans-serif"
        }, {
            name: "Helvetica Neue",
            css: '"Helvetica Neue", Helvetica, Arial, sans-serif'
        }]
    }
}).controller("ToolbarController", ["$scope", "textStyles", function(e, t) {
    e.href = "http://", e.fontSizes = t.fontSizes, e.baseFonts = t.baseFonts, e.icons = t.fontAwesomeIconList, e.font = {
        size: "",
        family: ""
    }, e.$watchCollection("font", function(t, n) {
        for (var i in t) t[i] && t[i] !== n[i] && e.applyStyle("font-" + i, t[i])
    })
}]).directive("blToggleIconList", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", function() {
                return $("#icons-list").toggle(), !1
            })
        }
    }
}).directive("blIframeTextEditable", ["$rootScope", "elements", function(e, t) {
    return {
        restrict: "A",
        link: function(e) {
            var n = $("#text-toolbar"),
                i = !1,
                r = n.outerWidth(),
                o = n.outerHeight();
            n.addClass("hidden");
            var s = function(s, a, l) {
                l = l ? l : e.elementFromPoint(s, a - e.frameBody.scrollTop());
                var c = t.match(l);
                if (c.canModify.indexOf("text") > -1 && c.showWysiwyg) {
                    e.selectBox.hide(), l.setAttribute("contenteditable", !0), l.focus();
                    var u = l.getBoundingClientRect(),
                        h = u.top - o - 5,
                        d = u.left + (u.width - r) / 2,
                        f = u.left + r,
                        p = $("#viewport").width();
                    h < e.frameOffset.top && (h += l.offsetHeight + 70), f > p && (d = p - e.frameOffset.left - r - 25), n.removeClass("hidden").css({
                        top: h,
                        left: d
                    }), i = l
                }
            };
            e.$on("builder.dom.loaded", function() {
                e.frameBody.off("dblclick").on("dblclick", function(e) {
                    s(e.pageX, e.pageY)
                }), e.$on("builder.contextBox.editBtn.click", function(t) {
                    s(t.pageX, t.pageY, e.selected.node)
                }), $(e.frameDoc).on("scroll", function() {
                    n && i && !n.hasClass("hidden") && (n.addClass("hidden"), i.removeAttribute("contenteditable"), i.blur())
                })
            })
        }
    }
}]).directive("blFloatingToolbar", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            rangy.init(), e.bold = rangy.createCssClassApplier("strong", {
                elementTagName: "strong"
            }), e.underline = rangy.createCssClassApplier("u", {
                elementTagName: "u"
            }), e.italic = rangy.createCssClassApplier("em", {
                elementTagName: "em"
            }), e.strike = rangy.createCssClassApplier("s", {
                elementTagName: "s"
            }), e.fontSelect = t.find("#toolbar-font"), e.sizeSelect = t.find("#toolbar-size"), t.find("#icons-list").on("click", ".icon", function(n) {
                var i = rangy.getSelection(e.frameDoc).getRangeAt(0),
                    r = e.frameDoc.createElement("i");
                r.className = n.currentTarget.dataset.iconClass, i.insertNode(r), t.find("#icons-list").hide()
            }), e.align = function(t) {
                $(e.selected.node).removeClass(function(e, t) {
                    return (t.match(/(^|\s)text-\S+/g) || []).join(" ")
                }).addClass("text-" + t)
            }, t.find("#toolbar-style").on("click", "div", function(t) {
                t.preventDefault();
                var n = this.className;
                n.indexOf("align") > -1 ? e.align(n.replace("align-", "")) : n.indexOf("wrap-link") > -1 ? $("#link-details").toggleClass("hidden") : e[n].toggleSelection(e.frameDoc)
            }), t.find("#link-details > .btn").on("click", function() {
                var t = rangy.createCssClassApplier("link", {
                    elementTagName: "a",
                    elementProperties: {
                        href: e.href,
                        title: e.title
                    }
                });
                t.toggleSelection(e.frameDoc), $("#link-details").toggleClass("hidden")
            }), e.$on("builder.dom.loaded", function() {
                e.frameBody.mouseup(function(t) {
                    $(t.target).is("[contenteditable='true']") && (e.sizeSelect.val("").prettyselect("refresh", !0), e.fontSelect.val("").prettyselect("refresh", !0))
                })
            }), e.applyStyle = function(t, n) {
                var i = {
                        style: t + ": " + n
                    },
                    r = rangy.getSelection(e.frameDoc).toString();
                e.oldSelection !== r && (e["font-size"] = !1, e["font-family"] = !1), (e["font-size"] || e["font-family"]) && (i.style += "font-size" == t ? "; font-family: " + e["font-family"] : "; font-size: " + e["font-size"]), e[t] = n, e.oldSelection = r, e.fontStyle = rangy.createCssClassApplier("font-style", {
                    elementTagName: "span",
                    elementAttributes: i
                }), e.fontStyle.undoToSelection(e.frameDoc), n && e.fontStyle.applyToSelection(e.frameDoc)
            }
        }
    }
});
var baseBuilderElements = [];
baseBuilderElements.push({
    name: "page header",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "page-header",
    html: '<div class="page-header"><h1>Example page header <small>Header subtext</small></h1></div>',
    types: ["flow"],
    validChildren: ["flow"],
    category: "typography",
    previewScale: "0.4",
    icon: "header"
}), baseBuilderElements.push({
    name: "progress bar",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "progress",
    html: '<div class="progress"><div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 60%;">60%</div></div>',
    types: ["flow"],
    validChildren: ["flow"],
    category: "components",
    icon: "progress-2"
}), baseBuilderElements.push({
    name: "list group",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "list-group",
    html: '<div class="list-group"><a href="#" class="list-group-item disabled">Cras justo odio</a><a href="#" class="list-group-item">Dapibus ac facilisis in</a><a href="#" class="list-group-item">Morbi leo risus</a><a href="#" class="list-group-item">Porta ac consectetur ac</a><a href="#" class="list-group-item">Vestibulum at eros</a></div>',
    types: ["flow"],
    validChildren: ["flow"],
    category: "components",
    previewScale: "0.4",
    icon: "th-list-1"
}), baseBuilderElements.push({
    name: "panel",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "panel",
    html: '<div class="panel panel-primary"><div class="panel-heading">Panel heading without title</div><div class="panel-body">Panel content</div><div class="panel-footer">Panel Footer</div></div>',
    types: ["flow"],
    validChildren: ["flow"],
    category: "components",
    previewScale: "0.4",
    icon: "window"
}), baseBuilderElements.push({
    name: "container",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "container",
    html: '<div class="container"></div>',
    types: ["flow"],
    validChildren: ["flow"],
    category: "layout",
    previewScale: "0.15",
    dragHelper: !0,
    icon: "squares",
    attributes: {
        type: {
            list: [{
                name: "default",
                value: "container"
            }, {
                name: "wide",
                value: "container-fluid"
            }]
        }
    }
}), baseBuilderElements.push({
    name: "row",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "row",
    html: '<section class="row"><div class="col-md-4"></div><div class="col-md-3"></div><div class="col-md-5"></div></section>',
    types: ["flow"],
    validChildren: ["flow"],
    category: "layout",
    previewScale: "0.15",
    dragHelper: !0,
    icon: "minus-outline"
}), baseBuilderElements.push({
    name: "well",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "well",
    html: '<div class="well">Look, I\'m in a well!</div>',
    types: ["flow"],
    validChildren: ["flow"],
    category: "layout",
    icon: "bucket"
}), baseBuilderElements.push({
    name: "label",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "label",
    html: '<span class="label label-success">Label</span>',
    types: ["flow", "phrasing"],
    validChildren: ["phrasing"],
    category: "typography",
    previewScale: 2,
    hiddenClasses: ["label"],
    icon: "tag"
}), baseBuilderElements.push({
    name: "column",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "col-*",
    html: '<div class="col-sm-6"></div>',
    types: ["flow"],
    validChildren: ["flow"],
    canModify: ["text", "box", "margin", "padding", "attributes"]
}), baseBuilderElements.push({
    name: "button group",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "btn-group",
    html: '<div class="btn-group"><button type="button" class="btn btn-default">Left</button><button type="button" class="btn btn-default">Middle</button><button type="button" class="btn btn-default">Right</button></div>',
    types: ["flow"],
    validChildren: ["button"],
    category: "buttons",
    previewScale: "0.9",
    icon: "columns"
}), baseBuilderElements.push({
    name: "button toolbar",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "btn-toolbar",
    html: '<div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups"><div class="btn-group" role="group" aria-label="First group"><button type="button" class="btn btn-default">1</button><button type="button" class="btn btn-default">2</button><button type="button" class="btn btn-default">3</button><button type="button" class="btn btn-default">4</button></div><div class="btn-group" role="group" aria-label="Second group"><button type="button" class="btn btn-default">5</button><button type="button" class="btn btn-default">6</button><button type="button" class="btn btn-default">7</button></div><div class="btn-group" role="group" aria-label="Third group"><button type="button" class="btn btn-default">8</button></div></div>',
    types: ["flow"],
    validChildren: [".btn-group"],
    category: "buttons",
    previewScale: "0.6",
    icon: "progress-3"
}), baseBuilderElements.push({
    name: "input field",
    nodes: ["input=text", "input=email", "input=password"],
    frameworks: ["bootstrap"],
    html: '<input type="text" class="form-control" placeholder="Text input">',
    types: ["flow", "phrasing", "interactive", "listed", "labelable", "submittable", "resettable", "reassociateable", "form-associated"],
    validChildren: !1,
    previewScale: "0.5",
    showWysiwyg: !1,
    hiddenClasses: ["form-control"],
    category: "forms",
    icon: "progress-0",
    attributes: {
        placeholder: {
            text: !0,
            value: "Text input",
            onAssign: function(e) {
                this.value = e.selected.node.getAttribute("placeholder")
            },
            onChange: function(e, t) {
                e.selected.node.setAttribute("placeholder", t), e.repositionBox("select")
            }
        },
        type: {
            list: [{
                name: "Text",
                value: "text"
            }, {
                name: "Password",
                value: "password"
            }, {
                name: "Date",
                value: "date"
            }, {
                name: "Email",
                value: "email"
            }, {
                name: "Datetime",
                value: "datetime"
            }, {
                name: "Datetime Local",
                value: "datetime-local"
            }, {
                name: "Month",
                value: "month"
            }, {
                name: "Time",
                value: "time"
            }, {
                name: "Week",
                value: "week"
            }, {
                name: "Number",
                value: "number"
            }, {
                name: "Url",
                value: "url"
            }, {
                name: "Search",
                value: "search"
            }, {
                name: "Tel",
                value: "tel"
            }, {
                name: "Color",
                value: "color"
            }],
            value: !1,
            onAssign: function(e) {
                for (var t = this.list.length - 1; t >= 0; t--)
                    if (e.selected.node.getAttribute("type") == this.list[t].value) return this.value = this.list[t];
                return this.value = this.list[0]
            },
            onChange: function(e, t) {
                e.selected.node.setAttribute("type", t.value)
            }
        }
    }
}), baseBuilderElements.push({
    name: "text area",
    nodes: ["textarea"],
    frameworks: ["bootstrap"],
    html: '<textarea class="form-control" rows="3"></textarea>',
    types: ["flow", "phrasing", "interactive", "listed", "labelable", "submittable", "resettable", "reassociateable", "form-associated"],
    validChildren: !1,
    previewScale: "0.5",
    showWysiwyg: !1,
    hiddenClasses: ["form-control"],
    category: "forms",
    icon: "doc-landscape",
    attributes: {
        rows: {
            text: !0,
            value: 1,
            onAssign: function(e) {
                this.value = e.selected.node.getAttribute("rows")
            },
            onChange: function(e, t) {
                e.selected.node.setAttribute("rows", t), e.repositionBox("select")
            }
        },
        placeholder: {
            text: !0,
            value: "Text input",
            onAssign: function(e) {
                this.value = e.selected.node.getAttribute("placeholder")
            },
            onChange: function(e, t) {
                e.selected.node.setAttribute("placeholder", t), e.repositionBox("select")
            }
        }
    }
}), baseBuilderElements.push({
    name: "checkbox",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "checkbox",
    html: '<div class="checkbox"><label><input type="checkbox">Option #1</label></div>',
    types: ["flow", "phrasing", "interactive", "listed", "labelable", "submittable", "resettable", "reassociateable", "form-associated"],
    validChildren: !1,
    category: "forms",
    showWysiwyg: !1,
    icon: "check"
}), baseBuilderElements.push({
    name: "input group",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "input-group",
    html: '<div class="form-group"><div class="input-group"><div class="input-group-addon">@</div><input class="form-control" type="email" placeholder="Enter email"></div></div>',
    types: ["flow"],
    validChildren: !1,
    attributes: {
        size: {
            list: [{
                name: "Medium",
                value: ""
            }, {
                name: "Large",
                value: "input-group-lg"
            }, {
                name: "Small",
                value: "input-group-sm"
            }]
        }
    },
    previewScale: "0.5",
    showWysiwyg: !1,
    category: "forms",
    icon: "popup",
    hiddenClasses: ["input-group"]
}), baseBuilderElements.push({
    name: "form group",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "form-group",
    html: '<div class="form-group"><label for="email" class="control-label">Email address</label><input type="email" class="form-control" id="email" placeholder="Enter email"></div>',
    types: ["flow"],
    validChildren: !1,
    attributes: {
        state: {
            list: [{
                name: "None",
                value: ""
            }, {
                name: "Error",
                value: "has-error"
            }, {
                name: "Success",
                value: "has-success"
            }, {
                name: "Warning",
                value: "has-warning"
            }]
        }
    },
    previewScale: "0.5",
    showWysiwyg: !1,
    category: "forms",
    icon: "menu",
    hiddenClasses: ["form-group"]
}), baseBuilderElements.push({
    name: "link",
    frameworks: ["base", "bootstrap"],
    nodes: ["a"],
    html: '<a href="#">A simple hyperlink.</a>',
    types: ["flow", "phrasing", "interactive"],
    validChildren: ["flow"],
    category: "typography",
    onEdit: function(e) {
        e.linker.removeClass("hidden");
        var t = 0,
            n = 0,
            i = e.selected.node.getBoundingClientRect(),
            r = $("#viewport").width(),
            o = $("#viewport").height(),
            s = $("#elements-container")[0].getBoundingClientRect(),
            a = i.left + e.frameOffset.left + e.linker.width(),
            l = i.top + e.frameOffset.top + e.linker.height();
        t = r.left < a ? i.left - (a - r.left) - 40 : i.left - (e.linker.width() - e.selected.node.offsetWidth) / 2, n = l > o ? i.top - e.selected.node.offsetHeight - e.linker.height() - 10 : i.top + e.selected.node.offsetHeight, t < s.left && (t = s.left + 30), e.linker.css({
            top: n,
            left: t
        })
    },
    icon: "link-outline"
}), baseBuilderElements.push({
    name: "addon",
    nodes: "*",
    frameworks: ["bootstrap"],
    "class": "input-group-addon",
    html: !1,
    canDrag: !1,
    types: ["flow"],
    validChildren: !1,
    canModify: ["text", "attributes"],
    attributes: {
        side: {
            list: [{
                name: "Left",
                value: "left"
            }, {
                name: "Right",
                value: "right"
            }],
            value: !1,
            onAssign: function(e) {
                this.value = $(e.selected.node).index() ? this.list[1] : this.list[0]
            },
            onChange: function(e, t) {
                var n = $(e.selected.parent).children();
                "right" == t.value ? $(n[n.length - 1]).after(e.selected.node) : $(n[0]).before(e.selected.node)
            }
        },
        contents: {
            list: [{
                name: "Text",
                value: "text"
            }, {
                name: "Checkbox",
                value: "checkbox"
            }, {
                name: "Radio",
                value: "radio"
            }, {
                name: "Button",
                value: "button"
            }, {
                name: "Dropdown",
                value: "dropdown"
            }],
            onAssign: function(e) {
                var t = $(e.selected.node).children();
                0 == t.length ? this.value = this.list[0] : "checkbox" == t[0].type ? this.value = this.list[1] : "radio" == t[0].type ? this.value = this.list[2] : "BUTTON" == t[0].nodeName ? this.value = this.list[3] : t.length > 1 && (this.value = this.list[4])
            },
            onChange: function(e, t) {
                "text" == t.value ? ($(e.selected.node).removeClass().addClass("input-group-addon"), $(e.selected.node).html("@")) : "checkbox" == t.value ? ($(e.selected.node).removeClass().addClass("input-group-addon"), $(e.selected.node).html('<input type="checkbox">')) : "radio" == t.value ? ($(e.selected.node).removeClass().addClass("input-group-addon"), $(e.selected.node).html('<input type="radio">')) : "button" == t.value ? ($(e.selected.node).removeClass().addClass("input-group-btn"), $(e.selected.node).html('<button class="btn btn-default" type="button">Go!</button>')) : "dropdown" == t.value && ($(e.selected.node).removeClass().addClass("input-group-btn"), $(e.selected.node).html('<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">Action <span class="caret"></span></button><ul class="dropdown-menu" role="menu"><li><a href="#">Action</a></li><li><a href="#">Another action</a></li><li><a href="#">Something else here</a></li><li class="divider"></li><li><a href="#">Separated link</a></li></ul>'))
            }
        }
    },
    showWysiwyg: !1,
    hiddenClasses: ["input-group-addon"]
}), baseBuilderElements.push({
    name: "select",
    nodes: ["select"],
    frameworks: ["bootstrap"],
    html: '<select class="form-control"><option>1</option><option>2</option><option>3</option><option>4</option><option>5</option></select>',
    types: ["flow", "phrasing", "interactive", "listed", "labelable", "submittable", "resettable", "reassociateable", "form-associated"],
    validChildren: !1,
    attributes: {
        state: {
            list: [{
                name: "None",
                value: ""
            }, {
                name: "Error",
                value: "has-error"
            }, {
                name: "Success",
                value: "has-success"
            }, {
                name: "Warning",
                value: "has-warning"
            }]
        }
    },
    previewScale: "0.5",
    showWysiwyg: !1,
    category: "forms",
    icon: "arrow-combo"
}), baseBuilderElements.push({
    name: "image",
    nodes: ["img"],
    frameworks: ["bootstrap"],
    html: '<img src="http://ironsummitmedia.github.io/startbootstrap-freelancer/img/profile.png" class="img-responsive">',
    types: ["flow", "phrasing", "embedded", "interactive", "form-associated"],
    validChildren: !1,
    category: "media",
    icon: "picture-outline",
    canModify: ["padding", "margin", "attributes", "shadows", "borders"],
    previewScale: "0.3",
    onEdit: function(e) {
        var t = angular.element(document.body).injector().get("imageEditor");
        t.open(e.selected.node, e.selected.node.src)
    },
    attributes: {
        shape: {
            list: [{
                name: "Default",
                value: ""
            }, {
                name: "Rounded",
                value: "img-rounded"
            }, {
                name: "Thumbnail",
                value: "img-thumbnail"
            }, {
                name: "Circle",
                value: "img-circle"
            }]
        }
    }
}), baseBuilderElements.push({
    name: "responsive video",
    nodes: "*",
    "class": "embed-responsive",
    frameworks: ["bootstrap"],
    html: '<div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" src="//www.youtube.com/embed/sENM2wA_FTg"></iframe></div>',
    types: ["flow"],
    validChildren: !1,
    category: "media",
    icon: "video",
    canModify: ["padding", "margin", "shadows", "attributes"],
    previewScale: "0.7",
    previewHtml: '<img data-name="responsive video" data-src="//www.youtube.com/embed/sENM2wA_FTg" class="img-responsive preview-node" src="assets/images/previews/responsiveEmbedPreview.png">',
    attributes: {
        url: {
            text: !0,
            value: "//www.youtube.com/embed/wGp0GAd1d1s",
            onAssign: function(e) {
                this.value = e.selected.node.dataset.src
            },
            onChange: function(e, t) {
                e.selected.node.dataset.src = t
            }
        }
    },
    hiddenClasses: ["embed-responsive", "preview-node", "img-responsive"]
}), baseBuilderElements.push({
    name: "image grid",
    nodes: "*",
    "class": "image-grid",
    frameworks: ["bootstrap"],
    html: '<div class="row image-grid"><div class="col-xs-3"><a href="#" class="thumbnail"><img src="templates/freelancer/images/portfolio/cabin.png"></a></div><div class="col-xs-3"><a href="#" class="thumbnail"><img src="templates/freelancer/images/portfolio/cabin.png"></a></div><div class="col-xs-3"><a href="#" class="thumbnail"><img src="templates/freelancer/images/portfolio/cabin.png"></a></div><div class="col-xs-3"><a href="#" class="thumbnail"><img src="templates/freelancer/images/portfolio/cabin.png"></a></div></div>',
    types: ["flow"],
    validChildren: !1,
    category: "media",
    icon: "grid",
    canModify: ["padding", "margin", "shadows", "attributes"],
    previewScale: "0.2"
}), baseBuilderElements.push({
    name: "transparent background",
    nodes: ["*"],
    "class": "transparent-background",
    frameworks: ["base", "bootstrap"],
    types: ["flow"],
    validChildren: ["flow"],
    draggable: !1,
    hiddenClasses: ["transparent-background"],
    attributes: {
        opacity: {
            list: [{
                name: "0.1",
                value: ".1"
            }, {
                name: "0.2",
                value: ".2"
            }, {
                name: "0.3",
                value: ".3"
            }, {
                name: "0.4",
                value: ".4"
            }, {
                name: "0.5",
                value: ".5"
            }, {
                name: "0.6",
                value: ".6"
            }, {
                name: "0.7",
                value: ".7"
            }, {
                name: "0.8",
                value: ".8"
            }, {
                name: "0.9",
                value: ".9"
            }, {
                name: "1",
                value: "1"
            }],
            value: "",
            onAssign: function(e) {
                for (var t = this.list.length - 1; t >= 0; t--)
                    if ($(e.selected.node).css("background-color").indexOf(this.list[t].value) > -1) return this.value = this.list[t];
                    "" === this.value && (this.value = this.list[9])
            },
            onChange: function(e, t) {
                $(e.selected.node).css("background-color", "rgba(0,0,0," + t.value + ")")
            }
        }
    }
}), baseBuilderElements.push({
    name: "paragraph",
    frameworks: ["base"],
    nodes: ["p"],
    html: "<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitationullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit involuptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat nonproident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>",
    types: ["flow"],
    validChildren: ["phrasing"],
    category: "typography",
    icon: "paragraph"
}), baseBuilderElements.push({
    name: "divider",
    frameworks: ["base"],
    nodes: ["hr"],
    html: "<hr>",
    types: ["flow"],
    validChildren: !1,
    category: "layout",
    dragHelper: !0,
    icon: "divide-outline"
}), baseBuilderElements.push({
    name: "marked text",
    frameworks: ["base"],
    nodes: ["mark"],
    html: "<mark>Marked Text</mark>",
    types: ["flow", "phrasing"],
    validChildren: ["phrasing"],
    category: "typography",
    icon: "info-circled"
}), baseBuilderElements.push({
    name: "definition list",
    frameworks: ["base"],
    nodes: ["dl"],
    html: '<dl class="dl-horizontal"><dt>Description lists</dt><dd>A description list is perfect for defining terms.</dd><dt>Euismod</dt><dd>Vestibulum id ligula porta felis euismod semper eget lacinia odio sem nec elit.</dd><dd>Donec id elit non mi porta gravida at eget metus.</dd><dt>Malesuada porta</dt><dd>Etiam porta sem malesuada magna mollis euismod.</dd><dt>Felis euismod semper eget lacinia</dt><dd>Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</dd></dl>',
    types: ["flow", "sectioning root"],
    validChildren: ["dt", "dd"],
    category: "typography",
    previewScale: "0.4",
    scaleDragPreview: !1,
    icon: "menu-outline"
}), baseBuilderElements.push({
    name: "blockqoute",
    frameworks: ["base"],
    nodes: ["blockqoute"],
    html: '<blockquote><p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer posuere erat a ante.</p><footer>Someone famous in <cite title="Source Title">Source Title</cite></footer></blockquote>',
    types: ["flow", "sectioning root"],
    validChildren: ["flow"],
    category: "typography",
    previewScale: "0.5",
    scaleDragPreview: !1,
    icon: "quote"
}), baseBuilderElements.push({
    name: "list item",
    frameworks: ["base"],
    nodes: ["li"],
    html: "<li>A basic list item</li>",
    types: ["li"],
    validChildren: ["flow"]
}), baseBuilderElements.push({
    name: "unordered list",
    frameworks: ["base"],
    nodes: ["ul"],
    html: "<ul><li>List item #1</li><li>List item #2</li><li>List item #3</li><ul>",
    types: ["flow"],
    validChildren: ["li"],
    category: "typography",
    icon: "th-list"
}), baseBuilderElements.push({
    name: "body",
    frameworks: ["base"],
    nodes: ["body"],
    html: !1,
    draggable: !1,
    types: ["flow"],
    validChildren: ["flow"]
}), baseBuilderElements.push({
    name: "button",
    frameworks: ["base"],
    nodes: ["button"],
    html: '<button class="btn btn-success">Click Me</button>',
    types: ["flow", "phrasing", "interactive", "listed", "labelable", "submittable", "reassociateable", "form-associated"],
    validChildren: ["phrasing"],
    category: "buttons",
    icon: "doc-landscape"
}), baseBuilderElements.push({
    name: "div container",
    frameworks: ["base"],
    nodes: ["div"],
    html: "<div></div>",
    types: ["flow"],
    validChildren: ["flow"],
    category: "layout",
    dragHelper: !0,
    previewScale: "0.7",
    icon: "blank"
}), baseBuilderElements.push({
    name: "heading",
    nodes: ["h1", "h2", "h3", "h4", "h5", "h6"],
    frameworks: ["base"],
    html: "<h2>Heading</h2>",
    types: ["heading", "flow"],
    validChildren: ["phrasing"],
    category: "typography",
    icon: "header",
    attributes: {
        types: {
            list: [{
                name: "h1",
                value: "h1"
            }, {
                name: "h2",
                value: "h2"
            }, {
                name: "h3",
                value: "h3"
            }, {
                name: "h4",
                value: "h4"
            }, {
                name: "h5",
                value: "h5"
            }, {
                name: "h6",
                value: "h6"
            }],
            value: "h1",
            onAssign: function(e) {
                for (var t = e.selected.node.nodeName.toLowerCase(), n = this.list.length - 1; n >= 0; n--)
                    if (t == this.list[n].value) return this.value = this.list[n]
            },
            onChange: function(e, t) {
                var n = t.value;
                e.selected.node = $("<" + n + ">" + $(e.selected.node).html() + "</" + n + ">").replaceAll(e.selected.node).get(0), e.repositionBox("select")
            }
        }
    }
}), baseBuilderElements.push({
    name: "icon",
    nodes: ["i"],
    frameworks: ["base", "bootstrap"],
    html: !1,
    types: ["flow", "phrasing"],
    validChildren: !1,
    category: !1,
    canDrag: !0,
    canModify: ["text", "attributes"],
    attributes: {
        size: {
            list: [{
                name: "Default",
                value: ""
            }, {
                name: "Large",
                value: "fa-lg"
            }, {
                name: "2x",
                value: "fa-2x"
            }, {
                name: "3x",
                value: "fa-3x"
            }, {
                name: "4x",
                value: "fa-4x"
            }, {
                name: "5x",
                value: "fa-5x"
            }],
            value: "",
            onAssign: function(e) {
                for (var t = this.list.length - 1; t >= 0; t--)
                    if (e.selected.node.className.indexOf(this.list[t].value) > -1) return this.value = this.list[t]
            },
            onChange: function(e, t) {
                for (var n = this.list.length - 1; n >= 0; n--) $(e.selected.node).removeClass(this.list[n].value);
                $(e.selected.node).addClass(t.value)
            }
        }
    },
    dragHelper: !0
}), baseBuilderElements.push({
    name: "generic",
    nodes: ["em", "strong", "u", "s", "small"],
    frameworks: ["base"],
    html: !1,
    types: ["flow", "phrasing"],
    validChildren: !1,
    category: !1,
    canDrag: !1,
    canModify: ["text", "attributes"]
}), baseBuilderElements.push({
    name: "label",
    nodes: ["label"],
    frameworks: ["base"],
    html: !1,
    types: ["flow", "phrasing"],
    validChildren: !1,
    category: !1,
    canDrag: !1,
    canModify: ["text", "attributes"]
}), angular.module("builder.elements", []).controller("ElementsPanelController", ["$scope", "$rootScope", "$http", "elements", function($scope, $rootScope, $http, elements) {
    $scope.query = "", $scope.framework = "all";
    var listener = $scope.$on("builder.dom.loaded", function(e) {
            var mainStyle = $('<style id="elements-css"></style>').appendTo($scope.frameHead),
                customCss = "";
            $http.get("custom-elements").success(function(data) {
                for (var i = data.length - 1; i >= 0; i--) {
                    var config = eval(data[i].config);
                    config.html = data[i].html, config.css = data[i].css, elements.addElement(config), customCss += "\n" + data[i].css
                }
                mainStyle.append(customCss)
            })
        }),
        listener2 = $rootScope.$on("$translateChangeSuccess", function() {
            $("#elements-list .ui-draggable").remove(), elements.init()
        });
    $scope.$on("$destroy", listener), $scope.$on("$destroy", listener2)
}]).directive("blToggleElDescriptions", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", function() {
                t.toggleClass("inactive"), $(".el-description").toggle()
            })
        }
    }
}).directive("blElPanelFilterable", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            e.$watch("framework", function(e) {
                t.find(".ui-draggable").each(function(t, n) {
                    var i = $(n);
                    "all" == e || n.dataset.frameworks.indexOf(e) > -1 ? i.show().closest(".elements-box").show() : (i.hide(), 0 == i.siblings(":visible").length && i.closest(".elements-box").hide())
                })
            })
        }
    }
}).directive("blElPanelSearchable", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            e.$watch("query", function(e, n) {
                e !== n && t.find(".ui-draggable").each(function(n, i) {
                    var r = $(i);
                    !e || r.data("name").indexOf(e) > -1 ? (t.find(".elements-box").removeClass("open"), r.show().closest(".elements-box").show().addClass("open")) : (r.hide(), 0 == r.siblings(":visible").length && r.closest(".elements-box").hide().removeClass("open"))
                })
            })
        }
    }
}).directive("blElementPreview", ["elements", function(e) {
    return {
        restrict: "A",
        link: function(t) {
            var n, i, r, o, s, a = $("#el-preview-container > iframe"),
                l = $("#description-container"),
                c = $("#elements-list");
            a[0].src = "about:blank", a.on("load", function() {
                n = $(a.get(0).contentWindow.document), i = n.find("body"), r = n.find("head"), r.append('<base href="' + t.baseUrl + '/">'), r.append('<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">'), s = $('<link id="main-theme-sheet" rel="stylesheet" href="' + t.baseUrl + '/assets/css/bootstrap.min.css">').appendTo(r)[0], t.$on("builder.theme.changed", function(e, t) {
                    s.setAttribute("href", t.path)
                }), r.append('<link rel="stylesheet" href="' + t.baseUrl + '/assets/css/iframe.css">'), o = $('<style id="custom-css"></style>').appendTo(r), c.on("mouseout", function() {
                    l.hide()
                }), c.on("mouseover", "li", function(n) {
                    if (t.dragging) return !0;
                    var r = e.getElement(n.currentTarget.dataset.name),
                        s = (n.target.getBoundingClientRect().top, $(n.target).find(".el-description").text());
                    s && l.text(s).show(), r.css && o.html(r.css);
                    var c = 100 / r.previewScale + "%";
                    a.css({
                        "transform-origin": "0 0",
                        transform: "scale(" + r.previewScale + ")",
                        width: c,
                        height: c
                    });
                    var u = i.html(r.previewHtml || r.html).children(":first").addClass("center-preview")[0];
                    u && i.css({
                        padding: (a.height() - u.getBoundingClientRect().height) / 2 + " 20",
                        overflow: "hidden"
                    })
                })
            })
        }
    }
}]), angular.module("builder.elements").factory("elements", ["$rootScope", "$http", "$state", "$translate", "draggable", function(e, t, n, i, r) {
    var o = {
            name: "Generic",
            canModify: ["padding", "margin", "box", "text", "attributes", "float", "shadows", "background"],
            canDrag: !0,
            showWysiwyg: !0,
            attributes: {},
            previewScale: 1,
            scaleDragPreview: !0,
            resizable: !0,
            types: ["flow"],
            validChildren: ["flow"]
        },
        s = {
            loaded: !1,
            elements: {},
            getAll: function() {
                return this.elements
            },
            getElement: function(e) {
                return this.elements[e]
            },
            canInsertSelectedTo: function(t) {
                if ("BODY" == t.nodeName) return !0;
                if ("HTML" == t.nodeName) return !1;
                var n = s.match(t);
                if (n && n.validChildren && e.selected.element.types)
                    for (var i = n.validChildren.length - 1; i >= 0; i--)
                        if (e.selected.element.types.indexOf(n.validChildren[i]) > -1) return !0;
                return !1
            },
            specialCases: [function(e, t, n, i) {
                return "LABEL" == e.nodeName && i.indexOf("checkbox") > -1 ? e.parentNode : void 0
            }, function(e, t, n) {
                return n.indexOf("progress-bar") > -1 ? e.parentNode : void 0
            }, function(e, t, n, i) {
                return n.indexOf("container-fluid") > -1 && i.indexOf("navbar") > -1 ? e.parentNode : void 0
            }],
            checkForSpecialCases: function(e) {
                if (!e) return !1;
                for (var t = e.parentNode, n = e.nodeName, i = t ? t.nodeName : "", r = 0; r < s.specialCases.length; r++) {
                    var o = s.specialCases[r](e, t, n, i);
                    if (o) return o
                }
            },
            match: function(t, n) {
                if (!t || !t.nodeName) return !1;
                var i = s.checkForSpecialCases(t);
                i && ("hover" == n ? e.hover.node = i : "select" == n && (e.selected.node = i), t = i);
                for (var r in this.elements) {
                    var a = this.elements[r];
                    if (t.dataset.name) return this.getElement(t.dataset.name);
                    if (t.type)
                        for (var n = t.nodeName.toLowerCase() + "=" + t.type, l = a.nodes.length - 1; l >= 0; l--)
                            if (a.nodes[l] == n) return a;
                    for (var c = t.nodeName.toLowerCase(), l = a.nodes.length - 1; l >= 0; l--)
                        if (a.nodes[l] == c) return a;
                    if (t.className)
                        for (var u = t.className.split(/\s+/), l = 0; l < u.length; l++)
                            if (a.class) {
                                if (u[l] === a.class) return a;
                                if (a.class.indexOf("*") > -1 && u[l].match(new RegExp(a.class.replace("*", ".*")))) return a
                            }
                }
                var h = t.className.split(/\s+/)[0];
                return o.name = h ? h.replace("-", " ") : t.nodeName.toLowerCase(), o
            },
            addElement: function(e) {
                var t = angular.extend({}, o, e);
                if (t.camelName = e.name.toCamelCase(), t.snakeName = e.name.replace(/([A-Z])/g, function(e) {
                        return "-" + e.toLowerCase()
                    }), this.elements[t.name] = t, t.canDrag) {
                    var n = i.instant(t.camelName + "Desc"),
                        s = '<li data-name="' + t.name + '" data-frameworks="' + t.frameworks.toString() + '"><div class="el-list-item"><div class="icon"><i class="icon icon-' + t.icon + '"></i></div><div class="text">' + i.instant(t.camelName) + '</div><p class="el-description">' + (n == t.camelName + "Desc" ? "" : n) + "</p></li>";
                    r.create($(s).appendTo("#" + t.category + " .list-unstyled"), t)
                }
            },
            init: function() {
                for (var e = 0; e < baseBuilderElements.length; e++) s.addElement(baseBuilderElements[e])
            }
        };
    return s
}]), angular.module("builder.inspector", []).factory("inspector", ["$rootScope", "css", "undoManager", function(e, t, n) {
    var i = {
        sliding: !1,
        checkboxes: {
            margin: [],
            padding: [],
            borderWidth: [],
            borderRadius: []
        },
        indexes: {
            top: 0,
            right: 1,
            bottom: 2,
            left: 3
        },
        applyCss: function(r, o, s) {
            var a = angular.isObject(o);
            if (!o || s === o) return !0;
            var l = a ? $.extend({}, s) : s,
                c = a ? $.extend({}, o) : o;
            e.selected.path && !e.selecting && t.add(null, r, c, l), !e.selected.path || i.sliding || e.selecting || (e.repositionBox("select"), e.hoverBox.hide(), n.add("revertStyles", {
                property: r,
                oldStyles: l,
                newStyles: c,
                node: e.selected.node,
                path: e.selected.path
            }))
        },
        toggleStyleDirections: function(t, n) {
            if ("all" == n) return this.checkboxes[t].length >= 4 ? this.checkboxes[t].length = 0 : "borderRadius" == t ? this.checkboxes[t].push("topRight", "topLeft", "bottomRight", "bottomLeft") : this.checkboxes[t].push("top", "bottom", "right", "left"), e.$broadcast(t + ".directions.changed");
            var i = this.checkboxes[t].indexOf(n); - 1 != i ? this.checkboxes[t].splice(i, 1) : this.checkboxes[t].push(n), e.$broadcast(t + ".directions.changed")
        },
        clearStyles: function() {
            for (var e in this.styles)
                for (var t in this.styles[e]) / ( ^ _) / .test(t) || "property" === t || (this.styles[e][t] = null)
        },
        changeStyle: function(e, t, n, i, r) {
            if (t) var o = this.styles[e][t];
            else var o = this.styles[e];
            if (angular.isUndefined(o) || !i) return !0;
            if (angular.isObject(o))
                for (var s = n.length - 1; s >= 0; s--) o[n[s]] = r ? i + r : i;
            else {
                for (var a = o.split(" "), s = n.length - 1; s >= 0; s--) a[this.indexes[n[s]]] = r ? i + r : i;
                this.styles[e][t] = a.join(" ")
            }
        },
        applySliderValue: function(n, i, r) {
            if ("borderWidth" == n) var o = this.styles.border.width;
            else if ("borderRadius" == n) var o = this.styles.border.radius;
            else var o = this.styles[n];
            for (var s = this.checkboxes[n].length - 1; s >= 0; s--) o[this.checkboxes[n][s]] = r ? i + r : i;
            e.selected.path && !e.selecting && t.add(!1, n, o, !1, !0)
        },
        applyInputBoxValue: function(r, o, s) {
            var a = t.getValueFor(e.selected.selector, r);
            this.styles[r][s] = o.replace(/[A-Za-z]/g, "") + "px", e.selected.path && !e.selecting && t.add(!1, r, this.styles[r], a), !e.selected.path || i.sliding || e.selecting || n.add("revertStyles", {
                property: r,
                oldStyles: a,
                newStyles: $.extend({}, this.styles[r]),
                path: e.selected.path.slice(0)
            }), e.repositionBox("select")
        },
        applyBigInputBoxValue: function(n, i) {
            var r = t.getValueFor(e.selected.selector, n);
            val = i.replace(/[A-Za-z]/g, "") + "px", this.styles[n] = {
                top: val,
                left: val,
                right: val,
                bottom: val
            }, e.selected.path && !e.selecting && t.add(!1, n, this.styles[n], r), e.repositionBox("select")
        },
        styles: {
            padding: {},
            margin: {},
            border: {},
            color: {},
            attributes: {
                "class": [],
                id: "",
                "float": ""
            },
            text: {}
        }
    };
    return i
}]).controller("InspectorController", ["$scope", function(e) {
    e.filter = {
        query: "all"
    }, e.categories = ["padding", "margin", "border", "border-radius", "text", "shadows", "background", "attributes", "all"]
}]).directive("blInspectorHeader", ["settings", function(e) {
    return {
        restrict: "A",
        link: function(t, n) {
            var i = $(".inspector-panel"),
                r = $("#inspector-filter-select"),
                o = n.find(".panel-name"),
                s = n.find("input"),
                a = n.find(".panel-heading-input");
            e.get("showInspectorCategoriesFilterByDefault") && r.removeClass("hidden"), n.find(".fa-filter").on("click", function() {
                r.toggleClass("hidden")
            }), t.$watch("filter.query", function(e) {
                "all" == e ? i.removeClass("hidden") : (i.addClass("hidden"), $("#" + e + "-panel").removeClass("hidden"))
            }), n.find(".fa-css3").on("click", function() {
                a.addClass("open"), o.removeClass("open"), setTimeout(function() {
                    s.focus()
                }, 450)
            }), n.find(".fa-times").on("click", function() {
                a.removeClass("open"), o.addClass("open")
            })
        }
    }
}]), angular.module("builder.inspector").controller("AttributesController", ["$scope", "inspector", "undoManager", function(e, t, n) {
    e.attributes = t.styles.attributes, e.customAttributes = {}, e.$on("element.reselected", function() {
        e.customAttributes = {};
        for (var t in e.selected.element.attributes) e.customAttributes[t] = $.extend({}, e.selected.element.attributes[t]), e.customAttributes[t].onAssign ? e.customAttributes[t].onAssign(e) : e.defaultOnAssign(e.customAttributes[t])
    }), e.defaultOnAssign = function(t) {
        for (var n = t.list.length - 1; n >= 0; n--) {
            var i = t.list[n];
            if (e.selected.node.className.indexOf(t.list[n].value) > -1) return t.value = t.list[n]
        }
        return t.value = i
    }, e.defaultOnChange = function(t) {
        for (var n = t.list.length - 1; n >= 0; n--) $(e.selected.node).removeClass(t.list[n].value);
        $(e.selected.node).addClass(t.value.value), setTimeout(function() {
            e.repositionBox("select")
        }, 300)
    }, e.$watch("customAttributes", function(t, n) {
        if (!e.selecting && !e.dragging && e.selected.node)
            for (var i in t) n[i] && t[i].value !== n[i].value && (e.makeUndoCommand(t[i].onChange, n[i].value, t[i].value), t[i].onChange ? t[i].onChange(e, t[i].value) : e.defaultOnChange(t[i]), e.repositionBox("select"), e.$emit("builder.html.changed"))
    }, !0), e.makeUndoCommand = function(t, i, r) {
        n.add("generic", {
            undo: function() {
                t(e, i)
            },
            redo: function() {
                t(e, r)
            }
        })
    }, e.removeClass = function() {
        for (var n = arguments.length - 1; n >= 0; n--) {
            $(e.selected.node).removeClass(arguments[n]);
            var i = $.inArray(arguments[n], t.styles.attributes["class"]);
            ~i && (t.styles.attributes["class"].splice(i, 1), e.$broadcast("builder.html.changed"))
        }
    }, e.addClass = function(n) {
        return !n || $.inArray(n, t.styles.attributes["class"]) > -1 ? !0 : ($(e.selected.node).addClass(n), e.$apply(function() {
            t.styles.attributes["class"] = t.styles.attributes["class"].concat(n.split(" ")), e.classInput = null
        }), e.repositionBox("select"), void e.$emit("builder.html.changed"))
    }, e.addFloatClass = function(t) {
        e.removeClass("pull-left", "pull-right", "center-block"), t && "none" != t && e.addClass(t), e.repositionBox("select"), e.$broadcast("builder.html.changed")
    }, e.$watchCollection("attributes", function(t, n) {
        if (t !== n)
            for (var i in t) "class" != i && t[i] !== n[i] && ("float" == i ? n.float && e.addFloatClass(t.float) : $(e.selected.node).attr(i, t[i]))
    }), e.$on("element.reselected", function(n, i) {
        var r = i.className.split(/\s+/),
            o = e.selected.element.hiddenClasses;
        if (r.length && o)
            for (var s = 0; s < o.length; s++) r.splice(r.indexOf(o[s]), 1);
        t.styles.attributes.class = r, t.styles.attributes.id = i.id;
        for (var a = ["pull-left", "pull-right", "center-block"], s = a.length - 1; s >= 0; s--) t.styles.attributes.float = i.className.indexOf(a[s]) > -1 ? a[s] : "none"
    })
}]).directive("blElementVisibilityControls", ["elements", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            var n = $("#visibility li");
            e.$on("element.reselected", function() {
                var t = e.selected.node.className || "";
                n.each(function(e, n) {
                    n.className = t.indexOf("hidden-" + n.dataset.size) > -1 ? "disabled" : ""
                })
            }), t.on("click", "li", function(t) {
                var n = $(t.currentTarget),
                    i = n.data("size");
                n.hasClass("disabled") ? ($(e.selected.node).removeClass("hidden-" + i), n.removeClass("disabled")) : ($(e.selected.node).addClass("hidden-" + i), n.addClass("disabled")), e.$emit("builder.html.changed"), e.repositionBox("select")
            })
        }
    }
}]).directive("blAddClassPanel", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            var n = $("#addclass-flyout"),
                i = n.find("input");
            t.find(".add-class").on("click", function(t) {
                return t.preventDefault(), e.addClass(e.classInput), n.addClass("hidden"), !1
            }), t.on("click", function() {
                n.hasClass("hidden") ? (n.removeClass("hidden"), i.focus()) : n.addClass("hidden")
            }), i.keyup(function(t) {
                13 == t.keyCode && (e.addClass(e.classInput), n.addClass("hidden"))
            })
        }
    }
}), angular.module("builder.inspector").directive("blBorderColorPreview", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            e.$watchCollection("inspector.styles.border.color", function(e) {
                return e ? void t.css({
                    borderTopColor: e.top,
                    borderRightColor: e.right,
                    borderBottomColor: e.bottom,
                    borderLeftColor: e.left
                }) : !0
            })
        }
    }
}).controller("BorderController", ["$scope", "inspector", "undoManager", function(e, t, n) {
    e.inspector = t, e.$watchCollection("inspector.styles.border.radius", function(n, i) {
        return e.selecting || e.dragging ? void 0 : t.applyCss("border-radius", n, i)
    }), e.$watchCollection("inspector.styles.border.width", function(n, i) {
        return e.selecting || e.dragging ? void 0 : t.applyCss("border-width", n, i)
    }), e.$watch("inspector.styles.border.style", function(n, i) {
        return e.selecting || e.dragging ? void 0 : t.applyCss("border-style", n, i)
    }), e.$watchCollection("inspector.styles.border.color", function(n, i) {
        return e.selecting || e.dragging ? void 0 : t.applyCss("border-color", n, i)
    }), e.$on("element.reselected", function() {
        var n = e.selected.getStyle("border-style");
        t.styles.border.style = n.normalizeCss(), e.borderStyle = n.split(" ")[0], e.borderRadius = "", t.styles.border.color = {
            top: e.selected.getStyle("border-top-color"),
            right: e.selected.getStyle("border-right-color"),
            left: e.selected.getStyle("border-left-color"),
            bottom: e.selected.getStyle("border-bottom-color")
        }, t.styles.border.width = {
            top: e.selected.getStyle("border-top-width"),
            right: e.selected.getStyle("border-right-width"),
            left: e.selected.getStyle("border-left-width"),
            bottom: e.selected.getStyle("border-bottom-width")
        }, t.styles.border.radius = {
            topRight: e.selected.getStyle("border-top-right-radius"),
            topLeft: e.selected.getStyle("border-top-left-radius"),
            bottomRight: e.selected.getStyle("border-bottom-right-radius"),
            bottomLeft: e.selected.getStyle("border-bottom-left-radius")
        }
    }), e.$watch("inspector.styles.color.value", function(e) {
        "border" == t.styles.color.property && t.changeStyle("border", "color", t.checkboxes.border, e)
    }), e.$watch("borderWidth", function(e) {
        t.changeStyle("border", "width", t.checkboxes.borderWidth, e, "px")
    }), e.$watch("borderRadius", function(e) {
        t.changeStyle("border", "radius", t.checkboxes.borderRadius, e, "px")
    }), e.$watch("borderStyle", function(e) {
        t.changeStyle("border", "style", t.checkboxes.borderWidth, e)
    }), e.$watch("border.widthAll", function(e) {
        t.styles.border.width = {
            top: e,
            left: e,
            right: e,
            bottom: e
        }
    }), e.$watch("radiusAll", function(e) {
        t.styles.border.radius = {
            topRight: e,
            topLeft: e,
            bottomRight: e,
            bottomLeft: e
        }
    }), e.$on("border.slidestart", function(t, n) {
        "color" == n && (n = "border-color"), e.command = {
            property: n.toDashedCase(),
            node: e.selected.node,
            path: e.selected.path,
            oldStyles: e.prepareUndoValue(n)
        }
    }), e.$on("border.slidestop", function(t, i) {
        e.command.newStyles = e.prepareUndoValue(i), n.add("revertStyles", e.command)
    }), e.prepareUndoValue = function(e) {
        var n = e.toDashedCase().replace("border-", "");
        return angular.isObject(t.styles.border[n]) ? $.extend({}, t.styles.border[n]) : t.styles.border[n]
    }
}]), angular.module("builder.inspector").controller("MarginPaddingController", ["$scope", "inspector", "undoManager", function(e, t, n) {
    e.inspector = t, e.$on("element.reselected", function() {
        t.styles.padding = {
            top: e.selected.getStyle("padding-top"),
            left: e.selected.getStyle("padding-left"),
            right: e.selected.getStyle("padding-right"),
            bottom: e.selected.getStyle("padding-bottom")
        }, t.styles.margin = {
            top: e.selected.getStyle("margin-top"),
            left: e.selected.getStyle("margin-left"),
            right: e.selected.getStyle("margin-right"),
            bottom: e.selected.getStyle("margin-bottom")
        }, e.paddingAll = null, e.marginAll = null
    }), e.$on("padding.slidestart", function() {
        e.command = {
            property: "padding",
            node: e.selected.node,
            path: e.selected.path,
            oldStyles: $.extend({}, t.styles.padding)
        }
    }), e.$on("margin.slidestart", function() {
        e.command = {
            property: "margin",
            node: e.selected.node,
            path: e.selected.path,
            oldStyles: $.extend({}, t.styles.margin)
        }
    }), e.$on("padding.slidestop", function() {
        e.command.newStyles = $.extend({}, t.styles.padding), n.add("revertStyles", e.command)
    }), e.$on("margin.slidestop", function() {
        e.command.newStyles = $.extend({}, t.styles.margin), n.add("revertStyles", e.command)
    })
}]), angular.module("builder.inspector").directive("blToggleTextDecoration", function() {
    return {
        restrict: "A",
        link: function(e, t, n) {
            t.on("click", function() {
                var t = n.blToggleTextDecoration,
                    i = e.inspector.styles.text.textDecoration.trim();
                e.$apply(function() {
                    !i || i.match(/^.*(none|initial).*$/) ? e.inspector.styles.text.textDecoration = t : t == i ? e.inspector.styles.text.textDecoration = "none" : i.match(t) ? e.inspector.styles.text.textDecoration = i.replace(t, "").trim() : e.inspector.styles.text.textDecoration += " " + t
                })
            })
        }
    }
}).directive("blToggleTextStyle", function() {
    return {
        restrict: "A",
        link: function(e, t, n) {
            t.on("click", function() {
                var i = n.blToggleTextStyle.split("|");
                e.$apply(function() {
                    t.hasClass("active") ? (t.removeClass("active"), e.inspector.styles.text[i[0]] = "initial") : (e.inspector.styles.text[i[0]] = i[1], t.addClass("active"), "italic" != i[1] && t.siblings().removeClass("active"))
                })
            })
        }
    }
}).controller("TextController", ["$scope", "inspector", "undoManager", "fonts", "textStyles", function(e, t, n, i, r) {
    e.inspector = t, e.textStyles = r, e.fontSelect = $("#el-font-family"), e.fonts = i, i.getAll(), e.$watchCollection("inspector.styles.text", function(n, i) {
        if (!e.selecting && !e.dragging)
            for (var r in n)
                if (n[r] && i[r] && n[r].removeQoutes() !== i[r].removeQoutes()) return t.applyCss(r.toDashedCase(), n[r], i[r])
    }), e.$on("element.reselected", function() {
        t.styles.text = {
            color: e.selected.getStyle("color"),
            fontSize: e.selected.getStyle("font-size"),
            textAlign: e.selected.getStyle("text-align"),
            fontStyle: e.selected.getStyle("font-style"),
            fontFamily: e.selected.getStyle("font-family"),
            lineHeight: e.selected.getStyle("line-height"),
            fontWeight: e.selected.getStyle("font-weight"),
            textDecoration: e.selected.getStyle("text-decoration")
        }
    }), e.$on("text.slidestart", function() {
        e.command = {
            property: "color",
            node: e.selected.node,
            path: e.selected.path,
            oldStyles: t.styles.text.color
        }
    }), e.$on("text.slidestop", function() {
        e.command.newStyles = t.styles.text.color, n.add("revertStyles", e.command)
    })
}]), angular.module("builder.inspector").controller("ShadowsController", ["$scope", "inspector", function(e, t) {
    e.inspector = t, e.props = {
        type: "boxShadow",
        inset: !1,
        angle: 0,
        distance: 5,
        blur: 10,
        color: "rgba(50, 50, 50, 0.75)",
        spread: 0
    }, e.$watchCollection("props", function(n, i) {
        e.selecting || e.dragging || t.applyCss(n.type, e.compileCssString(n), e.compileCssString(i))
    }), e.compileCssString = function(e) {
        var t = Math.round(e.blur),
            n = Math.round(e.spread),
            i = parseInt(e.angle) * (Math.PI / 180),
            r = Math.round(e.distance * Math.cos(i)),
            o = Math.round(e.distance * Math.sin(i)),
            s = e.inset && "boxShadow" == e.type ? "inset " : "",
            a = s + r + "px " + o + "px " + t + "px ";
        return "boxShadow" == e.type && (a += n + "px "), a + e.color
    }, e.stringToProps = function(t) {
        if (!t || "none" == t) return e.props.angle = 0, e.props.distance = 5, e.props.blur = 10, e.props.color = "rgba(50, 50, 50, 0.75)", e.props.spread = 0, !0;
        var n = t.replace(/, /g, ",").split(" ");
        ("#" == t.charAt(0) || t.charAt("r")) && n.push(n.shift()), 4 == n.length ? (e.props.blur = n[2].replace("px", ""), e.props.color = n[3], e.props.distance = parseInt(n[0].replace("px", "")) + 3) : (5 == n.length || 6 == n.length) && (e.props.blur = n[2].replace("px", ""), e.props.spread = n[3].replace("px", ""), e.props.color = n[4].replace("px", ""), e.props.distance = parseInt(n[0].replace("px", "")) + 3)
    }, e.$on("element.reselected", function(t, n) {
        if ("boxShadow" == e.props.type) var i = n.style.boxShadow;
        else var i = n.style.textShadow;
        e.stringToProps(i)
    })
}]).directive("blKnob", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.knob({
                min: 0,
                max: 360,
                cursor: 40,
                thickness: ".4",
                width: 60,
                height: 60,
                angleOffset: 90,
                fgColor: "#00b588",
                bgColor: "#263845",
                change: function(t) {
                    e.inspector.sliding = !0, e.$apply(function() {
                        e.props.angle = t
                    })
                },
                release: function(t) {
                    e.inspector.sliding = !1, e.$broadcast("angle.slidestop", t)
                }
            })
        }
    }
}).directive("blShadowColorPreview", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            e.$watch("props.color", function(n) {
                "rgba(50, 50, 50, 0.75)" == n ? t.css("background", 'url("' + e.baseUrl + '/assets/images/transparent.png")') : t.css("background", n)
            })
        }
    }
}), angular.module("builder.inspector").directive("blToggleElementLock", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", function() {
                return e.$apply(function() {
                    e.selected.locked ? ($(e.selected.node).removeClass("locked"), e.selected.locked = !1) : ($(e.selected.node).addClass("locked"), e.selected.locked = !0)
                }), !1
            })
        }
    }
}), angular.module("builder.inspector").controller("BackgroundController", ["$scope", "inspector", "undoManager", function(e, t, n) {
    e.previews = {
        image: $("#image"),
        gradient: $("#gradient"),
        color: $("#fill-color")
    }, e.properties = {
        image: !1,
        position: "center center",
        repeat: "repeat",
        color: !1
    }, e.changeAlignment = function(t) {
        e.properties.position = t
    }, e.$watchCollection("properties", function(n, i) {
        if (!e.selecting && !e.dragging)
            for (var r in n)
                if (n[r] && n[r] !== i[r]) {
                    n[r].indexOf("url") > -1 ? e.previews.image.css("background-image", n[r]) : n[r].indexOf("gradient") > -1 ? e.previews.gradient.css("background-image", n[r]) : n[r] && "transparent" != n[r] && "rgba(0, 0, 0, 0)" !== n[r] ? e.previews.color.css("background", n[r]) : e.previews.color.css("background", 'url("' + e.baseUrl + 'images/transparent.png")');
                    var o = "color" == r ? "background" : "background-" + r;
                    t.applyCss(o, n[r], i[r])
                }
    }), e.selectPreset = function(t) {
        t && (e.properties.image = $(t.target).css("background-image"))
    }, e.$on("element.reselected", function(t, n) {
        e.properties.image = n.style.backgroundImage, e.properties.color = n.style.backgroundColor
    }), e.$on("properties.color.slidestart", function() {
        e.command = {
            property: "background-color",
            node: e.selected.node,
            oldStyles: e.properties.color
        }
    }), e.$on("properties.color.slidestop", function() {
        e.command.newStyles = e.properties.color, n.add("revertStyles", e.command)
    }), e.textures = new Array(28), e.gradients = ["linear-gradient(to right, #959595 0%, #0D0D0D 46%, #010101 50%, #0A0A0A 53%, #4E4E4E 76%, #383838 87%, #1b1b1b 100%)", "linear-gradient(to right, #FF0000 0%, #FFFF00 50%, #ff0000 100%)", "linear-gradient(to right, #f6f8f9 0%, #E5EBEE 50%, #D7DEE3 51%, #f5f7f9 100%)", "linear-gradient(to right, #008080 0%, #FFFFFF 25%, #05C1FF 50%, #FFFFFF 75%, #005757 100%)", "linear-gradient(to right, #ff0000 0%, #000000 100%)", "linear-gradient(to bottom, #93cede 0%,#75bdd1 41%, #49a5bf 100%)", "linear-gradient(to right, #f8ffe8 0%, #E3F5AB 33%, #b7df2d 100%)", "linear-gradient(to right, #b8e1fc 0%, #A9D2F3 10%, #90BAE4 25%, #90BCEA 37%, #90BFF0 50%, #6BA8E5 51%, #A2DAF5 83%, #bdf3fd 100%)", "linear-gradient(to right, #f0b7a1 0%, #8C3310 50%, #752201 51%, #bf6e4e 100%)", "linear-gradient(to right, #ff0000 0%, #FFFF00 25%, #05C1FF 50%, #FFFF00 75%, #ff0000 100%)", "linear-gradient(to right, #ffb76b 0%, #FFA73D 50%, #FF7C00 51%, #ff7f04 100%)", "linear-gradient(to right, #ffff00 0%, #05C1FF 50%, #ffff00 100%)", "linear-gradient(to bottom, #febf01 0%,#febf01 100%)", "linear-gradient(to bottom, #fcfff4 0%,#e9e9ce 100%)", "linear-gradient(to bottom, #49c0f0 0%,#2cafe3 100%)", "linear-gradient(to bottom, #cc0000 0%,#cc0000 100%)", "linear-gradient(to bottom, #73880a 0%,#73880a 100%)", "linear-gradient(to bottom, #627d4d 0%,#1f3b08 100%)", "linear-gradient(to bottom, #b8c6df 0%,#6d88b7 100%)", "linear-gradient(to bottom, #9dd53a 0%,#a1d54f 50%,#80c217 51%,#7cbc0a 100%)", "linear-gradient(to bottom, #b8c6df 0%,#6d88b7 100%)", "linear-gradient(to bottom, #ff3019 0%,#cf0404 100%)", "linear-gradient(to bottom, #e570e7 0%,#c85ec7 47%,#a849a3 100%)", "linear-gradient(to bottom, #ffffff 0%,#f3f3f3 50%,#ededed 51%,#ffffff 100%)"]
}]).directive("blShowImgContainer", ["$timeout", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            var n = $("#background-flyout-panel"),
                i = $("#background-arrow"),
                r = {
                    texture: $("#texturePresets"),
                    gradient: $("#gradientPresets")
                },
                o = function(e) {
                    r.texture.hide(), r.gradient.hide(), "image" == e && (e = "texture"), r[e].show()
                };
            n.find(".bl-panel-btns").on("click", function() {
                n.addClass("hidden"), i.hide()
            }), t.on("click", function(t) {
                var r = $(t.currentTarget).offset().top;
                n.removeClass("hidden"), o(t.currentTarget.id), i.css("top", r + 12).show();
                var s = r - n.height() / 2 + 40;
                1 > s && (s = 5), n.css("top", s), e.colorPickerCont && e.colorPickerCont.addClass("hidden")
            })
        }
    }
}]).directive("blImgAlignmentGrid", ["$compile", function() {
    return {
        restrict: "A",
        template: '<div ng-class="{active: properties.position == \'top left\'}" ng-click="changeAlignment(\'top left\')" class="alignment-box"></div><div ng-class="{active: properties.position == \'top center\'}" ng-click="changeAlignment(\'top center\')" class="alignment-box"></div><div ng-class="{active: properties.position == \'top right\'}" ng-click="changeAlignment(\'top right\')" class="alignment-box"></div><div ng-class="{active: properties.position == \'center left\'}" ng-click="changeAlignment(\'center left\')" class="alignment-box"></div><div ng-class="{active: properties.position == \'center center\'}" ng-click="changeAlignment(\'center center\')" class="alignment-box"></div><div ng-class="{active: properties.position == \'center right\'}" ng-click="changeAlignment(\'center right\')" class="alignment-box"></div><div ng-class="{active: properties.position == \'bottom left\'}" ng-click="changeAlignment(\'bottom left\')" class="alignment-box"></div><div ng-class="{active: properties.position == \'bottom center\'}" ng-click="changeAlignment(\'bottom center\')" class="alignment-box"></div><div ng-class="{active: properties.position == \'bottom right\'}" ng-click="changeAlignment(\'bottom right\')" class="alignment-box"></div>'
    }
}]), angular.module("builder.inspector").controller("MediaManagerController", ["$scope", "$upload", "$http", "inspector", function(e, t, n, i) {
    e.modal = $("#images-modal"), e.sorting = {
        prop: "created_at",
        reverse: !1
    }, e.onFileSelect = function(n) {
        for (var i = 0; i < n.length; i++) e.upload = t.upload({
            url: "images/",
            data: e.selectedFolder.id ? {
                folderName: e.selectedFolder.name,
                folderId: e.selectedFolder.id
            } : !1,
            file: n[i]
        }).success(function(t) {
            for (var n = t.length - 1; n >= 0; n--) e.images.push(t[n])
        })
    }, e.modal.one("show.bs.modal", function() {
        n.get("folders").success(function(t) {
            e.folders = e.folders.concat(t)
        }), n.get("images/").success(function(t) {
            e.images = t, setTimeout(function() {
                e.modal.find('[data-toggle="tooltip"]').tooltip({
                    container: "body"
                })
            }, 100)
        })
    }), e.useImage = function() {
        "background" == $("#images-modal").data("type") ? e.setAsBackground() : e.setAsSource(), e.modal.modal("hide")
    }, e.setAsSource = function() {
        if ("my-images" == e.activeTab) {
            for (var t = e.images.length - 1; t >= 0; t--)
                if (e.images[t].id == e.selectedImages[0]) var i = e.baseUrl + "/assets/images/uploads/" + e.images[t].file_name
        } else if (e.downloadLocally) n.post("images/", {
            url: e.webImageUrl
        }).success(function(t) {
            e.selected.node.src = t
        });
        else var i = e.webImageUrl;
        i && (e.selected.node.src = i)
    }, e.setAsBackground = function() {
        if ("my-images" == e.activeTab) {
            for (var t = e.images.length - 1; t >= 0; t--)
                if (e.images[t].id == e.selectedImages[0]) var r = e.baseUrl + "/assets/images/uploads/" + e.images[t].file_name
        } else if (e.downloadLocally) n.post("images/", {
            url: e.webImageUrl
        }).success(function(t) {
            i.applyCss("background-image", 'url("' + t + '")', e.selected.getStyle("background-image"))
        });
        else var r = e.webImageUrl;
        r && i.applyCss("background-image", 'url("' + r + '")', e.selected.getStyle("background-image"))
    }, e.deleteSelectedImages = function() {
        n.post("images/delete", {
            ids: e.selectedImages
        }).success(function() {
            for (var t = e.selectedImages.length - 1; t >= 0; t--)
                for (var n = e.images.length - 1; n >= 0; n--) e.images[t] && e.images[t].id == e.selectedImages[t] && e.images.splice(n, 1)
        })
    }, e.deleteFolder = function(t) {
        n.delete("folders/" + t).success(function(n) {
            if (parseInt(n))
                for (var i = e.folders.length - 1; i >= 0; i--) e.folders[i].id == t && e.folders.splice(i, 1)
        })
    }, e.cancelFolderCreation = function() {
        for (var t = e.folders.length - 1; t >= 0; t--)
            if (1 == e.folders[t].creating) {
                e.folders.splice(t, 1);
                var n = e.folders[t - 1];
                e.selectedFolder = {
                    id: n.id,
                    name: n.name
                }, e.creatingNewFolder = !1
            }
    }, e.createFolder = function() {
        e.newFolder && n.post("folders", e.newFolder).success(function(t) {
            e.selectedFolder = {
                id: t.id,
                name: t.name
            }, e.creatingNewFolder = !1;
            for (var n = e.folders.length - 1; n >= 0; n--) e.folders[n].creating === !0 && (e.folders[n] = t);
            e.newFolder.name = ""
        })
    }, e.changeSorting = function(t) {
        e.sorting.prop = t, e.sorting.reverse = "created_at" == t ? !0 : !1
    }, e.isSelected = function(t) {
        return e.selectedImages.indexOf(parseInt(t)) > -1
    }, e.$watch("selectAll", function(t) {
        if (t === !0)
            for (var n = e.images.length - 1; n >= 0; n--) e.selectedImages.push(e.images[n].id);
        else t === !1 && (e.selectedImages = [])
    }), e.images = [], e.folders = [{
        name: "All Images",
        id: !1
    }], e.newFolder = {
        name: ""
    }, e.selectedFolder = {
        name: "All Images"
    }, e.selectedImages = [], e.activeTab = "my-images"
}]).directive("blNewImageFolder", ["$http", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", function() {
                e.creatingNewFolder || e.$apply(function() {
                    e.folders.splice(1, 0, {
                        name: !1,
                        creating: !0
                    }), e.selectedFolder = e.folders[1], e.creatingNewFolder = !0, $("#folders-cont input").focus()
                })
            })
        }
    }
}]).directive("blImageFolderSelectable", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            $(t).on("click", "li", function(t) {
                var n = $(t.currentTarget);
                (n.data("id") || "All Images" == n.data("name")) && e.$apply(function() {
                    e.selectedFolder.id = n.data("id") || "", e.selectedFolder.name = n.data("name") || ""
                })
            })
        }
    }
}).directive("blImagesSelectable", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", "li", function(t) {
                var n = $(t.currentTarget),
                    i = n.data("id");
                if (n.hasClass("selected"))
                    for (var r = e.selectedImages.length - 1; r >= 0; r--) e.selectedImages[r] == i && e.$apply(function() {
                        e.selectedImages.splice(r, 1)
                    });
                else e.$apply(function() {
                    e.selectedImages.push(i)
                })
            })
        }
    }
}).directive("blImageActions", ["$http", "imageEditor", function(e, t) {
    return {
        restrict: "A",
        link: function(n, i) {
            i.on("click", function(i) {
                var r = $(i.target);
                if (r.hasClass("delete-image")) {
                    var o = r.closest("li").data("id");
                    e.delete("images/" + o).success(function(e) {
                        if (parseInt(e))
                            for (var t = n.images.length - 1; t >= 0; t--) n.images[t].id == o && n.images.splice(t, 1)
                    })
                } else if (r.hasClass("edit-image")) {
                    var s = r.closest("li").find(".img-wrapper").css("background-image").replace("url(", "").replace(")", "").replace(/"/g, "");
                    t.oldUrl = s;
                    var a = new Image;
                    a.onload = function() {
                        t.open(this)
                    }, a.src = s
                }
            })
        }
    }
}]).directive("openMediaManager", function() {
    return {
        restrict: "A",
        link: function(e, t, n) {
            var i = n.openMediaManager,
                r = $("#images-modal");
            t.on("click", function() {
                r.data("type", i).modal("show")
            })
        }
    }
}), angular.module("builder.settings", []).controller("SettingsController", ["$scope", "settings", function(e, t) {
    e.settings = t, e.isBoolean = function(e) {
        return "boolean" == typeof e
    }
}]).factory("settings", ["$rootScope", "localStorage", function(e, t) {
    var n = {
        pauseSaving: !1,
        all: {
            contentBoxes: [{
                name: "enableHoverBox",
                value: !0,
                category: "contextBoxes",
                description: "Show/Hide box that appears when hovering over elements in the builder."
            }, {
                name: "enableSelectBox",
                value: !0,
                category: "contextBoxes",
                description: "Show/Hide box that appears when clicking an element in the builder."
            }, {
                name: "showWidthAndHeightHandles",
                value: !0,
                category: "contextBoxes",
                description: "Show/Hide circle handles used to change elements width and height by dragging them."
            }],
            autoSave: [{
                name: "enableAutoSave",
                value: !1,
                category: "autoSave",
                description: "Enable/Disable automatic saving when changes are made to the project or page. This may cause some delays on Firefox and Internet Explorer browsers."
            }, {
                name: "autoSaveDelay",
                value: 2e3,
                category: "autoSave",
                description: "How long (in miliseconds) to wait before auto saving after changes are made."
            }],
            panels: [{
                name: "showElementPreview",
                value: !1,
                category: "Panels",
                description: "Should element preview container be visible in elements panel."
            }],
            elements: [{
                name: "enableFreeElementDragging",
                value: !1,
                category: "Elements",
                description: "When this is enabled you will be able to drag elements anywhere on the screen without any restrictions. Elements will be positioned absolutely so you should not use columns or rows with this mode. To use, first select an element then drag."
            }]
        },
        init: function() {
            var e = t.get("settings");
            if (n.pauseSaving = !0, e)
                for (var i in e) n.set(i, e[i]);
            n.pauseSaving = !1
        },
        save: function() {
            for (var e = {}, i = n.all.length - 1; i >= 0; i--) e[n.all[i].name] = n.all[i].value;
            t.set("settings", e)
        },
        get: function(e) {
            for (var t in n.all)
                for (var i = 0; i < n.all[t].length; i++)
                    if (n.all[t][i].name == e) return n.all[t][i].value
        },
        set: function(t, i) {
            for (var r in n.all)
                for (var o = 0; o < n.all[r].length; o++)
                    if (n.all[r][o].name == t) {
                        n.all[r][o].value = i, n.pauseSaving || (n.save(), e.$emit("settings.changed", t, i));
                        break
                    }
        }
    };
    return n
}]).directive("blSettingsToggler", ["settings", function(e) {
    return {
        restrict: "A",
        link: function(t, n, i) {
            var r = i.name;
            n.toggles({
                height: 30,
                width: 70,
                drag: !1,
                text: {
                    on: "Yes",
                    off: "No"
                },
                on: "on" == i.blSettingsToggler
            }), n.on("toggle", function(t, n) {
                e.set(r, n)
            })
        }
    }
}]).directive("blSettingsCategorySwitchable", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", "li", function(t) {
                e.$apply(function() {
                    e.activeCategory = t.currentTarget.dataset.category
                })
            })
        }
    }
}), angular.module("builder.directives", []).directive("blCloseFlyoutPanel", ["$rootScope", function(e) {
    return {
        restrict: "A",
        template: '<div title="Close Panel" class="flyout-close"><i class="icon icon-cancel-circled"></i></div>',
        replace: !0,
        compile: function(t) {
            t.on("click", function() {
                e.$apply(function() {
                    e.flyoutOpen = !1, e.activePanel = !1
                })
            })
        }
    }
}]).directive("blBuilder", ["$rootScope", "elements", "dom", function(e, t, n) {
    return {
        restrict: "A",
        link: function(i) {
            i.$on("builder.dom.loaded", function() {
                i.frameHead.append('<base href="' + i.baseUrl + '/">'), i.frameHead.append('<link id="main-sheet" rel="stylesheet" href="assets/css/bootstrap.min.css">'), i.frameHead.append('<link rel="stylesheet" href="assets/css/iframe.css">'), i.frameHead.append('<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">'), e.customCss = $('<style id="editor-css"></style>').appendTo(i.frameHead), $(i.frameDoc).on("scroll", function() {
                    i.hoverBox.hide()
                })
            }), $('[data-toggle="tooltip"]').tooltip({
                container: "body"
            }), i.frameOverlay.off("mousemove").on("mousemove", function(e) {
                if (i.dragging && i.oldX != e.pageX && i.oldY != e.pageY) {
                    var r = {
                        x: e.pageX - i.frameOffset.left,
                        y: e.pageY - i.frameOffset.top
                    };
                    if (i.isIE) {
                        i.frameOverlay.hide();
                        var o = i.elementFromPoint(r.x, r.y);
                        i.frameOverlay.show()
                    } else var o = i.elementFromPoint(r.x, r.y);
                    n.appendSelectedTo(o, r), i.isWebkit && i.repositionBox("hover", o, t.match(o))
                }
                i.oldX = e.pageX, i.oldY = e.pageY
            }), $(document).on("scroll", function() {
                $(document).scrollLeft(0), $(document).scrollTop(0)
            })
        }
    }
}]).directive("blToggleSidebar", ["settings", function(e) {
    return {
        restrict: "A",
        link: function(t, n) {
            var i = $("#viewport"),
                r = n.parent(),
                o = n.hasClass("left") ? "left" : "right";
            "right" == o ? e.get("openRightSidebarByDefault") || (i.addClass("right-collapsed"), r.css("right", "-234px")) : "left" == o && (e.get("openLeftSidebarByDefault") || (i.addClass("left-collapsed"), r.css("left", "-234px"))), n.on("click", function() {
                i.hasClass(o + "-collapsed") ? (i.removeClass(o + "-collapsed"), r.css(o, "0")) : (i.addClass(o + "-collapsed"), r.css(o, "-234px")), setTimeout(function() {
                    t.repositionBox("select")
                }, 250)
            })
        }
    }
}]).directive("blPrettyScrollbar", function() {
    return {
        restrict: "A",
        compile: function(e) {
            e.mCustomScrollbar({
                theme: "light-thin",
                scrollInertia: 300,
                autoExpandScrollbar: !1,
                autoHideScrollbar: !0
            })
        }
    }
}).directive("blNavDropdown", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", function() {
                t.siblings("li").toggle()
            })
        }
    }
}).directive("blInputBoxes", ["$compile", "$timeout", function(e, t) {
    return {
        restrict: "A",
        link: function(n, i, r) {
            var o = r.blInputBoxes,
                s = '<div class="big-box col-sm-6"><input ng-model="' + o + 'All" ng-model-options="{ debounce: 300 }" ng-change="inspector.applyBigInputBoxValue(\'' + o + "', " + o + 'All)"></div><div class="small-boxes col-sm-6"><div class="row"><input ng-model="inspector.styles.' + o + '.top" ng-model-options="{ debounce: 300 }" ng-change="inspector.applyInputBoxValue(\'' + o + "', inspector.styles." + o + '.top, \'top\')"></div><div class="row"><div class="col-sm-6"><input ng-model="inspector.styles.' + o + '.left" ng-model-options="{ debounce: 300 }" ng-change="inspector.applyInputBoxValue(\'' + o + "', inspector.styles." + o + '.left, \'left\')"></div><div class="col-sm-6"><input ng-model="inspector.styles.' + o + '.right" ng-model-options="{ debounce: 300 }" ng-change="inspector.applyInputBoxValue(\'' + o + "', inspector.styles." + o + '.right, \'right\')"></div></div><div class="row"><input ng-model="inspector.styles.' + o + '.bottom" ng-model-options="{ debounce: 300 }" ng-change="inspector.applyInputBoxValue(\'' + o + "', inspector.styles." + o + ".bottom, 'bottom')\"></div></div>";
            i.html(e(s)(n)), n.$on("element.reselected", function() {
                t(function() {
                    i.find("input").blur()
                }, 0, !1)
            })
        }
    }
}]).directive("blCheckboxes", ["$compile", function(e) {
    return {
        restrict: "A",
        link: function(t, n, i) {
            for (var r = i.blCheckboxes, o = ["top", "right", "bottom", "left"], s = '<div class="pretty-checkbox pull-left"><input type="checkbox" id="' + r + '.all" ng-click="inspector.toggleStyleDirections(\'' + r + "', 'all')\"><label for=\"" + r + '.all"><span class="ch-all"></span><span class="unch-all"></span></label></div><div class="pull-right">', a = 0; 4 > a; a++) s += '<div class="pretty-checkbox"><input type="checkbox" id="' + r + "." + o[a] + '" ng-click="inspector.toggleStyleDirections(\'' + r + "', '" + o[a] + '\')" ng-checked="inspector.checkboxes.' + r + ".indexOf('" + o[a] + '\') !== -1"><label for="' + r + "." + o[a] + '"><span class="ch-' + o[a] + '"></span><span class="unch-' + o[a] + '"></span></label></div>';
            s += "</div>", n.html(e(s)(t))
        }
    }
}]).directive("blRangeSlider", ["$rootScope", "$parse", "inspector", function(e, t, n) {
    return {
        restrict: "A",
        link: function(i, r, o) {
            var s = t(o.blRangeSlider);
            r.slider({
                min: 0,
                step: 1,
                max: o.max ? o.max : 100,
                range: "min",
                animate: !0,
                slide: function(e, t) {
                    o.blRangeSlider.indexOf("props") > -1 ? i.$apply(function() {
                        s.assign(i, t.value)
                    }) : n.applySliderValue(o.blRangeSlider, t.value, "px")
                }
            }), i.$on("element.reselected", function() {
                r.slider("value", 0)
            }), i.$on(o.blRangeSlider + ".directions.changed", function() {
                r.slider("value", 0)
            }), r.on("slidestart", function() {
                n.sliding = !0, i.$broadcast(o.blRangeSlider.replace(/[A-Z][a-z]+/g, "") + ".slidestart", o.blRangeSlider), i.selectBox.add(i.hoverBox).hide()
            }), r.on("slidestop", function() {
                i.$broadcast(o.blRangeSlider.replace(/[A-Z][a-z]+/g, "") + ".slidestop", o.blRangeSlider), i.repositionBox("select"), n.sliding = !1, e.$broadcast("builder.css.changed")
            })
        }
    }
}]);
var builder = {};
angular.module("builder", ["ui.router", "ngCookies", "pascalprecht.translate", "angularFileUpload", "ngAnimate", "builder.projects", "builder.users", "builder.elements", "builder.editors", "builder.wysiwyg", "dragAndDrop", "undoManager", "builder.styling", "builder.directives", "builder.inspector", "builder.settings"]).config(["$stateProvider", "$urlRouterProvider", "$translateProvider", function(e, t, n) {
    selectedLocale ? (n.translations(selectedLocale, trans), n.preferredLanguage(selectedLocale)) : (n.translations("en", trans), n.preferredLanguage("en")), n.useUrlLoader("trans-messages"), n.useSanitizeValueStrategy("escaped"), t.otherwise("/"), e.state("home", {
        url: "/",
        templateUrl: "views/home"
    }).state("register", {
        url: "/register",
        templateUrl: "views/register"
    }).state("dashboard", {
        url: "/dashboard",
        templateUrl: "views/dashboard",
        controller: "DashboardController"
    }).state("builder", {
        url: "/builder/{name}",
        templateUrl: "views/builder",
        controller: "BuilderController"
    }).state("new", {
        url: "/new",
        templateUrl: "views/newProject",
        controller: "NewProjectController"
    }).state("users", {
        url: "/users",
        templateUrl: "views/users",
        controller: "UsersController"
    })
}]).run(["$rootScope", "$state", "$cookieStore", "$http", function(e, t, n, i) {
    e.isDemo = parseInt(isDemo), e.isWebkit = navigator.userAgent.indexOf("AppleWebKit") > -1, e.isIE = navigator.userAgent.indexOf("MSIE ") > -1 || navigator.userAgent.indexOf("Trident/") > -1, e.keys = JSON.parse(keys), e.selectedLocale = selectedLocale, e.baseUrl = baseUrl, e.registrationEnabled = "undefined" != typeof settings.enable_registration ? JSON.parse(settings.enable_registration) : !0, e.isDemo && i.get("time-until-reset").success(function(e) {
        e > 0 && setTimeout(function() {
            location.replace(location.origin)
        }, parseInt(e))
    }), e.userCan = function(t) {
        return e.user && e.user.permissions ? 1 === e.user.permissions.superuser ? !0 : 1 === e.user.permissions[t] : !1
    }, e.$on("$stateChangeStart", function(i, r) {
        e.user || (e.user = n.get("blUser")), "dashboard" == r.name || "builder" == r.name ? e.user || (i.preventDefault(), t.go("home")) : "home" == r.name ? e.user && (i.preventDefault(), t.go("dashboard")) : "users" == r.name ? e.user && e.userCan("users.create") || e.isDemo || (i.preventDefault(), t.go("dashboard")) : "register" == r.name ? e.registrationEnabled || (i.preventDefault(), t.go("home")) : "register" !== r.name && "new" !== r.name && "users" !== r.name && i.preventDefault()
    })
}]).factory("bootstrapper", ["$rootScope", "$state", "project", "elements", "keybinds", "settings", function(e, t, n, i, r, o) {
    var s = {
        loaded: !1,
        eventsAttached: !1,
        start: function() {
            this.initDom(), this.initProps(), this.initSidebars(), this.initSettings(), this.eventsAttached || e.$on("builder.dom.loaded", function() {
                s.initProject(), s.initKeybinds(), s.eventsAttached = !0
            }), this.loaded = !0
        },
        initDom: function() {
            e.frame = $("#iframe"), e.frame[0].src = "about:blank", e.frame.load(function() {
                e.frameWindow = e.frame.get(0).contentWindow, e.frameDoc = e.frameWindow.document, e.frameBody = $(e.frameDoc).find("body"), e.frameHead = $(e.frameDoc).find("head"), e.$broadcast("builder.dom.loaded")
            }), e.frameOverlay = $("#frame-overlay"), e.hoverBox = $("#hover-box"), e.selectBox = $("#select-box"), e.selectBoxTag = e.selectBox.find(".element-tag")[0], e.hoverBoxTag = e.hoverBox.find(".element-tag")[0], e.selectBoxActions = document.getElementById("select-box-actions"), e.hoverBoxActions = document.getElementById("hover-box-actions"), e.textToolbar = $("#text-toolbar"), e.windowWidth = $(window).width(), e.inspectorCont = $("#inspector"), e.contextMenu = $("#context-menu"), e.linker = $("#linker"), e.inspectorWidth = e.inspectorCont.width(), e.elemsContWidth = $("#elements-container").width(), e.mainHead = $("head"), e.body = $("body"), e.viewport = $("#viewport"), e.navbar = $("nav"), e.contextMenuOpen = !1, e.activePanel = !1, e.flyoutOpen = !1, e.frameOffset = {
                top: 89,
                left: 234
            }, $(document).ready(function() {
                setTimeout(function() {
                    e.frameOffset = e.frame.offset(), e.frameWrapperHeight = $("#frame-wrapper").height()
                }, 1e3)
            })
        },
        initSettings: function() {
            o.init()
        },
        initProject: function() {
            t.params.name ? n.load(t.params.name) : t.go("dashboard")
        },
        initSidebars: function() {
            i.init()
        },
        initKeybinds: function() {
            r.init()
        },
        initProps: function() {
            e.selected = {
                html: function(e) {
                    return e && "preview" != e ? this.element.html : this.element.previewHtml || this.element.html
                },
                getStyle: function(e) {
                    return this.node ? window.getComputedStyle(this.node, null).getPropertyValue(e) : void 0
                }
            }, e.hover = {}, e.selecting = !1
        }
    };
    return s
}]), angular.module("builder").factory("panels", function() {
    return {
        active: "elements",
        open: function(e) {
            if (this.active !== e) {
                var t = $('.main-nav [data-name="' + e + '"]').offset().top;
                $(".selected-tab").css("transform", "translateY(" + (t - 121) + "px)"), this.active = e
            }
        }
    }
}), angular.module("builder").controller("NavbarController", ["$scope", "$rootScope", "$timeout", "$state", "$translate", "$cookieStore", "undoManager", "settings", "project", "users", "preview", "codeEditors", "panels", function(e, t, n, i, r, o, s, a, l, c, u, h, d) {
    e.settings = a, e.undoManager = s, e.project = l, e.state = i, e.locales = JSON.parse(locales), e.activeCanvasSize = "lg", e.devicesPanelOpen = !1, e.codeEditors = h, e.panels = d, e.toggleDevicesPanel = function() {
        e.devicesPanelOpen = !e.devicesPanelOpen
    }, e.toggleCodeEditor = function() {
        $("#code-editor-wrapper").toggle(), h.currentlyOpen = !h.currentlyOpen
    }, e.logout = function() {
        c.logout()
    }, e.openPanel = function(e) {
        t.activePanel = e, t.flyoutOpen = !0
    }, e.preview = function() {
        u.show()
    }, e.isBoolean = function(e) {
        return "boolean" != typeof e
    }, e.changeLocale = function(e) {
        r.use(e), o.put("architect_locale", e.trim()), t.selectedLocale = e
    }, e.resizeCanvas = function(i) {
        switch (e.activeCanvasSize = i, i) {
            case "xs":
                e.frame.removeClass().addClass("xs-width");
                break;
            case "sm":
                e.frame.removeClass().addClass("sm-width");
                break;
            case "md":
                e.frame.removeClass().addClass("md-width");
                break;
            default:
                e.frame.removeClass().addClass("full-width")
        }
        n(function() {
            t.frameOffset = e.frame.offset()
        }, 450), e.selectBox.hide(), e.hoverBox.hide(), e.textToolbar.addClass("hidden"), e.contextMenu.hide(), e.linker.addClass("hidden"), e.colorPickerCont && e.colorPickerCont.addClass("hidden")
    }, e.undo = function() {
        s.undo()
    }, e.redo = function() {
        s.redo()
    }, e.$watch("panels.active", function(e, t) {
        "inspector" === t && e !== t && $("#inspector .sp-container, #inspector #background-flyout-panel, #inspector .arrow-right").addClass("hidden")
    })
}]), angular.module("builder").controller("LinkerController", ["$scope", "project", function(e, t) {
    e.project = t, e.linker = {}, e.hideLinker = function() {
        $("#linker").addClass("hidden")
    }, e.removeLink = function() {
        "A" === e.selected.node.tagName && (e.selected.node.href = "", e.selected.node.removeAttribute("download"))
    }, e.applyUrl = function() {
        return e.linker.url ? (e.selected.node.href = e.linker.url, void e.selected.node.removeAttribute("download")) : !1
    }, e.applyPage = function() {
        return e.linker.page ? (e.selected.node.href = e.linker.page + ".html", void e.selected.node.removeAttribute("download")) : !1
    }, e.applyEmail = function() {
        return e.linker.email ? (e.selected.node.href = "mailto:" + e.linker.email, void e.selected.node.removeAttribute("download")) : !1
    }, e.applyDownload = function() {
        return e.linker.download ? (e.selected.node.href = e.linker.download, void e.selected.node.setAttribute("download", "download")) : !1
    }, e.$on("element.reselected", function() {
        if ("A" === e.selected.node.tagName) {
            var t = e.selected.node.getAttribute("href");
            if (!t) return !1;
            e.linker.label = e.selected.node.textContent, -1 !== t.indexOf("//") || -1 !== t.indexOf("#") ? (e.linker.url = t, e.linker.radio = "url") : -1 !== t.indexOf("mailto:") ? (e.linker.email = t, e.linker.radio = "email") : e.selected.node.hasAttribute("download") ? (e.linker.download = t, e.linker.radio = "download") : (e.linker.page = t.replace(".html", ""), e.linker.radio = "page")
        }
    })
}]), angular.module("builder").controller("DashboardController", ["$scope", "$http", "$translate", "project", function(e, t, n, i) {
    e.projects = i, e.requestInProgress = !1, e.selectedProject = !1, e.getProjectUrl = function(t) {
        return e.baseUrl + "/projects/" + t.id + "/render"
    }, e.setSelectedProject = function(t) {
        e.selectedProject = t
    }, e.formatTime = function(e) {
        return moment(e).fromNow()
    }, e.togglePublished = function(n) {
        if (e.requestInProgress) return !1;
        if (n.published) var i = t.post("projects/" + n.id + "/publish").success(function() {});
        else var i = t.post("projects/" + n.id + "/unpublish").success(function() {});
        i.finally(function() {
            e.requestInProgress = !1
        })
    }, e.deleteProject = function(e) {
        alertify.confirm(n.instant("confirmProjectDeletion"), function(t) {
            t && i.delete(e)
        })
    }, e.filters = {
        query: "",
        status: "",
        sort: "newest",
        setSortProp: function() {
            "newest" == this.sort ? (this.order = "created_at", this.reverse = !0) : "oldest" == this.sort ? (this.order = "created_at", this.reverse = !1) : "a-z" == this.sort ? (this.order = "name", this.reverse = !1) : "z-a" == this.sort && (this.order = "name", this.reverse = !0)
        },
        order: "created_at",
        reverse: !0
    }, i.getAll().success(function(t) {
        e.selectedProject = t[0]
    })
}]).directive("blOpenInBuilder", ["$state", "$translate", function(e, t) {
    return {
        restrict: "A",
        link: function(n, i, r) {
            i.on("click", function() {
                return n.userCan("projects.update") ? ($("#view").addClass("loading"), void e.go("builder", {
                    name: r.blOpenInBuilder
                })) : alertify.log(t.instant("noPermProjectUpdate"), "error")
            })
        }
    }
}]), angular.module("builder").controller("NewProjectController", ["$scope", "$http", "$state", "templates", "$upload", function(e, t, n, i) {
    e.templates = i, e.filters = {
        category: "",
        color: ""
    }, e.modal = $("#project-name-modal"), e.error = e.modal.find(".error"), e.modal.off("hide.bs.modal").on("hide.bs.modal", function() {
        e.error.html(""), e.name = ""
    }), e.modal.off("shown.bs.modal").on("shown.bs.modal", function(e) {
        e.target.querySelector("input").focus()
    }), e.templates.getAll(), e.showNameModal = function(t) {
        e.selectedTemplate = t, e.modal.modal("show")
    }, e.createNewProject = function() {
        var i = {
            name: e.name
        };
        e.loading = !0, e.selectedTemplate && (i.template = e.selectedTemplate.id), t.post("projects", i).success(function() {
            var t = e.name;
            e.error.html(""), e.name = "", e.selectedTemplate = !1, e.modal.modal("hide").off("hidden.bs.modal").on("hidden.bs.modal", function() {
                n.go("builder", {
                    name: t
                })
            })
        }).error(function(t) {
            e.error.html(t)
        }).finally(function() {
            e.loading = !1
        })
    }
}]).directive("blNewProjectColorSelector", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", "li", function(n) {
                var i = $(n.currentTarget);
                t.find("li").not(i).removeClass("active"), i.hasClass("active") ? (i.removeClass("active"), e.$apply(function() {
                    e.filters.color = ""
                })) : (i.addClass("active"), e.$apply(function() {
                    e.filters.color = i.data("color")
                }))
            })
        }
    }
}), angular.module("builder").directive("blContextBoxActions", ["dom", function(e) {
    return {
        restrict: "A",
        link: function(t, n) {
            n.on("click", ".icon", function(n) {
                var i = n.currentTarget.dataset.action;
                "delete" == i ? e.delete(t.selected.node) : "edit" == i && (t.selected.element.onEdit ? t.selected.element.onEdit(t) : t.canEdit("text") && t.$broadcast("builder.contextBox.editBtn.click", n))
            })
        }
    }
}]).directive("blIframeNodesSelectable", ["$timeout", function() {
    return {
        restrict: "A",
        link: function(e) {
            e.$on("builder.dom.loaded", function() {
                e.frameBody.off("click").on("click", function(t) {
                    if (t.preventDefault(), e.contextMenu.hide(), e.frameWindow.focus(), e.resizing || e.selected.node == t.target) return !0;
                    var n = t.target;
                    if (n.hasAttribute("contenteditable") || n.parentNode.hasAttribute("contenteditable")) return !0;
                    for (var i = e.frameBody.find("[contenteditable]"), r = i.length - 1; r >= 0; r--) i[r].removeAttribute("contenteditable"), i[r].blur();
                    e.textToolbar.hasClass("hidden") || (e.textToolbar.addClass("hidden"), e.$emit("builder.html.changed")), e.linker.addClass("hidden"), e.colorPickerCont && e.colorPickerCont.addClass("hidden"), "HTML" != n.nodeName && e.$apply(function() {
                        e.selectNode(n)
                    })
                })
            }), e.$on("builder.dom.loaded", function() {
                $(e.frameDoc).on("scroll", function() {
                    e.repositionBox("select")
                })
            })
        }
    }
}]).directive("blHoverBox", ["elements", "dom", function(e) {
    return {
        restrict: "A",
        replace: !0,
        template: '<div id="hover-box"><div id="hover-box-actions"><span class="element-tag">#</span></div></div>',
        link: function(t) {
            t.$on("builder.dom.loaded", function() {
                t.frameBody.off("mousemove").on("mousemove", function(n) {
                    if (!t.dragging) {
                        t.hover.previous = t.hover.node;
                        var i = t.elementFromPoint(n.pageX, n.pageY - t.frameBody.scrollTop());
                        if (t.selected.node && t.selected.node == i) return t.hoverBox.hide(); - 1 == i.className.indexOf("ui-resizable-handle") && (t.hover.node = i, t.hover.element = e.match(t.hover.node, "hover", !0), (!t.dragging || t.isWebkit) && t.repositionBox("hover", t.hover.node, t.hover.element))
                    }
                })
            })
        }
    }
}]), angular.module("undoManager", []).factory("undoManager", ["$rootScope", "$timeout", "css", function(e, t, n) {
    var i = {
        commands: [],
        pointer: -1,
        canUndo: !1,
        canRedo: !1,
        hasUndo: function() {
            return -1 !== this.pointer
        },
        hasRedo: function() {
            return this.pointer < this.commands.length - 1
        },
        updateStatuses: function() {
            this.canUndo = this.hasUndo(), this.canRedo = this.hasRedo()
        },
        undo: function() {
            var e = this.commands[this.pointer];
            e && (e.undo(), this.pointer -= 1, this.updateStatuses())
        },
        redo: function() {
            var e = this.commands[this.pointer + 1];
            e && (e.redo(), this.pointer += 1, this.updateStatuses())
        },
        add: function(n, r) {
            this.commands.splice(this.index + 1, this.commands.length - this.index);
            var o = new i[n](r);
            return this.commands.push(o), this.pointer = this.commands.length - 1, t(function() {
                e.$apply(function() {
                    i.updateStatuses()
                })
            }), o
        },
        generic: function(e) {
            this.undo = e.undo, this.redo = e.redo
        },
        reorderElement: function(e) {
            this.params = e
        },
        deleteNode: function(e) {
            this.params = e
        },
        insertNode: function(e) {
            this.params = e
        },
        insertColumn: function(e) {
            this.params = e
        },
        revertStyles: function(e) {
            this.params = e
        }
    };
    return i.revertStyles.prototype.undo = function() {
        n.add(this.params.path, this.params.property, this.params.oldStyles), e.repositionBox("select"), e.hoverBox.hide()
    }, i.revertStyles.prototype.redo = function() {
        this.params.redoProps ? n.add(this.params.path, this.params.redoProps) : n.add(this.params.path, this.params.property, this.params.newStyles), e.repositionBox("select"), e.hoverBox.hide()
    }, i.deleteNode.prototype.undo = function() {
        this.insertAtIndex = i.reorderElement.prototype.insertAtIndex, this.insertAtIndex()
    }, i.deleteNode.prototype.redo = function() {
        this.params.node.remove(), e.selectBox.hide(), e.hoverBox.hide()
    }, i.insertNode.prototype.undo = function() {
        this.params.node && ($(this.params.node).remove(), e.selectBox.hide(), e.hoverBox.hide())
    }, i.insertColumn.prototype.undo = function() {
        this.params.node.remove(), this.params.resize(this.params.oldNode, "+", 1), e.selectBox.hide(), e.hoverBox.hide()
    }, i.insertColumn.prototype.redo = function() {
        this.insertAtIndex = i.reorderElement.prototype.insertAtIndex, this.insertAtIndex(), this.params.resize(this.params.oldNode, "-", 1)
    }, i.insertNode.prototype.redo = function() {
        this.insertAtIndex = i.reorderElement.prototype.insertAtIndex, this.insertAtIndex()
    }, i.reorderElement.prototype.undo = function() {
        this.insertAtIndex("undo")
    }, i.reorderElement.prototype.redo = function() {
        this.insertAtIndex("redo")
    }, i.reorderElement.prototype.insertAtIndex = function(t) {
        var n = !0,
            i = $(this.params.parent),
            r = "redo" == t ? this.params.redoIndex : this.params.undoIndex;
        if (0 === r) i.prepend(this.params.node);
        else if (r + 1 >= this.params.parentContents.length) i.append(this.params.node);
        else {
            var o = i.contents(),
                s = o.index(this.params.node);
            n = -1 == s ? !0 : s > r;
            for (var a = o.length - 1; a >= 0; a--)
                if (a === r) return n ? $(o[a]).before(this.params.node) : $(o[a]).after(this.params.node)
        }
        e.repositionBox("select")
    }, builder.undo = i.commands, i
}]), angular.module("builder").factory("dom", ["$rootScope", "undoManager", "elements", "themes", function(e, t, n, i) {
    var r = {
        copiedNode: null,
        meta: {},
        moveSelected: function(t, i) {
            if (i || (i = e.selected.parent), "down" == t) {
                var r = $(e.selected.node).next();
                if (r[0]) n.canInsertSelectedTo(r[0]) ? r.prepend(e.selected.node) : r.after(e.selected.node);
                else {
                    var o = $(e.selected.node).parent().parent();
                    n.canInsertSelectedTo(o[0]) && $(e.selected.node).parent().after(e.selected.node)
                }
                e.repositionBox("select")
            } else if ("up" == t) {
                var s = $(e.selected.node).prev();
                if (s[0]) n.canInsertSelectedTo(s[0]) ? s.append(e.selected.node) : s.before(e.selected.node);
                else {
                    var o = $(e.selected.node).parent().parent();
                    n.canInsertSelectedTo(o[0]) && $(e.selected.node).parent().before(e.selected.node)
                }
                return e.repositionBox("select")
            }
        },
        appendSelectedTo: function(t, i) {
            if (!t) return !0;
            if (e.selected.node == t || e.selected.node.contains(t)) return !0;
            for (var r, o = t.children, s = 0, a = o.length; a > s; s++)
                if (r = o[s], this.above(r, i) && n.canInsertSelectedTo(t)) return "BODY" == r.nodeName ? r.appendChild(e.selected.node) : r.parentNode.insertBefore(e.selected.node, r), e.repositionBox("select");
            return n.canInsertSelectedTo(t) && t.appendChild(e.selected.node), !0
        },
        above: function(e, t) {
            if ("#text" !== e.nodeName) {
                var n = e.getBoundingClientRect(),
                    i = e.offsetWidth,
                    r = e.offsetHeight,
                    o = [
                        [n.left, n.top],
                        [n.left + i, n.top],
                        [n.left + i, n.top + r],
                        [n.left, n.top + r]
                    ],
                    s = o[0][1],
                    a = o[0][0];
                return t.y < o[2][1] ? t.y < s || t.x < a : !1
            }
        },
        loadHtml: function(t) {
            if (t) {
                var n = t.match(/(<body[^>]*>)((.|[\r\n])+?)<\/body>/),
                    i = t.match(/<link.+?class="include".+?>/g);
                if (n) {
                    var r = (new DOMParser).parseFromString(n[1] + "</body>", "text/html");
                    e.frameDoc.body.innerHTML = n[2], r && (e.frameDoc.body.className = r.body.className, e.frameDoc.body.id = r.body.id)
                }
                i && i.length && e.frameHead.append(i.join("\n"))
            } else e.frameBody.html("")
        },
        getHtml: function(t, n, r, o) {
            var s = "<head>",
                a = t ? t : this,
                l = "",
                c = "";
            if (s += '<meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1">', a.title && (s += "<title>" + a.title + "</title>", s += '<meta name="title" content="' + a.title + '">'), a.description && (s += '<meta name="description" content="' + a.description + '">'), a.tags && (s += '<meta name="keywords" content="' + a.tags + '">'), l = t ? t.html.match(/<link.+?class="include".+?">/g) : e.frameHead.html().match(/<link.+?class="include".+?">/g), l && l.length) {
                for (var u = [], h = l.length - 1; h >= 0; h--) - 1 === u.indexOf(l[h]) && u.push(l[h]);
                s += u.join("\n")
            }
            if (s += '<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">', t) {
                var d = i.get(t.theme) ? i.get(t.theme).path : e.baseUrl + "/assets/css/bootstrap.min.css";
                s += '<link href="' + d + '" rel="stylesheet">'
            } else s += e.frameHead.find("#main-sheet").get(0).outerHTML;
            if (n)
                if (s += '<style id="elements-css">' + e.frameHead.find("#elements-css").html() + "</style>", t) s += '<style id="editor-css">' + t.css + "</style>";
                else {
                    s += '<style id="editor-css">' + e.frameHead.find("#editor-css").html() + "</style>";
                    var f = e.frameHead.find("#inspector-css")[0],
                        p = "";
                    if (f) {
                        for (var m = 0; m < f.sheet.cssRules.length; m++) p += f.sheet.cssRules[m].cssText;
                        s += '<style id="inspector-css">' + p + "</style>"
                    }
                }
            if (s += "</head>", c = t && t.html ? t.html.match(/(<body[^>]*>(.|[\r\n])+?<\/body>)/)[1] : e.frameDoc.body.outerHTML, c = c.replace('contenteditable="true"', ""), r) {
                c += '<script src="assets/js/vendor/jquery.js"></script>', c += '<script src="assets/js/vendor/bootstrap/bootstrap.min.js"></script>';
                var g = o || t;
                if (g && g.libraries)
                    for (var h = 0; h < g.libraries.length; h++) c += '<script src="' + g.libraries[h].path + '"></script>';
                g && g.js && (c += "<script>" + g.js + "</script>")
            }
            return "<!DOCTYPE html>\n<html>" + s + c + "</html>"
        },
        previewsToHtml: function(e) {
            return e.replace(/<img.+?data-src="(.+?)".+?>/gi, '<div class="embed-responsive embed-responsive-16by9"><iframe class="embed-responsive-item" src="$1"></iframe></div>')
        },
        setMeta: function(e) {
            this.meta = e
        },
        copy: function(e) {
            e && "BODY" != e.nodeName && (this.copiedNode = $(e).clone())
        },
        paste: function(n) {
            if (n && this.copiedNode) {
                "BODY" == n.nodeName ? $(n).append(this.copiedNode) : $(n).after(this.copiedNode);
                var i = {
                    node: this.copiedNode
                };
                i.parent = i.node.parent(), i.parentContents = i.parent.contents(), i.undoIndex = i.parentContents.index(i.node.get(0)), t.add("insertNode", i), this.copiedNode = null, e.$broadcast("builder.html.changed")
            }
        },
        cut: function(e) {
            e && "BODY" != e.nodeName && (this.copy(e), this.delete(e))
        },
        "delete": function(n) {
            if (n && "BODY" != n.nodeName) {
                n.parentNode && e.$apply(function() {
                    e.selectNode(n.parentNode)
                });
                var i = {
                    node: n
                };
                i.parent = i.node.parentNode, i.parentContents = i.parent.childNodes, i.undoIndex = utils.getNodeIndex(i.parentContents, i.node), t.add("deleteNode", i), $(n).remove(), e.hoverBox.hide(), e.repositionBox("select"), e.$broadcast("builder.html.changed")
            }
        },
        clone: function(e) {
            this.copy(e), this.paste(e)
        },
        wrapInTransparentDiv: function(t) {
            t = $(t);
            var n = $('<div class="transparent-background" style="background-color: rgba(0,0,0,0.8)"></div>').append(t.contents()),
                i = t.append(n).css("padding");
            n.css("padding", i), t.css("padding", 0), e.$broadcast("builder.html.changed")
        },
        addRowBefore: function(t) {
            var n = $(t).closest("tr");
            n.before(n.clone()), e.repositionBox("select")
        },
        addRowAfter: function(t) {
            var n = $(t).closest("tr");
            n.after(n.clone()), e.repositionBox("select")
        },
        addColumnAfter: function(e) {
            this.addColumn(e, "after")
        },
        addColumnBefore: function(e) {
            this.addColumn(e, "before")
        },
        addColumn: function(t, n) {
            if ("TD" !== t.nodeName) return !1;
            var t = $(t),
                i = t.index(),
                r = t.closest("table");
            r.find("thead tr").children("th").each(function(e, t) {
                return e === i ? ($(t)[n]($(t).clone()), !1) : void 0
            }), r.find("tbody tr").each(function(e, t) {
                $(t).children("td").each(function(e, t) {
                    return e === i ? ($(t)[n]($(t).clone()), !1) : void 0
                })
            }), e.repositionBox("select")
        }
    };
    return r
}]), angular.module("undoManager").controller("ContextMenuController", ["$scope", "$rootScope", "dom", "undoManager", "codeEditors", function(e, t, n, i, r) {
    e.isTable = !1, e.codeEditors = r, e.dom = n, e.undoManager = i, e.closeContextMenu = function() {
        t.contextMenuOpen = !1
    }, e.executeCommand = function(t) {
        "undo" == t || "redo" == t ? i[t]() : "selectParent" == t ? (console.log(e.selected.parent), e.selected.parent && e.selected.parent.contains(e.selected.node) && e.selectNode(e.selected.parent)) : "moveSelected" == t ? n.moveSelected(arguments[1], e.selected.node) : "viewSource" == t ? r.open("html") : n[t] && n[t](e.selected.node), e.closeContextMenu()
    }
}]).directive("blIframeContextMenu", ["$rootScope", "$timeout", function(e, t) {
    return {
        restrict: "A",
        link: function(n) {
            e.$on("builder.dom.loaded", function() {
                var i = $("#viewport").height(),
                    r = $("#viewport").width(),
                    o = $("#context-menu");
                n.frameBody.on("contextmenu", function(s) {
                    s.preventDefault(), s.stopPropagation(), n.$apply(function() {
                        e.contextMenuOpen = !0
                    });
                    var a = n.elementFromPoint(s.pageX, s.pageY - n.frameBody.scrollTop());
                    t(function() {
                        e.selected.isTable = "TD" === e.selected.node.nodeName
                    }), a.parentNode && "LI" === a.parentNode.nodeName || n.selectNode(a);
                    var l = s.pageY - n.frameDoc.body.scrollTop,
                        c = s.pageX + 10 + n.frameOffset.left,
                        u = o.width(),
                        h = o.height();
                    l + h > i && (l = s.pageY - h - n.frameDoc.body.scrollTop + 39), r < c + n.frameOffset.left + u && (c -= u), o.css({
                        top: l,
                        left: c
                    }).show()
                })
            })
        }
    }
}]), angular.module("dragAndDrop").directive("blIframeNodesSortable", ["$rootScope", "dom", "undoManager", "iframeScroller", "settings", function(e, t, n, i, r) {
    return $.widget("ui.iframeNodesSortable", $.ui.mouse, {
        _mouseStart: function(t) {
            return e.$apply(function() {
                e.dragging = !0
            }), e.frameBody.addClass("dragging"), this.params = {
                undoIndex: utils.getNodeIndex(this.active.parentContents, this.active.node),
                node: this.active.node,
                parent: this.active.parent,
                parentContents: this.active.parentContents
            }, this.active.helper = $(this.active.node).clone().css({
                position: "absolute",
                "pointer-events": "none",
                margin: "0",
                padding: "0"
            }).addClass("helper"), e.frameBody.append(this.active.helper), this._mouseDrag(t, !0), !0
        },
        _mouseDrag: function(n) {
            var r = this,
                o = e.frameBody.scrollTop(),
                s = {
                    x: n.pageX,
                    y: n.pageY - o
                },
                a = e.elementFromPoint(s.x, s.y);
            i.scroll(n.pageY - o + 2 * e.frameOffset.top), r.active.helper.css("left", s.x + 10).css("top", s.y + o - 20), e.isWebkit && e.repositionBox("hover", a);
            var l = e.selected.node.className;
            return l && l.match("col-") ? this._sortColumns(a, s) : t.appendSelectedTo(a, s)
        },
        _mouseStop: function() {
            i.stopScrolling(), this.active.helper.remove(), e.$apply(function() {
                e.dragging = !1
            }), this.params.redoIndex = utils.getNodeIndex(this.active.node.parentNode.childNodes, this.active.node), n.add("reorderElement", this.params), e.repositionBox("select"), e.frameBody.removeClass("dragging"), e.$broadcast("builder.html.changed")
        },
        _mouseCapture: function() {
            return this.active = e.selected, !this.active.node || this.active.node.className.indexOf("locked") > -1 || this.active.node.contenteditable || e.rowEditorOpen ? !1 : !0
        },
        _init: function() {
            return this._mouseInit()
        },
        _destroy: function() {
            return this._mouseDestroy()
        },
        _sortColumns: function(t, n) {
            var i = $(t).parent().attr("class");
            i && i.match("row") && (this.oldPoint && n.x > this.oldPoint.x ? $(e.selected.node).before(t) : $(e.selected.node).after(t)), this.oldPoint = n
        }
    }), {
        restrict: "A",
        link: function(t) {
            var n = function(t, n) {
                e.selected.previous && $(e.selected.previous).draggable("instance") && $(e.selected.previous).draggable("destroy"), $(n).draggable({
                    addClasses: !1,
                    scroll: !1,
                    start: function() {
                        $(this).css({
                            transition: "none",
                            zIndex: 99999
                        }), e.$apply(function() {
                            e.dragging = !0
                        })
                    },
                    drag: function(t) {
                        i.scroll(t.pageY - e.frameBody.scrollTop() + 2 * e.frameOffset.top)
                    },
                    stop: function() {
                        $(this).css({
                            transition: "",
                            zIndex: ""
                        }), e.repositionBox("select"), e.$apply(function() {
                            e.dragging = !1
                        }), i.stopScrolling()
                    }
                })
            };
            e.$on("settings.changed", function(i, r, o) {
                "enableFreeElementDragging" === r && o && !t.freeDragModeEnabled ? (t.unbindFreeDrag = e.$on("element.reselected", function(e, i) {
                    n(e, i), t.freeDragModeEnabled = !0
                }), t.frameBody.iframeNodesSortable("destroy")) : (t.unbindFreeDrag && t.unbindFreeDrag(), $(t.selected.node).draggable("instance") && $(t.selected.node).draggable("destroy"), t.frameBody.iframeNodesSortable({
                    cancel: '[contenteditable="true"]'
                }), t.freeDragModeEnabled = !1)
            }), t.$on("builder.dom.loaded", function() {
                return r.get("enableFreeElementDragging") ? void(t.unbindFreeDrag = e.$on("element.reselected", function(e, i) {
                    n(e, i), t.freeDragModeEnabled = !0
                })) : t.frameBody.iframeNodesSortable({
                    cancel: '[contenteditable="true"]'
                })
            })
        }
    }
}]), angular.module("dragAndDrop").directive("blColumnsResizable", ["$rootScope", "elements", "undoManager", "dom", "grid", function(e, t, n, i, r) {
    return $.widget("ui.columnsResizable", $.ui.mouse, {
        _mouseStart: function(t) {
            return this.dragger = $(t.target).closest(".column-resizer"), this.index = this.dragger.data("index"), this.step = Math.ceil(.0833 * e.selected.node.offsetWidth), this.start = t.pageX, this.cols = $(e.selected.node).children(), this.col = $(this.cols.get(this.index)), this.sibling = r.getSibling(this.col), this.siblingIndex = this.cols.index(this.sibling), this.nums = $.map(this.cols, function(e) {
                return r.getSpan($(e))
            }), e.frameOverlay.removeClass("hidden"), this._mouseDrag(t, !0), !0
        },
        _mouseDrag: function(e) {
            return this.oldX > e.pageX ? this.start - e.pageX > this.step && (this.start = e.pageX, this._resizeColumn("-")) : this.oldX < e.pageX && e.pageX - this.start > this.step && (this.start = e.pageX, this._resizeColumn("+")), this.oldX = e.pageX, !0
        },
        _mouseStop: function() {
            e.frameOverlay.addClass("hidden")
        },
        _init: function() {
            return this._mouseInit()
        },
        _destroy: function() {
            return this._mouseDestroy()
        },
        _mouseCapture: function(e) {
            var t = $(e.target);
            return t.is(".column-resizer") || t.is(".icon-resize-horizontal") || t.is(".col-dragger")
        },
        _resizeColumn: function(e) {
            r.canResize(this.nums, e, this.index, this.siblingIndex) && (r.resize(this.col, e), r.resize(this.sibling, "+" == e ? "-" : "+"), r.redrawControls(), r.redrawResizers())
        }
    }), {
        restrict: "A",
        link: function(e, t) {
            t.columnsResizable()
        }
    }
}]), angular.module("builder.editors", []).controller("CodeEditorController", ["$scope", "codeEditors", "dom", "project", "libraries", function(e, t, n, i, r) {
    e.libraries = r, e.editors = t, e.themes = ["chrome", "clouds", "crimson_editor", "tomorrow_night", "dawn", "dreamweaver", "eclipse", "github", "solarized_light", "textmate", "tomorrow", "xcode", "kuroir", "katzen_milch", "ambiance", "chaos", "clouds_midnight", "cobalt", "idle_fingers", "kr_theme", "merbivore", "merbivore_soft", "mono_industrial", "monokai", "pastel_on_dark", "solarized_light", "terminal", "tomorrow_night_blue", "tomorrow_night_bright", "tomorrow_night_80s", "twilight", "vibrant_ink"], e.$on("builder.page.changed", function() {
        t.cache.htmlEditor && (t.ignoreHtmlEditorChange = !0, t.cache.htmlEditor.setValue(style_html(n.getHtml()), -1), t.reloadCss(), t.cache.jsEditor.setValue(i.activePage.js, -1))
    }), e.$on("element.reselected", function(e, n) {
        t.cache.htmlEditor.find(n.outerHTML)
    }), e.$on("builder.css.changed", function() {
        t.loadingCss || t.reloadCss()
    })
}]).factory("codeEditors", ["$rootScope", "libraries", "css", "dom", "project", "grid", function(e, t, n, i, r, o) {
    var s = {
        currentlyOpen: !1,
        loadingCss: !1,
        ignoreHtmlEditorChange: !1,
        theme: "tomorrow_night",
        cache: {},
        resizeEditors: function() {
            this.cache.htmlEditor.resize(), this.cache.cssEditor.resize(), this.cache.jsEditor.resize()
        },
        open: function(e) {
            this.currentlyOpen = e, "css" == e && this.reloadCss(), this.cache.editors.addClass("hidden"), $("#" + e + "-code-editor").removeClass("hidden"), this.cache.wrapper.addClass("open"), "js" != e || t.length || t.fetchAll(), setTimeout(function() {
                s.resizeEditors(), s.cache[e + "Editor"].focus(), "css" === e && s.cache.cssEditor.gotoLine(s.cache.cssEditor.session.getLength())
            }, 300)
        },
        changeTheme: function() {
            this.cache.htmlEditor.setTheme("ace/theme/" + this.theme), this.cache.cssEditor.setTheme("ace/theme/" + this.theme), this.cache.jsEditor.setTheme("ace/theme/" + this.theme)
        },
        reloadCss: function() {
            this.loadingCss = !0, this.cache.cssEditor.setValue(n.compile(), -1), this.loadingCss = !1, s.cache.cssEditor.gotoLine(s.cache.cssEditor.session.getLength())
        },
        init: function() {
            this.cache.wrapper = $("#code-editor-wrapper"), this.cache.editors = $("#html-code-editor, #css-code-editor, #js-code-editor"), this.cache.htmlEditor = ace.edit("html-code-editor"), this.cache.cssEditor = ace.edit("css-code-editor"), this.cache.jsEditor = ace.edit("jscript-code-editor"), setTimeout(function() {
                s.initHtmlEditor(), s.initCssEditor(), s.initJsEditor()
            }, 2e3)
        },
        initHtmlEditor: function() {
            this.cache.htmlEditor.setTheme("ace/theme/" + this.theme), this.cache.htmlEditor.getSession().setMode("ace/mode/html"), this.cache.htmlEditor.setValue(style_html(i.getHtml()), -1), e.$on("builder.html.changed", function() {
                s.ignoreHtmlEditorChange = !0, s.cache.htmlEditor.setValue(style_html(i.getHtml()), -1)
            }), this.cache.htmlEditor.on("focus", function() {
                o.hideEditor(!0)
            }), s.cache.htmlEditor.getSession().on("change", blDebounce(function() {
                return s.ignoreHtmlEditorChange ? s.ignoreHtmlEditorChange = !1 : void i.loadHtml(s.cache.htmlEditor.getValue())
            }, 200))
        },
        initCssEditor: function() {
            this.cache.cssEditor.setTheme("ace/theme/" + this.theme), this.cache.cssEditor.getSession().setMode("ace/mode/css"), this.cache.cssEditor.getSession().on("change", function() {
                s.loadingCss || blDebounce(function() {
                    s.loadingCss = !0, e.customCss.html(s.cache.cssEditor.getValue()), e.repositionBox("select"), e.$broadcast("builder.css.changed"), s.loadingCss = !1
                }, 400)()
            })
        },
        initJsEditor: function() {
            this.cache.jsEditor.setTheme("ace/theme/" + this.theme), this.cache.jsEditor.getSession().setMode("ace/mode/javascript"), this.cache.jsEditor.setValue(r.activePage.js, -1), this.cache.jsEditor.getSession().on("change", function() {
                blDebounce(function() {
                    r.activePage.js = s.cache.jsEditor.getValue(), e.$broadcast("builder.js.changed")
                }, 400)()
            })
        },
        dispose: function() {
            this.cache = {}
        }
    };
    return s
}]).directive("blShowEditor", ["codeEditors", "settings", function(e, t) {
    return {
        restrict: "A",
        link: function(n, i, r) {
            t.get("openCodeEditorByDefault") && setTimeout(function() {
                e.open("html")
            }, 2e3), i.on("click", function() {
                n.$apply(function() {
                    e.open(r.blShowEditor)
                })
            })
        }
    }
}]).directive("blRenderEditors", ["codeEditors", function(e) {
    return {
        restrict: "A",
        link: function(t, n) {
            var i = $("#code-editor-wrapper"),
                r = (i.find("#editor-header"), {
                    top: "",
                    bottom: 20,
                    left: 380
                });
            e.init(), n.find(".close-editor").on("click", function() {
                i.toggle(), t.$apply(function() {
                    e.currentlyOpen = !1
                })
            }), n.find(".expand-editor").on("click", function() {
                i.hasClass("expanded") ? (console.log(r), i.css(r).removeClass("expanded")) : (r = {
                    height: i.height(),
                    width: i.width(),
                    top: i.offset().top,
                    left: i.offset().left
                }, i.css({
                    height: "calc(100% - 40px)",
                    width: "calc(100% - 40px)",
                    top: 20,
                    left: 20
                }).addClass("expanded")), setTimeout(function() {
                    e.resizeEditors()
                }, 300)
            }), i.draggable({
                handle: "#editor-header",
                containment: "body"
            }).resizable({
                containment: "body",
                minWidth: 400,
                minHeight: 200,
                start: function() {
                    $("#code-editor-resize-overlay").show()
                },
                stop: function() {
                    $("#code-editor-resize-overlay").hide(), e.resizeEditors()
                }
            })
        }
    }
}]), angular.module("builder.editors").factory("libraries", ["$rootScope", "$http", "project", function(e, t, n) {
    var i = {
        form: {
            name: "",
            path: "",
            type: "create"
        },
        all: [],
        get: function(e) {
            for (var t = 0; t < this.all.length; t++)
                if (this.all[t].name == e) return this.all[t]
        },
        fetchAll: function() {
            return t.get("libraries").success(function(e) {
                i.all = e
            })
        },
        save: function(e) {
            return t.post("libraries", e).success(function(e) {
                i.all.push(e)
            })
        },
        update: function(e) {
            return t.put("libraries/" + e.id, e).success(function(e) {
                for (var t = 0; t < i.all.length; t++) i.all[t].id == e.id && (i.all[t] = e)
            })
        },
        "delete": function(e) {
            var n = this.get(e);
            return t.delete("libraries/" + n.id).success(function() {
                for (var e = 0; e < i.all.length; e++) i.all[e].id == n.id && i.all.splice(e, 1)
            })
        },
        isAttached: function(e) {
            if (angular.isString(e) || (e = e.name), !n.activePage.libraries) return !1;
            for (var t = n.activePage.libraries.length - 1; t >= 0; t--) {
                var i = n.activePage.libraries[t];
                if (i == e || i.name == e) return !0
            }
        },
        attach: function(e, i) {
            var r = i ? i : n.activePage.id;
            return t.post("libraries/attach/" + r + "/" + e).success(function(e) {
                if (i)
                    for (var t = n.active.pages.length - 1; t >= 0; t--) n.active.pages[t].id == i && (n.active.pages[t].libraries || (n.active.pages[t].libraries = []), n.active.pages[t].libraries.push(e));
                else n.activePage.libraries.push(e)
            })
        },
        detach: function(e) {
            t.post("libraries/detach/" + n.activePage.id + "/" + e).success(function() {
                for (var t = 0; t < n.activePage.libraries.length; t++) n.activePage.libraries[t].name == e && n.activePage.libraries.splice(t, 1)
            })
        }
    };
    return i
}]).directive("blJsLibraries", ["libraries", function(e) {
    return {
        restrict: "A",
        link: function(t, n) {
            var i = $("#new-library-modal");
            n.find(".new-library").on("click", function() {
                i.modal({
                    backdrop: !1
                }), t.$apply(function() {
                    e.form.name = "", e.form.path = "", e.form.id = "", e.form.type = "create"
                })
            }), n.find("ul").on("click", function(n) {
                var r = $(n.target),
                    o = r.closest("li").data("name");
                if (r.is(".edit-library")) {
                    i.modal({
                        backdrop: !1
                    }), e.form.type = "edit";
                    var s = e.get(o);
                    t.$apply(function() {
                        e.form.id = s.id, e.form.name = s.name, e.form.path = s.path
                    })
                } else r.is(".delete-library") ? alertify.confirm("This will permanently remove the library, are you sure you want to continue?", function(t) {
                    t && e.delete(o)
                }) : (r.is("li") || r.parent().is("li")) && (e.isAttached(o) ? e.detach(o) : e.attach(o))
            })
        }
    }
}]).directive("blNewLibraryModal", ["libraries", function(e) {
    return {
        restrict: "A",
        link: function(t, n) {
            var i = $("#new-library-modal");
            n.find(".close-modal").on("click", function() {
                i.modal("hide")
            }), n.find(".save-library").on("click", function() {
                if ("create" == e.form.type) var t = e.save({
                    name: e.form.name,
                    path: e.form.path
                });
                else var t = e.update({
                    id: e.form.id,
                    name: e.form.name,
                    path: e.form.path
                });
                t.success(function() {
                    i.modal("hide"), e.form.error = ""
                }).error(function(t) {
                    e.form.error = t
                })
            })
        }
    }
}]), angular.module("builder.styling").controller("ThemesController", ["$scope", "$filter", "themes", function(e, t, n) {
    e.themes = n, e.export = {}, n.init(), e.filter = {
        type: "",
        search: ""
    }, e.activateTheme = function(e) {
        n.loadTheme(e)
    }, e.canEdit = function(t) {
        return e.user && t.userId == e.user.id
    }
}]).factory("themes", ["$rootScope", "$http", function(e, t) {
    var n = {
        all: [],
        active: {},
        editing: !1,
        loadTheme: function(t) {
            if (t) {
                var i = $("#theme-loading").removeClass("hidden");
                if (angular.isString(t))
                    for (var r = this.all.length - 1; r >= 0; r--) this.all[r].name.toLowerCase() == t.toLowerCase() && (this.active = this.all[r]);
                else this.active = t;
                if (this.active.name) {
                    if (this.active.replaceOriginal) {
                        e.frameHead.find("#main-sheet").prop("disabled", !0).remove(); {
                            $('<link id="main-sheet" rel="stylesheet" href="' + this.active.path + '">').prependTo(e.frameHead)
                        }
                    } else {
                        e.frameHead.find("#theme-sheet").prop("disabled", !0).remove(); {
                            $('<link id="theme-sheet" rel="stylesheet" href="' + this.active.path + '">').prependTo(e.frameHead)
                        }
                    }
                    var o = document.createElement("img");
                    o.onerror = function() {
                        i.addClass("hidden"), e.$broadcast("builder.theme.changed", n.active)
                    }, o.src = this.active.path, e.selectBox.hide(), e.hoverBox.hide()
                }
            }
        },
        "delete": function(e) {
            t.delete("pr-themes/" + e.id).success(function() {
                for (var t = n.all.length - 1; t >= 0; t--) n.all[t].id == e.id && n.all.splice(t, 1)
            })
        },
        edit: function(e) {
            n.editing = e
        },
        get: function(e) {
            for (var t = 0; t < this.all.length; t++)
                if (this.all[t].name == e) return this.all[t]
        },
        init: function() {
            t.get("pr-themes/").success(function(t) {
                for (var i = t.length - 1; i >= 0; i--) n.all.push({
                    name: t[i].name,
                    image: t[i].thumbnail,
                    description: t[i].description,
                    path: e.baseUrl + "/" + t[i].path,
                    replaceOriginal: !0,
                    source: t[i].source || "Architect",
                    type: t[i].type,
                    userId: t[i].user_id,
                    id: t[i].id,
                    customLess: t[i].custom_less,
                    vars: t[i].modified_vars
                })
            })
        }
    };
    return n
}]), angular.module("builder.styling").controller("TemplatesController", ["$scope", "templates", "themes", "dom", "css", "project", function(e, t, n, i, r, o) {
    e.templates = t, e.templateData = {
        name: "",
        type: "create",
        color: "blue",
        eplaceContents: !1,
        category: "Landing Page",
        clear: function() {
            this.name = "", this.type = "create", this.replaceContents = !1
        },
        getUpdateData: function() {
            var e = {
                name: this.name,
                color: this.color,
                category: this.category
            };
            return this.replaceContents && (e.pages = this.getPagesContent()), e
        },
        getCreateData: function() {
            var e = {
                pages: [],
                name: this.name,
                color: this.color,
                category: this.category,
                theme: n.active.name ? n.active.name : "default"
            };
            return e.pages = this.getPagesContent(), e
        },
        getPagesContent: function() {
            var e = [];
            if (o.active.pages.length > 1)
                for (var t = 0; t < o.active.pages.length; t++) {
                    var n = o.active.pages[t];
                    e.push({
                        js: n.js,
                        css: n.css,
                        html: n.html,
                        tags: n.tags,
                        name: n.name,
                        title: n.title,
                        theme: n.theme,
                        description: n.description,
                        libraries: $.map(n.libraries, function(e) {
                            return e.name
                        })
                    })
                } else e.push({
                    css: r.compile(),
                    html: i.getHtml(),
                    js: o.activePage.js,
                    libraries: $.map(o.activePage.libraries, function(e) {
                        return e.name
                    }),
                    name: "index"
                });
            return e
        }
    }
}]).factory("templates", ["$rootScope", "$http", "localStorage", "project", function(e, t, n, i) {
    var r = {
        all: [],
        colors: [{
            name: "black",
            value: "black"
        }, {
            name: "blue",
            value: "#84BDDB"
        }, {
            name: "gray",
            value: "#eee"
        }, {
            name: "green",
            value: "#18BB9B"
        }, {
            name: "brown",
            value: "#5A4A3A"
        }, {
            name: "orange",
            value: "#DA5C4A"
        }, {
            name: "red",
            value: "red"
        }, {
            name: "yallow",
            value: "#FFDF60"
        }, {
            name: "white",
            value: "#FAFAFA"
        }, {
            name: "purple",
            value: "#B84B61"
        }],
        categories: ["Landing Page", "Blog", "Portfolio"],
        loading: !1,
        save: function(n) {
            return this.loading = !0, t.post("pr-templates/", n).success(function(n) {
                i.createThumbnail().then(function(i) {
                    t({
                        url: "pr-templates/" + n.thumbId + "/save-image",
                        dataType: "text",
                        method: "POST",
                        data: i.toDataURL("image/png", 1),
                        headers: {
                            "Content-Type": !1
                        }
                    }).success(function() {
                        r.all.push(n), r.loading = !1
                    }).error(function() {
                        r.loading = !1
                    }), e.frameBody.find("iframe").remove()
                })
            })
        },
        update: function(n, o) {
            return o ? (this.loading = !0, t.put("pr-templates/" + o, n).success(function(n) {
                n.thumbId && i.createThumbnail().then(function(i) {
                    t({
                        url: "pr-templates/" + n.thumbId + "/save-image",
                        dataType: "text",
                        method: "POST",
                        data: i.toDataURL("image/png", 1),
                        headers: {
                            "Content-Type": !1
                        }
                    }).success(function() {
                        for (var e = r.all.length - 1; e >= 0; e--) r.all[e].id == n.id && (r.all[e] = n);
                        r.loading = !1
                    }).error(function() {
                        r.loading = !1
                    }), e.frameBody.find("iframe").remove()
                })
            })) : !1
        },
        "delete": function(e) {
            return t.delete("pr-templates/" + e).success(function() {
                for (var t = r.all.length - 1; t >= 0; t--) r.all[t].id == e && r.all.splice(t, 1)
            })
        },
        getAll: function() {
            return r.all.length ? void 0 : t.get("pr-templates/").success(function(e) {
                r.all.push.apply(r.all, e)
            })
        },
        get: function(e) {
            for (var t = r.all.length - 1; t >= 0; t--)
                if (r.all[t].id == e) return r.all[t]
        }
    };
    return r
}]).directive("blTemplateActions", ["$rootScope", "$http", "$translate", "dom", "css", "themes", "project", function(e, t, n, i, r, o, s) {
    return {
        restrict: "A",
        link: function(t, i) {
            var r = $("#save-template-modal"),
                o = r.find(".text-danger");
            i.find(".use-template").on("click", function() {
                alertify.confirm(n.instant("useTemplateConfirmation"), function(n) {
                    n && s.useTemplate(t.selectedTemplate).success(function() {
                        e.flyoutOpen = !1
                    })
                })
            }), i.find(".edit-template").on("click", function() {
                r.modal({
                    backdrop: !1
                });
                var e = t.templates.get(t.selectedTemplate);
                t.$apply(function() {
                    t.templateData.type = "edit", t.templateData.name = e.name, t.templateData.color = e.color, t.templateData.category = e.category
                })
            }), i.find(".delete-template").on("click", function() {
                alertify.confirm("Are you sure you want to delete this template?", function(e) {
                    e && t.templates.delete(t.selectedTemplate).success(function() {
                        t.templates.all.length && t.selectTemplate(t.templates.all[0].id)
                    }).error(function(e) {
                        alertify.log(e, "error", 2200)
                    })
                })
            }), i.find(".save-page-as-template").on("click", function() {
                r.modal({
                    backdrop: !1
                }), t.templateData.type = "create"
            }), r.find(".btn-success").on("click", function() {
                if ("edit" == t.templateData.type) var e = t.templates.update(t.templateData.getUpdateData(), t.selectedTemplate);
                else var e = t.templates.save(t.templateData.getCreateData());
                e.success(function() {
                    r.modal("hide"), o.html(""), t.templateData.clear()
                }).error(function(e) {
                    o.html(e)
                }).finally(function() {
                    t.templates.loading = !1
                })
            })
        }
    }
}]).directive("blRenderTemplates", ["$compile", "dom", "templates", function(e, t, n) {
    return {
        restrict: "A",
        link: function(i, r) {
            var o = r.find("#templates-list");
            i.selectTemplate = function(e) {
                if (!i.doc) return !1;
                i.selectedTemplate = e, i.head || (i.head = i.doc.getElementsByTagName("head"));
                for (var r = n.all.length - 1; r >= 0; r--)
                    if (n.all[r].id == e) {
                        i.doc.body.scrollTop = 0, i.doc.open("text/html", "replace"), i.doc.write(t.getHtml(n.all[r].pages[0], !0, !1)), i.doc.close(), $(i.doc).find("a").off("click").on("click", function(e) {
                            e.currentTarget.href && -1 !== e.currentTarget.href.indexOf("#") || e.preventDefault()
                        });
                        break
                    }
            }, o.on("click", "figure", function(e) {
                i.$apply(function() {
                    i.selectTemplate(e.currentTarget.dataset.id)
                })
            });
            var s = i.$watch("activePanel", function(t) {
                if ("templates" == t) {
                    n.all.length || n.getAll().then(function() {
                        n.all.length && i.selectTemplate(n.all[0].id)
                    });
                    var a = e('<ul class="list-unstyled" bl-template-selectable><li ng-repeat="template in templates.all" class="col-md-6 col-lg-4"><figure data-id="{{ template.id }}" ng-class="{ active: selectedTemplate == template.id }"><img ng-src="{{ baseUrl+\'/\'+template.thumbnail }}" class="img-responsive"><figcaption>{{ template.name }}</figcaption></figure></li></ul>')(i);
                    o.append(a);
                    var l = $('<iframe class="scale-iframe" id="templates-preview-iframe"></iframe>');
                    l.appendTo(r.find("#templates-preview")), l.attr("src", "about:blank"), l.load(function() {
                        i.doc = l[0].contentWindow.document, l.unbind("load")
                    }), s()
                }
            })
        }
    }
}]), angular.module("builder.styling").controller("ThemesCreatorController", ["$scope", "$http", "themes", function(e, t, n) {
    e.themes = n, e.modifiedVars = {}, e.customLess = !1, e.customLessOpen = !1, e.bootstrap = {
        defaultVars: !1,
        activeVars: !1,
        currentTheme: !1
    }, e.editing = {
        theme: "",
        name: "",
        type: "private",
        saving: !1,
        errorMessage: !1
    }, e.$watch("activePanel", function(t, i) {
        "themesCreator" == i && (e.editing = {
            theme: "",
            name: "",
            type: "private",
            saving: !1,
            errorMessage: !1
        }, n.editing = !1)
    }), e.applyChanges = function() {
        var t = [];
        for (var n in e.bootstrap.currentTheme)
            for (var i = e.bootstrap.currentTheme[n].variables, r = i.length - 1; r >= 0; r--)
                if (i[r].value !== e.bootstrap.defaultVars[n].variables[r].value) {
                    var o = {};
                    o[i[r].name] = i[r].value, t.push(o)
                }
        e.modifyVars(t)
    }, e.$watch("bootstrap.currentTheme", function(t, n) {
        if (t && n) {
            for (var i = e.bootstrap.activeGroup, r = t[i].variables, o = n[i].variables, s = {}, a = r.length - 1; a >= 0; a--) {
                var l = r[a];
                l.value !== o[a].value && (s[l.name] = l.value)
            }
            e.modifyVars(s)
        }
    }, !0), e.isColor = function(e) {
        return e.indexOf("#") > -1 || e.indexOf("darken") > -1 || e.indexOf("lighten") > -1
    }, e.getPreviewStyle = function(e) {
        var t = e;
        return {
            "border-right-color": t,
            "border-right-width": "25px"
        }
    }, e.modifyVars = function(t, n) {
        if (angular.isString(t)) e.modifiedVars[e.activeVar] = t;
        else if (angular.isArray(t))
            for (var i = t.length - 1; i >= 0; i--) $.extend(e.modifiedVars, t[i]);
        else $.extend(e.modifiedVars, t);
        n || (e.dirty = !0), e.less.modifyVars(e.modifiedVars)
    }, e.saveImage = function() {
        html2canvas(e.doc.find("#preview-screen"), {
            width: 506
        }).then(function(n) {
            t.post("pr-themes/save-image/", {
                image: n.toDataURL("image/png", "0.7"),
                theme: e.editing.name
            })
        })
    }, e.saveCurrent = function() {
        e.editing.errorMessage = !1, e.editing.saving = !0;
        var i = {
            vars: e.modifiedVars,
            theme: e.editing.theme,
            name: e.editing.name,
            type: e.editing.type,
            image: "themes/" + e.editing.name + "/image.png",
            custom: e.customLess
        };
        t.post("pr-themes/", i).success(function(t) {
            e.editing.saving = !1, e.dirty = !1, angular.isObject(t) ? (e.editing.theme = t, n.all.push(t)) : e.editing.theme = "", e.saveImage()
        }).error(function(t) {
            e.editing.saving = !1, e.editing.errorMessage = t
        })
    }, e.toggleCustomLessPanel = function() {
        e.customLessOpen = e.customLessOpen ? !1 : !0, setTimeout(function() {
            e.lessEditor.resize(), e.lessEditor.focus()
        }, 250)
    }
}]), angular.module("builder.styling").factory("css", ["$rootScope", function(e) {
    e.$on("element.reselected", function() {
        e.selected.selector = t.formatSelector(e.selected.path.slice(0))
    });
    var t = {
        rules: {},
        sheet: null,
        cssToObject: function(e) {
            var t = {};
            if (e)
                for (var n = e.replace(/\/\*!(.|\n)+?\*\//, ""), i = n.split("}\n"), r = i.length - 1; r >= 0; r--) {
                    var o = i[r].trim(),
                        s = o.match(/([^]+){/);
                    if (s) {
                        s = s[1].trim(), t[s] || (t[s] = {});
                        for (var a = o.replace(s, "").replace(/{|}/g, "").trim().split(";"), l = 0; l < a.length; l++) {
                            var c = a[l];
                            if (c) {
                                var u = c.split(/:(.+)?/);
                                u[0] && u[0].length > 1 && u[1] && u[1].replace(/\s|;/g, "").length > 0 && (t[s][u[0].trim()] = u[1].trim())
                            }
                        }
                    }
                }
            return t
        },
        compile: function() {
            var t = "",
                n = $.extend(!0, {}, this.rules);
            for (var i in n) {
                t += i + " {\n";
                for (var r in n[i]) 0 !== r.indexOf("_") && (t += "    " + r + ": " + n[i][r] + ";\n");
                t += "}\n\n"
            }
            var o = e.customCss.html().replace(/\/\*!(.|\n)+?\*\//, "").trim() + "\n\n" + t;
            return o
        },
        relativeToAbsolute: function(t) {
            return t ? t.replace(/url\((?!http)\.?\.?(.+?)\)/g, "url(" + e.baseUrl + "$1)") : ""
        },
        formatSelector: function(t) {
            if (t || (t = e.selected.selector), angular.isArray(t)) {
                var n = $.map(t, function(e) {
                    if (angular.isString(e)) return e;
                    if (e.node.id) return "#" + e.node.id;
                    if (e.node.className) {
                        var t = e.node.className.split(" ");
                        return "." + t.reduce(function(e, t) {
                            return e.length > t.length ? e : t
                        })
                    }
                    return e.node.nodeName.toLowerCase()
                });
                return n.join(" > ")
            }
            return t
        },
        remove: function(e, t) {
            var n = this.formatSelector(e),
                t = t.toDashedCase();
            this.sheet && this.rules && this.rules[n] && (this.rules[n][t] = null, this.rules[n]._cssObject.style[t] = "initial")
        },
        objectToString: function(e) {
            return e.topLeft ? e.topLeft + " " + e.topRight + " " + e.bottomRight + " " + e.bottomLeft : e.top + " " + e.right + " " + e.bottom + " " + e.left
        },
        loadCss: function(t) {
            var n = e.frameHead.find("#editor-css");
            n.html(""), n.append("\n" + t)
        },
        getValueFor: function(t, n) {
            var i = this.rules[t];
            return i && i[n] ? i[n] : e.selected.getStyle(n)
        },
        add: function(t, n, i, r, o) {
            if (this.sheet || (this.sheet = $('<style id="inspector-css"></style>').appendTo(e.frameHead)[0].sheet), t = t ? this.formatSelector(t) : e.selected.selector, angular.isObject(n))
                for (var s in n) this.add(t, s, n[s]);
            angular.isObject(i) && (i = this.objectToString(i)), e.selected.hasInlineStyles && (i += " !important");
            var a = this.rules[t];
            if (a) a._cssObject.style[n.toCamelCase()] = i, a[n.toDashedCase()] = i;
            else {
                var a = this.rules[t] = {};
                a[n.toDashedCase()] = i, this.sheet.insertRule(t + "{" + n + ":" + i + ";}", 0), a._cssObject = this.sheet.cssRules[0]
            }
            o || e.$broadcast("builder.css.changed")
        }
    };
    return t
}]), angular.module("builder.settings").factory("localStorage", function() {
    var e = {
        expireAfter: 2,
        get: function(t) {
            var n = JSON.parse(localStorage.getItem(t));
            return n && e.isValid(n.time) ? n.value : !1
        },
        set: function(e, t) {
            var n = {
                value: t,
                time: (new Date).getTime()
            };
            return localStorage.setItem(e, JSON.stringify(n))
        },
        isValid: function(t) {
            var n = ((new Date).getTime() - new Date(t).getTime()) / 864e5;
            return n < e.expireAfter
        }
    };
    return e
}), angular.module("builder.editors").factory("imageEditor", ["$rootScope", "$http", function(e, t) {
    var n = {
        editor: !1,
        booted: !1,
        booting: !1,
        oldUrl: "",
        key: "fe170a1bbdf8ae40",
        init: function(i, r) {
            this.booting = !0, this.editor = new Aviary.Feather({
                apiKey: n.key,
                apiVersion: 3,
                theme: "dark",
                tools: "all",
                appendTo: "",
                onSave: function(i, r) {
                    t.post("images/", {
                        url: r,
                        aviary: !0,
                        oldUrl: n.oldUrl
                    }).success(function(t) {
                        "IMG" === e.selected.node.nodeName && (e.selected.node.setAttribute("src", t), e.$broadcast("builder.html.changed")), n.oldUrl = "", n.editor.close()
                    })
                },
                onError: function(e) {
                    console.log(e)
                },
                onLoad: function() {
                    n.booted = !0, n.booting = !1, n.open(i, r)
                }
            })
        },
        open: function(e, t) {
            this.booting || (this.booted ? this.editor.launch({
                image: e,
                url: t
            }) : this.init(e, t))
        }
    };
    return n
}]), angular.module("builder.projects", []).factory("project", ["$rootScope", "$http", "$state", "$q", "css", "dom", "settings", "themes", "localStorage", function(e, t, n, i, r, o, s, a, l) {
    var c = {
        active: !1,
        activePage: !1,
        all: [],
        removePage: function(e) {
            return t.delete("projects/delete-page/" + e).success(function() {
                for (var t = c.active.pages.length - 1; t >= 0; t--) {
                    var n = c.active.pages[t];
                    n.id == e && c.active.pages.splice(t, 1)
                }
            })
        },
        removeAllPages: function() {
            return t.delete("projects/" + this.active.id + "/delete-all-pages").success(function() {
                c.active.pages = []
            })
        },
        getPage: function(e) {
            for (var t = this.active.pages.length - 1; t >= 0; t--)
                if (this.active.pages[t].name == e) return this.active.pages[t]
        },
        changePage: function(t, n) {
            var i = !1;
            if (!c.active.pages || !c.active.pages.length) return !1;
            t || (t = c.active.pages[0].name);
            for (var s = 0; s < c.active.pages.length; s++) c.active.pages[s].name == t && (i = c.active.pages[s]);
            i || (i = c.active.pages[0]), o.loadHtml(i.html), r.loadCss(i.css), a.loadTheme(i.theme), o.setMeta({
                title: i.title,
                tags: i.tags,
                description: i.description
            }), c.activePage = i, l.set("activePage", i.name), n || e.$broadcast("builder.page.changed", i)
        },
        load: function(e) {
            this.get(e).success(function(e) {
                c.active = e, n.is("builder") ? c.changePage(l.get("activePage")) : n.go("builder")
            }).error(function(e) {
                n.go("dashboard"), alertify.log(e, "error", 2200)
            })
        },
        save: function(n) {
            if (e.savingChanges || !c.active) return !1;
            e.savingChanges = !0, n || (n = "all");
            var i = c.getPage(c.activePage.name);
            return ("all" == n || n.indexOf("html") > -1) && (i.html = style_html(o.getHtml())), ("all" == n || n.indexOf("css") > -1) && (i.css = r.compile()), ("all" == n || n.indexOf("theme") > -1) && (i.theme = a.active.name), "page" !== n && "js" !== n && this.createThumbnail().then(function(n) {
                t({
                    url: "projects/" + c.active.id + "/save-image",
                    dataType: "text",
                    method: "POST",
                    data: n.toDataURL("image/png", 1),
                    headers: {
                        "Content-Type": !1
                    }
                }), e.frameBody.find("iframe").remove()
            }), t.put("projects/" + c.active.id, {
                project: c.active
            }).success(function(e) {
                c.active = e
            }).error(function(e) {
                alertify.log(e.substring(0, 500), "error", 2500)
            }).finally(function() {
                e.savingChanges = !1
            })
        },
        useTemplate: function(e) {
            return t.put("projects/" + this.active.id, {
                project: this.active,
                template: e
            }).success(function(e) {
                c.active = e, l.set("activePage", "index"), c.changePage(), angular.isString(c.activePage.libraries) && (c.activePage.libraries = JSON.parse(c.activePage.libraries))
            })
        },
        get: function(e) {
            return t.get("projects/" + e)
        },
        getAll: function() {
            return t.get("projects").success(function(e) {
                c.all = e
            })
        },
        "delete": function(e) {
            return t.delete("projects/" + e.id).success(function() {
                for (var t = 0; t < c.all.length; t++) c.all[t].id == e.id && c.all.splice(t, 1)
            }).error(function(e) {
                alertify.log(e, "error", 2e3)
            })
        },
        clear: function() {
            if (e.savingChanges) return !1;
            e.savingChanges = !0, e.$broadcast("builder.project.cleared");
            for (var n = c.active.pages.length - 1; n >= 0; n--) c.active.pages[n].html = "", c.active.pages[n].css = "", c.active.pages[n].theme = "", c.active.pages[n].js = "";
            return e.selected.path = !1, t.put("projects/" + c.active.id, {
                project: c.active
            }).then(function() {
                e.frameBody.html(""), e.selectBox.hide(), e.hoverBox.hide(), e.savingChanges = !1
            })
        },
        createThumbnail: function() {
            if (!e.frameBody.html()) return i(function() {});
            var t = e.windowWidth - e.elemsContWidth;
            return html2canvas(e.frameDoc.documentElement, {
                height: 1024,
                width: t
            })
        }
    };
    return e.$on("builder.html.changed", blDebounce(function() {
        s.get("enableAutoSave") && !e.dragging && c.save(["html"])
    }, s.get("autoSaveDelay"))), e.$on("builder.css.changed", blDebounce(function() {
        s.get("enableAutoSave") && !e.dragging && c.save(["css"])
    }, s.get("autoSaveDelay"))), e.$on("builder.js.changed", blDebounce(function() {
        s.get("enableAutoSave") && !e.dragging && c.save(["js"])
    }, s.get("autoSaveDelay"))), e.$on("builder.theme.changed", blDebounce(function() {
        s.get("enableAutoSave") && !e.dragging && c.save(["theme"])
    }, s.get("autoSaveDelay"))), c
}]), angular.module("builder.projects").controller("PagesController", ["$scope", "$http", "$translate", "project", "localStorage", function(e, t, n, i, r) {
    e.project = i, e.loading = !1, e.emptyProject = function() {
        alertify.confirm(n.instant("emptyProjectConfirmation"), function(t) {
            t && (e.loading = !0, i.clear().then(function() {
                e.loading = !1
            }))
        })
    }, e.createNewPage = function() {
        e.loading = !0;
        var t = "Page" + (i.active.pages.length + 1);
        i.active.pages.push({
            name: t,
            pageable_id: i.active.id,
            pageable_type: "Project"
        }), i.save("page").then(function() {
            i.changePage(t), e.loading = !1
        })
    }, e.deletePage = function() {
        return i.active.pages.length < 2 ? alertify.log("You need to have at least 1 page.", "error", 3e3) : void alertify.confirm(n.instant("pageDeleteConfirmation"), function(t) {
            t && (e.loading = !0, i.removePage(i.activePage.id).then(function() {
                i.active.pages.length ? i.changePage() : i.activePage = !1, e.loading = !1
            }))
        })
    }, e.savePage = function() {
        e.loading = !0, i.save("all").then(function() {
            e.loading = !1, r.set("activePage", i.activePage.name), alertify.log(i.activePage.name + " saved successfully.", "success", 2e3)
        })
    }, e.copyPage = function() {
        e.loading = !0;
        var t = $.extend({}, e.project.activePage);
        t.name = t.name + " Copy", delete t.id, delete t.$$hashKey;
        for (var n = 0; n < e.project.active.pages.length; n++) e.project.active.pages[n].name === t.name && (t.name = t.name + " Copy");
        e.project.active.pages.push(t), i.save("page").then(function() {
            e.loading = !1, i.changePage(t.name)
        })
    }
}]), angular.module("builder.projects").controller("ExportController", ["$scope", "project", "dom", "codeEditors", function(e, t, n, i) {
    e.exportPanelBooted = !1, e.project = t, e.images = [], e.activePage = {
        name: "index",
        ref: {}
    }, e.changeExportPage = function(n) {
        for (var i = n ? n : e.activePage.name, r = t.active.pages.length - 1; r >= 0; r--)
            if (t.active.pages[r].name == i) {
                e.activePage.name = i, e.activePage.ref = t.active.pages[r];
                break
            }
        e.updateExportPanel()
    }, e.updateExportPanel = function() {
        e.activePage.ref.css && e.cssPreview.setValue(i.cache.cssEditor.getValue(), -1), e.activePage.ref.html && (e.htmlPreview.setValue(i.cache.htmlEditor.getValue(), -1), e.images = e.getImages())
    }, e.getImages = function() {
        for (var t = [e.baseUrl, "http://architect"], n = $(e.activePage.ref.html).find("img").map(function(e, n) {
                if ("IMG" == n.tagName)
                    for (var e = t.length - 1; e >= 0; e--)
                        if (n.src.indexOf(t[e]) > -1 || -1 === n.src.indexOf("//")) return n.src
            }).get(), i = new RegExp("url\\((.+?)\\)", "g"); matches = i.exec(e.activePage.ref.html);) matches[1] && n.push(matches[1]);
        for (var i = new RegExp("url\\((.+?)\\)", "g"); matches = i.exec(e.activePage.ref.css);) matches[1] && n.push(matches[1]);
        return n.filter(function(e, t) {
            return n.indexOf(e) == t
        })
    }
}]).directive("blRenderExportPanel", function() {
    return {
        restrict: "A",
        link: function(e) {
            e.$watch("activePanel", function(t) {
                if ("export" == t)
                    if (e.exportPanelBooted) e.updateExportPanel();
                    else {
                        e.$on("builder.page.changed", function(t, n) {
                            e.changeExportPage(n.name)
                        }), ZeroClipboard.config({
                            swfPath: "assets/js/vendor/ZeroClipboard.swf"
                        });
                        var n = new ZeroClipboard($("#copy-html"));
                        n.on("ready", function() {
                            n.on("copy", function(t) {
                                t.clipboardData.setData("text/plain", e.htmlPreview.getValue())
                            }), n.on("aftercopy", function(e) {
                                var t = $('<span class="copy-confirmation">Copied!</span>').insertAfter(e.target);
                                setTimeout(function() {
                                    t.remove()
                                }, 350)
                            })
                        });
                        var i = new ZeroClipboard($("#copy-css"));
                        i.on("ready", function() {
                            i.on("copy", function(t) {
                                t.clipboardData.setData("text/plain", e.cssPreview.getValue())
                            }), i.on("aftercopy", function(e) {
                                var t = $('<span class="copy-confirmation">Copied!</span>').insertAfter(e.target);
                                setTimeout(function() {
                                    t.remove()
                                }, 350)
                            })
                        }), e.cssPreview = ace.edit("css-export-preview"), e.cssPreview.setTheme("ace/theme/chrome"), e.cssPreview.setReadOnly(!0), e.cssPreview.setShowPrintMargin(!1), e.cssPreview.setDisplayIndentGuides(!1), e.cssPreview.getSession().setMode("ace/mode/css"), e.cssPreview.getSession().setUseWorker(!1), e.htmlPreview = ace.edit("html-export-preview"), e.htmlPreview.setTheme("ace/theme/chrome"), e.htmlPreview.setReadOnly(!0), e.htmlPreview.setShowPrintMargin(!1), e.htmlPreview.setDisplayIndentGuides(!1), e.htmlPreview.getSession().setMode("ace/mode/html"), e.changeExportPage(), e.exportPanelBooted = !0
                    }
            })
        }
    }
}).directive("blExportPage", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", function() {
                e.downloadIframe || (e.downloadIframe = $('<iframe class="hidden"></iframe>').appendTo(t)), e.downloadIframe.attr("src", e.baseUrl + "/export/page/" + e.activePage.ref.id)
            })
        }
    }
}).directive("blExportProject", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", function() {
                e.downloadIframe || (e.downloadIframe = $('<iframe class="hidden"></iframe>').appendTo(t)), e.downloadIframe.attr("src", e.baseUrl + "/export/project/" + e.project.active.id)
            })
        }
    }
}).directive("blExportImages", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            var n = function(t) {
                return t.replace("url(", "").replace(")", "").replace(e.baseUrl, "").replace(".", "%2E").replace(/\//g, "%2D")
            };
            t.on("click", "li", function(i) {
                e.downloadIframe || (e.downloadIframe = $('<iframe class="hidden"></iframe>').insertBefore(t)), e.downloadIframe.attr("src", e.baseUrl + "/export/image/" + n($(i.currentTarget).css("background-image")))
            })
        }
    }
}), angular.module("builder.projects").directive("blOpenPublishModal", ["$http", "$state", "project", function() {
    return {
        restrict: "A",
        link: function(e, t, n) {
            var i = $("#publish-modal");
            t.on("click", function() {
                i.data("id", n.blOpenPublishModal).modal("show")
            })
        }
    }
}]).directive("blExportToFtp", ["$http", "$state", "project", "localStorage", function(e, t, n, i) {
    return {
        restrict: "A",
        link: function(r, o) {
            var s = o.find(".loader"),
                a = o.find(".error"),
                l = i.get("publish-credentials");
            l && (r.publishCredentials = l), o.find(".publish").on("click", function() {
                if (s.show(), "dashboard" === t.current.name) var l = o.data("id");
                else var l = n.active.id;
                e.post("export/project-ftp/" + l, r.publishCredentials).success(function() {
                    a.text("").hide(), o.modal("hide"), alertify.log("Published project to ftp successfully.", "success", 2200)
                }).error(function(e) {
                    a.text(e).show()
                }).finally(function() {
                    s.hide()
                });
                var c = $.extend({}, r.publishCredentials);
                c.password = "", i.set("publish-credentials", c)
            }), o.find(".close-modal").on("click", function() {
                o.modal("hide")
            })
        }
    }
}]), angular.module("builder").factory("keybinds", ["$rootScope", "dom", "undoManager", function(e, t, n) {
    var i = {
        booted: !1,
        init: function() {
            this.booted || ($(e.frameDoc.documentElement).keydown(function(i) {
                38 === i.which ? (i.preventDefault(), t.moveSelected("up")) : 40 === i.which ? (i.preventDefault(), t.moveSelected("down")) : 46 === i.which ? (i.preventDefault(), e.selected.node.getAttribute("contenteditable") || t.delete(e.selected.node)) : 67 === i.which && i.ctrlKey ? (i.preventDefault(), t.copy(e.selected.node)) : 86 === i.which && i.ctrlKey ? (i.preventDefault(), t.paste(e.selected.node)) : 88 === i.which && i.ctrlKey ? (i.preventDefault(), t.cut(e.selected.node)) : 89 === i.which && i.ctrlKey ? n.redo() : 90 === i.which && i.ctrlKey && n.undo()
            }), this.booted = !0)
        }
    };
    return i
}]), angular.module("builder.users", []).controller("UsersController", ["$scope", "$rootScope", "$state", "$translate", "$http", "users", "usersPaginator", function(e, t, n, i, r, o, s) {
    e.availablePermissions = ["export*", "publish*", "themes", "projects", "users", "templates"], e.permissionSubActions = ["create", "update", "delete"], e.defaultPermissions = {}, e.usersPaginator = s, e.filters = {
        query: "",
        status: "",
        sort: "lastSeen",
        setSortProp: function() {
            "newest" == this.sort ? (this.order = "created_at", this.reverse = !0) : "oldest" == this.sort ? (this.order = "created_at", this.reverse = !1) : "lastSeen" == this.sort && (this.order = "last_login", this.reverse = !0)
        },
        order: "last_seen",
        reverse: !0
    }, e.loading = !1, e.users = [], e.activeUser = {}, e.newUser = {}, e.loginInfo = {}, e.isDemo && (e.loginInfo.email = "demo@demo.com", e.loginInfo.password = "demo"), e.registerInfo = {}, e.errors = {}, e.login = function() {
        e.loading = !0, o.login($.extend({}, e.loginInfo)).error(function(t) {
            e.errors = t
        }).success(function(e) {
            $(".login-container").addClass("animated fadeOutDown"), setTimeout(function() {
                t.user = e, n.go("dashboard")
            }, 550)
        }).finally(function() {
            e.loading = !1
        })
    }, e.delete = function(t) {
        alertify.confirm(i.instant("confirmDeleteUser"), function(n) {
            n && (e.loading = !0, o.delete(t).success(function() {
                for (var e = s.sourceItems.length - 1; e >= 0; e--) s.currentItems[e].id == t.id && (s.currentItems.splice(e, 1), s.totalItems -= 1)
            }).error(function(e) {
                alertify.log(e, "error")
            }))
        })
    }, e.createNewUser = function() {
        o.register(e.newUser).success(function(t) {
            "array" == typeof t.permissions && (t.permissions = {}), s.currentItems.unshift(t), e.errors = {}, e.newUser = {}, $("#new-user-modal").modal("hide"), alertify.log(i.instant("userCreateSuccess"), "success")
        }).error(function(t) {
            e.errors = t
        })
    }, e.openPermissionsModal = function(t) {
        0 === t.permissions.length && (t.permissions = {}), e.activeUser = t, $("#permissions-modal").modal("show")
    }, e.savePermissions = function() {
        e.loading = !0, o.savePermissions(angular.extend({}, e.activeUser)).success(function() {
            $("#permissions-modal").modal("hide")
        }).error(function(e) {
            alertify.log(e, "error")
        }).finally(function() {
            e.loading = !1
        })
    }, e.assignPermissionsToAll = function() {
        alertify.confirm(i.instant("assignPermToAllConfirm"), function(t) {
            t && r.post("assign-permissions-to-all", {
                permissions: JSON.stringify(e.defaultPermissions)
            }).success(function(t) {
                e.fetchUsers(), alertify.log(t, "success")
            }).error(function(e) {
                alertify.log(e, "error")
            })
        })
    }, e.saveDefaultPermissions = function() {
        r.post("save-settings", {
            permissions: JSON.stringify(e.defaultPermissions)
        }).success(function() {
            $("#default-permissions-modal").modal("hide")
        }).error(function(e) {
            alertify.log(e, "error")
        })
    }, e.toggleRegistration = function(e) {
        r.post("save-settings", {
            enable_registration: e
        }).error(function(e) {
            alertify.log(e, "error")
        })
    }, e.activeUserHasPermission = function(t) {
        return e.activeUser.permissions ? e.activeUser.permissions.superuser ? !0 : e.activeUser.permissions[t.replace("*", "")] : !1
    }, e.defaultPermissionSet = function(t) {
        return e.defaultPermissions[t.replace("*", "")]
    }, e.showEmail = function(t) {
        return e.isDemo ? t.replace(/.+?@/, "hidden_on_demo_site@") : t
    }, e.fetchUsers = function() {
        o.getAll().success(function(e) {
            s.start(e)
        }).then(function() {
            e.loading = !1
        })
    }, "users" === n.current.name && (e.loading = !0, e.fetchUsers(), settings.permissions && (e.defaultPermissions = JSON.parse(settings.permissions)), e.enableRegistration = "undefined" == typeof settings.enable_registration ? !0 : JSON.parse(settings.enable_registration) ? !0 : !1)
}]).directive("blUsersPagination", ["$filter", "usersPaginator", function(e, t) {
    return {
        restrict: "A",
        link: function(n, i) {
            i.pagination({
                items: 0,
                itemsOnPage: t.perPage,
                cssStyle: "dark-theme",
                onPageClick: function(e) {
                    n.$apply(function() {
                        t.selectPage(e)
                    })
                },
                onInit: function() {
                    $(".pagi-container > .simple-pagination").on("click", function(e) {
                        e.preventDefault()
                    })
                }
            }), n.$watch("usersPaginator.totalItems", function(e) {
                e && i.pagination("updateItems", e)
            }), n.$watch("filters.query", function(n) {
                i.pagination("updateItems", e("filter")(t.sourceItems, n).length)
            })
        }
    }
}]).factory("usersPaginator", ["$rootScope", function() {
    var e = {
        sourceItems: [],
        currentItems: [],
        perPage: 12,
        totalItems: 0,
        selectPage: function(e) {
            this.currentItems = this.sourceItems.slice((e - 1) * this.perPage, (e - 1) * this.perPage + this.perPage)
        },
        start: function(e) {
            this.sourceItems = e, this.totalItems = e.length, this.currentItems = e.slice(0, this.perPage)
        }
    };
    return e
}]).directive("blPermissionsToggler", ["settings", function() {
    return {
        restrict: "A",
        link: function(e, t, n) {
            var i = n.name,
                r = function(t) {
                    e.activeUser && e.activeUser.permissions && (e.activeUser.permissions[i] = t ? 1 : 0)
                },
                o = function(t) {
                    e.defaultPermissions[i] = t ? 1 : 0
                };
            t.toggles({
                height: 30,
                width: 70,
                drag: !1,
                text: {
                    on: "Yes",
                    off: "No"
                },
                on: "on" == n.blPermissionsToggler
            }), n.$observe("blPermissionsToggler", function(e) {
                "1" == e || "true" == e ? t.toggles(!0) : "0" != e && "false" != e && e || t.toggles(!1)
            }), t.on("toggle", function(e, t) {
                "user" == n.for ? r(t) : o(t)
            })
        }
    }
}]).factory("users", ["$http", "$cookieStore", "$rootScope", "$state", function(e, t, n, i) {
    var r = {
        getAll: function() {
            return e.get("users")
        },
        login: function(t) {
            return e.post("users/login", t)
        },
        register: function(t) {
            return e.post("users/register", t)
        },
        "delete": function(t) {
            return e.delete("users/" + t.id)
        },
        savePermissions: function(t) {
            return e.post("users/" + t.id + "/modify-permissions", {
                permissions: t.permissions
            })
        },
        logout: function() {
            return e.post("users/logout").success(function() {
                t.remove("blUser"), n.user = !1, i.go("home")
            })
        }
    };
    return r
}]).directive("blFormValidator", ["elements", function() {
    return {
        restrict: "A",
        link: function(e) {
            $("form");
            e.$watch("errors", function(e) {
                $(".form-error").remove(), $.each(e, function(e, t) {
                    if ("*" == e) $("#login-page .alert").show().addClass("animated shake").find(".message").text(t);
                    else {
                        var e = $('[name="' + e + '"]');
                        $('<span class="form-error help-block">' + t + "</span>").appendTo("#login-page").css({
                            top: e.offset().top - 4,
                            left: e.offset().left + e.outerWidth()
                        }).addClass("animated flipInX")
                    }
                })
            })
        }
    }
}]), window.Translator = {
    translations: {},
    get: function(e) {
        return this.translations[e] ? this.translations[e] : e
    }
}, angular.module("builder").factory("preview", ["$rootScope", "dom", "project", function(e, t, n) {
    var i = {
        iframe: e.previewFrame,
        show: function() {
            var r = i,
                o = document.getElementById("preview-frame");
            console.log(o), o || (r.iframe = $('<iframe id="preview-frame"></iframe>').insertAfter("#viewport"), r.doc = r.iframe[0].contentWindow.document, r.builder = $("#viewport"), r.closer = $("#preview-closer")), r.load(t.getHtml(null, !0, !0, n.activePage)), $(r.doc).find("head").prepend('<base href="' + e.baseUrl + '">'), r.handleLinks(), r.iframe.removeClass("hidden"), r.builder.css("right", -r.builder.width()), r.closer.removeClass("hidden")
        },
        hide: function() {
            var e = this;
            e.builder.css("right", 0), setTimeout(function() {
                e.iframe.addClass("hidden"), e.closer.addClass("hidden"), e.doc && (e.doc.open(), e.doc.write(""), e.doc.close())
            }, 300)
        },
        load: function(e) {
            this.doc.open("text/html", "replace"), this.doc.write(t.previewsToHtml(e)), this.doc.close()
        },
        handleLinks: function() {
            $(this.doc).find("a").off("click").on("click", function(e) {
                e.preventDefault();
                var r = e.currentTarget.getAttribute("href");
                if (!(r.indexOf("#") > -1))
                    if (r.indexOf("//") > -1) alertify.confirm("This might navigate you away from the builder, are you sure you want to continue?", function(e) {
                        e && (window.location = r)
                    });
                    else
                        for (var o = r.replace(".html", "").toLowerCase(), s = 0; s < n.active.pages.length; s++) {
                            var a = n.active.pages[s];
                            a.name.toLowerCase() == o && (i.load(t.getHtml(a, !0, !0)), i.handleLinks())
                        }
            })
        }
    };
    return i
}]), angular.module("builder").controller("BuilderController", ["$scope", "$rootScope", "$translate", "bootstrapper", "elements", "settings", "grid", "preview", "themes", "fonts", "panels", function(e, t, n, i, r, o, s, a, l, c, u) {
    e.themes = l, e.settings = o, e.fonts = c, $("#view").removeClass("loading"), e.bootstrapper = i, i.start(), e.closePreview = function() {
        a.hide()
    }, e.canEdit = function(t) {
        return e.selected.node ? e.selected.element && -1 !== e.selected.element.canModify.indexOf(t) : !0
    }, e.openPanel = function(e) {
        t.activePanel = e, t.flyoutOpen = !0
    }, t.repositionBox = function(t, i, r) {
        if (!o.get("enable" + t.ucFirst() + "Box")) return e[t + "Box"].hide();
        if (i || (i = e.selected.node), i && "BODY" == i.nodeName) return e[t + "Box"].hide();
        if (r || (r = e.selected.element), !r) return !0;
        "select" == t && e.hoverBox.hide();
        var s = i.getBoundingClientRect();
        s.width && s.height ? (e[t + "Box"].css({
            top: s.top,
            left: s.left - 7 + e.frameOffset.left - e.elemsContWidth,
            height: s.height,
            width: s.width
        }).show(), e[t + "BoxTag"].textContent = n.instant(r.name), e[t + "BoxActions"].style.top = s.top + 39 < 55 ? 0 : "-27px") : e[t + "Box"].hide()
    }, t.elementFromPoint = function(t, n) {
        var i = e.frameDoc.elementFromPoint(t, n);
        return i && "HTML" !== i.nodeName ? i : e.frameBody[0]
    }, t.selectNode = function(n) {
        if (e.rowEditorOpen) return !0;
        e.selecting = !0, e.selected.previous = e.selected.node, angular.isNumber(n) && (n = e.selected.path[n].node), n && e.selected.node !== n && (e.selected.node = n), e.selected.element = r.match(e.selected.node, "select", !0), e.selected.parent = e.selected.node.parentNode, e.selected.parentContents = e.selected.parent.childNodes, e.repositionBox("select"), e.selected.locked = e.selected.node.className.indexOf("locked") > -1, e.selected.isImage = "IMG" == e.selected.node.nodeName && -1 === e.selected.node.className.indexOf("preview-node");
        var i = $(e.selected.node).parentsUntil("body").toArray();
        i.unshift(e.selected.node), e.selected.path = $.map(i.reverse(), function(e) {
            return {
                node: e,
                name: r.match(e).name
            }
        }), e.selected.isColumn = s.isColumn(e.selected.node), e.selected.hasInlineStyles = e.selected.node.style[0], e.frameWindow.focus(), t.$broadcast("element.reselected", e.selected.node), u.open("inspector"), setTimeout(function() {
            e.selecting = !1
        }, 200)
    }
}]), angular.module("builder").controller("RegisterController", ["$rootScope", "$scope", "$http", "$state", "users", function(e, t, n, i, r) {
    t.registerInfo = {}, t.errors = {}, t.loading = !1, t.register = function() {
        t.loading = !0, r.register(angular.copy(t.registerInfo)).error(function(e) {
            t.errors = e
        }).success(function(t) {
            $(".login-container").addClass("animated fadeOutDown"), setTimeout(function() {
                e.user = t, i.go("dashboard")
            }, 550)
        }).finally(function() {
            t.loading = !1
        })
    }
}]), angular.module("builder.directives").directive("blColorPicker", ["$parse", "$rootScope", "inspector", function(e, t, n) {
    return {
        restrict: "A",
        link: function(i, r) {
            var o = $('<input id="color-picker"/>').prependTo(r);
            o.spectrum({
                flat: !0,
                palette: colorsForPicker,
                showAlpha: !0,
                showPalette: !0,
                showInput: !0
            });
            var s = $("#inspector .sp-container"),
                a = $(".color-picker-trigger"),
                l = s.height(),
                c = $("#color-picker-arrow"),
                u = $("#viewport").height();
            t.colorPickerCont = s.add(c).addClass("hidden"), s.find(".sp-choose").on("click", function() {
                return t.colorPickerCont.addClass("hidden"), !1
            }), a.on("click", function(r) {
                var a = $(r.target).offset().top + (r.currentTarget.offsetHeight / 2 - 15),
                    h = r.currentTarget.dataset.controls,
                    d = angular.element(r.currentTarget).scope();
                i.colorProperty && i.colorProperty != h || t.colorPickerCont.toggleClass("hidden"), $("#background-flyout-panel").addClass("hidden"), $("#background-arrow").hide(), o.off("move.spectrum").on("move.spectrum", function(t, n) {
                    var i = n.toRgb();
                    n = 0 === i.a || 1 === i.a ? n.toHexString() : n.toRgbString(), d.$apply(function() {
                        e(h).assign(d, n)
                    })
                });
                var f = a - l / 2 + 10;
                f + l > u && (f = u - l - 15), 0 > f && (f = 15), s.css("top", f), c.css({
                    display: "block",
                    left: 309,
                    top: a
                }), o.spectrum("set", e(h)(d)), i.colorProperty = r.currentTarget.dataset.controls, n.styles.color.property = i.colorProperty
            }), o.on("dragstart.spectrum", function() {
                n.sliding = !0, i.$broadcast(i.colorProperty + ".slidestart", "color")
            }), o.on("dragstop.spectrum", function() {
                n.sliding = !1, i.$broadcast(i.colorProperty + ".slidestop", "color")
            })
        }
    }
}]), angular.module("builder.directives").directive("blExportTheme", ["themes", function(e) {
    return {
        restrict: "A",
        link: function(t, n) {
            n.on("click", function() {
                t.$apply(function() {
                    t.export.errorMessage = ""
                }), e.active || t.$apply(function() {
                    return t.export.errorMessage = "Please select a theme."
                }), t.downloadIframe || (t.downloadIframe = $('<iframe style="display:none"></iframe>').appendTo(n)), t.downloadIframe.attr("src", t.baseUrl + "/export/theme/" + e.active.name)
            })
        }
    }
}]), angular.module("builder.directives").directive("icheck", ["$timeout", "$translate", function(e) {
    return {
        require: "ngModel",
        link: function(t, n, i, r) {
            e(function() {
                n.iCheck({
                    checkboxClass: "icheckbox_square-blue",
                    radioClass: "iradio_square-blue"
                }), n.iCheck(r.$modelValue ? "check" : "uncheck"), n.on("ifChecked", function() {
                    r.$setViewValue(!0)
                }).on("ifUnchecked", function() {
                    r.$setViewValue(!1)
                })
            })
        }
    }
}]), angular.module("builder.directives").directive("leftPanelNavigation", ["panels", function(e) {
    return {
        restrict: "A",
        link: function(t, n) {
            n.on("click", ".nav-item", function(n) {
                n.currentTarget.hasAttribute("not-selectable") || t.$apply(function() {
                    e.active = n.currentTarget.dataset.name
                })
            })
        }
    }
}]), angular.module("builder.directives").directive("blPanelsAccordion", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", ".accordion-heading", function(n) {
                var i = $(n.target).closest(".accordion-item");
                i.hasClass("open") ? t.find(".accordion-item").removeClass("open") : (t.find(".accordion-item").removeClass("open"), e.$apply(function() {
                    i.addClass("open")
                }))
            })
        }
    }
}), angular.module("builder.directives").directive("blPrettySelect", ["$parse", "$rootScope", function(e, t) {
    return $.widget("builder.prettyselect", $.ui.selectmenu, {
        _renderItem: function(e, t) {
            var n = $("<li>", {
                text: t.label
            });
            return $.each(t.element.data(), function(e, t) {
                n.css(e, t)
            }), n.appendTo(e)
        }
    }), {
        restrict: "A",
        link: function(n, i, r) {
            i.prettyselect({
                width: r.width ? r.width : 100,
                appendTo: r.appendTo ? r.appendTo : t.inspectorCont
            }), n.inspectorCont.on("scroll", function() {
                i.prettyselect("close")
            });
            var o = e(r.blPrettySelect);
            i.on("prettyselectchange", function(e, t) {
                n.$apply(function() {
                    o.assign(n, t.item.value)
                })
            }), n.$watch(r.blPrettySelect, function(e) {
                if (!e) return !0;
                for (var t = i.get(0).options.length - 1; t >= 0; t--) {
                    var n = i.get(0).options[t].value.removeQoutes();
                    if (n == e || n.match(new RegExp("^.*?" + e + ".*?$"))) return i.val(n).prettyselect("refresh")
                }
            })
        }
    }
}]), angular.module("builder.directives").directive("blRenderThemes", ["$compile", "$translate", function(e, t) {
    return {
        restrict: "A",
        link: function(n, i) {
            var r = n.$watch("panels.active", function(o) {
                if ("themes" == o) {
                    var s = "theme.image ? theme.image : 'themes/'+theme.name+'/image.png'",
                        a = e('<div class="theme" ng-repeat="theme in filteredThemes = (themes.all | filter:filter.type | filter:filter.search)" ng-click="activateTheme(theme)"><figure id="{{ theme.name }}-theme" ng-class="{ active: themes.active.name == theme.name }"><img ng-src="{{ ' + s + ' }}" class="img-responsive" alt="{{ theme.name }}"><i ng-if="canEdit(theme)" ng-click="themes.edit(theme);$event.stopPropagation()" class="icon icon-cog-outline edit-theme" bl-tooltip="editTheme"></i><i ng-if="canEdit(theme)" ng-click="themes.delete(theme);$event.stopPropagation()" class="icon icon-trash delete-theme" bl-tooltip="deleteTheme"></i><figcaption class="clearfix"><span class="name pull-left">{{ theme.name.ucFirst() }}</span><span class="source pull-right">{{ theme.source }}</span></figcaption></figure></div><h2 ng-if="filteredThemes.length === 0">' + t.instant("noThemesFound") + "</h2>")(n);
                    i.find("#themes-list").append(a), r()
                }
            })
        }
    }
}]), angular.module("builder.directives").directive("selectedTab", function() {
    return {
        restrict: "E",
        replace: !0,
        template: '<div class="selected-tab"><span class="top"></span><span class="bottom"></span></div>',
        link: function(e, t) {
            var n = 121;
            $(document).height() <= 650 && (n = 21), $(".main-nav").on("click", ".nav-item", function(e) {
                e.currentTarget.hasAttribute("not-selectable") || t.css("transform", "translateY(" + (e.currentTarget.getBoundingClientRect().top - n) + "px)")
            })
        }
    }
}), angular.module("builder.directives").directive("blThemeCreator", ["$rootScope", "$http", "localStorage", function(e, t, n) {
    return {
        restrict: "A",
        link: function(i) {
            var r = $('<iframe id="theme-creator-iframe" src="themePreview.html"></iframe>'),
                o = $(".vars-groups-list"),
                s = ($("#bootstrap-theme-creator .sp-container"), !1),
                a = $("#create-new-theme-button"),
                l = !1,
                c = !1;
            a.on("click", function() {
                i.$apply(function() {
                    i.openPanel("themesCreator")
                })
            });
            var u = function(o) {
                e.activePanel = "themesCreator", $(".theme-creator-preview").append(r), r.load(function() {
                    i.doc = $(r[0].contentWindow.document), i.less = r[0].contentWindow.less, c = $('<style id="custom-less"></style>').appendTo(i.doc.find("head")), o && i.modifyVars(o, !0);
                    var e = n.get("bootstrap-vars");
                    e ? i.$apply(function() {
                        i.bootstrap.defaultVars = $.extend(!0, {}, e), i.bootstrap.currentTheme = $.extend(!0, {}, e);
                        for (var t in i.bootstrap.currentTheme) {
                            i.bootstrap.activeGroup = t, i.bootstrap.activeVars = i.bootstrap.currentTheme[t];
                            break
                        }
                    }) : t.get("pr-themes/bootstrap-vars").success(function(e) {
                        n.set("bootstrap-vars", e), i.bootstrap.defaultVars = $.extend(!0, {}, e), i.bootstrap.currentTheme = $.extend(!0, {}, e);
                        for (var t in i.bootstrap.currentTheme) {
                            i.bootstrap.activeGroup = t, i.bootstrap.activeVars = i.bootstrap.currentTheme[t];
                            break
                        }
                    }), i.lessEditor = ace.edit("custom-less-editor"), i.lessEditor.setTheme("ace/theme/dawn"), i.lessEditor.getSession().setMode("ace/mode/less"), i.lessEditor.getSession().on("change", blDebounce(function() {
                        i.customLess = i.lessEditor.getValue(), i.less.render(i.customLess).then(function(e) {
                            e.css && c.html(e.css)
                        })
                    }, 500)), i.customLess && i.lessEditor.setValue(i.customLess, -1), i.$watch("editing.name", function(e) {
                        e && e.length > 3 && i.doc.find("#preview-screen h1").text(e)
                    }), r.unbind("load")
                });
                var a = $("#theme-creator-color-picker").spectrum({
                    flat: !0,
                    showAlpha: !0,
                    showPaletteOnly: !0,
                    togglePaletteOnly: !0,
                    palette: colorsForPicker,
                    appendTo: $("#theme-creator-color-picker")
                });
                s = $("#bootstrap-theme-creator .sp-container"), $("#bootstrap-theme-creator").add(s.find(".sp-choose")).on("click", function() {
                    s.addClass("hidden")
                }), a.on("dragstop.spectrum change.spectrum", function(e, t) {
                    i.modifyVars(t.toRgbString())
                }), l = !0
            };
            a.one("click", function() {
                l || u()
            }), i.$watch("themes.editing", function(e) {
                e && (i.editing.theme = e, i.editing.name = e.name, i.editing.type = e.type, i.openPanel("themesCreator"), i.customLess = e.customLess, l ? (i.modifyVars(JSON.parse(i.editing.theme.vars)), i.customLess && i.lessEditor.setValue(i.customLess, -1)) : u(JSON.parse(i.editing.theme.vars)))
            }), $(".vars-values-list").on("click", "input", function(e) {
                if (e.stopPropagation(), !i.isColor(e.currentTarget.value)) return s.addClass("hidden");
                var t = $(e.currentTarget),
                    n = t.offset(),
                    r = (t.width(), t.height());
                i.activeVar = t.data("name"), $("#bootstrap-theme-creator .sp-container").css({
                    top: n.top - r + 10,
                    left: n.left + 15
                }).removeClass("hidden").show()
            }), o.on("click", "li", function(e) {
                var t = e.currentTarget.dataset.name;
                i.$apply(function() {
                    i.bootstrap.activeGroup = t, i.bootstrap.activeVars = i.bootstrap.currentTheme[t]
                })
            }), i.$watch("bootstrap.activeGroup", function(e, t) {
                if (e && e != t) {
                    var n = i.doc.find("#" + e.toLowerCase().trim().replace(/ /g, "-")).offset();
                    n && i.doc.find("html, body").animate({
                        scrollTop: n.top - 20
                    })
                }
            })
        }
    }
}]), angular.module("builder.directives").directive("blThemesFilter", function() {
    return {
        restrict: "A",
        require: "ngModel",
        link: function(e, t, n, i) {
            function r(t) {
                return "bootswatch" == t ? {
                    source: "bootswatch"
                } : "yours" == t ? {
                    userId: e.user.id
                } : "public" == t ? {
                    type: "public"
                } : void 0
            }
            i.$parsers.push(r)
        }
    }
}), angular.module("builder.directives").directive("blTooltip", ["$translate", function(e) {
    return {
        restrict: "A",
        link: function(t, n, i) {
            n.tooltip({
                placement: i.placement || "bottom",
                delay: 50,
                title: e.instant(i.blTooltip)
            })
        }
    }
}]), angular.module("dragAndDrop").directive("blIframeNodesSortable", ["$rootScope", "dom", "undoManager", "iframeScroller", "settings", function(e, t, n, i, r) {
    return $.widget("ui.iframeNodesSortable", $.ui.mouse, {
        _mouseStart: function(t) {
            return e.$apply(function() {
                e.dragging = !0
            }), e.frameBody.addClass("dragging"), this.params = {
                undoIndex: utils.getNodeIndex(this.active.parentContents, this.active.node),
                node: this.active.node,
                parent: this.active.parent,
                parentContents: this.active.parentContents
            }, this.active.helper = $(this.active.node).clone().css({
                position: "absolute",
                "pointer-events": "none",
                margin: "0",
                padding: "0"
            }).addClass("helper"), e.frameBody.append(this.active.helper), this._mouseDrag(t, !0), !0
        },
        _mouseDrag: function(n) {
            var r = this,
                o = e.frameBody.scrollTop(),
                s = {
                    x: n.pageX,
                    y: n.pageY - o
                },
                a = e.elementFromPoint(s.x, s.y);
            i.scroll(n.pageY - o + 2 * e.frameOffset.top), r.active.helper.css("left", s.x + 10).css("top", s.y + o - 20), e.isWebkit && e.repositionBox("hover", a);
            var l = e.selected.node.className;
            return l && l.match("col-") ? this._sortColumns(a, s) : t.appendSelectedTo(a, s)
        },
        _mouseStop: function() {
            i.stopScrolling(), this.active.helper.remove(), e.$apply(function() {
                e.dragging = !1
            }), this.params.redoIndex = utils.getNodeIndex(this.active.node.parentNode.childNodes, this.active.node), n.add("reorderElement", this.params), e.repositionBox("select"), e.frameBody.removeClass("dragging"), e.$broadcast("builder.html.changed")
        },
        _mouseCapture: function() {
            return this.active = e.selected, !this.active.node || this.active.node.className.indexOf("locked") > -1 || this.active.node.contenteditable || e.rowEditorOpen ? !1 : !0
        },
        _init: function() {
            return this._mouseInit()
        },
        _destroy: function() {
            return this._mouseDestroy()
        },
        _sortColumns: function(t, n) {
            var i = $(t).parent().attr("class");
            i && i.match("row") && (this.oldPoint && n.x > this.oldPoint.x ? $(e.selected.node).before(t) : $(e.selected.node).after(t)), this.oldPoint = n
        }
    }), {
        restrict: "A",
        link: function(t) {
            var n = function(t, n) {
                e.selected.previous && $(e.selected.previous).draggable("instance") && $(e.selected.previous).draggable("destroy"), $(n).draggable({
                    addClasses: !1,
                    scroll: !1,
                    start: function() {
                        $(this).css({
                            transition: "none",
                            zIndex: 99999
                        }), e.$apply(function() {
                            e.dragging = !0
                        })
                    },
                    drag: function(t) {
                        i.scroll(t.pageY - e.frameBody.scrollTop() + 2 * e.frameOffset.top)
                    },
                    stop: function() {
                        $(this).css({
                            transition: "",
                            zIndex: ""
                        }), e.repositionBox("select"), e.$apply(function() {
                            e.dragging = !1
                        }), i.stopScrolling()
                    }
                })
            };
            e.$on("settings.changed", function(i, r, o) {
                "enableFreeElementDragging" === r && o && !t.freeDragModeEnabled ? (t.unbindFreeDrag = e.$on("element.reselected", function(e, i) {
                    n(e, i), t.freeDragModeEnabled = !0
                }), t.frameBody.iframeNodesSortable("destroy")) : (t.unbindFreeDrag && t.unbindFreeDrag(), $(t.selected.node).draggable("instance") && $(t.selected.node).draggable("destroy"), t.frameBody.iframeNodesSortable({
                    cancel: '[contenteditable="true"]'
                }), t.freeDragModeEnabled = !1)
            }), t.$on("builder.dom.loaded", function() {
                return r.get("enableFreeElementDragging") ? void(t.unbindFreeDrag = e.$on("element.reselected", function(e, i) {
                    n(e, i), t.freeDragModeEnabled = !0
                })) : t.frameBody.iframeNodesSortable({
                    cancel: '[contenteditable="true"]'
                })
            })
        }
    }
}]), angular.module("builder.inspector").controller("MediaManagerController", ["$scope", "$upload", "$http", "inspector", function(e, t, n, i) {
    e.modal = $("#images-modal"), e.sorting = {
        prop: "created_at",
        reverse: !1
    }, e.onFileSelect = function(n) {
        for (var i = 0; i < n.length; i++) e.upload = t.upload({
            url: "images/",
            data: e.selectedFolder.id ? {
                folderName: e.selectedFolder.name,
                folderId: e.selectedFolder.id
            } : !1,
            file: n[i]
        }).success(function(t) {
            for (var n = t.length - 1; n >= 0; n--) e.images.push(t[n])
        })
    }, e.modal.one("show.bs.modal", function() {
        n.get("folders").success(function(t) {
            e.folders = e.folders.concat(t)
        }), n.get("images/").success(function(t) {
            e.images = t, setTimeout(function() {
                e.modal.find('[data-toggle="tooltip"]').tooltip({
                    container: "body"
                })
            }, 100)
        })
    }), e.useImage = function() {
        "background" == $("#images-modal").data("type") ? e.setAsBackground() : e.setAsSource(), e.modal.modal("hide")
    }, e.setAsSource = function() {
        if ("my-images" == e.activeTab) {
            for (var t = e.images.length - 1; t >= 0; t--)
                if (e.images[t].id == e.selectedImages[0]) var i = e.baseUrl + "/assets/images/uploads/" + e.images[t].file_name
        } else if (e.downloadLocally) n.post("images/", {
            url: e.webImageUrl
        }).success(function(t) {
            e.selected.node.src = t
        });
        else var i = e.webImageUrl;
        i && (e.selected.node.src = i)
    }, e.setAsBackground = function() {
        if ("my-images" == e.activeTab) {
            for (var t = e.images.length - 1; t >= 0; t--)
                if (e.images[t].id == e.selectedImages[0]) var r = e.baseUrl + "/assets/images/uploads/" + e.images[t].file_name
        } else if (e.downloadLocally) n.post("images/", {
            url: e.webImageUrl
        }).success(function(t) {
            i.applyCss("background-image", 'url("' + t + '")', e.selected.getStyle("background-image"))
        });
        else var r = e.webImageUrl;
        r && i.applyCss("background-image", 'url("' + r + '")', e.selected.getStyle("background-image"))
    }, e.deleteSelectedImages = function() {
        n.post("images/delete", {
            ids: e.selectedImages
        }).success(function() {
            for (var t = e.selectedImages.length - 1; t >= 0; t--)
                for (var n = e.images.length - 1; n >= 0; n--) e.images[t] && e.images[t].id == e.selectedImages[t] && e.images.splice(n, 1)
        })
    }, e.deleteFolder = function(t) {
        n.delete("folders/" + t).success(function(n) {
            if (parseInt(n))
                for (var i = e.folders.length - 1; i >= 0; i--) e.folders[i].id == t && e.folders.splice(i, 1)
        })
    }, e.cancelFolderCreation = function() {
        for (var t = e.folders.length - 1; t >= 0; t--)
            if (1 == e.folders[t].creating) {
                e.folders.splice(t, 1);
                var n = e.folders[t - 1];
                e.selectedFolder = {
                    id: n.id,
                    name: n.name
                }, e.creatingNewFolder = !1
            }
    }, e.createFolder = function() {
        e.newFolder && n.post("folders", e.newFolder).success(function(t) {
            e.selectedFolder = {
                id: t.id,
                name: t.name
            }, e.creatingNewFolder = !1;
            for (var n = e.folders.length - 1; n >= 0; n--) e.folders[n].creating === !0 && (e.folders[n] = t);
            e.newFolder.name = ""
        })
    }, e.changeSorting = function(t) {
        e.sorting.prop = t, e.sorting.reverse = "created_at" == t ? !0 : !1
    }, e.isSelected = function(t) {
        return e.selectedImages.indexOf(parseInt(t)) > -1
    }, e.$watch("selectAll", function(t) {
        if (t === !0)
            for (var n = e.images.length - 1; n >= 0; n--) e.selectedImages.push(e.images[n].id);
        else t === !1 && (e.selectedImages = [])
    }), e.images = [], e.folders = [{
        name: "All Images",
        id: !1
    }], e.newFolder = {
        name: ""
    }, e.selectedFolder = {
        name: "All Images"
    }, e.selectedImages = [], e.activeTab = "my-images"
}]).directive("blNewImageFolder", ["$http", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", function() {
                e.creatingNewFolder || e.$apply(function() {
                    e.folders.splice(1, 0, {
                        name: !1,
                        creating: !0
                    }), e.selectedFolder = e.folders[1], e.creatingNewFolder = !0, $("#folders-cont input").focus()
                })
            })
        }
    }
}]).directive("blImageFolderSelectable", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            $(t).on("click", "li", function(t) {
                var n = $(t.currentTarget);
                (n.data("id") || "All Images" == n.data("name")) && e.$apply(function() {
                    e.selectedFolder.id = n.data("id") || "", e.selectedFolder.name = n.data("name") || ""
                })
            })
        }
    }
}).directive("blImagesSelectable", function() {
    return {
        restrict: "A",
        link: function(e, t) {
            t.on("click", "li", function(t) {
                var n = $(t.currentTarget),
                    i = n.data("id");
                if (n.hasClass("selected"))
                    for (var r = e.selectedImages.length - 1; r >= 0; r--) e.selectedImages[r] == i && e.$apply(function() {
                        e.selectedImages.splice(r, 1)
                    });
                else e.$apply(function() {
                    e.selectedImages.push(i)
                })
            })
        }
    }
}).directive("blImageActions", ["$http", "imageEditor", function(e, t) {
    return {
        restrict: "A",
        link: function(n, i) {
            i.on("click", function(i) {
                var r = $(i.target);
                if (r.hasClass("delete-image")) {
                    var o = r.closest("li").data("id");
                    e.delete("images/" + o).success(function(e) {
                        if (parseInt(e))
                            for (var t = n.images.length - 1; t >= 0; t--) n.images[t].id == o && n.images.splice(t, 1)
                    })
                } else if (r.hasClass("edit-image")) {
                    var s = r.closest("li").find(".img-wrapper").css("background-image").replace("url(", "").replace(")", "").replace(/"/g, "");
                    t.oldUrl = s;
                    var a = new Image;
                    a.onload = function() {
                        t.open(this)
                    }, a.src = s
                }
            })
        }
    }
}]).directive("openMediaManager", function() {
    return {
        restrict: "A",
        link: function(e, t, n) {
            var i = n.openMediaManager,
                r = $("#images-modal");
            t.on("click", function() {
                r.data("type", i).modal("show")
            })
        }
    }
});